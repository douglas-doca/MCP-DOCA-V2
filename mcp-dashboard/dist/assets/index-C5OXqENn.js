(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C_={exports:{}},_d={},$_={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),nE=Symbol.for("react.portal"),iE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),oE=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),lE=Symbol.for("react.context"),uE=Symbol.for("react.forward_ref"),cE=Symbol.for("react.suspense"),dE=Symbol.for("react.memo"),fE=Symbol.for("react.lazy"),Yy=Symbol.iterator;function hE(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var M_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I_=Object.assign,R_={};function fo(e,t,r){this.props=e,this.context=t,this.refs=R_,this.updater=r||M_}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D_(){}D_.prototype=fo.prototype;function $g(e,t,r){this.props=e,this.context=t,this.refs=R_,this.updater=r||M_}var Mg=$g.prototype=new D_;Mg.constructor=$g;I_(Mg,fo.prototype);Mg.isPureReactComponent=!0;var Jy=Array.isArray,L_=Object.prototype.hasOwnProperty,Ig={current:null},B_={key:!0,ref:!0,__self:!0,__source:!0};function U_(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)L_.call(t,n)&&!B_.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Al,type:e,key:a,ref:o,props:i,_owner:Ig.current}}function pE(e,t){return{$$typeof:Al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Al}function mE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qy=/\/+/g;function Tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mE(""+e.key):t.toString(36)}function Tu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Al:case nE:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Tf(o,0):n,Jy(i)?(r="",e!=null&&(r=e.replace(Qy,"$&/")+"/"),Tu(i,t,r,"",function(u){return u})):i!=null&&(Rg(i)&&(i=pE(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Jy(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Tf(a,s);o+=Tu(a,t,r,l,i)}else if(l=hE(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Tf(a,s++),o+=Tu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(e,t,r){if(e==null)return e;var n=[],i=0;return Tu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function gE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Cu={transition:null},vE={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:Ig};function z_(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Wl,forEach:function(e,t,r){Wl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wl(e,function(){t++}),t},toArray:function(e){return Wl(e,function(t){return t})||[]},only:function(e){if(!Rg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=fo;ue.Fragment=iE;ue.Profiler=oE;ue.PureComponent=$g;ue.StrictMode=aE;ue.Suspense=cE;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;ue.act=z_;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=I_({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ig.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)L_.call(t,l)&&!B_.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Al,type:e.type,key:i,ref:a,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:lE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sE,_context:e},e.Consumer=e};ue.createElement=U_;ue.createFactory=function(e){var t=U_.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:uE,render:e}};ue.isValidElement=Rg;ue.lazy=function(e){return{$$typeof:fE,_payload:{_status:-1,_result:e},_init:gE}};ue.memo=function(e,t){return{$$typeof:dE,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Cu.transition;Cu.transition={};try{e()}finally{Cu.transition=t}};ue.unstable_act=z_;ue.useCallback=function(e,t){return jt.current.useCallback(e,t)};ue.useContext=function(e){return jt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return jt.current.useEffect(e,t)};ue.useId=function(){return jt.current.useId()};ue.useImperativeHandle=function(e,t,r){return jt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return jt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return jt.current.useReducer(e,t,r)};ue.useRef=function(e){return jt.current.useRef(e)};ue.useState=function(e){return jt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return jt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return jt.current.useTransition()};ue.version="18.3.1";$_.exports=ue;var k=$_.exports;const $=_e(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE=k,bE=Symbol.for("react.element"),xE=Symbol.for("react.fragment"),wE=Object.prototype.hasOwnProperty,_E=yE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SE={key:!0,ref:!0,__self:!0,__source:!0};function F_(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wE.call(t,n)&&!SE.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:bE,type:e,key:a,ref:o,props:i,_owner:_E.current}}_d.Fragment=xE;_d.jsx=F_;_d.jsxs=F_;C_.exports=_d;var c=C_.exports,ep={},W_={exports:{}},qt={},q_={exports:{}},H_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var z=I.length;I.push(L);e:for(;0<z;){var V=z-1>>>1,W=I[V];if(0<i(W,L))I[V]=L,I[z]=W,z=V;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var L=I[0],z=I.pop();if(z!==L){I[0]=z;e:for(var V=0,W=I.length,Q=W>>>1;V<Q;){var se=2*(V+1)-1,he=I[se],Se=se+1,G=I[Se];if(0>i(he,z))Se<W&&0>i(G,he)?(I[V]=G,I[Se]=z,V=Se):(I[V]=he,I[se]=z,V=se);else if(Se<W&&0>i(G,z))I[V]=G,I[Se]=z,V=Se;else break e}}return L}function i(I,L){var z=I.sortIndex-L.sortIndex;return z!==0?z:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,d=null,h=3,p=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=I)n(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(u)}}function S(I){if(x=!1,v(I),!b)if(r(l)!==null)b=!0,R(y);else{var L=r(u);L!==null&&D(S,L.startTime-I)}}function y(I,L){b=!1,x&&(x=!1,g(O),O=-1),p=!0;var z=h;try{for(v(L),d=r(l);d!==null&&(!(d.expirationTime>L)||I&&!N());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var W=V(d.expirationTime<=L);L=e.unstable_now(),typeof W=="function"?d.callback=W:d===r(l)&&n(l),v(L)}else n(l);d=r(l)}if(d!==null)var Q=!0;else{var se=r(u);se!==null&&D(S,se.startTime-L),Q=!1}return Q}finally{d=null,h=z,p=!1}}var _=!1,j=null,O=-1,A=5,T=-1;function N(){return!(e.unstable_now()-T<A)}function E(){if(j!==null){var I=e.unstable_now();T=I;var L=!0;try{L=j(!0,I)}finally{L?P():(_=!1,j=null)}}else _=!1}var P;if(typeof m=="function")P=function(){m(E)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=E,P=function(){M.postMessage(null)}}else P=function(){w(E,0)};function R(I){j=I,_||(_=!0,P())}function D(I,L){O=w(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,R(y))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return I()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=h;h=I;try{return L()}finally{h=z}},e.unstable_scheduleCallback=function(I,L,z){var V=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,I={id:f++,callback:L,priorityLevel:I,startTime:z,expirationTime:W,sortIndex:-1},z>V?(I.sortIndex=z,t(u,I),r(l)===null&&I===r(u)&&(x?(g(O),O=-1):x=!0,D(S,z-V))):(I.sortIndex=W,t(l,I),b||p||(b=!0,R(y))),I},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(I){var L=h;return function(){var z=h;h=L;try{return I.apply(this,arguments)}finally{h=z}}}})(H_);q_.exports=H_;var jE=q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=k,Ft=jE;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V_=new Set,ws={};function Ti(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(ws[e]=t,e=0;e<t.length;e++)V_.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,AE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zy={},e0={};function kE(e){return tp.call(e0,e)?!0:tp.call(Zy,e)?!1:AE.test(e)?e0[e]=!0:(Zy[e]=!0,!1)}function EE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PE(e,t,r,n){if(t===null||typeof t>"u"||EE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dg=/[\-:]([a-z])/g;function Lg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dg,Lg);ht[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dg,Lg);ht[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dg,Lg);ht[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bg(e,t,r,n){var i=ht.hasOwnProperty(t)?ht[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PE(t,r,i,n)&&(r=null),n||i===null?kE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cn=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ql=Symbol.for("react.element"),na=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Ug=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),Fg=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),X_=Symbol.for("react.offscreen"),t0=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=t0&&e[t0]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Cf;function Qo(e){if(Cf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cf=t&&t[1]||""}return`
`+Cf+e}var $f=!1;function Mf(e,t){if(!e||$f)return"";$f=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{$f=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qo(e):""}function NE(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=Mf(e.type,!1),e;case 11:return e=Mf(e.type.render,!1),e;case 1:return e=Mf(e.type,!0),e;default:return""}}function ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ia:return"Fragment";case na:return"Portal";case rp:return"Profiler";case Ug:return"StrictMode";case np:return"Suspense";case ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G_:return(e.displayName||"Context")+".Consumer";case K_:return(e._context.displayName||"Context")+".Provider";case zg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fg:return t=e.displayName||null,t!==null?t:ap(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return ap(e(t))}catch{}}return null}function TE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(t);case 8:return t===Ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CE(e){var t=Y_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=CE(e))}function J_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function op(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function r0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ln(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q_(e,t){t=t.checked,t!=null&&Bg(e,"checked",t,!1)}function sp(e,t){Q_(e,t);var r=Ln(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lp(e,t.type,r):t.hasOwnProperty("defaultValue")&&lp(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function lp(e,t,r){(t!=="number"||Hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zo=Array.isArray;function ba(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ln(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function i0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Zo(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ln(r)}}function Z_(e,t){var r=Ln(t.value),n=Ln(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function a0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vl,tS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$E=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(e){$E.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),as[t]=as[e]})});function rS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||as.hasOwnProperty(e)&&as[e]?(""+t).trim():t+"px"}function nS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ME=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dp(e,t){if(t){if(ME[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function fp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function Wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pp=null,xa=null,wa=null;function o0(e){if(e=Pl(e)){if(typeof pp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=kd(t),pp(e.stateNode,e.type,t))}}function iS(e){xa?wa?wa.push(e):wa=[e]:xa=e}function aS(){if(xa){var e=xa,t=wa;if(wa=xa=null,o0(e),t)for(e=0;e<t.length;e++)o0(t[e])}}function oS(e,t){return e(t)}function sS(){}var If=!1;function lS(e,t,r){if(If)return e(t,r);If=!0;try{return oS(e,t,r)}finally{If=!1,(xa!==null||wa!==null)&&(sS(),aS())}}function Ss(e,t){var r=e.stateNode;if(r===null)return null;var n=kd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var mp=!1;if(tn)try{var No={};Object.defineProperty(No,"passive",{get:function(){mp=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{mp=!1}function IE(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var os=!1,Vu=null,Ku=!1,gp=null,RE={onError:function(e){os=!0,Vu=e}};function DE(e,t,r,n,i,a,o,s,l){os=!1,Vu=null,IE.apply(RE,arguments)}function LE(e,t,r,n,i,a,o,s,l){if(DE.apply(this,arguments),os){if(os){var u=Vu;os=!1,Vu=null}else throw Error(H(198));Ku||(Ku=!0,gp=u)}}function Ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function s0(e){if(Ci(e)!==e)throw Error(H(188))}function BE(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return s0(i),e;if(a===n)return s0(i),t;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function cS(e){return e=BE(e),e!==null?dS(e):null}function dS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dS(e);if(t!==null)return t;e=e.sibling}return null}var fS=Ft.unstable_scheduleCallback,l0=Ft.unstable_cancelCallback,UE=Ft.unstable_shouldYield,zE=Ft.unstable_requestPaint,qe=Ft.unstable_now,FE=Ft.unstable_getCurrentPriorityLevel,qg=Ft.unstable_ImmediatePriority,hS=Ft.unstable_UserBlockingPriority,Gu=Ft.unstable_NormalPriority,WE=Ft.unstable_LowPriority,pS=Ft.unstable_IdlePriority,Sd=null,Ir=null;function qE(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Sd,e,void 0,(e.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:KE,HE=Math.log,VE=Math.LN2;function KE(e){return e>>>=0,e===0?32:31-(HE(e)/VE|0)|0}var Kl=64,Gl=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=es(s):(a&=o,a!==0&&(n=es(a)))}else o=r&~i,o!==0?n=es(o):a!==0&&(n=es(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Sr(t),i=1<<r,n|=e[r],t&=~i;return n}function GE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Sr(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=GE(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function vp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mS(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function Rf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sr(t),e[t]=r}function YE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Sr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Hg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Sr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ye=0;function gS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vS,Vg,yS,bS,xS,yp=!1,Xl=[],En=null,Pn=null,Nn=null,js=new Map,Os=new Map,wn=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function To(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Pl(t),t!==null&&Vg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QE(e,t,r,n,i){switch(t){case"focusin":return En=To(En,e,t,r,n,i),!0;case"dragenter":return Pn=To(Pn,e,t,r,n,i),!0;case"mouseover":return Nn=To(Nn,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return js.set(a,To(js.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Os.set(a,To(Os.get(a)||null,e,t,r,n,i)),!0}return!1}function wS(e){var t=ai(e.target);if(t!==null){var r=Ci(t);if(r!==null){if(t=r.tag,t===13){if(t=uS(r),t!==null){e.blockedOn=t,xS(e.priority,function(){yS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hp=n,r.target.dispatchEvent(n),hp=null}else return t=Pl(r),t!==null&&Vg(t),e.blockedOn=r,!1;t.shift()}return!0}function c0(e,t,r){$u(e)&&r.delete(t)}function ZE(){yp=!1,En!==null&&$u(En)&&(En=null),Pn!==null&&$u(Pn)&&(Pn=null),Nn!==null&&$u(Nn)&&(Nn=null),js.forEach(c0),Os.forEach(c0)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,yp||(yp=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,ZE)))}function As(e){function t(i){return Co(i,e)}if(0<Xl.length){Co(Xl[0],e);for(var r=1;r<Xl.length;r++){var n=Xl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(En!==null&&Co(En,e),Pn!==null&&Co(Pn,e),Nn!==null&&Co(Nn,e),js.forEach(t),Os.forEach(t),r=0;r<wn.length;r++)n=wn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wn.length&&(r=wn[0],r.blockedOn===null);)wS(r),r.blockedOn===null&&wn.shift()}var _a=cn.ReactCurrentBatchConfig,Yu=!0;function eP(e,t,r,n){var i=ye,a=_a.transition;_a.transition=null;try{ye=1,Kg(e,t,r,n)}finally{ye=i,_a.transition=a}}function tP(e,t,r,n){var i=ye,a=_a.transition;_a.transition=null;try{ye=4,Kg(e,t,r,n)}finally{ye=i,_a.transition=a}}function Kg(e,t,r,n){if(Yu){var i=bp(e,t,r,n);if(i===null)Vf(e,t,n,Ju,r),u0(e,n);else if(QE(i,e,t,r,n))n.stopPropagation();else if(u0(e,n),t&4&&-1<JE.indexOf(e)){for(;i!==null;){var a=Pl(i);if(a!==null&&vS(a),a=bp(e,t,r,n),a===null&&Vf(e,t,n,Ju,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vf(e,t,n,null,r)}}var Ju=null;function bp(e,t,r,n){if(Ju=null,e=Wg(n),e=ai(e),e!==null)if(t=Ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ju=e,null}function _S(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FE()){case qg:return 1;case hS:return 4;case Gu:case WE:return 16;case pS:return 536870912;default:return 16}default:return 16}}var jn=null,Gg=null,Mu=null;function SS(){if(Mu)return Mu;var e,t=Gg,r=t.length,n,i="value"in jn?jn.value:jn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Mu=i.slice(e,1<n?1-n:void 0)}function Iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function d0(){return!1}function Ht(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yl:d0,this.isPropagationStopped=d0,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=Ht(ho),El=Le({},ho,{view:0,detail:0}),rP=Ht(El),Df,Lf,$o,jd=Le({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Df=e.screenX-$o.screenX,Lf=e.screenY-$o.screenY):Lf=Df=0,$o=e),Df)},movementY:function(e){return"movementY"in e?e.movementY:Lf}}),f0=Ht(jd),nP=Le({},jd,{dataTransfer:0}),iP=Ht(nP),aP=Le({},El,{relatedTarget:0}),Bf=Ht(aP),oP=Le({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),sP=Ht(oP),lP=Le({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uP=Ht(lP),cP=Le({},ho,{data:0}),h0=Ht(cP),dP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hP[e])?!!t[e]:!1}function Yg(){return pP}var mP=Le({},El,{key:function(e){if(e.key){var t=dP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(e){return e.type==="keypress"?Iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gP=Ht(mP),vP=Le({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Ht(vP),yP=Le({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),bP=Ht(yP),xP=Le({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),wP=Ht(xP),_P=Le({},jd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SP=Ht(_P),jP=[9,13,27,32],Jg=tn&&"CompositionEvent"in window,ss=null;tn&&"documentMode"in document&&(ss=document.documentMode);var OP=tn&&"TextEvent"in window&&!ss,jS=tn&&(!Jg||ss&&8<ss&&11>=ss),m0=" ",g0=!1;function OS(e,t){switch(e){case"keyup":return jP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function AP(e,t){switch(e){case"compositionend":return AS(t);case"keypress":return t.which!==32?null:(g0=!0,m0);case"textInput":return e=t.data,e===m0&&g0?null:e;default:return null}}function kP(e,t){if(aa)return e==="compositionend"||!Jg&&OS(e,t)?(e=SS(),Mu=Gg=jn=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jS&&t.locale!=="ko"?null:t.data;default:return null}}var EP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EP[e.type]:t==="textarea"}function kS(e,t,r,n){iS(n),t=Qu(t,"onChange"),0<t.length&&(r=new Xg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ls=null,ks=null;function PP(e){LS(e,0)}function Od(e){var t=la(e);if(J_(t))return e}function NP(e,t){if(e==="change")return t}var ES=!1;if(tn){var Uf;if(tn){var zf="oninput"in document;if(!zf){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),zf=typeof y0.oninput=="function"}Uf=zf}else Uf=!1;ES=Uf&&(!document.documentMode||9<document.documentMode)}function b0(){ls&&(ls.detachEvent("onpropertychange",PS),ks=ls=null)}function PS(e){if(e.propertyName==="value"&&Od(ks)){var t=[];kS(t,ks,e,Wg(e)),lS(PP,t)}}function TP(e,t,r){e==="focusin"?(b0(),ls=t,ks=r,ls.attachEvent("onpropertychange",PS)):e==="focusout"&&b0()}function CP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Od(ks)}function $P(e,t){if(e==="click")return Od(t)}function MP(e,t){if(e==="input"||e==="change")return Od(t)}function IP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ar=typeof Object.is=="function"?Object.is:IP;function Es(e,t){if(Ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!tp.call(t,i)||!Ar(e[i],t[i]))return!1}return!0}function x0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w0(e,t){var r=x0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=x0(r)}}function NS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TS(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function Qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RP(e){var t=TS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NS(r.ownerDocument.documentElement,r)){if(n!==null&&Qg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=w0(r,a);var o=w0(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DP=tn&&"documentMode"in document&&11>=document.documentMode,oa=null,xp=null,us=null,wp=!1;function _0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wp||oa==null||oa!==Hu(n)||(n=oa,"selectionStart"in n&&Qg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),us&&Es(us,n)||(us=n,n=Qu(xp,"onSelect"),0<n.length&&(t=new Xg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oa)))}function Jl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sa={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Ff={},CS={};tn&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Ad(e){if(Ff[e])return Ff[e];if(!sa[e])return e;var t=sa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CS)return Ff[e]=t[r];return e}var $S=Ad("animationend"),MS=Ad("animationiteration"),IS=Ad("animationstart"),RS=Ad("transitionend"),DS=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){DS.set(e,t),Ti(t,[e])}for(var Wf=0;Wf<S0.length;Wf++){var qf=S0[Wf],LP=qf.toLowerCase(),BP=qf[0].toUpperCase()+qf.slice(1);Un(LP,"on"+BP)}Un($S,"onAnimationEnd");Un(MS,"onAnimationIteration");Un(IS,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(RS,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function j0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LE(n,t,void 0,e),e.currentTarget=null}function LS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;j0(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;j0(i,s,u),a=l}}}if(Ku)throw e=gp,Ku=!1,gp=null,e}function Ee(e,t){var r=t[Ap];r===void 0&&(r=t[Ap]=new Set);var n=e+"__bubble";r.has(n)||(BS(t,e,2,!1),r.add(n))}function Hf(e,t,r){var n=0;t&&(n|=4),BS(r,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Ql]){e[Ql]=!0,V_.forEach(function(r){r!=="selectionchange"&&(UP.has(r)||Hf(r,!1,e),Hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Hf("selectionchange",!1,t))}}function BS(e,t,r,n){switch(_S(t)){case 1:var i=eP;break;case 4:i=tP;break;default:i=Kg}r=i.bind(null,t,r,e),i=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ai(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}lS(function(){var u=a,f=Wg(r),d=[];e:{var h=DS.get(e);if(h!==void 0){var p=Xg,b=e;switch(e){case"keypress":if(Iu(r)===0)break e;case"keydown":case"keyup":p=gP;break;case"focusin":b="focus",p=Bf;break;case"focusout":b="blur",p=Bf;break;case"beforeblur":case"afterblur":p=Bf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bP;break;case $S:case MS:case IS:p=sP;break;case RS:p=wP;break;case"scroll":p=rP;break;case"wheel":p=SP;break;case"copy":case"cut":case"paste":p=uP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p0}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=Ss(m,g),S!=null&&x.push(Ns(m,S,v)))),w)break;m=m.return}0<x.length&&(h=new p(h,b,null,r,f),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==hp&&(b=r.relatedTarget||r.fromElement)&&(ai(b)||b[rn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?ai(b):null,b!==null&&(w=Ci(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(x=f0,S="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=p0,S="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?h:la(p),v=b==null?h:la(b),h=new x(S,m+"leave",p,r,f),h.target=w,h.relatedTarget=v,S=null,ai(f)===u&&(x=new x(g,m+"enter",b,r,f),x.target=v,x.relatedTarget=w,S=x),w=S,p&&b)t:{for(x=p,g=b,m=0,v=x;v;v=Fi(v))m++;for(v=0,S=g;S;S=Fi(S))v++;for(;0<m-v;)x=Fi(x),m--;for(;0<v-m;)g=Fi(g),v--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=Fi(x),g=Fi(g)}x=null}else x=null;p!==null&&O0(d,h,p,x,!1),b!==null&&w!==null&&O0(d,w,b,x,!0)}}e:{if(h=u?la(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var y=NP;else if(v0(h))if(ES)y=MP;else{y=CP;var _=TP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(y=$P);if(y&&(y=y(e,u))){kS(d,y,r,f);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&lp(h,"number",h.value)}switch(_=u?la(u):window,e){case"focusin":(v0(_)||_.contentEditable==="true")&&(oa=_,xp=u,us=null);break;case"focusout":us=xp=oa=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,_0(d,r,f);break;case"selectionchange":if(DP)break;case"keydown":case"keyup":_0(d,r,f)}var j;if(Jg)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else aa?OS(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(jS&&r.locale!=="ko"&&(aa||O!=="onCompositionStart"?O==="onCompositionEnd"&&aa&&(j=SS()):(jn=f,Gg="value"in jn?jn.value:jn.textContent,aa=!0)),_=Qu(u,O),0<_.length&&(O=new h0(O,e,null,r,f),d.push({event:O,listeners:_}),j?O.data=j:(j=AS(r),j!==null&&(O.data=j)))),(j=OP?AP(e,r):kP(e,r))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(f=new h0("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=j))}LS(d,t)})}function Ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ss(e,r),a!=null&&n.unshift(Ns(e,a,i)),a=Ss(e,t),a!=null&&n.push(Ns(e,a,i))),e=e.return}return n}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O0(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Ss(r,a),l!=null&&o.unshift(Ns(r,l,s))):i||(l=Ss(r,a),l!=null&&o.push(Ns(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var zP=/\r\n?/g,FP=/\u0000|\uFFFD/g;function A0(e){return(typeof e=="string"?e:""+e).replace(zP,`
`).replace(FP,"")}function Zl(e,t,r){if(t=A0(t),A0(e)!==t&&r)throw Error(H(425))}function Zu(){}var _p=null,Sp=null;function jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Op=typeof setTimeout=="function"?setTimeout:void 0,WP=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,qP=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(e){return k0.resolve(null).then(e).catch(HP)}:Op;function HP(e){setTimeout(function(){throw e})}function Kf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),As(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);As(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),Tr="__reactFiber$"+po,Ts="__reactProps$"+po,rn="__reactContainer$"+po,Ap="__reactEvents$"+po,VP="__reactListeners$"+po,KP="__reactHandles$"+po;function ai(e){var t=e[Tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rn]||r[Tr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=E0(e);e!==null;){if(r=e[Tr])return r;e=E0(e)}return t}e=r,r=e.parentNode}return null}function Pl(e){return e=e[Tr]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function la(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function kd(e){return e[Ts]||null}var kp=[],ua=-1;function zn(e){return{current:e}}function Te(e){0>ua||(e.current=kp[ua],kp[ua]=null,ua--)}function ke(e,t){ua++,kp[ua]=e.current,e.current=t}var Bn={},xt=zn(Bn),Pt=zn(!1),_i=Bn;function Ca(e,t){var r=e.type.contextTypes;if(!r)return Bn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return e=e.childContextTypes,e!=null}function ec(){Te(Pt),Te(xt)}function P0(e,t,r){if(xt.current!==Bn)throw Error(H(168));ke(xt,t),ke(Pt,r)}function US(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(H(108,TE(e)||"Unknown",i));return Le({},r,n)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,_i=xt.current,ke(xt,e),ke(Pt,Pt.current),!0}function N0(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=US(e,t,_i),n.__reactInternalMemoizedMergedChildContext=e,Te(Pt),Te(xt),ke(xt,e)):Te(Pt),ke(Pt,r)}var Vr=null,Ed=!1,Gf=!1;function zS(e){Vr===null?Vr=[e]:Vr.push(e)}function GP(e){Ed=!0,zS(e)}function Fn(){if(!Gf&&Vr!==null){Gf=!0;var e=0,t=ye;try{var r=Vr;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vr=null,Ed=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(e+1)),fS(qg,Fn),i}finally{ye=t,Gf=!1}}return null}var ca=[],da=0,rc=null,nc=0,Jt=[],Qt=0,Si=null,Gr=1,Xr="";function Jn(e,t){ca[da++]=nc,ca[da++]=rc,rc=e,nc=t}function FS(e,t,r){Jt[Qt++]=Gr,Jt[Qt++]=Xr,Jt[Qt++]=Si,Si=e;var n=Gr;e=Xr;var i=32-Sr(n)-1;n&=~(1<<i),r+=1;var a=32-Sr(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Gr=1<<32-Sr(t)+i|r<<i|n,Xr=a+e}else Gr=1<<a|r<<i|n,Xr=e}function Zg(e){e.return!==null&&(Jn(e,1),FS(e,1,0))}function ev(e){for(;e===rc;)rc=ca[--da],ca[da]=null,nc=ca[--da],ca[da]=null;for(;e===Si;)Si=Jt[--Qt],Jt[Qt]=null,Xr=Jt[--Qt],Jt[Qt]=null,Gr=Jt[--Qt],Jt[Qt]=null}var zt=null,Ut=null,Ce=!1,br=null;function WS(e,t){var r=er(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function T0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ut=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Si!==null?{id:Gr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=er(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zt=e,Ut=null,!0):!1;default:return!1}}function Ep(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pp(e){if(Ce){var t=Ut;if(t){var r=t;if(!T0(e,t)){if(Ep(e))throw Error(H(418));t=Tn(r.nextSibling);var n=zt;t&&T0(e,t)?WS(n,r):(e.flags=e.flags&-4097|2,Ce=!1,zt=e)}}else{if(Ep(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ce=!1,zt=e}}}function C0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function eu(e){if(e!==zt)return!1;if(!Ce)return C0(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jp(e.type,e.memoizedProps)),t&&(t=Ut)){if(Ep(e))throw qS(),Error(H(418));for(;t;)WS(e,t),t=Tn(t.nextSibling)}if(C0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ut=Tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=zt?Tn(e.stateNode.nextSibling):null;return!0}function qS(){for(var e=Ut;e;)e=Tn(e.nextSibling)}function $a(){Ut=zt=null,Ce=!1}function tv(e){br===null?br=[e]:br.push(e)}var XP=cn.ReactCurrentBatchConfig;function Mo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function tu(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $0(e){var t=e._init;return t(e._payload)}function HS(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=In(g,m),g.index=0,g.sibling=null,g}function a(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,m,v,S){return m===null||m.tag!==6?(m=th(v,g.mode,S),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,S){var y=v.type;return y===ia?f(g,m,v.props.children,S,v.key):m!==null&&(m.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===vn&&$0(y)===m.type)?(S=i(m,v.props),S.ref=Mo(g,m,v),S.return=g,S):(S=Fu(v.type,v.key,v.props,null,g.mode,S),S.ref=Mo(g,m,v),S.return=g,S)}function u(g,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=rh(v,g.mode,S),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function f(g,m,v,S,y){return m===null||m.tag!==7?(m=vi(v,g.mode,S,y),m.return=g,m):(m=i(m,v),m.return=g,m)}function d(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=th(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ql:return v=Fu(m.type,m.key,m.props,null,g.mode,v),v.ref=Mo(g,null,m),v.return=g,v;case na:return m=rh(m,g.mode,v),m.return=g,m;case vn:var S=m._init;return d(g,S(m._payload),v)}if(Zo(m)||Po(m))return m=vi(m,g.mode,v,null),m.return=g,m;tu(g,m)}return null}function h(g,m,v,S){var y=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return y!==null?null:s(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ql:return v.key===y?l(g,m,v,S):null;case na:return v.key===y?u(g,m,v,S):null;case vn:return y=v._init,h(g,m,y(v._payload),S)}if(Zo(v)||Po(v))return y!==null?null:f(g,m,v,S,null);tu(g,v)}return null}function p(g,m,v,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,s(m,g,""+S,y);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ql:return g=g.get(S.key===null?v:S.key)||null,l(m,g,S,y);case na:return g=g.get(S.key===null?v:S.key)||null,u(m,g,S,y);case vn:var _=S._init;return p(g,m,v,_(S._payload),y)}if(Zo(S)||Po(S))return g=g.get(v)||null,f(m,g,S,y,null);tu(m,S)}return null}function b(g,m,v,S){for(var y=null,_=null,j=m,O=m=0,A=null;j!==null&&O<v.length;O++){j.index>O?(A=j,j=null):A=j.sibling;var T=h(g,j,v[O],S);if(T===null){j===null&&(j=A);break}e&&j&&T.alternate===null&&t(g,j),m=a(T,m,O),_===null?y=T:_.sibling=T,_=T,j=A}if(O===v.length)return r(g,j),Ce&&Jn(g,O),y;if(j===null){for(;O<v.length;O++)j=d(g,v[O],S),j!==null&&(m=a(j,m,O),_===null?y=j:_.sibling=j,_=j);return Ce&&Jn(g,O),y}for(j=n(g,j);O<v.length;O++)A=p(j,g,O,v[O],S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?O:A.key),m=a(A,m,O),_===null?y=A:_.sibling=A,_=A);return e&&j.forEach(function(N){return t(g,N)}),Ce&&Jn(g,O),y}function x(g,m,v,S){var y=Po(v);if(typeof y!="function")throw Error(H(150));if(v=y.call(v),v==null)throw Error(H(151));for(var _=y=null,j=m,O=m=0,A=null,T=v.next();j!==null&&!T.done;O++,T=v.next()){j.index>O?(A=j,j=null):A=j.sibling;var N=h(g,j,T.value,S);if(N===null){j===null&&(j=A);break}e&&j&&N.alternate===null&&t(g,j),m=a(N,m,O),_===null?y=N:_.sibling=N,_=N,j=A}if(T.done)return r(g,j),Ce&&Jn(g,O),y;if(j===null){for(;!T.done;O++,T=v.next())T=d(g,T.value,S),T!==null&&(m=a(T,m,O),_===null?y=T:_.sibling=T,_=T);return Ce&&Jn(g,O),y}for(j=n(g,j);!T.done;O++,T=v.next())T=p(j,g,O,T.value,S),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?O:T.key),m=a(T,m,O),_===null?y=T:_.sibling=T,_=T);return e&&j.forEach(function(E){return t(g,E)}),Ce&&Jn(g,O),y}function w(g,m,v,S){if(typeof v=="object"&&v!==null&&v.type===ia&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ql:e:{for(var y=v.key,_=m;_!==null;){if(_.key===y){if(y=v.type,y===ia){if(_.tag===7){r(g,_.sibling),m=i(_,v.props.children),m.return=g,g=m;break e}}else if(_.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===vn&&$0(y)===_.type){r(g,_.sibling),m=i(_,v.props),m.ref=Mo(g,_,v),m.return=g,g=m;break e}r(g,_);break}else t(g,_);_=_.sibling}v.type===ia?(m=vi(v.props.children,g.mode,S,v.key),m.return=g,g=m):(S=Fu(v.type,v.key,v.props,null,g.mode,S),S.ref=Mo(g,m,v),S.return=g,g=S)}return o(g);case na:e:{for(_=v.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=rh(v,g.mode,S),m.return=g,g=m}return o(g);case vn:return _=v._init,w(g,m,_(v._payload),S)}if(Zo(v))return b(g,m,v,S);if(Po(v))return x(g,m,v,S);tu(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,v),m.return=g,g=m):(r(g,m),m=th(v,g.mode,S),m.return=g,g=m),o(g)):r(g,m)}return w}var Ma=HS(!0),VS=HS(!1),ic=zn(null),ac=null,fa=null,rv=null;function nv(){rv=fa=ac=null}function iv(e){var t=ic.current;Te(ic),e._currentValue=t}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sa(e,t){ac=e,rv=fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(rv!==e)if(e={context:e,memoizedValue:t,next:null},fa===null){if(ac===null)throw Error(H(308));fa=e,ac.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return t}var oi=null;function av(e){oi===null?oi=[e]:oi.push(e)}function KS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,av(t)):(r.next=i.next,i.next=r),t.interleaved=r,nn(e,n)}function nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yn=!1;function ov(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,nn(e,r)}return i=n.interleaved,i===null?(t.next=t,av(n)):(t.next=i.next,i.next=t),n.interleaved=t,nn(e,r)}function Ru(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hg(e,r)}}function M0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oc(e,t,r,n){var i=e.updateQueue;yn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,f=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=e,x=s;switch(h=t,p=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(p,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(p,d,h):b,h==null)break e;d=Le({},d,h);break e;case 2:yn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,l=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Oi|=o,e.lanes=o,e.memoizedState=d}}function I0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var Nl={},Rr=zn(Nl),Cs=zn(Nl),$s=zn(Nl);function si(e){if(e===Nl)throw Error(H(174));return e}function sv(e,t){switch(ke($s,t),ke(Cs,e),ke(Rr,Nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cp(t,e)}Te(Rr),ke(Rr,t)}function Ia(){Te(Rr),Te(Cs),Te($s)}function XS(e){si($s.current);var t=si(Rr.current),r=cp(t,e.type);t!==r&&(ke(Cs,e),ke(Rr,r))}function lv(e){Cs.current===e&&(Te(Rr),Te(Cs))}var Ie=zn(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xf=[];function uv(){for(var e=0;e<Xf.length;e++)Xf[e]._workInProgressVersionPrimary=null;Xf.length=0}var Du=cn.ReactCurrentDispatcher,Yf=cn.ReactCurrentBatchConfig,ji=0,De=null,Qe=null,nt=null,lc=!1,cs=!1,Ms=0,YP=0;function mt(){throw Error(H(321))}function cv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ar(e[r],t[r]))return!1;return!0}function dv(e,t,r,n,i,a){if(ji=a,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Du.current=e===null||e.memoizedState===null?eN:tN,e=r(n,i),cs){a=0;do{if(cs=!1,Ms=0,25<=a)throw Error(H(301));a+=1,nt=Qe=null,t.updateQueue=null,Du.current=rN,e=r(n,i)}while(cs)}if(Du.current=uc,t=Qe!==null&&Qe.next!==null,ji=0,nt=Qe=De=null,lc=!1,t)throw Error(H(300));return e}function fv(){var e=Ms!==0;return Ms=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?De.memoizedState=nt=e:nt=nt.next=e,nt}function or(){if(Qe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=nt===null?De.memoizedState:nt.next;if(t!==null)nt=t,Qe=e;else{if(e===null)throw Error(H(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},nt===null?De.memoizedState=nt=e:nt=nt.next=e}return nt}function Is(e,t){return typeof t=="function"?t(e):t}function Jf(e){var t=or(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=Qe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var f=u.lane;if((ji&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,De.lanes|=f,Oi|=f}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Ar(n,t.memoizedState)||(kt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,De.lanes|=a,Oi|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qf(e){var t=or(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ar(a,t.memoizedState)||(kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function YS(){}function JS(e,t){var r=De,n=or(),i=t(),a=!Ar(n.memoizedState,i);if(a&&(n.memoizedState=i,kt=!0),n=n.queue,hv(ej.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,Rs(9,ZS.bind(null,r,n,i,t),void 0,null),it===null)throw Error(H(349));ji&30||QS(r,t,i)}return i}function QS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ZS(e,t,r,n){t.value=r,t.getSnapshot=n,tj(t)&&rj(e)}function ej(e,t,r){return r(function(){tj(t)&&rj(e)})}function tj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ar(e,r)}catch{return!0}}function rj(e){var t=nn(e,1);t!==null&&jr(t,e,1,-1)}function R0(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=ZP.bind(null,De,e),[t.memoizedState,e]}function Rs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nj(){return or().memoizedState}function Lu(e,t,r,n){var i=Nr();De.flags|=e,i.memoizedState=Rs(1|t,r,void 0,n===void 0?null:n)}function Pd(e,t,r,n){var i=or();n=n===void 0?null:n;var a=void 0;if(Qe!==null){var o=Qe.memoizedState;if(a=o.destroy,n!==null&&cv(n,o.deps)){i.memoizedState=Rs(t,r,a,n);return}}De.flags|=e,i.memoizedState=Rs(1|t,r,a,n)}function D0(e,t){return Lu(8390656,8,e,t)}function hv(e,t){return Pd(2048,8,e,t)}function ij(e,t){return Pd(4,2,e,t)}function aj(e,t){return Pd(4,4,e,t)}function oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sj(e,t,r){return r=r!=null?r.concat([e]):null,Pd(4,4,oj.bind(null,t,e),r)}function pv(){}function lj(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uj(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cj(e,t,r){return ji&21?(Ar(r,t)||(r=mS(),De.lanes|=r,Oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=r)}function JP(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=Yf.transition;Yf.transition={};try{e(!1),t()}finally{ye=r,Yf.transition=n}}function dj(){return or().memoizedState}function QP(e,t,r){var n=Mn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fj(e))hj(t,r);else if(r=KS(e,t,r,n),r!==null){var i=St();jr(r,e,n,i),pj(r,t,n)}}function ZP(e,t,r){var n=Mn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fj(e))hj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,o)){var l=t.interleaved;l===null?(i.next=i,av(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=KS(e,t,i,n),r!==null&&(i=St(),jr(r,e,n,i),pj(r,t,n))}}function fj(e){var t=e.alternate;return e===De||t!==null&&t===De}function hj(e,t){cs=lc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hg(e,r)}}var uc={readContext:ar,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},eN={readContext:ar,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:D0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lu(4194308,4,oj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lu(4,2,e,t)},useMemo:function(e,t){var r=Nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QP.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:R0,useDebugValue:pv,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=R0(!1),t=e[0];return e=JP.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,i=Nr();if(Ce){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),it===null)throw Error(H(349));ji&30||QS(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,D0(ej.bind(null,n,a,e),[e]),n.flags|=2048,Rs(9,ZS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Nr(),t=it.identifierPrefix;if(Ce){var r=Xr,n=Gr;r=(n&~(1<<32-Sr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tN={readContext:ar,useCallback:lj,useContext:ar,useEffect:hv,useImperativeHandle:sj,useInsertionEffect:ij,useLayoutEffect:aj,useMemo:uj,useReducer:Jf,useRef:nj,useState:function(){return Jf(Is)},useDebugValue:pv,useDeferredValue:function(e){var t=or();return cj(t,Qe.memoizedState,e)},useTransition:function(){var e=Jf(Is)[0],t=or().memoizedState;return[e,t]},useMutableSource:YS,useSyncExternalStore:JS,useId:dj,unstable_isNewReconciler:!1},rN={readContext:ar,useCallback:lj,useContext:ar,useEffect:hv,useImperativeHandle:sj,useInsertionEffect:ij,useLayoutEffect:aj,useMemo:uj,useReducer:Qf,useRef:nj,useState:function(){return Qf(Is)},useDebugValue:pv,useDeferredValue:function(e){var t=or();return Qe===null?t.memoizedState=e:cj(t,Qe.memoizedState,e)},useTransition:function(){var e=Qf(Is)[0],t=or().memoizedState;return[e,t]},useMutableSource:YS,useSyncExternalStore:JS,useId:dj,unstable_isNewReconciler:!1};function hr(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Tp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nd={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=St(),i=Mn(e),a=Qr(n,i);a.payload=t,r!=null&&(a.callback=r),t=Cn(e,a,i),t!==null&&(jr(t,e,i,n),Ru(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=St(),i=Mn(e),a=Qr(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Cn(e,a,i),t!==null&&(jr(t,e,i,n),Ru(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=St(),n=Mn(e),i=Qr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Cn(e,i,n),t!==null&&(jr(t,e,n,r),Ru(t,e,n))}};function L0(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Es(r,n)||!Es(i,a):!0}function mj(e,t,r){var n=!1,i=Bn,a=t.contextType;return typeof a=="object"&&a!==null?a=ar(a):(i=Nt(t)?_i:xt.current,n=t.contextTypes,a=(n=n!=null)?Ca(e,i):Bn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function B0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nd.enqueueReplaceState(t,t.state,null)}function Cp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ov(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ar(a):(a=Nt(t)?_i:xt.current,i.context=Ca(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Tp(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Nd.enqueueReplaceState(i,i.state,null),oc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ra(e,t){try{var r="",n=t;do r+=NE(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Zf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $p(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nN=typeof WeakMap=="function"?WeakMap:Map;function gj(e,t,r){r=Qr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dc||(dc=!0,Wp=n),$p(e,t)},r}function vj(e,t,r){r=Qr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){$p(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){$p(e,t),typeof n!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function U0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nN;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vN.bind(null,e,t,r),t.then(e,e))}function z0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function F0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qr(-1,1),t.tag=2,Cn(r,t,1))),r.lanes|=1),e)}var iN=cn.ReactCurrentOwner,kt=!1;function wt(e,t,r,n){t.child=e===null?VS(t,null,r,n):Ma(t,e.child,r,n)}function W0(e,t,r,n,i){r=r.render;var a=t.ref;return Sa(t,i),n=dv(e,t,r,n,a,i),r=fv(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,an(e,t,i)):(Ce&&r&&Zg(t),t.flags|=1,wt(e,t,n,i),t.child)}function q0(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!_v(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,yj(e,t,a,n,i)):(e=Fu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Es,r(o,n)&&e.ref===t.ref)return an(e,t,i)}return t.flags|=1,e=In(a,n),e.ref=t.ref,e.return=t,t.child=e}function yj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Es(a,n)&&e.ref===t.ref)if(kt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,an(e,t,i)}return Mp(e,t,r,n,i)}function bj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(pa,It),It|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(pa,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ke(pa,It),It|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ke(pa,It),It|=n;return wt(e,t,i,r),t.child}function xj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mp(e,t,r,n,i){var a=Nt(r)?_i:xt.current;return a=Ca(t,a),Sa(t,i),r=dv(e,t,r,n,a,i),n=fv(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,an(e,t,i)):(Ce&&n&&Zg(t),t.flags|=1,wt(e,t,r,i),t.child)}function H0(e,t,r,n,i){if(Nt(r)){var a=!0;tc(t)}else a=!1;if(Sa(t,i),t.stateNode===null)Bu(e,t),mj(t,r,n),Cp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Nt(r)?_i:xt.current,u=Ca(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&B0(t,o,n,u),yn=!1;var h=t.memoizedState;o.state=h,oc(t,n,o,i),l=t.memoizedState,s!==n||h!==l||Pt.current||yn?(typeof f=="function"&&(Tp(t,r,f,n),l=t.memoizedState),(s=yn||L0(t,r,s,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,GS(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:hr(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Nt(r)?_i:xt.current,l=Ca(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&B0(t,o,n,l),yn=!1,h=t.memoizedState,o.state=h,oc(t,n,o,i);var b=t.memoizedState;s!==d||h!==b||Pt.current||yn?(typeof p=="function"&&(Tp(t,r,p,n),b=t.memoizedState),(u=yn||L0(t,r,u,n,h,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ip(e,t,r,n,a,i)}function Ip(e,t,r,n,i,a){xj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&N0(t,r,!1),an(e,t,a);n=t.stateNode,iN.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ma(t,e.child,null,a),t.child=Ma(t,null,s,a)):wt(e,t,s,a),t.memoizedState=n.state,i&&N0(t,r,!0),t.child}function wj(e){var t=e.stateNode;t.pendingContext?P0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&P0(e,t.context,!1),sv(e,t.containerInfo)}function V0(e,t,r,n,i){return $a(),tv(i),t.flags|=256,wt(e,t,r,n),t.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Dp(e){return{baseLanes:e,cachePool:null,transitions:null}}function _j(e,t,r){var n=t.pendingProps,i=Ie.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Ie,i&1),e===null)return Pp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$d(o,n,0,null),e=vi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Dp(r),t.memoizedState=Rp,e):mv(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return aN(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=In(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=In(s,a):(a=vi(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Dp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Rp,n}return a=e.child,e=a.sibling,n=In(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mv(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ru(e,t,r,n){return n!==null&&tv(n),Ma(t,e.child,null,r),e=mv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aN(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Zf(Error(H(422))),ru(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=$d({mode:"visible",children:n.children},i,0,null),a=vi(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ma(t,e.child,null,o),t.child.memoizedState=Dp(o),t.memoizedState=Rp,a);if(!(t.mode&1))return ru(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(H(419)),n=Zf(a,n,void 0),ru(e,t,o,n)}if(s=(o&e.childLanes)!==0,kt||s){if(n=it,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,nn(e,i),jr(n,e,i,-1))}return wv(),n=Zf(Error(H(421))),ru(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ut=Tn(i.nextSibling),zt=t,Ce=!0,br=null,e!==null&&(Jt[Qt++]=Gr,Jt[Qt++]=Xr,Jt[Qt++]=Si,Gr=e.id,Xr=e.overflow,Si=t),t=mv(t,n.children),t.flags|=4096,t)}function K0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function eh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Sj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&K0(e,r,t);else if(e.tag===19)K0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&sc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),eh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}eh(t,!0,r,null,a);break;case"together":eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=In(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=In(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oN(e,t,r){switch(t.tag){case 3:wj(t),$a();break;case 5:XS(t);break;case 1:Nt(t.type)&&tc(t);break;case 4:sv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ke(ic,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?_j(e,t,r):(ke(Ie,Ie.current&1),e=an(e,t,r),e!==null?e.sibling:null);ke(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,bj(e,t,r)}return an(e,t,r)}var jj,Lp,Oj,Aj;jj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lp=function(){};Oj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,si(Rr.current);var a=null;switch(r){case"input":i=op(e,i),n=op(e,n),a=[];break;case"select":i=Le({},i,{value:void 0}),n=Le({},n,{value:void 0}),a=[];break;case"textarea":i=up(e,i),n=up(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zu)}dp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ws.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ws.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Aj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Io(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sN(e,t,r){var n=t.pendingProps;switch(ev(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Nt(t.type)&&ec(),gt(t),null;case 3:return n=t.stateNode,Ia(),Te(Pt),Te(xt),uv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(eu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,br!==null&&(Vp(br),br=null))),Lp(e,t),gt(t),null;case 5:lv(t);var i=si($s.current);if(r=t.type,e!==null&&t.stateNode!=null)Oj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return gt(t),null}if(e=si(Rr.current),eu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Tr]=t,n[Ts]=a,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(i=0;i<ts.length;i++)Ee(ts[i],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":r0(n,a),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ee("invalid",n);break;case"textarea":i0(n,a),Ee("invalid",n)}dp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Zl(n.textContent,s,e),i=["children",""+s]):ws.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ee("scroll",n)}switch(r){case"input":Hl(n),n0(n,a,!0);break;case"textarea":Hl(n),a0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Zu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Tr]=t,e[Ts]=n,jj(e,t,!1,!1),t.stateNode=e;e:{switch(o=fp(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),i=n;break;case"iframe":case"object":case"embed":Ee("load",e),i=n;break;case"video":case"audio":for(i=0;i<ts.length;i++)Ee(ts[i],e);i=n;break;case"source":Ee("error",e),i=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),i=n;break;case"details":Ee("toggle",e),i=n;break;case"input":r0(e,n),i=op(e,n),Ee("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Le({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":i0(e,n),i=up(e,n),Ee("invalid",e);break;default:i=n}dp(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?nS(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tS(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_s(e,l):typeof l=="number"&&_s(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ws.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ee("scroll",e):l!=null&&Bg(e,a,l,o))}switch(r){case"input":Hl(e),n0(e,n,!1);break;case"textarea":Hl(e),a0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ln(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ba(e,!!n.multiple,a,!1):n.defaultValue!=null&&ba(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Aj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=si($s.current),si(Rr.current),eu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Tr]=t,(a=n.nodeValue!==r)&&(e=zt,e!==null))switch(e.tag){case 3:Zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tr]=t,t.stateNode=n}return gt(t),null;case 13:if(Te(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Ut!==null&&t.mode&1&&!(t.flags&128))qS(),$a(),t.flags|=98560,a=!1;else if(a=eu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[Tr]=t}else $a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),a=!1}else br!==null&&(Vp(br),br=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ze===0&&(Ze=3):wv())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Ia(),Lp(e,t),e===null&&Ps(t.stateNode.containerInfo),gt(t),null;case 10:return iv(t.type._context),gt(t),null;case 17:return Nt(t.type)&&ec(),gt(t),null;case 19:if(Te(Ie),a=t.memoizedState,a===null)return gt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Io(a,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sc(e),o!==null){for(t.flags|=128,Io(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Ie,Ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&qe()>Da&&(t.flags|=128,n=!0,Io(a,!1),t.lanes=4194304)}else{if(!n)if(e=sc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Io(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ce)return gt(t),null}else 2*qe()-a.renderingStartTime>Da&&r!==1073741824&&(t.flags|=128,n=!0,Io(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,r=Ie.current,ke(Ie,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return xv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?It&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function lN(e,t){switch(ev(t),t.tag){case 1:return Nt(t.type)&&ec(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ia(),Te(Pt),Te(xt),uv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lv(t),null;case 13:if(Te(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ie),null;case 4:return Ia(),null;case 10:return iv(t.type._context),null;case 22:case 23:return xv(),null;case 24:return null;default:return null}}var nu=!1,yt=!1,uN=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ha(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function Bp(e,t,r){try{r()}catch(n){ze(e,t,n)}}var G0=!1;function cN(e,t){if(_p=Yu,e=TS(),Qg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++f===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sp={focusedElem:e,selectionRange:r},Yu=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:hr(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){ze(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return b=G0,G0=!1,b}function ds(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Bp(t,r,a)}i=i.next}while(i!==n)}}function Td(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Up(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kj(e){var t=e.alternate;t!==null&&(e.alternate=null,kj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Ts],delete t[Ap],delete t[VP],delete t[KP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ej(e){return e.tag===5||e.tag===3||e.tag===4}function X0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ej(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(n!==4&&(e=e.child,e!==null))for(zp(e,t,r),e=e.sibling;e!==null;)zp(e,t,r),e=e.sibling}function Fp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Fp(e,t,r),e=e.sibling;e!==null;)Fp(e,t,r),e=e.sibling}var ct=null,mr=!1;function mn(e,t,r){for(r=r.child;r!==null;)Pj(e,t,r),r=r.sibling}function Pj(e,t,r){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Sd,r)}catch{}switch(r.tag){case 5:yt||ha(r,t);case 6:var n=ct,i=mr;ct=null,mn(e,t,r),ct=n,mr=i,ct!==null&&(mr?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(mr?(e=ct,r=r.stateNode,e.nodeType===8?Kf(e.parentNode,r):e.nodeType===1&&Kf(e,r),As(e)):Kf(ct,r.stateNode));break;case 4:n=ct,i=mr,ct=r.stateNode.containerInfo,mr=!0,mn(e,t,r),ct=n,mr=i;break;case 0:case 11:case 14:case 15:if(!yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bp(r,t,o),i=i.next}while(i!==n)}mn(e,t,r);break;case 1:if(!yt&&(ha(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ze(r,t,s)}mn(e,t,r);break;case 21:mn(e,t,r);break;case 22:r.mode&1?(yt=(n=yt)||r.memoizedState!==null,mn(e,t,r),yt=n):mn(e,t,r);break;default:mn(e,t,r)}}function Y0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uN),t.forEach(function(n){var i=bN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ct=s.stateNode,mr=!1;break e;case 3:ct=s.stateNode.containerInfo,mr=!0;break e;case 4:ct=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(ct===null)throw Error(H(160));Pj(a,o,i),ct=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nj(t,e),t=t.sibling}function Nj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),Er(e),n&4){try{ds(3,e,e.return),Td(3,e)}catch(x){ze(e,e.return,x)}try{ds(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:cr(t,e),Er(e),n&512&&r!==null&&ha(r,r.return);break;case 5:if(cr(t,e),Er(e),n&512&&r!==null&&ha(r,r.return),e.flags&32){var i=e.stateNode;try{_s(i,"")}catch(x){ze(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Q_(i,a),fp(s,o);var u=fp(s,a);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?nS(i,d):f==="dangerouslySetInnerHTML"?tS(i,d):f==="children"?_s(i,d):Bg(i,f,d,u)}switch(s){case"input":sp(i,a);break;case"textarea":Z_(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ba(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ba(i,!!a.multiple,a.defaultValue,!0):ba(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ts]=a}catch(x){ze(e,e.return,x)}}break;case 6:if(cr(t,e),Er(e),n&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){ze(e,e.return,x)}}break;case 3:if(cr(t,e),Er(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:cr(t,e),Er(e);break;case 13:cr(t,e),Er(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yv=qe())),n&4&&Y0(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(u=yt)||f,cr(t,e),yt=u):cr(t,e),Er(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Y=e,f=e.child;f!==null;){for(d=Y=f;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:ds(4,h,h.return);break;case 1:ha(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){ze(n,r,x)}}break;case 5:ha(h,h.return);break;case 22:if(h.memoizedState!==null){Q0(d);continue}}p!==null?(p.return=h,Y=p):Q0(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rS("display",o))}catch(x){ze(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){ze(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cr(t,e),Er(e),n&4&&Y0(e);break;case 21:break;default:cr(t,e),Er(e)}}function Er(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ej(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_s(i,""),n.flags&=-33);var a=X0(e);Fp(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=X0(e);zp(e,s,o);break;default:throw Error(H(161))}}catch(l){ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dN(e,t,r){Y=e,Tj(e)}function Tj(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var i=Y,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||nu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||yt;s=nu;var u=yt;if(nu=o,(yt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(i):l!==null?(l.return=o,Y=l):Z0(i);for(;a!==null;)Y=a,Tj(a),a=a.sibling;Y=i,nu=s,yt=u}J0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Y=a):J0(e)}}function J0(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Td(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:hr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&I0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}I0(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&As(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}yt||t.flags&512&&Up(t)}catch(h){ze(t,t.return,h)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function Q0(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function Z0(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Td(4,t)}catch(l){ze(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ze(t,i,l)}}var a=t.return;try{Up(t)}catch(l){ze(t,a,l)}break;case 5:var o=t.return;try{Up(t)}catch(l){ze(t,o,l)}}}catch(l){ze(t,t.return,l)}if(t===e){Y=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Y=s;break}Y=t.return}}var fN=Math.ceil,cc=cn.ReactCurrentDispatcher,gv=cn.ReactCurrentOwner,nr=cn.ReactCurrentBatchConfig,pe=0,it=null,Ke=null,ft=0,It=0,pa=zn(0),Ze=0,Ds=null,Oi=0,Cd=0,vv=0,fs=null,At=null,yv=0,Da=1/0,qr=null,dc=!1,Wp=null,$n=null,iu=!1,On=null,fc=0,hs=0,qp=null,Uu=-1,zu=0;function St(){return pe&6?qe():Uu!==-1?Uu:Uu=qe()}function Mn(e){return e.mode&1?pe&2&&ft!==0?ft&-ft:XP.transition!==null?(zu===0&&(zu=mS()),zu):(e=ye,e!==0||(e=window.event,e=e===void 0?16:_S(e.type)),e):1}function jr(e,t,r,n){if(50<hs)throw hs=0,qp=null,Error(H(185));kl(e,r,n),(!(pe&2)||e!==it)&&(e===it&&(!(pe&2)&&(Cd|=r),Ze===4&&_n(e,ft)),Tt(e,n),r===1&&pe===0&&!(t.mode&1)&&(Da=qe()+500,Ed&&Fn()))}function Tt(e,t){var r=e.callbackNode;XE(e,t);var n=Xu(e,e===it?ft:0);if(n===0)r!==null&&l0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&l0(r),t===1)e.tag===0?GP(eb.bind(null,e)):zS(eb.bind(null,e)),qP(function(){!(pe&6)&&Fn()}),r=null;else{switch(gS(n)){case 1:r=qg;break;case 4:r=hS;break;case 16:r=Gu;break;case 536870912:r=pS;break;default:r=Gu}r=Bj(r,Cj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cj(e,t){if(Uu=-1,zu=0,pe&6)throw Error(H(327));var r=e.callbackNode;if(ja()&&e.callbackNode!==r)return null;var n=Xu(e,e===it?ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hc(e,n);else{t=n;var i=pe;pe|=2;var a=Mj();(it!==e||ft!==t)&&(qr=null,Da=qe()+500,gi(e,t));do try{mN();break}catch(s){$j(e,s)}while(!0);nv(),cc.current=a,pe=i,Ke!==null?t=0:(it=null,ft=0,t=Ze)}if(t!==0){if(t===2&&(i=vp(e),i!==0&&(n=i,t=Hp(e,i))),t===1)throw r=Ds,gi(e,0),_n(e,n),Tt(e,qe()),r;if(t===6)_n(e,n);else{if(i=e.current.alternate,!(n&30)&&!hN(i)&&(t=hc(e,n),t===2&&(a=vp(e),a!==0&&(n=a,t=Hp(e,a))),t===1))throw r=Ds,gi(e,0),_n(e,n),Tt(e,qe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Qn(e,At,qr);break;case 3:if(_n(e,n),(n&130023424)===n&&(t=yv+500-qe(),10<t)){if(Xu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Op(Qn.bind(null,e,At,qr),t);break}Qn(e,At,qr);break;case 4:if(_n(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Sr(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fN(n/1960))-n,10<n){e.timeoutHandle=Op(Qn.bind(null,e,At,qr),n);break}Qn(e,At,qr);break;case 5:Qn(e,At,qr);break;default:throw Error(H(329))}}}return Tt(e,qe()),e.callbackNode===r?Cj.bind(null,e):null}function Hp(e,t){var r=fs;return e.current.memoizedState.isDehydrated&&(gi(e,t).flags|=256),e=hc(e,t),e!==2&&(t=At,At=r,t!==null&&Vp(t)),e}function Vp(e){At===null?At=e:At.push.apply(At,e)}function hN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ar(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~vv,t&=~Cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sr(t),n=1<<r;e[r]=-1,t&=~n}}function eb(e){if(pe&6)throw Error(H(327));ja();var t=Xu(e,0);if(!(t&1))return Tt(e,qe()),null;var r=hc(e,t);if(e.tag!==0&&r===2){var n=vp(e);n!==0&&(t=n,r=Hp(e,n))}if(r===1)throw r=Ds,gi(e,0),_n(e,t),Tt(e,qe()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qn(e,At,qr),Tt(e,qe()),null}function bv(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Da=qe()+500,Ed&&Fn())}}function Ai(e){On!==null&&On.tag===0&&!(pe&6)&&ja();var t=pe;pe|=1;var r=nr.transition,n=ye;try{if(nr.transition=null,ye=1,e)return e()}finally{ye=n,nr.transition=r,pe=t,!(pe&6)&&Fn()}}function xv(){It=pa.current,Te(pa)}function gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WP(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(ev(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ec();break;case 3:Ia(),Te(Pt),Te(xt),uv();break;case 5:lv(n);break;case 4:Ia();break;case 13:Te(Ie);break;case 19:Te(Ie);break;case 10:iv(n.type._context);break;case 22:case 23:xv()}r=r.return}if(it=e,Ke=e=In(e.current,null),ft=It=t,Ze=0,Ds=null,vv=Cd=Oi=0,At=fs=null,oi!==null){for(t=0;t<oi.length;t++)if(r=oi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}oi=null}return e}function $j(e,t){do{var r=Ke;try{if(nv(),Du.current=uc,lc){for(var n=De.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lc=!1}if(ji=0,nt=Qe=De=null,cs=!1,Ms=0,gv.current=null,r===null||r.return===null){Ze=1,Ds=t,Ke=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=ft,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=z0(o);if(p!==null){p.flags&=-257,F0(p,o,s,a,t),p.mode&1&&U0(a,u,t),t=p,l=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(l),t.updateQueue=x}else b.add(l);break e}else{if(!(t&1)){U0(a,u,t),wv();break e}l=Error(H(426))}}else if(Ce&&s.mode&1){var w=z0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),F0(w,o,s,a,t),tv(Ra(l,s));break e}}a=l=Ra(l,s),Ze!==4&&(Ze=2),fs===null?fs=[a]:fs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=gj(a,l,t);M0(a,g);break e;case 1:s=l;var m=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($n===null||!$n.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=vj(a,s,t);M0(a,S);break e}}a=a.return}while(a!==null)}Rj(r)}catch(y){t=y,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function Mj(){var e=cc.current;return cc.current=uc,e===null?uc:e}function wv(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(Oi&268435455)&&!(Cd&268435455)||_n(it,ft)}function hc(e,t){var r=pe;pe|=2;var n=Mj();(it!==e||ft!==t)&&(qr=null,gi(e,t));do try{pN();break}catch(i){$j(e,i)}while(!0);if(nv(),pe=r,cc.current=n,Ke!==null)throw Error(H(261));return it=null,ft=0,Ze}function pN(){for(;Ke!==null;)Ij(Ke)}function mN(){for(;Ke!==null&&!UE();)Ij(Ke)}function Ij(e){var t=Lj(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?Rj(e):Ke=t,gv.current=null}function Rj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lN(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ke=null;return}}else if(r=sN(r,t,It),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Ze===0&&(Ze=5)}function Qn(e,t,r){var n=ye,i=nr.transition;try{nr.transition=null,ye=1,gN(e,t,r,n)}finally{nr.transition=i,ye=n}return null}function gN(e,t,r,n){do ja();while(On!==null);if(pe&6)throw Error(H(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(YE(e,a),e===it&&(Ke=it=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||iu||(iu=!0,Bj(Gu,function(){return ja(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=nr.transition,nr.transition=null;var o=ye;ye=1;var s=pe;pe|=4,gv.current=null,cN(e,r),Nj(r,e),RP(Sp),Yu=!!_p,Sp=_p=null,e.current=r,dN(r),zE(),pe=s,ye=o,nr.transition=a}else e.current=r;if(iu&&(iu=!1,On=e,fc=i),a=e.pendingLanes,a===0&&($n=null),qE(r.stateNode),Tt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(dc)throw dc=!1,e=Wp,Wp=null,e;return fc&1&&e.tag!==0&&ja(),a=e.pendingLanes,a&1?e===qp?hs++:(hs=0,qp=e):hs=0,Fn(),null}function ja(){if(On!==null){var e=gS(fc),t=nr.transition,r=ye;try{if(nr.transition=null,ye=16>e?16:e,On===null)var n=!1;else{if(e=On,On=null,fc=0,pe&6)throw Error(H(331));var i=pe;for(pe|=4,Y=e.current;Y!==null;){var a=Y,o=a.child;if(Y.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Y=u;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:ds(8,f,a)}var d=f.child;if(d!==null)d.return=f,Y=d;else for(;Y!==null;){f=Y;var h=f.sibling,p=f.return;if(kj(f),f===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var b=a.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Y=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Y=o;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ds(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Y=g;break e}Y=a.return}}var m=e.current;for(Y=m;Y!==null;){o=Y;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Y=v;else e:for(o=m;Y!==null;){if(s=Y,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Td(9,s)}}catch(y){ze(s,s.return,y)}if(s===o){Y=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break e}Y=s.return}}if(pe=i,Fn(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Sd,e)}catch{}n=!0}return n}finally{ye=r,nr.transition=t}}return!1}function tb(e,t,r){t=Ra(r,t),t=gj(e,t,1),e=Cn(e,t,1),t=St(),e!==null&&(kl(e,1,t),Tt(e,t))}function ze(e,t,r){if(e.tag===3)tb(e,e,r);else for(;t!==null;){if(t.tag===3){tb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($n===null||!$n.has(n))){e=Ra(r,e),e=vj(t,e,1),t=Cn(t,e,1),e=St(),t!==null&&(kl(t,1,e),Tt(t,e));break}}t=t.return}}function vN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(ft&r)===r&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>qe()-yv?gi(e,0):vv|=r),Tt(e,t)}function Dj(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var r=St();e=nn(e,t),e!==null&&(kl(e,t,r),Tt(e,r))}function yN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dj(e,r)}function bN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),Dj(e,r)}var Lj;Lj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kt=!1,oN(e,t,r);kt=!!(e.flags&131072)}else kt=!1,Ce&&t.flags&1048576&&FS(t,nc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bu(e,t),e=t.pendingProps;var i=Ca(t,xt.current);Sa(t,r),i=dv(null,t,n,e,i,r);var a=fv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(n)?(a=!0,tc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ov(t),i.updater=Nd,t.stateNode=i,i._reactInternals=t,Cp(t,n,e,r),t=Ip(null,t,n,!0,a,r)):(t.tag=0,Ce&&a&&Zg(t),wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=wN(n),e=hr(n,e),i){case 0:t=Mp(null,t,n,e,r);break e;case 1:t=H0(null,t,n,e,r);break e;case 11:t=W0(null,t,n,e,r);break e;case 14:t=q0(null,t,n,hr(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hr(n,i),Mp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hr(n,i),H0(e,t,n,i,r);case 3:e:{if(wj(t),e===null)throw Error(H(387));n=t.pendingProps,a=t.memoizedState,i=a.element,GS(e,t),oc(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ra(Error(H(423)),t),t=V0(e,t,n,r,i);break e}else if(n!==i){i=Ra(Error(H(424)),t),t=V0(e,t,n,r,i);break e}else for(Ut=Tn(t.stateNode.containerInfo.firstChild),zt=t,Ce=!0,br=null,r=VS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($a(),n===i){t=an(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return XS(t),e===null&&Pp(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,jp(n,i)?o=null:a!==null&&jp(n,a)&&(t.flags|=32),xj(e,t),wt(e,t,o,r),t.child;case 6:return e===null&&Pp(t),null;case 13:return _j(e,t,r);case 4:return sv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ma(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hr(n,i),W0(e,t,n,i,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ke(ic,n._currentValue),n._currentValue=o,a!==null)if(Ar(a.value,o)){if(a.children===i.children&&!Pt.current){t=an(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Qr(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Np(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Np(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Sa(t,r),i=ar(i),n=n(i),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,i=hr(n,t.pendingProps),i=hr(n.type,i),q0(e,t,n,i,r);case 15:return yj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hr(n,i),Bu(e,t),t.tag=1,Nt(n)?(e=!0,tc(t)):e=!1,Sa(t,r),mj(t,n,i),Cp(t,n,i,r),Ip(null,t,n,!0,e,r);case 19:return Sj(e,t,r);case 22:return bj(e,t,r)}throw Error(H(156,t.tag))};function Bj(e,t){return fS(e,t)}function xN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,r,n){return new xN(e,t,r,n)}function _v(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wN(e){if(typeof e=="function")return _v(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zg)return 11;if(e===Fg)return 14}return 2}function In(e,t){var r=e.alternate;return r===null?(r=er(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fu(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")_v(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ia:return vi(r.children,i,a,t);case Ug:o=8,i|=8;break;case rp:return e=er(12,r,t,i|2),e.elementType=rp,e.lanes=a,e;case np:return e=er(13,r,t,i),e.elementType=np,e.lanes=a,e;case ip:return e=er(19,r,t,i),e.elementType=ip,e.lanes=a,e;case X_:return $d(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K_:o=10;break e;case G_:o=9;break e;case zg:o=11;break e;case Fg:o=14;break e;case vn:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=er(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function vi(e,t,r,n){return e=er(7,e,n,t),e.lanes=r,e}function $d(e,t,r,n){return e=er(22,e,n,t),e.elementType=X_,e.lanes=r,e.stateNode={isHidden:!1},e}function th(e,t,r){return e=er(6,e,null,t),e.lanes=r,e}function rh(e,t,r){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _N(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sv(e,t,r,n,i,a,o,s,l){return e=new _N(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=er(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(a),e}function SN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Uj(e){if(!e)return Bn;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Nt(r))return US(e,r,t)}return t}function zj(e,t,r,n,i,a,o,s,l){return e=Sv(r,n,!0,e,i,a,o,s,l),e.context=Uj(null),r=e.current,n=St(),i=Mn(r),a=Qr(n,i),a.callback=t??null,Cn(r,a,i),e.current.lanes=i,kl(e,i,n),Tt(e,n),e}function Md(e,t,r,n){var i=t.current,a=St(),o=Mn(i);return r=Uj(r),t.context===null?t.context=r:t.pendingContext=r,t=Qr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cn(i,t,o),e!==null&&(jr(e,i,o,a),Ru(e,i,o)),o}function pc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jv(e,t){rb(e,t),(e=e.alternate)&&rb(e,t)}function jN(){return null}var Fj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ov(e){this._internalRoot=e}Id.prototype.render=Ov.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Md(e,t,null,null)};Id.prototype.unmount=Ov.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ai(function(){Md(null,e,null,null)}),t[rn]=null}};function Id(e){this._internalRoot=e}Id.prototype.unstable_scheduleHydration=function(e){if(e){var t=bS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wn.length&&t!==0&&t<wn[r].priority;r++);wn.splice(r,0,e),r===0&&wS(e)}};function Av(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nb(){}function ON(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=pc(o);a.call(u)}}var o=zj(t,n,e,0,null,!1,!1,"",nb);return e._reactRootContainer=o,e[rn]=o.current,Ps(e.nodeType===8?e.parentNode:e),Ai(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=pc(l);s.call(u)}}var l=Sv(e,0,!1,null,null,!1,!1,"",nb);return e._reactRootContainer=l,e[rn]=l.current,Ps(e.nodeType===8?e.parentNode:e),Ai(function(){Md(t,l,r,n)}),l}function Dd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=pc(o);s.call(l)}}Md(t,o,e,i)}else o=ON(r,t,e,i,n);return pc(o)}vS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=es(t.pendingLanes);r!==0&&(Hg(t,r|1),Tt(t,qe()),!(pe&6)&&(Da=qe()+500,Fn()))}break;case 13:Ai(function(){var n=nn(e,1);if(n!==null){var i=St();jr(n,e,1,i)}}),jv(e,1)}};Vg=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var r=St();jr(t,e,134217728,r)}jv(e,134217728)}};yS=function(e){if(e.tag===13){var t=Mn(e),r=nn(e,t);if(r!==null){var n=St();jr(r,e,t,n)}jv(e,t)}};bS=function(){return ye};xS=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};pp=function(e,t,r){switch(t){case"input":if(sp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=kd(n);if(!i)throw Error(H(90));J_(n),sp(n,i)}}}break;case"textarea":Z_(e,r);break;case"select":t=r.value,t!=null&&ba(e,!!r.multiple,t,!1)}};oS=bv;sS=Ai;var AN={usingClientEntryPoint:!1,Events:[Pl,la,kd,iS,aS,bv]},Ro={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kN={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cS(e),e===null?null:e.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Sd=au.inject(kN),Ir=au}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AN;qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(t))throw Error(H(200));return SN(e,t,null,r)};qt.createRoot=function(e,t){if(!Av(e))throw Error(H(299));var r=!1,n="",i=Fj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sv(e,1,!1,null,null,r,!1,n,i),e[rn]=t.current,Ps(e.nodeType===8?e.parentNode:e),new Ov(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=cS(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return Ai(e)};qt.hydrate=function(e,t,r){if(!Rd(t))throw Error(H(200));return Dd(null,e,t,!0,r)};qt.hydrateRoot=function(e,t,r){if(!Av(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Fj;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zj(t,null,e,1,r??null,i,!1,a,o),e[rn]=t.current,Ps(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Id(t)};qt.render=function(e,t,r){if(!Rd(t))throw Error(H(200));return Dd(null,e,t,!1,r)};qt.unmountComponentAtNode=function(e){if(!Rd(e))throw Error(H(40));return e._reactRootContainer?(Ai(function(){Dd(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1};qt.unstable_batchedUpdates=bv;qt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Rd(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Dd(e,t,r,!1,n)};qt.version="18.3.1-next-f1338f8080-20240426";function Wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wj)}catch(e){console.error(e)}}Wj(),W_.exports=qt;var qj=W_.exports;const EN=_e(qj);var ib=qj;ep.createRoot=ib.createRoot,ep.hydrateRoot=ib.hydrateRoot;/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>k.createElement("svg",{ref:l,...NN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Hj("lucide",i),...s},[...o.map(([u,f])=>k.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=k.forwardRef(({className:n,...i},a)=>k.createElement(TN,{ref:a,iconNode:t,className:Hj(`lucide-${PN(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=ne("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ne("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=ne("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ne("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ne("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Bd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function qN(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(d){o(d)}}function l(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}const HN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Mv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class VN extends Mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ub extends Mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cb extends Mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jp||(Jp={}));class KN{constructor(t,{headers:r={},customFetch:n,region:i=Jp.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=HN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qN(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:f,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let x;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let w=f;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),f?(w=o.signal,f.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x,signal:w}).catch(y=>{throw new VN(y)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new ub(g);if(!g.ok)throw new cb(g);let v=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield g.json():v==="application/octet-stream"||v==="application/pdf"?S=yield g.blob():v==="text/event-stream"?S=g:v==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof cb||s instanceof ub?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var GN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},XN=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,l=null,u=a.status,f=a.statusText;if(a.ok){var d,h;if(r.method!=="HEAD"){var p;const g=await a.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?s=g:s=JSON.parse(g))}const x=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,f="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var b;const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(s=[],o=null,u=200,f="OK")}catch{a.status===404&&x===""?(u=204,f="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,f="OK"),o&&r.shouldThrowOnError)throw new GN(o)}return{error:o,data:s,count:l,status:u,statusText:f}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="";const l=a==null?void 0:a.cause;if(l){var u,f,d,h;const b=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",x=(f=l==null?void 0:l.code)!==null&&f!==void 0?f:"";s=`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${b}`,x&&(s+=` (${x})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var p;s=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},YN=class extends XN{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const db=new RegExp("[,()]");var Zi=class extends YN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&db.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&db.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},JN=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Zi({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,s)=>o.concat(Object.keys(s)),[]);if(a.length>0){const o=[...new Set(a)].map(s=>`"${s}"`);this.url.searchParams.set("columns",o.join(","))}}return new Zi({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Zi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Zi({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zi({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},QN=class Zj{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new JN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(s="POST",u=r);const f=new Headers(this.headers);return a&&f.set("Prefer",`count=${a}`),new Zi({method:s,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class ZN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eT="2.89.0",tT=`realtime-js/${eT}`,e2="1.0.0",rT="2.0.0",fb=e2,Qp=1e4,nT=1e3,iT=100;var bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bn||(bn={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var Zp;(function(e){e.websocket="websocket"})(Zp||(Zp={}));var ni;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ni||(ni={}));class aT{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(p),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,l.length),b.setUint8(x++,s.length),b.setUint8(x++,o.length),b.setUint8(x++,u.length),b.setUint8(x++,d.length),b.setUint8(x++,r),Array.from(l,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(s,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(o,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(d,g=>b.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:f,payload:p};return o>0&&(b.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class t2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const hb=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=oT(o,e,t,i),a),{}):{}},oT=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?r2(a,o):em(o)},r2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cT(t,r)}switch(e){case Oe.bool:return sT(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return lT(t);case Oe.json:case Oe.jsonb:return uT(t);case Oe.timestamp:return dT(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return em(t);default:return em(t)}},em=e=>e,sT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>r2(t,s))}return e},dT=e=>typeof e=="string"?e.replace(" ","T"):e,n2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nh{constructor(t,r,n={},i=Qp){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pb||(pb={}));class ps{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ps.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const d=a[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),b=f.filter(w=>p.indexOf(w.presence_ref)<0),x=d.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(s[u]=b),x.length>0&&(l[u]=x)}else s[u]=f}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const f=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),f.length>0){const d=t[s].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,f,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const f=l.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mb||(mb={}));var ms;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ms||(ms={}));var Hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hr||(Hr={}));class ma{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nh(this,gr.join,this.params,this.timeout),this.rejoinTimer=new t2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new ps(this),this.broadcastEndpointURL=n2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[ms.PRESENCE]&&this.bindings[ms.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Hr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Hr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Hr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,g=[];for(let m=0;m<w;m++){const v=x[m],{filter:{event:S,schema:y,table:_,filter:j}}=v,O=p&&p[m];if(O&&O.event===S&&ma.isFilterValueEqual(O.schema,y)&&ma.isFilterValueEqual(O.table,_)&&ma.isFilterValueEqual(O.filter,j))g.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(Hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Hr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Je.errored,t==null||t(Hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Je.joined&&t===ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new nh(this,gr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nh(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:f}=gr;if(n&&[s,l,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var b,x,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var b,x,w,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,y=(b=p.filter)===null||b===void 0?void 0:b.event;return S&&((x=r.ids)===null||x===void 0?void 0:x.includes(S))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:x,table:w,commit_timestamp:g,type:m,errors:v}=b;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ma.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hb(t.columns,t.old_record)),r}}const ih=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fT=[1e3,2e3,5e3,1e4],hT=1e4,pT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mT{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qp,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ih,this.ref=0,this.reconnectTimer=null,this.vsn=fb,this.logger=ih,this.conn=null,this.sendBuffer=[],this.serializer=new aT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zp.websocket}`,this.httpEndpoint=n2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return ni.Connecting;case bn.open:return ni.Open;case bn.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ma(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bn.open||this.conn.readyState===bn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:tT};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(gr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new t2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,u,f,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Qp,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ou.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:ih,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:fb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>fT[b-1]||hT,this.vsn){case e2:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(b,x)=>x(JSON.stringify(b)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(b,x)=>x(JSON.parse(b));break;case rT:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ls=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gT(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function vT(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yT(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=gT(e.baseUrl,n,i),l=await vT(e.auth),u=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),f=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&f?JSON.parse(f):f;if(!u.ok){const p=d?h:void 0,b=p==null?void 0:p.error;throw new Ls((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function su(e){return e.join("")}var bT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:su(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(e.namespace)}`}),!0}catch(t){if(t instanceof Ls&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ls&&r.status===409)return;throw r}}};function Wi(e){return e.join("")}var xT=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ls&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ls&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},wT=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yT({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bT(this.client,t),this.tableOps=new xT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ud=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var _T=class extends Ud{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tm=class extends Ud{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Iv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ST=()=>Response,rm=e=>{if(Array.isArray(e))return e.map(r=>rm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=rm(n)}),t},jT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},OT=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function AT(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kT(e){var t=AT(e,"string");return Bs(t)=="symbol"?t:t+""}function ET(e,t,r){return(t=kT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){ET(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ah=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PT=async(e,t,r)=>{e instanceof await ST()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new _T(ah(n),i,a))}).catch(n=>{t(new tm(ah(n),n))}):t(new tm(ah(e),e))},NT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(jT(n)?(i.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),re(re({},i),r))};async function $l(e,t,r,n,i,a){return new Promise((o,s)=>{e(r,NT(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>PT(l,s,n))})}async function Us(e,t,r,n){return $l(e,"GET",t,r,n)}async function pr(e,t,r,n,i){return $l(e,"POST",t,n,i,r)}async function nm(e,t,r,n,i){return $l(e,"PUT",t,n,i,r)}async function TT(e,t,r,n){return $l(e,"HEAD",t,re(re({},r),{},{noResolveJson:!0}),n)}async function Rv(e,t,r,n,i){return $l(e,"DELETE",t,n,i,r)}var CT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};let i2;i2=Symbol.toStringTag;var $T=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[i2]="BlobDownloadBuilder",this.promise=null}asStream(){return new CT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};const MT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var IT=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Iv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const o=re(re({},vb),n);let s=re(re({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(s=re(re({},s),n.headers));const u=i._removeEmptyFolders(t),f=i._getFinalPath(u),d=await(e=="PUT"?nm:pr)(i.fetch,`${i.url}/object/${f}`,a,re({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set("token",t);try{let l;const u=re({upsert:vb.upsert},n),f=re(re({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType),{data:{path:a,fullPath:(await nm(i.fetch,s.toString(),l,{headers:f})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Me(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=re({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await pr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),s=o.searchParams.get("token");if(!s)throw new Ud("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await pr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await pr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await pr(n.fetch,`${n.url}/object/sign/${i}`,re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await pr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>re(re({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>Us(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new $T(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:rm(await Us(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await TT(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n)&&n instanceof tm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${s}`)}}}async remove(e){var t=this;try{return{data:await Rv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=re(re(re({},MT),t),{},{prefix:e||""});return{data:await pr(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=re({},e);return{data:await pr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const a2="2.89.0",o2={"X-Client-Info":`storage-js/${a2}`};var RT=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=re(re({},o2),t),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Us(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await pr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await nm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await pr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Rv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DT=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},o2),t),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await pr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Us(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Rv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!OT(e))throw new Ud("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new wT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Dv={"X-Client-Info":`storage-js/${a2}`,"Content-Type":"application/json"};var s2=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Dt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var oh=class extends s2{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},LT=class extends s2{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Lv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UT=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new oh(yb(a),n,o))}).catch(()=>{const a=n+"";t(new oh(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new oh(i.statusText||`HTTP ${n} error`,n,a))}}else t(new LT(yb(e),e))},zT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(BT(n)?(i.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,re(re({},i),r)):i};async function FT(e,t,r,n,i,a){return new Promise((o,s)=>{e(r,zT(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>UT(l,s,n))})}async function Lt(e,t,r,n,i){return FT(e,"POST",t,n,i,r)}var WT=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},Dv),t),this.fetch=Lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Lt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Lt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}},qT=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},Dv),t),this.fetch=Lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Lt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Lt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Lt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}},HT=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},Dv),t),this.fetch=Lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}},VT=class extends HT{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new KT(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},KT=class extends WT{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new GT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},GT=class extends qT{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,re(re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},XT=class extends RT{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new IT(this.url,this.headers,e,this.fetch)}get vectors(){return new VT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DT(this.url+"/iceberg",this.headers,this.fetch)}};const l2="2.89.0",ea=30*1e3,im=3,sh=im*ea,YT="http://localhost:9999",JT="supabase.auth.token",QT={"X-Client-Info":`gotrue-js/${l2}`},am="X-Supabase-Api-Version",u2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eC=10*60*1e3;class zs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tC extends zs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rC(e){return Z(e)&&e.name==="AuthApiError"}class ii extends zs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class dn extends zs{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class $t extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nC(e){return Z(e)&&e.name==="AuthSessionMissingError"}class qi extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lu extends dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uu extends dn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iC(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class bb extends dn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aC extends dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class om extends dn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lh(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class xb extends dn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sm extends dn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wb=` 	
\r=`.split(""),oC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wb.length;t+=1)e[wb[t].charCodeAt(0)]=-2;for(let t=0;t<bc.length;t+=1)e[bc[t].charCodeAt(0)]=t;return e})();function _b(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bc[n]),t.queuedBits-=6}}function c2(e,t,r){const n=oC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Sb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uC(o,n,r)};for(let o=0;o<e.length;o+=1)c2(e.charCodeAt(o),i,a);return t.join("")}function sC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}sC(n,t)}}function uC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Aa(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)c2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function cC(e){const t=[];return lC(e,r=>t.push(r)),new Uint8Array(t)}function ui(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>_b(i,r,n)),_b(null,r,n),t.join("")}function dC(e){return Math.round(Date.now()/1e3)+e}function fC(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},d2=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gn.tested)return Gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable};function hC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const f2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ta=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},st=async(e,t)=>{await e.removeItem(t)};class zd{constructor(){this.promise=new zd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zd.promiseConstructor=Promise;function uh(e){const t=e.split(".");if(t.length!==3)throw new sm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ZT.test(t[n]))throw new sm("JWT not in base64url format");return{header:JSON.parse(Sb(t[0])),payload:JSON.parse(Sb(t[1])),signature:Aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function mC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gC(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function vC(e){return("0"+e.toString(16)).substr(-2)}function yC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,vC).join("")}async function bC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function xC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(e,t,r=!1){const n=yC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ta(e,`${t}-code-verifier`,i);const a=await xC(n);return[a,n===a?"plain":"s256"]}const wC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _C(e){const t=e.headers.get(am);if(!t||!t.match(wC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vi(e){if(!OC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ch(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AC(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function jb(e){return JSON.parse(JSON.stringify(e))}const Zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kC=[502,503,504];async function Ob(e){var t;if(!pC(e))throw new om(Zn(e),0);if(kC.includes(e.status))throw new om(Zn(e),e.status);let r;try{r=await e.json()}catch(a){throw new ii(Zn(a),a)}let n;const i=_C(e);if(i&&i.getTime()>=u2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xb(Zn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xb(Zn(r),e.status,r.weak_password.reasons);throw new tC(Zn(r),e.status||500,n)}const EC=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function te(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[am]||(a[am]=u2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await PC(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function PC(e,t,r,n,i,a){const o=EC(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new om(Zn(l),0)}if(s.ok||await Ob(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Ob(l)}}function fr(e){var t;let r=null;CC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ab(e){const t=fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NC(e){return{data:e,error:null}}function TC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Bd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function kb(e){return e}function CC(e){return e.access_token&&e.refresh_token&&e.expires_in}const dh=["global","local","others"];class $C{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=f2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=dh[0]){if(dh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Bd(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},f=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kb});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vi(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vi(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vi(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vi(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vi(t.userId),Vi(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},f=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kb});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function Eb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ki={debug:!!(globalThis&&d2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MC extends h2{}async function IC(e,t,r){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ki.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function RC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function DC(e){return parseInt(e,16)}function LC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function BC(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=p2(e.address),b=f?`${f}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${x}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}g+=m}return`${w}
${g}`}class Ve extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class xc extends Ve{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function UC({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(m2(o)){if(a.rp.id!==o)return new Ve({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zC({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(m2(n)){if(r.rpId!==n)return new Ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class FC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const WC=new FC;function qC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Bd(e,["challenge","user","excludeCredentials"]),a=Aa(t).buffer,o=Object.assign(Object.assign({},r),{id:Aa(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Aa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function HC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Bd(e,["challenge","allowCredentials"]),i=Aa(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Aa(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function VC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ui(new Uint8Array(e.response.attestationObject)),clientDataJSON:ui(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ui(new Uint8Array(i.authenticatorData)),clientDataJSON:ui(new Uint8Array(i.clientDataJSON)),signature:ui(new Uint8Array(i.signature)),userHandle:i.userHandle?ui(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function m2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pb(){var e,t;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function GC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",t)}:{data:null,error:new xc("Empty credential response",t)}}catch(t){return{data:null,error:UC({error:t,options:e})}}}async function XC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",t)}:{data:null,error:new xc("Empty credential response",t)}}catch(t){return{data:null,error:zC({error:t,options:e})}}}const YC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=wc(s,o):n[a]=wc(o)}else n[a]=o}return n}function QC(e,t){return wc(YC,e,t||{})}function ZC(e,t){return wc(JC,e,t||{})}class e${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??WC.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=QC(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:d}=await GC({publicKey:u,signal:l});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=ZC(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:d}=await XC(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!Pb())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!Pb())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Z(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}RC();const t$={url:YT,storageKey:JT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Nb(e,t,r){return await r()}const Gi={};class Fs{get jwks(){var t,r;return(r=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},t$),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Fs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&lt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $C({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=f2(a.fetch),this.lock=a.lock||Nb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=IC:this.lock=Nb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new e$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:d2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${l2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(lt()&&(r=hC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),lt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iC(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?this._returnResult({error:r}):this._returnResult({error:new ii("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:fr}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(Z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Hi(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:fr})}else if("phone"in t){const{phone:f,password:d,options:h}=t;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fr})}else throw new lu("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ab})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ab})}else throw new lu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new qi;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,u,f,d,h;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:g,options:m}=t;let v;if(lt())if(typeof w=="object")v=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),y=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=p2(y[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await v.request({method:"eth_chainId"});j=DC(A)}const O={domain:S.host,address:_,statement:g,uri:S.href,version:"1",chainId:j,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=m==null?void 0:m.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=BC(O),b=await v.request({method:"personal_sign",params:[LC(p),_]})}try{const{data:x,error:w}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:fr});if(w)throw w;if(!x||!x.session||!x.user){const g=new qi;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(Z(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,a,o,s,l,u,f,d,h,p;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:m,options:v}=t;let S;if(lt())if(typeof g=="object")S=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const y=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${y.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(f=v==null?void 0:v.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:w,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ui(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:fr});if(g)throw g;if(!w||!w.session||!w.user){const m=new qi;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(Z(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Xn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new aC;const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fr});if(await st(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new qi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fr}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const f=new qi;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Hi(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new lu("You must provide either an email or phone number.")}catch(s){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:fr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Hi(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:NC});return!((a=u.data)===null||a===void 0)&&a.url&&lt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $t;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new lu("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Xn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ch()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=AC(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sn}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Sn})})}catch(r){if(Z(r))return nC(r)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new $t;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Hi(this.storage,this.storageKey));const{data:u,error:f}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Sn});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=uh(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!lt())throw new uu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bb("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!a||!s||!o||!u)throw new uu("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(s);let h=f+d;l&&(h=parseInt(l));const p=h-f;p*1e3<=ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const b=h-d;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,f);const{data:x,error:w}=await this._getUser(a);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(Z(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(rC(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=fC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Hi(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,f;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Z(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:f}=t,d=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fr}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new qi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gC(async i=>(i>0&&await mC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&lh(a)&&Date.now()+o-n<ea})}catch(n){if(this._debug(r,"error",n),Z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Xn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ta(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ch()}else if(i&&!i.user&&!i.user){const o=await Xn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await st(this.storage,this.storageKey+"-user"),await ta(this.storage,this.storageKey,i)):i.user=ch()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${sh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Z(a)){const o={data:null,error:a};return lh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ta(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=jb(i);await ta(this.storage,this.storageKey,a)}else{const i=jb(r);await ta(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ea);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ea}ms, refresh threshold is ${im} ticks`),i<=im&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof h2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Hi(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?VC(t.webauthn.credential_response):KC(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qC(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:HC(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uh(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $t});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $t});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $t})})}catch(t){if(Z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+eC>i)return n;const{data:a,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=uh(n);r!=null&&r.allowExpired||SC(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const f=jC(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,cC(`${s}.${l}`)))throw new sm("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}}Fs.nextInstanceID={};const r$=Fs,n$="2.89.0";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const i$={"X-Client-Info":`supabase-js-${ns}/${n$}`},a$={headers:i$},o$={schema:"public"},s$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l$={};function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function u$(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$(e){var t=u$(e,"string");return Ws(t)=="symbol"?t:t+""}function d$(e,t,r){return(t=c$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){d$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const f$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),h$=()=>Headers,p$=(e,t,r)=>{const n=f$(r),i=h$();return async(a,o)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Ue(Ue({},o),{},{headers:u}))}};function m$(e){return e.endsWith("/")?e:e+"/"}function g$(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:u,realtime:f,global:d}=t,h={db:Ue(Ue({},l),i),auth:Ue(Ue({},u),a),realtime:Ue(Ue({},f),o),storage:{},global:Ue(Ue(Ue({},d),s),{},{headers:Ue(Ue({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function v$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var y$=class extends r${constructor(e){super(e)}},b$=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=v$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:o$,realtime:l$,auth:Ue(Ue({},s$),{},{storageKey:o}),global:a$},l=g$(r??{},s);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=p$(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new QN(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new XT(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new KN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l,throwOnError:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y$({url:this.authUrl.href,headers:Ue(Ue({},h),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mT(this.realtimeUrl.href,Ue(Ue({},e),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g2=(e,t,r)=>new b$(e,t,r);function x$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}x$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const w$="https://llfwrwyqaswehksgvcyr.supabase.co",_$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZndyd3lxYXN3ZWhrc2d2Y3lyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NjUyNjkxNiwiZXhwIjoyMDgyMTAyOTE2fQ.83D6r6kXCtty8Zp6_Ndwg3w1YC9Gi3oc1l9bI_qnU5k",yi=g2(w$,_$);async function S$(){var o,s,l,u,f,d;const[e,t,r]=await Promise.all([yi.from("leads").select("id, status"),yi.from("conversations").select("id, status"),yi.from("messages").select("id, role")]),n=((o=t.data)==null?void 0:o.filter(h=>h.status==="active").length)||0,i=((s=e.data)==null?void 0:s.filter(h=>h.status==="new").length)||0,a=((l=e.data)==null?void 0:l.filter(h=>h.status==="qualified").length)||0;return{totalLeads:((u=e.data)==null?void 0:u.length)||0,totalConversations:((f=t.data)==null?void 0:f.length)||0,totalMessages:((d=r.data)==null?void 0:d.length)||0,activeConversations:n,newLeads:i,qualifiedLeads:a}}async function j$(e=20){const{data:t,error:r}=await yi.from("conversations").select("*").order("updated_at",{ascending:!1}).limit(e);if(r)throw r;return t}async function O$(e=50){const{data:t,error:r}=await yi.from("leads").select("*").order("updated_at",{ascending:!1}).limit(e);if(r)throw r;return t}function A$(e){return yi.channel("conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},e).subscribe()}function k$(e){return yi.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},e).subscribe()}function v2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=v2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=v2(e))&&(n&&(n+=" "),n+=t);return n}var E$=Array.isArray,Ct=E$,P$=typeof Fl=="object"&&Fl&&Fl.Object===Object&&Fl,y2=P$,N$=y2,T$=typeof self=="object"&&self&&self.Object===Object&&self,C$=N$||T$||Function("return this")(),Ur=C$,$$=Ur,M$=$$.Symbol,Ml=M$,Cb=Ml,b2=Object.prototype,I$=b2.hasOwnProperty,R$=b2.toString,Do=Cb?Cb.toStringTag:void 0;function D$(e){var t=I$.call(e,Do),r=e[Do];try{e[Do]=void 0;var n=!0}catch{}var i=R$.call(e);return n&&(t?e[Do]=r:delete e[Do]),i}var L$=D$,B$=Object.prototype,U$=B$.toString;function z$(e){return U$.call(e)}var F$=z$,$b=Ml,W$=L$,q$=F$,H$="[object Null]",V$="[object Undefined]",Mb=$b?$b.toStringTag:void 0;function K$(e){return e==null?e===void 0?V$:H$:Mb&&Mb in Object(e)?W$(e):q$(e)}var fn=K$;function G$(e){return e!=null&&typeof e=="object"}var hn=G$,X$=fn,Y$=hn,J$="[object Symbol]";function Q$(e){return typeof e=="symbol"||Y$(e)&&X$(e)==J$}var mo=Q$,Z$=Ct,e5=mo,t5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r5=/^\w*$/;function n5(e,t){if(Z$(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||e5(e)?!0:r5.test(e)||!t5.test(e)||t!=null&&e in Object(t)}var Bv=n5;function i5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wn=i5;const go=_e(Wn);var a5=fn,o5=Wn,s5="[object AsyncFunction]",l5="[object Function]",u5="[object GeneratorFunction]",c5="[object Proxy]";function d5(e){if(!o5(e))return!1;var t=a5(e);return t==l5||t==u5||t==s5||t==c5}var Uv=d5;const le=_e(Uv);var f5=Ur,h5=f5["__core-js_shared__"],p5=h5,fh=p5,Ib=function(){var e=/[^.]+$/.exec(fh&&fh.keys&&fh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function m5(e){return!!Ib&&Ib in e}var g5=m5,v5=Function.prototype,y5=v5.toString;function b5(e){if(e!=null){try{return y5.call(e)}catch{}try{return e+""}catch{}}return""}var x2=b5,x5=Uv,w5=g5,_5=Wn,S5=x2,j5=/[\\^$.*+?()[\]{}|]/g,O5=/^\[object .+?Constructor\]$/,A5=Function.prototype,k5=Object.prototype,E5=A5.toString,P5=k5.hasOwnProperty,N5=RegExp("^"+E5.call(P5).replace(j5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T5(e){if(!_5(e)||w5(e))return!1;var t=x5(e)?N5:O5;return t.test(S5(e))}var C5=T5;function $5(e,t){return e==null?void 0:e[t]}var M5=$5,I5=C5,R5=M5;function D5(e,t){var r=R5(e,t);return I5(r)?r:void 0}var $i=D5,L5=$i,B5=L5(Object,"create"),Fd=B5,Rb=Fd;function U5(){this.__data__=Rb?Rb(null):{},this.size=0}var z5=U5;function F5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var W5=F5,q5=Fd,H5="__lodash_hash_undefined__",V5=Object.prototype,K5=V5.hasOwnProperty;function G5(e){var t=this.__data__;if(q5){var r=t[e];return r===H5?void 0:r}return K5.call(t,e)?t[e]:void 0}var X5=G5,Y5=Fd,J5=Object.prototype,Q5=J5.hasOwnProperty;function Z5(e){var t=this.__data__;return Y5?t[e]!==void 0:Q5.call(t,e)}var eM=Z5,tM=Fd,rM="__lodash_hash_undefined__";function nM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tM&&t===void 0?rM:t,this}var iM=nM,aM=z5,oM=W5,sM=X5,lM=eM,uM=iM;function vo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vo.prototype.clear=aM;vo.prototype.delete=oM;vo.prototype.get=sM;vo.prototype.has=lM;vo.prototype.set=uM;var cM=vo;function dM(){this.__data__=[],this.size=0}var fM=dM;function hM(e,t){return e===t||e!==e&&t!==t}var zv=hM,pM=zv;function mM(e,t){for(var r=e.length;r--;)if(pM(e[r][0],t))return r;return-1}var Wd=mM,gM=Wd,vM=Array.prototype,yM=vM.splice;function bM(e){var t=this.__data__,r=gM(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yM.call(t,r,1),--this.size,!0}var xM=bM,wM=Wd;function _M(e){var t=this.__data__,r=wM(t,e);return r<0?void 0:t[r][1]}var SM=_M,jM=Wd;function OM(e){return jM(this.__data__,e)>-1}var AM=OM,kM=Wd;function EM(e,t){var r=this.__data__,n=kM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var PM=EM,NM=fM,TM=xM,CM=SM,$M=AM,MM=PM;function yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yo.prototype.clear=NM;yo.prototype.delete=TM;yo.prototype.get=CM;yo.prototype.has=$M;yo.prototype.set=MM;var qd=yo,IM=$i,RM=Ur,DM=IM(RM,"Map"),Fv=DM,Db=cM,LM=qd,BM=Fv;function UM(){this.size=0,this.__data__={hash:new Db,map:new(BM||LM),string:new Db}}var zM=UM;function FM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WM=FM,qM=WM;function HM(e,t){var r=e.__data__;return qM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Hd=HM,VM=Hd;function KM(e){var t=VM(this,e).delete(e);return this.size-=t?1:0,t}var GM=KM,XM=Hd;function YM(e){return XM(this,e).get(e)}var JM=YM,QM=Hd;function ZM(e){return QM(this,e).has(e)}var eI=ZM,tI=Hd;function rI(e,t){var r=tI(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nI=rI,iI=zM,aI=GM,oI=JM,sI=eI,lI=nI;function bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bo.prototype.clear=iI;bo.prototype.delete=aI;bo.prototype.get=oI;bo.prototype.has=sI;bo.prototype.set=lI;var Wv=bo,w2=Wv,uI="Expected a function";function qv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uI);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(qv.Cache||w2),r}qv.Cache=w2;var _2=qv;const cI=_e(_2);var dI=_2,fI=500;function hI(e){var t=dI(e,function(n){return r.size===fI&&r.clear(),n}),r=t.cache;return t}var pI=hI,mI=pI,gI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vI=/\\(\\)?/g,yI=mI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gI,function(r,n,i,a){t.push(i?a.replace(vI,"$1"):n||r)}),t}),bI=yI;function xI(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Hv=xI,Lb=Ml,wI=Hv,_I=Ct,SI=mo,Bb=Lb?Lb.prototype:void 0,Ub=Bb?Bb.toString:void 0;function S2(e){if(typeof e=="string")return e;if(_I(e))return wI(e,S2)+"";if(SI(e))return Ub?Ub.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var jI=S2,OI=jI;function AI(e){return e==null?"":OI(e)}var j2=AI,kI=Ct,EI=Bv,PI=bI,NI=j2;function TI(e,t){return kI(e)?e:EI(e,t)?[e]:PI(NI(e))}var O2=TI,CI=mo;function $I(e){if(typeof e=="string"||CI(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Vd=$I,MI=O2,II=Vd;function RI(e,t){t=MI(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[II(t[r++])];return r&&r==n?e:void 0}var Vv=RI,DI=Vv;function LI(e,t,r){var n=e==null?void 0:DI(e,t);return n===void 0?r:n}var A2=LI;const ir=_e(A2);function BI(e){return e==null}var UI=BI;const de=_e(UI);var zI=fn,FI=Ct,WI=hn,qI="[object String]";function HI(e){return typeof e=="string"||!FI(e)&&WI(e)&&zI(e)==qI}var VI=HI;const ki=_e(VI);var k2={exports:{}},be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=Symbol.for("react.element"),Gv=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),Yd=Symbol.for("react.provider"),Jd=Symbol.for("react.context"),KI=Symbol.for("react.server_context"),Qd=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),tf=Symbol.for("react.memo"),rf=Symbol.for("react.lazy"),GI=Symbol.for("react.offscreen"),E2;E2=Symbol.for("react.module.reference");function lr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Kv:switch(e=e.type,e){case Kd:case Xd:case Gd:case Zd:case ef:return e;default:switch(e=e&&e.$$typeof,e){case KI:case Jd:case Qd:case rf:case tf:case Yd:return e;default:return t}}case Gv:return t}}}be.ContextConsumer=Jd;be.ContextProvider=Yd;be.Element=Kv;be.ForwardRef=Qd;be.Fragment=Kd;be.Lazy=rf;be.Memo=tf;be.Portal=Gv;be.Profiler=Xd;be.StrictMode=Gd;be.Suspense=Zd;be.SuspenseList=ef;be.isAsyncMode=function(){return!1};be.isConcurrentMode=function(){return!1};be.isContextConsumer=function(e){return lr(e)===Jd};be.isContextProvider=function(e){return lr(e)===Yd};be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kv};be.isForwardRef=function(e){return lr(e)===Qd};be.isFragment=function(e){return lr(e)===Kd};be.isLazy=function(e){return lr(e)===rf};be.isMemo=function(e){return lr(e)===tf};be.isPortal=function(e){return lr(e)===Gv};be.isProfiler=function(e){return lr(e)===Xd};be.isStrictMode=function(e){return lr(e)===Gd};be.isSuspense=function(e){return lr(e)===Zd};be.isSuspenseList=function(e){return lr(e)===ef};be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kd||e===Xd||e===Gd||e===Zd||e===ef||e===GI||typeof e=="object"&&e!==null&&(e.$$typeof===rf||e.$$typeof===tf||e.$$typeof===Yd||e.$$typeof===Jd||e.$$typeof===Qd||e.$$typeof===E2||e.getModuleId!==void 0)};be.typeOf=lr;k2.exports=be;var XI=k2.exports,YI=fn,JI=hn,QI="[object Number]";function ZI(e){return typeof e=="number"||JI(e)&&YI(e)==QI}var P2=ZI;const e4=_e(P2);var t4=P2;function r4(e){return t4(e)&&e!=+e}var n4=r4;const xo=_e(n4);var _r=function(t){return t===0?0:t>0?1:-1},ci=function(t){return ki(t)&&t.indexOf("%")===t.length-1},K=function(t){return e4(t)&&!xo(t)},i4=function(t){return de(t)},et=function(t){return K(t)||ki(t)},a4=0,Il=function(t){var r=++a4;return"".concat(t||"").concat(r)},Ei=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(t)&&!ki(t))return n;var a;if(ci(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return xo(a)&&(a=n),i&&a>r&&(a=r),a},ra=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},o4=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Zt=function(t,r){return K(t)&&K(r)?function(n){return t+n*(r-t)}:function(){return r}};function _c(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ir(n,t))===r})}var s4=function(t,r){return K(t)&&K(r)?t-r:ki(t)&&ki(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ka(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}var l4=["viewBox","children"],u4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zb=["points","pathLength"],hh={svg:l4,polygon:zb,polyline:zb},Xv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sc=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!go(n))return null;var i={};return Object.keys(n).forEach(function(a){Xv.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},c4=function(t,r,n){return function(i){return t(r,n,i),null}},jc=function(t,r,n){if(!go(t)||lm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];Xv.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=c4(o,r,n))}),i},d4=["children"],f4=["children"];function Fb(e,t){if(e==null)return{};var r=h4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}var Wb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},qb=null,ph=null,Yv=function e(t){if(t===qb&&Array.isArray(ph))return ph;var r=[];return k.Children.forEach(t,function(n){de(n)||(XI.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ph=r,qb=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Zr(i)}):n=[Zr(t)],Yv(e).forEach(function(i){var a=ir(i,"type.displayName")||ir(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Rt(e,t){var r=Or(e,t);return r&&r[0]}var Hb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!K(n)||n<=0||!K(i)||i<=0)},p4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m4=function(t){return t&&t.type&&ki(t.type)&&p4.indexOf(t.type)>=0},g4=function(t){return t&&um(t)==="object"&&"clipDot"in t},v4=function(t,r,n,i){var a,o=(a=hh==null?void 0:hh[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!le(t)&&(i&&o.includes(r)||u4.includes(r))||n&&Xv.includes(r)},ce=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!go(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;v4((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},cm=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Vb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Vb(a,o))return!1}return!0},Vb=function(t,r){if(de(t)&&de(r))return!0;if(!de(t)&&!de(r)){var n=t.props||{},i=n.children,a=Fb(n,d4),o=r.props||{},s=o.children,l=Fb(o,f4);return i&&s?ka(a,l)&&cm(i,s):!i&&!s?ka(a,l):!1}return!1},Kb=function(t,r){var n=[],i={};return Yv(t).forEach(function(a,o){if(m4(a))n.push(a);else if(a){var s=Zr(a.type),l=r[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var d=u(a,s,o);n.push(d),i[s]=!0}}}),n},y4=function(t){var r=t&&t.type;return r&&Wb[r]?Wb[r]:null},b4=function(t,r){return Yv(r).indexOf(t)},x4=["children","width","height","viewBox","className","style","title","desc"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function w4(e,t){if(e==null)return{};var r=_4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fm(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,u=w4(e,x4),f=i||{width:r,height:n,x:0,y:0},d=me("recharts-surface",a);return $.createElement("svg",dm({},ce(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),t)}var S4=["children","className"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r=O4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Re=$.forwardRef(function(e,t){var r=e.children,n=e.className,i=j4(e,S4),a=me("recharts-layer",n);return $.createElement("g",hm({className:a},ce(i,!0),{ref:t}),r)}),bi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function A4(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var k4=A4,E4=k4;function P4(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:E4(e,t,r)}var N4=P4,T4="\\ud800-\\udfff",C4="\\u0300-\\u036f",$4="\\ufe20-\\ufe2f",M4="\\u20d0-\\u20ff",I4=C4+$4+M4,R4="\\ufe0e\\ufe0f",D4="\\u200d",L4=RegExp("["+D4+T4+I4+R4+"]");function B4(e){return L4.test(e)}var N2=B4;function U4(e){return e.split("")}var z4=U4,T2="\\ud800-\\udfff",F4="\\u0300-\\u036f",W4="\\ufe20-\\ufe2f",q4="\\u20d0-\\u20ff",H4=F4+W4+q4,V4="\\ufe0e\\ufe0f",K4="["+T2+"]",pm="["+H4+"]",mm="\\ud83c[\\udffb-\\udfff]",G4="(?:"+pm+"|"+mm+")",C2="[^"+T2+"]",$2="(?:\\ud83c[\\udde6-\\uddff]){2}",M2="[\\ud800-\\udbff][\\udc00-\\udfff]",X4="\\u200d",I2=G4+"?",R2="["+V4+"]?",Y4="(?:"+X4+"(?:"+[C2,$2,M2].join("|")+")"+R2+I2+")*",J4=R2+I2+Y4,Q4="(?:"+[C2+pm+"?",pm,$2,M2,K4].join("|")+")",Z4=RegExp(mm+"(?="+mm+")|"+Q4+J4,"g");function eR(e){return e.match(Z4)||[]}var tR=eR,rR=z4,nR=N2,iR=tR;function aR(e){return nR(e)?iR(e):rR(e)}var oR=aR,sR=N4,lR=N2,uR=oR,cR=j2;function dR(e){return function(t){t=cR(t);var r=lR(t)?uR(t):void 0,n=r?r[0]:t.charAt(0),i=r?sR(r,1).join(""):t.slice(1);return n[e]()+i}}var fR=dR,hR=fR,pR=hR("toUpperCase"),mR=pR;const nf=_e(mR);function Ae(e){return function(){return e}}const D2=Math.cos,Oc=Math.sin,kr=Math.sqrt,Ac=Math.PI,af=2*Ac,gm=Math.PI,vm=2*gm,ei=1e-6,gR=vm-ei;function L2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return L2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?L2:vR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,f=o-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ei)if(!(Math.abs(d*l-u*f)>ei)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,b=i-s,x=l*l+u*u,w=p*p+b*b,g=Math.sqrt(x),m=Math.sqrt(h),v=a*Math.tan((gm-Math.acos((x+h-w)/(2*g*m)))/2),S=v/m,y=v/g;Math.abs(S-1)>ei&&this._append`L${t+S*f},${r+S*d}`,this._append`A${a},${a},0,0,${+(d*p>f*b)},${this._x1=t+y*l},${this._y1=r+y*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,f=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ei||Math.abs(this._y1-f)>ei)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%vm+vm),h>gR?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>ei&&this._append`A${n},${n},0,${+(h>=gm)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Jv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yR(t)}function Qv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B2(e){this._context=e}B2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function of(e){return new B2(e)}function U2(e){return e[0]}function z2(e){return e[1]}function F2(e,t){var r=Ae(!0),n=null,i=of,a=null,o=Jv(s);e=typeof e=="function"?e:e===void 0?U2:Ae(e),t=typeof t=="function"?t:t===void 0?z2:Ae(t);function s(l){var u,f=(l=Qv(l)).length,d,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&r(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,l),+t(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ae(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ae(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ae(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function cu(e,t,r){var n=null,i=Ae(!0),a=null,o=of,s=null,l=Jv(u);e=typeof e=="function"?e:e===void 0?U2:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?z2:Ae(+r);function u(d){var h,p,b,x=(d=Qv(d)).length,w,g=!1,m,v=new Array(x),S=new Array(x);for(a==null&&(s=o(m=l())),h=0;h<=x;++h){if(!(h<x&&i(w=d[h],h,d))===g)if(g=!g)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=h-1;b>=p;--b)s.point(v[b],S[b]);s.lineEnd(),s.areaEnd()}g&&(v[h]=+e(w,h,d),S[h]=+t(w,h,d),s.point(n?+n(w,h,d):v[h],r?+r(w,h,d):S[h]))}if(m)return s=null,m+""||null}function f(){return F2().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ae(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ae(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ae(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ae(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ae(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ae(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ae(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class W2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bR(e){return new W2(e,!0)}function xR(e){return new W2(e,!1)}const Zv={draw(e,t){const r=kr(t/Ac);e.moveTo(r,0),e.arc(0,0,r,0,af)}},wR={draw(e,t){const r=kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},q2=kr(1/3),_R=q2*2,SR={draw(e,t){const r=kr(t/_R),n=r*q2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jR={draw(e,t){const r=kr(t),n=-r/2;e.rect(n,n,r,r)}},OR=.8908130915292852,H2=Oc(Ac/10)/Oc(7*Ac/10),AR=Oc(af/10)*H2,kR=-D2(af/10)*H2,ER={draw(e,t){const r=kr(t*OR),n=AR*r,i=kR*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=af*a/5,s=D2(o),l=Oc(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},mh=kr(3),PR={draw(e,t){const r=-kr(t/(mh*3));e.moveTo(0,r*2),e.lineTo(-mh*r,-r),e.lineTo(mh*r,-r),e.closePath()}},Vt=-.5,Kt=kr(3)/2,ym=1/kr(12),NR=(ym/2+1)*3,TR={draw(e,t){const r=kr(t/NR),n=r/2,i=r*ym,a=n,o=r*ym+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Vt*n-Kt*i,Kt*n+Vt*i),e.lineTo(Vt*a-Kt*o,Kt*a+Vt*o),e.lineTo(Vt*s-Kt*l,Kt*s+Vt*l),e.lineTo(Vt*n+Kt*i,Vt*i-Kt*n),e.lineTo(Vt*a+Kt*o,Vt*o-Kt*a),e.lineTo(Vt*s+Kt*l,Vt*l-Kt*s),e.closePath()}};function CR(e,t){let r=null,n=Jv(i);e=typeof e=="function"?e:Ae(e||Zv),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ae(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ae(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function kc(){}function Ec(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function V2(e){this._context=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ec(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $R(e){return new V2(e)}function K2(e){this._context=e}K2.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MR(e){return new K2(e)}function G2(e){this._context=e}G2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IR(e){return new G2(e)}function X2(e){this._context=e}X2.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RR(e){return new X2(e)}function Gb(e){return e<0?-1:1}function Xb(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Gb(a)+Gb(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Yb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Pc(e){this._context=e}Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gh(this,this._t0,Yb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gh(this,Yb(this,r=Xb(this,e,t)),r);break;default:gh(this,this._t0,r=Xb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Y2(e){this._context=new J2(e)}(Y2.prototype=Object.create(Pc.prototype)).point=function(e,t){Pc.prototype.point.call(this,t,e)};function J2(e){this._context=e}J2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function DR(e){return new Pc(e)}function LR(e){return new Y2(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jb(e),i=Jb(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jb(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function BR(e){return new Q2(e)}function sf(e,t){this._context=e,this._t=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UR(e){return new sf(e,.5)}function zR(e){return new sf(e,0)}function FR(e){return new sf(e,1)}function Ua(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function bm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function WR(e,t){return e[t]}function qR(e){const t=[];return t.key=e,t}function HR(){var e=Ae([]),t=bm,r=Ua,n=WR;function i(a){var o=Array.from(e.apply(this,arguments),qR),s,l=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,f=Qv(t(o));s<l;++s)o[f[s]].index=s;return r(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ae(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ae(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?bm:typeof a=="function"?a:Ae(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ua,i):r},i}function VR(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ua(e,t)}}function KR(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ua(e,t)}}function GR(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,b=0;b<s;++b){var x=e[t[b]],w=x[n][1]||0,g=x[n-1][1]||0;p+=w-g}l+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ua(e,t)}}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}var XR=["type","size","sizeType"];function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){YR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YR(e,t,r){return t=JR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JR(e){var t=QR(e,"string");return qs(t)=="symbol"?t:t+""}function QR(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(e,t){if(e==null)return{};var r=e3(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Z2={symbolCircle:Zv,symbolCross:wR,symbolDiamond:SR,symbolSquare:jR,symbolStar:ER,symbolTriangle:PR,symbolWye:TR},t3=Math.PI/180,r3=function(t){var r="symbol".concat(nf(t));return Z2[r]||Zv},n3=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*t3;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},i3=function(t,r){Z2["symbol".concat(nf(t))]=r},ey=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=ZR(t,XR),u=Zb(Zb({},l),{},{type:n,size:a,sizeType:s}),f=function(){var w=r3(n),g=CR().type(w).size(n3(a,s,n));return g()},d=u.className,h=u.cx,p=u.cy,b=ce(u,!0);return h===+h&&p===+p&&a===+a?$.createElement("path",xm({},b,{className:me("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};ey.registerSymbol=i3;function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(n){Hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tO(n.key),n)}}function l3(e,t,r){return t&&s3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u3(e,t,r){return t=Nc(t),c3(e,eO()?Reflect.construct(t,r||[],Nc(e).constructor):t.apply(e,r))}function c3(e,t){if(t&&(za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3(e)}function d3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nc(e)}function f3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_m(e,t)}function _m(e,t){return _m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_m(e,t)}function Hs(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=h3(e,"string");return za(t)=="symbol"?t:t+""}function h3(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gt=32,ty=function(e){function t(){return o3(this,t),u3(this,t,arguments)}return f3(t,e),l3(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Gt/2,o=Gt/6,s=Gt/3,l=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Gt,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Gt,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Gt/8,"h").concat(Gt,"v").concat(Gt*3/4,"h").concat(-Gt,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=a3({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(ey,{fill:l,cx:a,cy:a,size:Gt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Gt,height:Gt},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,b){var x=p.formatter||l,w=me(Hs(Hs({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=le(p.value)?null:p.value;bi(!le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var m=p.inactive?u:p.color;return $.createElement("li",wm({className:w,style:d,key:"legend-item-".concat(b)},jc(n.props,p,b)),$.createElement(fm,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},x?x(g,p,b):g))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(k.PureComponent);Hs(ty,"displayName","Legend");Hs(ty,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var p3=qd;function m3(){this.__data__=new p3,this.size=0}var g3=m3;function v3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var y3=v3;function b3(e){return this.__data__.get(e)}var x3=b3;function w3(e){return this.__data__.has(e)}var _3=w3,S3=qd,j3=Fv,O3=Wv,A3=200;function k3(e,t){var r=this.__data__;if(r instanceof S3){var n=r.__data__;if(!j3||n.length<A3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new O3(n)}return r.set(e,t),this.size=r.size,this}var E3=k3,P3=qd,N3=g3,T3=y3,C3=x3,$3=_3,M3=E3;function wo(e){var t=this.__data__=new P3(e);this.size=t.size}wo.prototype.clear=N3;wo.prototype.delete=T3;wo.prototype.get=C3;wo.prototype.has=$3;wo.prototype.set=M3;var rO=wo,I3="__lodash_hash_undefined__";function R3(e){return this.__data__.set(e,I3),this}var D3=R3;function L3(e){return this.__data__.has(e)}var B3=L3,U3=Wv,z3=D3,F3=B3;function Tc(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new U3;++t<r;)this.add(e[t])}Tc.prototype.add=Tc.prototype.push=z3;Tc.prototype.has=F3;var nO=Tc;function W3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var iO=W3;function q3(e,t){return e.has(t)}var aO=q3,H3=nO,V3=iO,K3=aO,G3=1,X3=2;function Y3(e,t,r,n,i,a){var o=r&G3,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&X3?new H3:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var b=e[d],x=t[d];if(n)var w=o?n(x,b,d,t,e,a):n(b,x,d,e,t,a);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!V3(t,function(g,m){if(!K3(p,m)&&(b===g||i(b,g,r,n,a)))return p.push(m)})){h=!1;break}}else if(!(b===x||i(b,x,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var oO=Y3,J3=Ur,Q3=J3.Uint8Array,Z3=Q3;function eD(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var tD=eD;function rD(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ry=rD,tx=Ml,rx=Z3,nD=zv,iD=oO,aD=tD,oD=ry,sD=1,lD=2,uD="[object Boolean]",cD="[object Date]",dD="[object Error]",fD="[object Map]",hD="[object Number]",pD="[object RegExp]",mD="[object Set]",gD="[object String]",vD="[object Symbol]",yD="[object ArrayBuffer]",bD="[object DataView]",nx=tx?tx.prototype:void 0,vh=nx?nx.valueOf:void 0;function xD(e,t,r,n,i,a,o){switch(r){case bD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yD:return!(e.byteLength!=t.byteLength||!a(new rx(e),new rx(t)));case uD:case cD:case hD:return nD(+e,+t);case dD:return e.name==t.name&&e.message==t.message;case pD:case gD:return e==t+"";case fD:var s=aD;case mD:var l=n&sD;if(s||(s=oD),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=lD,o.set(e,t);var f=iD(s(e),s(t),n,i,a,o);return o.delete(e),f;case vD:if(vh)return vh.call(e)==vh.call(t)}return!1}var wD=xD;function _D(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var sO=_D,SD=sO,jD=Ct;function OD(e,t,r){var n=t(e);return jD(e)?n:SD(n,r(e))}var AD=OD;function kD(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var ED=kD;function PD(){return[]}var ND=PD,TD=ED,CD=ND,$D=Object.prototype,MD=$D.propertyIsEnumerable,ix=Object.getOwnPropertySymbols,ID=ix?function(e){return e==null?[]:(e=Object(e),TD(ix(e),function(t){return MD.call(e,t)}))}:CD,RD=ID;function DD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var LD=DD,BD=fn,UD=hn,zD="[object Arguments]";function FD(e){return UD(e)&&BD(e)==zD}var WD=FD,ax=WD,qD=hn,lO=Object.prototype,HD=lO.hasOwnProperty,VD=lO.propertyIsEnumerable,KD=ax(function(){return arguments}())?ax:function(e){return qD(e)&&HD.call(e,"callee")&&!VD.call(e,"callee")},ny=KD,Cc={exports:{}};function GD(){return!1}var XD=GD;Cc.exports;(function(e,t){var r=Ur,n=XD,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(Cc,Cc.exports);var uO=Cc.exports,YD=9007199254740991,JD=/^(?:0|[1-9]\d*)$/;function QD(e,t){var r=typeof e;return t=t??YD,!!t&&(r=="number"||r!="symbol"&&JD.test(e))&&e>-1&&e%1==0&&e<t}var iy=QD,ZD=9007199254740991;function eL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZD}var ay=eL,tL=fn,rL=ay,nL=hn,iL="[object Arguments]",aL="[object Array]",oL="[object Boolean]",sL="[object Date]",lL="[object Error]",uL="[object Function]",cL="[object Map]",dL="[object Number]",fL="[object Object]",hL="[object RegExp]",pL="[object Set]",mL="[object String]",gL="[object WeakMap]",vL="[object ArrayBuffer]",yL="[object DataView]",bL="[object Float32Array]",xL="[object Float64Array]",wL="[object Int8Array]",_L="[object Int16Array]",SL="[object Int32Array]",jL="[object Uint8Array]",OL="[object Uint8ClampedArray]",AL="[object Uint16Array]",kL="[object Uint32Array]",Pe={};Pe[bL]=Pe[xL]=Pe[wL]=Pe[_L]=Pe[SL]=Pe[jL]=Pe[OL]=Pe[AL]=Pe[kL]=!0;Pe[iL]=Pe[aL]=Pe[vL]=Pe[oL]=Pe[yL]=Pe[sL]=Pe[lL]=Pe[uL]=Pe[cL]=Pe[dL]=Pe[fL]=Pe[hL]=Pe[pL]=Pe[mL]=Pe[gL]=!1;function EL(e){return nL(e)&&rL(e.length)&&!!Pe[tL(e)]}var PL=EL;function NL(e){return function(t){return e(t)}}var cO=NL,$c={exports:{}};$c.exports;(function(e,t){var r=y2,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})($c,$c.exports);var TL=$c.exports,CL=PL,$L=cO,ox=TL,sx=ox&&ox.isTypedArray,ML=sx?$L(sx):CL,dO=ML,IL=LD,RL=ny,DL=Ct,LL=uO,BL=iy,UL=dO,zL=Object.prototype,FL=zL.hasOwnProperty;function WL(e,t){var r=DL(e),n=!r&&RL(e),i=!r&&!n&&LL(e),a=!r&&!n&&!i&&UL(e),o=r||n||i||a,s=o?IL(e.length,String):[],l=s.length;for(var u in e)(t||FL.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||BL(u,l)))&&s.push(u);return s}var qL=WL,HL=Object.prototype;function VL(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||HL;return e===r}var KL=VL;function GL(e,t){return function(r){return e(t(r))}}var fO=GL,XL=fO,YL=XL(Object.keys,Object),JL=YL,QL=KL,ZL=JL,e7=Object.prototype,t7=e7.hasOwnProperty;function r7(e){if(!QL(e))return ZL(e);var t=[];for(var r in Object(e))t7.call(e,r)&&r!="constructor"&&t.push(r);return t}var n7=r7,i7=Uv,a7=ay;function o7(e){return e!=null&&a7(e.length)&&!i7(e)}var lf=o7,s7=qL,l7=n7,u7=lf;function c7(e){return u7(e)?s7(e):l7(e)}var oy=c7,d7=AD,f7=RD,h7=oy;function p7(e){return d7(e,h7,f7)}var m7=p7,lx=m7,g7=1,v7=Object.prototype,y7=v7.hasOwnProperty;function b7(e,t,r,n,i,a){var o=r&g7,s=lx(e),l=s.length,u=lx(t),f=u.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:y7.call(t,h)))return!1}var p=a.get(e),b=a.get(t);if(p&&b)return p==t&&b==e;var x=!0;a.set(e,t),a.set(t,e);for(var w=o;++d<l;){h=s[d];var g=e[h],m=t[h];if(n)var v=o?n(m,g,h,t,e,a):n(g,m,h,e,t,a);if(!(v===void 0?g===m||i(g,m,r,n,a):v)){x=!1;break}w||(w=h=="constructor")}if(x&&!w){var S=e.constructor,y=t.constructor;S!=y&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof y=="function"&&y instanceof y)&&(x=!1)}return a.delete(e),a.delete(t),x}var x7=b7,w7=$i,_7=Ur,S7=w7(_7,"DataView"),j7=S7,O7=$i,A7=Ur,k7=O7(A7,"Promise"),E7=k7,P7=$i,N7=Ur,T7=P7(N7,"Set"),hO=T7,C7=$i,$7=Ur,M7=C7($7,"WeakMap"),I7=M7,Sm=j7,jm=Fv,Om=E7,Am=hO,km=I7,pO=fn,_o=x2,ux="[object Map]",R7="[object Object]",cx="[object Promise]",dx="[object Set]",fx="[object WeakMap]",hx="[object DataView]",D7=_o(Sm),L7=_o(jm),B7=_o(Om),U7=_o(Am),z7=_o(km),ti=pO;(Sm&&ti(new Sm(new ArrayBuffer(1)))!=hx||jm&&ti(new jm)!=ux||Om&&ti(Om.resolve())!=cx||Am&&ti(new Am)!=dx||km&&ti(new km)!=fx)&&(ti=function(e){var t=pO(e),r=t==R7?e.constructor:void 0,n=r?_o(r):"";if(n)switch(n){case D7:return hx;case L7:return ux;case B7:return cx;case U7:return dx;case z7:return fx}return t});var F7=ti,yh=rO,W7=oO,q7=wD,H7=x7,px=F7,mx=Ct,gx=uO,V7=dO,K7=1,vx="[object Arguments]",yx="[object Array]",du="[object Object]",G7=Object.prototype,bx=G7.hasOwnProperty;function X7(e,t,r,n,i,a){var o=mx(e),s=mx(t),l=o?yx:px(e),u=s?yx:px(t);l=l==vx?du:l,u=u==vx?du:u;var f=l==du,d=u==du,h=l==u;if(h&&gx(e)){if(!gx(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new yh),o||V7(e)?W7(e,t,r,n,i,a):q7(e,t,l,r,n,i,a);if(!(r&K7)){var p=f&&bx.call(e,"__wrapped__"),b=d&&bx.call(t,"__wrapped__");if(p||b){var x=p?e.value():e,w=b?t.value():t;return a||(a=new yh),i(x,w,r,n,a)}}return h?(a||(a=new yh),H7(e,t,r,n,i,a)):!1}var Y7=X7,J7=Y7,xx=hn;function mO(e,t,r,n,i){return e===t?!0:e==null||t==null||!xx(e)&&!xx(t)?e!==e&&t!==t:J7(e,t,r,n,mO,i)}var sy=mO,Q7=rO,Z7=sy,e6=1,t6=2;function r6(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var l=s[0],u=e[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new Q7;if(n)var h=n(u,f,l,e,t,d);if(!(h===void 0?Z7(f,u,e6|t6,n,d):h))return!1}}return!0}var n6=r6,i6=Wn;function a6(e){return e===e&&!i6(e)}var gO=a6,o6=gO,s6=oy;function l6(e){for(var t=s6(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,o6(i)]}return t}var u6=l6;function c6(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var vO=c6,d6=n6,f6=u6,h6=vO;function p6(e){var t=f6(e);return t.length==1&&t[0][2]?h6(t[0][0],t[0][1]):function(r){return r===e||d6(r,e,t)}}var m6=p6;function g6(e,t){return e!=null&&t in Object(e)}var v6=g6,y6=O2,b6=ny,x6=Ct,w6=iy,_6=ay,S6=Vd;function j6(e,t,r){t=y6(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=S6(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&_6(i)&&w6(o,i)&&(x6(e)||b6(e)))}var O6=j6,A6=v6,k6=O6;function E6(e,t){return e!=null&&k6(e,t,A6)}var P6=E6,N6=sy,T6=A2,C6=P6,$6=Bv,M6=gO,I6=vO,R6=Vd,D6=1,L6=2;function B6(e,t){return $6(e)&&M6(t)?I6(R6(e),t):function(r){var n=T6(r,e);return n===void 0&&n===t?C6(r,e):N6(t,n,D6|L6)}}var U6=B6;function z6(e){return e}var So=z6;function F6(e){return function(t){return t==null?void 0:t[e]}}var W6=F6,q6=Vv;function H6(e){return function(t){return q6(t,e)}}var V6=H6,K6=W6,G6=V6,X6=Bv,Y6=Vd;function J6(e){return X6(e)?K6(Y6(e)):G6(e)}var Q6=J6,Z6=m6,eB=U6,tB=So,rB=Ct,nB=Q6;function iB(e){return typeof e=="function"?e:e==null?tB:typeof e=="object"?rB(e)?eB(e[0],e[1]):Z6(e):nB(e)}var jo=iB;function aB(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var oB=aB;function sB(e){return e!==e}var lB=sB;function uB(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var cB=uB,dB=oB,fB=lB,hB=cB;function pB(e,t,r){return t===t?hB(e,t,r):dB(e,fB,r)}var mB=pB,gB=mB;function vB(e,t){var r=e==null?0:e.length;return!!r&&gB(e,t,0)>-1}var yB=vB;function bB(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var xB=bB;function wB(){}var _B=wB,bh=hO,SB=_B,jB=ry,OB=1/0,AB=bh&&1/jB(new bh([,-0]))[1]==OB?function(e){return new bh(e)}:SB,kB=AB,EB=nO,PB=yB,NB=xB,TB=aO,CB=kB,$B=ry,MB=200;function IB(e,t,r){var n=-1,i=PB,a=e.length,o=!0,s=[],l=s;if(r)o=!1,i=NB;else if(a>=MB){var u=t?null:CB(e);if(u)return $B(u);o=!1,i=TB,l=new EB}else l=t?[]:s;e:for(;++n<a;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else i(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var RB=IB,DB=jo,LB=RB;function BB(e,t){return e&&e.length?LB(e,DB(t)):[]}var UB=BB;const wx=_e(UB);function yO(e,t,r){return t===!0?wx(e,r):le(t)?wx(e,t):e}function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}var zB=["ref"];function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(n){uf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function WB(e,t,r){return t&&Sx(e.prototype,t),r&&Sx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qB(e,t,r){return t=Mc(t),HB(e,bO()?Reflect.construct(t,r||[],Mc(e).constructor):t.apply(e,r))}function HB(e,t){if(t&&(Fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VB(e)}function VB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!e})()}function Mc(e){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mc(e)}function KB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Em(e,t)}function uf(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=GB(e,"string");return Fa(t)=="symbol"?t:t+""}function GB(e,t){if(Fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XB(e,t){if(e==null)return{};var r=YB(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JB(e){return e.value}function QB(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var r=XB(t,zB);return $.createElement(ty,r)}var jx=1,Ea=function(e){function t(){var r;FB(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qB(this,t,[].concat(i)),uf(r,"lastBoundingBox",{width:-1,height:-1}),r}return KB(t,e),WB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jx||Math.abs(i.height-this.lastBoundingBox.height)>jx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();h={top:((f||0)-b.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Wr(Wr({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=Wr(Wr({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},QB(a,Wr(Wr({},this.props),{},{payload:yO(f,u,JB)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Wr(Wr({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&K(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(k.PureComponent);uf(Ea,"displayName","Legend");uf(Ea,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ox=Ml,ZB=ny,e8=Ct,Ax=Ox?Ox.isConcatSpreadable:void 0;function t8(e){return e8(e)||ZB(e)||!!(Ax&&e&&e[Ax])}var r8=t8,n8=sO,i8=r8;function wO(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=i8),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?wO(s,t-1,r,n,i):n8(i,s):n||(i[i.length]=s)}return i}var _O=wO;function a8(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(r(a[l],l,a)===!1)break}return t}}var o8=a8,s8=o8,l8=s8(),u8=l8,c8=u8,d8=oy;function f8(e,t){return e&&c8(e,t,d8)}var SO=f8,h8=lf;function p8(e,t){return function(r,n){if(r==null)return r;if(!h8(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var m8=p8,g8=SO,v8=m8,y8=v8(g8),ly=y8,b8=ly,x8=lf;function w8(e,t){var r=-1,n=x8(e)?Array(e.length):[];return b8(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var jO=w8;function _8(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var S8=_8,kx=mo;function j8(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=kx(e),o=t!==void 0,s=t===null,l=t===t,u=kx(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var O8=j8,A8=O8;function k8(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=A8(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var E8=k8,xh=Hv,P8=Vv,N8=jo,T8=jO,C8=S8,$8=cO,M8=E8,I8=So,R8=Ct;function D8(e,t,r){t.length?t=xh(t,function(a){return R8(a)?function(o){return P8(o,a.length===1?a[0]:a)}:a}):t=[I8];var n=-1;t=xh(t,$8(N8));var i=T8(e,function(a,o,s){var l=xh(t,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return C8(i,function(a,o){return M8(a,o,r)})}var L8=D8;function B8(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var U8=B8,z8=U8,Ex=Math.max;function F8(e,t,r){return t=Ex(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Ex(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),z8(e,this,s)}}var W8=F8;function q8(e){return function(){return e}}var H8=q8,V8=$i,K8=function(){try{var e=V8(Object,"defineProperty");return e({},"",{}),e}catch{}}(),OO=K8,G8=H8,Px=OO,X8=So,Y8=Px?function(e,t){return Px(e,"toString",{configurable:!0,enumerable:!1,value:G8(t),writable:!0})}:X8,J8=Y8,Q8=800,Z8=16,eU=Date.now;function tU(e){var t=0,r=0;return function(){var n=eU(),i=Z8-(n-r);if(r=n,i>0){if(++t>=Q8)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rU=tU,nU=J8,iU=rU,aU=iU(nU),oU=aU,sU=So,lU=W8,uU=oU;function cU(e,t){return uU(lU(e,t,sU),e+"")}var dU=cU,fU=zv,hU=lf,pU=iy,mU=Wn;function gU(e,t,r){if(!mU(r))return!1;var n=typeof t;return(n=="number"?hU(r)&&pU(t,r.length):n=="string"&&t in r)?fU(r[t],e):!1}var cf=gU,vU=_O,yU=L8,bU=dU,Nx=cf,xU=bU(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Nx(e,t[0],t[1])?t=[]:r>2&&Nx(t[0],t[1],t[2])&&(t=[t[0]]),yU(e,vU(t,1),[])}),wU=xU;const uy=_e(wU);function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function _U(e,t){return AU(e)||OU(e,t)||jU(e,t)||SU()}function SU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(e,t){if(e){if(typeof e=="string")return Tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(e,t)}}function Tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function AU(e){if(Array.isArray(e))return e}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return t=EU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=PU(e,"string");return Vs(t)=="symbol"?t:t+""}function PU(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NU(e){return Array.isArray(e)&&et(e[0])&&et(e[1])?e.join(" ~ "):e}var TU=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,x=t.label,w=t.labelFormatter,g=t.accessibilityLayer,m=g===void 0?!1:g,v=function(){if(f&&f.length){var E={padding:0,margin:0},P=(h?uy(f,h):f).map(function(C,M){if(C.type==="none")return null;var R=wh({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),D=C.formatter||d||NU,I=C.value,L=C.name,z=I,V=L;if(D&&z!=null&&V!=null){var W=D(I,L,C,M,f);if(Array.isArray(W)){var Q=_U(W,2);z=Q[0],V=Q[1]}else z=W}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:R},et(V)?$.createElement("span",{className:"recharts-tooltip-item-name"},V):null,et(V)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},z),$.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:E},P)}return null},S=wh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),y=wh({margin:0},u),_=!de(x),j=_?x:"",O=me("recharts-default-tooltip",p),A=me("recharts-tooltip-label",b);_&&w&&f!==void 0&&f!==null&&(j=w(x,f));var T=m?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Pm({className:O,style:S},T),$.createElement("p",{className:A,style:y},$.isValidElement(j)?j:"".concat(j)),v())};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function fu(e,t,r){return t=CU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=$U(e,"string");return Ks(t)=="symbol"?t:t+""}function $U(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo="recharts-tooltip-wrapper",MU={visibility:"hidden"};function IU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return me(Lo,fu(fu(fu(fu({},"".concat(Lo,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(Lo,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(Lo,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(Lo,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function $x(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&K(a[n]))return a[n];var f=r[n]-s-i,d=r[n]+i;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var b=d+s,x=l[n]+u;return b>x?Math.max(f,l[n]):Math.max(d,l[n])}function RU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function DU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=$x({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=$x({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=RU({translateX:f,translateY:d,useTranslate3d:s})):u=MU,{cssProperties:u,cssClasses:IU({translateX:f,translateY:d,coordinate:r})}}function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function Mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(r),!0).forEach(function(n){Tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function UU(e,t,r){return t&&BU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zU(e,t,r){return t=Ic(t),FU(e,AO()?Reflect.construct(t,r||[],Ic(e).constructor):t.apply(e,r))}function FU(e,t){if(t&&(Wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WU(e)}function WU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}function Ic(e){return Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ic(e)}function qU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nm(e,t)}function Tm(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=HU(e,"string");return Wa(t)=="symbol"?t:t+""}function HU(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rx=1,VU=function(e){function t(){var r;LU(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zU(this,t,[].concat(i)),Tm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return qU(t,e),UU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Rx||Math.abs(n.height-this.state.lastBoundingBox.height)>Rx)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,g=i.viewBox,m=i.wrapperStyle,v=DU({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:g}),S=v.cssClasses,y=v.cssProperties,_=Ix(Ix({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},m);return $.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(O){n.wrapperNode=O}},u)}}])}(k.PureComponent),KU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oo={isSsr:KU()};function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PO(n.key),n)}}function YU(e,t,r){return t&&XU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JU(e,t,r){return t=Rc(t),QU(e,EO()?Reflect.construct(t,r||[],Rc(e).constructor):t.apply(e,r))}function QU(e,t){if(t&&(qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZU(e)}function ZU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rc(e)}function ez(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cm(e,t)}function cy(e,t,r){return t=PO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(e){var t=tz(e,"string");return qa(t)=="symbol"?t:t+""}function tz(e,t){if(qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rz(e){return e.dataKey}function nz(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(TU,t)}var vr=function(e){function t(){return GU(this,t),JU(this,t,arguments)}return ez(t,e),YU(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,b=i.payload,x=i.payloadUniqBy,w=i.position,g=i.reverseDirection,m=i.useTranslate3d,v=i.viewBox,S=i.wrapperStyle,y=b??[];d&&y.length&&(y=yO(b.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),x,rz));var _=y.length>0;return $.createElement(VU,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:f,hasPayload:_,offset:p,position:w,reverseDirection:g,useTranslate3d:m,viewBox:v,wrapperStyle:S},nz(u,Lx(Lx({},this.props),{},{payload:y})))}}])}(k.PureComponent);cy(vr,"displayName","Tooltip");cy(vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iz=Ur,az=function(){return iz.Date.now()},oz=az,sz=/\s/;function lz(e){for(var t=e.length;t--&&sz.test(e.charAt(t)););return t}var uz=lz,cz=uz,dz=/^\s+/;function fz(e){return e&&e.slice(0,cz(e)+1).replace(dz,"")}var hz=fz,pz=hz,Bx=Wn,mz=mo,Ux=NaN,gz=/^[-+]0x[0-9a-f]+$/i,vz=/^0b[01]+$/i,yz=/^0o[0-7]+$/i,bz=parseInt;function xz(e){if(typeof e=="number")return e;if(mz(e))return Ux;if(Bx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=pz(e);var r=vz.test(e);return r||yz.test(e)?bz(e.slice(2),r?2:8):gz.test(e)?Ux:+e}var NO=xz,wz=Wn,_h=oz,zx=NO,_z="Expected a function",Sz=Math.max,jz=Math.min;function Oz(e,t,r){var n,i,a,o,s,l,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(_z);t=zx(t)||0,wz(r)&&(f=!!r.leading,d="maxWait"in r,a=d?Sz(zx(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(_){var j=n,O=i;return n=i=void 0,u=_,o=e.apply(O,j),o}function b(_){return u=_,s=setTimeout(g,t),f?p(_):o}function x(_){var j=_-l,O=_-u,A=t-j;return d?jz(A,a-O):A}function w(_){var j=_-l,O=_-u;return l===void 0||j>=t||j<0||d&&O>=a}function g(){var _=_h();if(w(_))return m(_);s=setTimeout(g,x(_))}function m(_){return s=void 0,h&&n?p(_):(n=i=void 0,o)}function v(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:m(_h())}function y(){var _=_h(),j=w(_);if(n=arguments,i=this,l=_,j){if(s===void 0)return b(l);if(d)return clearTimeout(s),s=setTimeout(g,t),p(l)}return s===void 0&&(s=setTimeout(g,t)),o}return y.cancel=v,y.flush=S,y}var Az=Oz,kz=Az,Ez=Wn,Pz="Expected a function";function Nz(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Pz);return Ez(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),kz(e,t,{leading:n,maxWait:t,trailing:i})}var Tz=Nz;const TO=_e(Tz);function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fx(Object(r),!0).forEach(function(n){Cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Mz(e,"string");return Gs(t)=="symbol"?t:t+""}function Mz(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iz(e,t){return Bz(e)||Lz(e,t)||Dz(e,t)||Rz()}function Rz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(e,t){if(e){if(typeof e=="string")return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(e,t)}}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bz(e){if(Array.isArray(e))return e}var qx=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,x=b===void 0?0:b,w=e.id,g=e.className,m=e.onResize,v=e.style,S=v===void 0?{}:v,y=k.useRef(null),_=k.useRef();_.current=m,k.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var j=k.useState({containerWidth:i.width,containerHeight:i.height}),O=Iz(j,2),A=O[0],T=O[1],N=k.useCallback(function(P,C){T(function(M){var R=Math.round(P),D=Math.round(C);return M.containerWidth===R&&M.containerHeight===D?M:{containerWidth:R,containerHeight:D}})},[]);k.useEffect(function(){var P=function(L){var z,V=L[0].contentRect,W=V.width,Q=V.height;N(W,Q),(z=_.current)===null||z===void 0||z.call(_,W,Q)};x>0&&(P=TO(P,x,{trailing:!0,leading:!1}));var C=new ResizeObserver(P),M=y.current.getBoundingClientRect(),R=M.width,D=M.height;return N(R,D),C.observe(y.current),function(){C.disconnect()}},[N,x]);var E=k.useMemo(function(){var P=A.containerWidth,C=A.containerHeight;if(P<0||C<0)return null;bi(ci(o)||ci(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=ci(o)?P:o,R=ci(l)?C:l;r&&r>0&&(M?R=M/r:R&&(M=R*r),h&&R>h&&(R=h)),bi(M>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,o,l,f,d,r);var D=!Array.isArray(p)&&Zr(p.type).endsWith("Chart");return $.Children.map(p,function(I){return $.isValidElement(I)?k.cloneElement(I,hu({width:M,height:R},D?{style:hu({height:"100%",width:"100%",maxHeight:R,maxWidth:M},I.props.style)}:{})):I})},[r,p,l,h,d,f,A,o]);return $.createElement("div",{id:w?"".concat(w):void 0,className:me("recharts-responsive-container",g),style:hu(hu({},S),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:y},E)}),CO=function(t){return null};CO.displayName="Cell";function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uz(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=Fz(e,"string");return Xs(t)=="symbol"?t:t+""}function Fz(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi={widthCache:{},cacheCount:0},Wz=2e3,qz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vx="recharts_measurement_span";function Hz(e){var t=$m({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gs=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oo.isSsr)return{width:0,height:0};var n=Hz(r),i=JSON.stringify({text:t,copyStyle:n});if(Xi.widthCache[i])return Xi.widthCache[i];try{var a=document.getElementById(Vx);a||(a=document.createElement("span"),a.setAttribute("id",Vx),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=$m($m({},qz),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Xi.widthCache[i]=l,++Xi.cacheCount>Wz&&(Xi.cacheCount=0,Xi.widthCache={}),l}catch{return{width:0,height:0}}},Vz=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Dc(e,t){return Yz(e)||Xz(e,t)||Gz(e,t)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(e,t){if(e){if(typeof e=="string")return Kx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(e,t)}}function Kx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yz(e){if(Array.isArray(e))return e}function Jz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zz(n.key),n)}}function Qz(e,t,r){return t&&Gx(e.prototype,t),r&&Gx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zz(e){var t=eF(e,"string");return Ys(t)=="symbol"?t:t+""}function eF(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$O={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nF=Object.keys($O),ga="NaN";function iF(e,t){return e*$O[t]}var pu=function(){function e(t,r){Jz(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!tF.test(r)&&(this.num=NaN,this.unit=""),nF.includes(r)&&(this.num=iF(t,r),this.unit="px")}return Qz(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=rF.exec(r))!==null&&n!==void 0?n:[],a=Dc(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function MO(e){if(e.includes(ga))return ga;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Xx.exec(t))!==null&&r!==void 0?r:[],i=Dc(n,4),a=i[1],o=i[2],s=i[3],l=pu.parse(a??""),u=pu.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return ga;t=t.replace(Xx,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Yx.exec(t))!==null&&d!==void 0?d:[],p=Dc(h,4),b=p[1],x=p[2],w=p[3],g=pu.parse(b??""),m=pu.parse(w??""),v=x==="+"?g.add(m):g.subtract(m);if(v.isNaN())return ga;t=t.replace(Yx,v.toString())}return t}var Jx=/\(([^()]*)\)/;function aF(e){for(var t=e;t.includes("(");){var r=Jx.exec(t),n=Dc(r,2),i=n[1];t=t.replace(Jx,MO(i))}return t}function oF(e){var t=e.replace(/\s+/g,"");return t=aF(t),t=MO(t),t}function sF(e){try{return oF(e)}catch{return ga}}function Sh(e){var t=sF(e.slice(5,-1));return t===ga?"":t}var lF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uF=["dx","dy","angle","className","breakAll"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function Qx(e,t){if(e==null)return{};var r=cF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zx(e,t){return pF(e)||hF(e,t)||fF(e,t)||dF()}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(e,t){if(e){if(typeof e=="string")return ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(e,t)}}function ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pF(e){if(Array.isArray(e))return e}var IO=/[ \f\n\r\t\v\u2028\u2029]+/,RO=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];de(r)||(n?a=r.toString().split(""):a=r.toString().split(IO));var o=a.map(function(l){return{word:l,width:gs(l,i).width}}),s=n?0:gs("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},mF=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,f=K(o),d=s,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(R,D){var I=D.word,L=D.width,z=R[R.length-1];if(z&&(i==null||a||z.width+L+n<Number(i)))z.words.push(I),z.width+=L+n;else{var V={words:[I],width:L};R.push(V)}return R},[])},p=h(r),b=function(M){return M.reduce(function(R,D){return R.width>D.width?R:D})};if(!f)return p;for(var x="",w=function(M){var R=d.slice(0,M),D=RO({breakAll:u,style:l,children:R+x}).wordsWithComputedWidth,I=h(D),L=I.length>o||b(I).width>Number(i);return[L,I]},g=0,m=d.length-1,v=0,S;g<=m&&v<=d.length-1;){var y=Math.floor((g+m)/2),_=y-1,j=w(_),O=Zx(j,2),A=O[0],T=O[1],N=w(y),E=Zx(N,1),P=E[0];if(!A&&!P&&(g=y+1),A&&P&&(m=y-1),!A&&P){S=T;break}v++}return S||p},tw=function(t){var r=de(t)?[]:t.toString().split(IO);return[{words:r}]},gF=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Oo.isSsr){var l,u,f=RO({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,u=h}else return tw(i);return mF({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return tw(i)},rw="#808080",Lc=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,x=b===void 0?"end":b,w=t.fill,g=w===void 0?rw:w,m=Qx(t,lF),v=k.useMemo(function(){return gF({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width})},[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),S=m.dx,y=m.dy,_=m.angle,j=m.className,O=m.breakAll,A=Qx(m,uF);if(!et(n)||!et(a))return null;var T=n+(K(S)?S:0),N=a+(K(y)?y:0),E;switch(x){case"start":E=Sh("calc(".concat(u,")"));break;case"middle":E=Sh("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:E=Sh("calc(".concat(v.length-1," * -").concat(s,")"));break}var P=[];if(d){var C=v[0].width,M=m.width;P.push("scale(".concat((K(M)?M/C:1)/C,")"))}return _&&P.push("rotate(".concat(_,", ").concat(T,", ").concat(N,")")),P.length&&(A.transform=P.join(" ")),$.createElement("text",Mm({},ce(A,!0),{x:T,y:N,className:me("recharts-text",j),textAnchor:p,fill:g.includes("url")?rw:g}),v.map(function(R,D){var I=R.words.join(O?"":" ");return $.createElement("tspan",{x:T,dy:D===0?E:s,key:"".concat(I,"-").concat(D)},I)}))};function Rn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dy(e){let t,r,n;e.length!==2?(t=Rn,r=(s,l)=>Rn(e(s),l),n=(s,l)=>e(s)-l):(t=e===Rn||e===vF?e:yF,r=e,n=e);function i(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<0?u=d+1:f=d}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,l,u=0,f=s.length){const d=i(s,l,u,f-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function yF(){return 0}function DO(e){return e===null?NaN:+e}function*bF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xF=dy(Rn),Rl=xF.right;dy(DO).center;class nw extends Map{constructor(t,r=SF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(iw(this,t))}has(t){return super.has(iw(this,t))}set(t,r){return super.set(wF(this,t),r)}delete(t){return super.delete(_F(this,t))}}function iw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function wF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _F({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jF(e=Rn){if(e===Rn)return LO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OF=Math.sqrt(50),AF=Math.sqrt(10),kF=Math.sqrt(2);function Bc(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=OF?10:a>=AF?5:a>=kF?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Bc(e,t,r*2):[s,l,u]}function Im(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Bc(t,e,r):Bc(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Rm(e,t,r){return t=+t,e=+e,r=+r,Bc(e,t,r)[2]}function Dm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Rm(t,e,r):Rm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function aw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ow(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?LO:jF(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/l+h)),b=Math.min(n,Math.floor(t+(l-u)*d/l+h));BO(e,t,p,b,i)}const a=e[t];let o=r,s=n;for(Bo(e,r,t),i(e[n],a)>0&&Bo(e,r,n);o<s;){for(Bo(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Bo(e,r,s):(++s,Bo(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Bo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function EF(e,t,r){if(e=Float64Array.from(bF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ow(e);if(t>=1)return aw(e);var n,i=(n-1)*t,a=Math.floor(i),o=aw(BO(e,a).subarray(0,a+1)),s=ow(e.subarray(a+1));return o+(s-o)*(i-a)}}function PF(e,t,r=DO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function NF(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lm=Symbol("implicit");function fy(){var e=new nw,t=[],r=[],n=Lm;function i(a){let o=e.get(a);if(o===void 0){if(n!==Lm)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new nw;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fy(t,r).unknown(n)},ur.apply(i,arguments),i}function Js(){var e=fy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=i<n,b=p?i:n,x=p?n:i;a=(x-b)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),b+=(x-b-a*(h-l))*f,o=a*(1-l),s&&(b=Math.round(b),o=Math.round(o));var w=NF(h).map(function(g){return b+a*g});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Js(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},ur.apply(d(),arguments)}function UO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UO(t())},e}function vs(){return UO(Js.apply(null,arguments).paddingInner(1))}function hy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dl(){}var Qs=.7,Uc=1/Qs,Pa="\\s*([+-]?\\d+)\\s*",Zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TF=/^#([0-9a-f]{3,8})$/,CF=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),$F=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),MF=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${Zs}\\)$`),IF=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${Zs}\\)$`),RF=new RegExp(`^hsl\\(${Zs},${Dr},${Dr}\\)$`),DF=new RegExp(`^hsla\\(${Zs},${Dr},${Dr},${Zs}\\)$`),sw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hy(Dl,el,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lw,formatHex:lw,formatHex8:LF,formatHsl:BF,formatRgb:uw,toString:uw});function lw(){return this.rgb().formatHex()}function LF(){return this.rgb().formatHex8()}function BF(){return FO(this).formatHsl()}function uw(){return this.rgb().formatRgb()}function el(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cw(t):r===3?new Et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CF.exec(e))?new Et(t[1],t[2],t[3],1):(t=$F.exec(e))?new Et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MF.exec(e))?mu(t[1],t[2],t[3],t[4]):(t=IF.exec(e))?mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RF.exec(e))?hw(t[1],t[2]/100,t[3]/100,1):(t=DF.exec(e))?hw(t[1],t[2]/100,t[3]/100,t[4]):sw.hasOwnProperty(e)?cw(sw[e]):e==="transparent"?new Et(NaN,NaN,NaN,0):null}function cw(e){return new Et(e>>16&255,e>>8&255,e&255,1)}function mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Et(e,t,r,n)}function UF(e){return e instanceof Dl||(e=el(e)),e?(e=e.rgb(),new Et(e.r,e.g,e.b,e.opacity)):new Et}function Bm(e,t,r,n){return arguments.length===1?UF(e):new Et(e,t,r,n??1)}function Et(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hy(Et,Bm,zO(Dl,{brighter(e){return e=e==null?Uc:Math.pow(Uc,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qs:Math.pow(Qs,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Et(xi(this.r),xi(this.g),xi(this.b),zc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dw,formatHex:dw,formatHex8:zF,formatRgb:fw,toString:fw}));function dw(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function zF(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function fw(){const e=zc(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function zc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function di(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function hw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,r,n)}function FO(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof Dl||(e=el(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new xr(o,s,l,e.opacity)}function FF(e,t,r,n){return arguments.length===1?FO(e):new xr(e,t,r,n??1)}function xr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hy(xr,FF,zO(Dl,{brighter(e){return e=e==null?Uc:Math.pow(Uc,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qs:Math.pow(Qs,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Et(jh(e>=240?e-240:e+120,i,n),jh(e,i,n),jh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xr(pw(this.h),gu(this.s),gu(this.l),zc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zc(this.opacity);return`${e===1?"hsl(":"hsla("}${pw(this.h)}, ${gu(this.s)*100}%, ${gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pw(e){return e=(e||0)%360,e<0?e+360:e}function gu(e){return Math.max(0,Math.min(1,e||0))}function jh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const py=e=>()=>e;function WF(e,t){return function(r){return e+r*t}}function qF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HF(e){return(e=+e)==1?WO:function(t,r){return r-t?qF(t,r,e):py(isNaN(t)?r:t)}}function WO(e,t){var r=t-e;return r?WF(e,r):py(isNaN(e)?t:e)}const mw=function e(t){var r=HF(t);function n(i,a){var o=r((i=Bm(i)).r,(a=Bm(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=WO(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function VF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function KF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ao(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function XF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YF(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ao(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Um=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oh=new RegExp(Um.source,"g");function JF(e){return function(){return e}}function QF(e){return function(t){return e(t)+""}}function ZF(e,t){var r=Um.lastIndex=Oh.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Um.exec(e))&&(i=Oh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Fc(n,i)})),r=Oh.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?QF(l[0].x):JF(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(u);return s.join("")})}function Ao(e,t){var r=typeof t,n;return t==null||r==="boolean"?py(t):(r==="number"?Fc:r==="string"?(n=el(t))?(t=n,mw):ZF:t instanceof el?mw:t instanceof Date?XF:KF(t)?VF:Array.isArray(t)?GF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YF:Fc)(e,t)}function my(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function e9(e,t){t===void 0&&(t=e,e=Ao);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function t9(e){return function(){return e}}function Wc(e){return+e}var gw=[0,1];function _t(e){return e}function zm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:t9(isNaN(t)?NaN:.5)}function r9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function n9(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=zm(i,n),a=r(o,a)):(n=zm(n,i),a=r(a,o)),function(s){return a(n(s))}}function i9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=zm(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Rl(e,s,1,n)-1;return a[l](i[l](s))}}function Ll(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function df(){var e=gw,t=gw,r=Ao,n,i,a,o=_t,s,l,u;function f(){var h=Math.min(e.length,t.length);return o!==_t&&(o=r9(e[0],e[h-1])),s=h>2?i9:n9,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(n),Fc)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Wc),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=my,f()},d.clamp=function(h){return arguments.length?(o=h?!0:_t,f()):o!==_t},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,f()}}function gy(){return df()(_t,_t)}function a9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ha(e){return e=qc(Math.abs(e)),e?e[1]:NaN}function o9(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function s9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var l9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tl(e){if(!(t=l9.exec(e)))throw new Error("invalid format: "+e);var t;return new vy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tl.prototype=vy.prototype;function vy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var qO;function c9(e,t){var r=qc(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(qO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+qc(e,Math.max(0,t+a-1))[0]}function vw(e,t){var r=qc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vw(e*100,t),r:vw,s:c9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bw(e){return e}var xw=Array.prototype.map,ww=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d9(e){var t=e.grouping===void 0||e.thousands===void 0?bw:o9(xw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?bw:s9(xw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=tl(d);var h=d.fill,p=d.align,b=d.sign,x=d.symbol,w=d.zero,g=d.width,m=d.comma,v=d.precision,S=d.trim,y=d.type;y==="n"?(m=!0,y="g"):yw[y]||(v===void 0&&(v=12),S=!0,y="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",j=x==="$"?n:/[%p]/.test(y)?o:"",O=yw[y],A=/[defgprs%]/.test(y);v=v===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function T(N){var E=_,P=j,C,M,R;if(y==="c")P=O(N)+P,N="";else{N=+N;var D=N<0||1/N<0;if(N=isNaN(N)?l:O(Math.abs(N),v),S&&(N=u9(N)),D&&+N==0&&b!=="+"&&(D=!1),E=(D?b==="("?b:s:b==="-"||b==="("?"":b)+E,P=(y==="s"?ww[8+qO/3]:"")+P+(D&&b==="("?")":""),A){for(C=-1,M=N.length;++C<M;)if(R=N.charCodeAt(C),48>R||R>57){P=(R===46?i+N.slice(C+1):N.slice(C))+P,N=N.slice(0,C);break}}}m&&!w&&(N=t(N,1/0));var I=E.length+N.length+P.length,L=I<g?new Array(g-I+1).join(h):"";switch(m&&w&&(N=t(L+N,L.length?g-P.length:1/0),L=""),p){case"<":N=E+N+P+L;break;case"=":N=E+L+N+P;break;case"^":N=L.slice(0,I=L.length>>1)+E+N+P+L.slice(I);break;default:N=L+E+N+P;break}return a(N)}return T.toString=function(){return d+""},T}function f(d,h){var p=u((d=tl(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(Ha(h)/3)))*3,x=Math.pow(10,-b),w=ww[8+b/3];return function(g){return p(x*g)+w}}return{format:u,formatPrefix:f}}var vu,yy,HO;f9({thousands:",",grouping:[3],currency:["$",""]});function f9(e){return vu=d9(e),yy=vu.format,HO=vu.formatPrefix,vu}function h9(e){return Math.max(0,-Ha(Math.abs(e)))}function p9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ha(t)/3)))*3-Ha(Math.abs(e)))}function m9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ha(t)-Ha(e))+1}function VO(e,t,r,n){var i=Dm(e,t,r),a;switch(n=tl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=p9(i,o))&&(n.precision=a),HO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=m9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=h9(i))&&(n.precision=a-(n.type==="%")*2);break}}return yy(n)}function qn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Im(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return VO(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=Rm(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Hc(){var e=gy();return e.copy=function(){return Ll(e,Hc())},ur.apply(e,arguments),qn(e)}function KO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KO(e).unknown(t)},e=arguments.length?Array.from(e,Wc):[0,1],qn(r)}function GO(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function _w(e){return Math.log(e)}function Sw(e){return Math.exp(e)}function g9(e){return-Math.log(-e)}function v9(e){return-Math.exp(-e)}function y9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b9(e){return e===10?y9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jw(e){return(t,r)=>-e(-t,r)}function by(e){const t=e(_w,Sw),r=t.domain;let n=10,i,a;function o(){return i=x9(n),a=b9(n),r()[0]<0?(i=jw(i),a=jw(a),e(g9,v9)):e(_w,Sw),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=i(u),p=i(f),b,x;const w=s==null?10:+s;let g=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<n;++b)if(x=h<0?b/a(-h):b*a(h),!(x<u)){if(x>f)break;g.push(x)}}else for(;h<=p;++h)for(b=n-1;b>=1;--b)if(x=h>0?b/a(-h):b*a(h),!(x<u)){if(x>f)break;g.push(x)}g.length*2<w&&(g=Im(u,f,w))}else g=Im(h,p,Math.min(p-h,w)).map(a);return d?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=tl(l)).precision==null&&(l.trim=!0),l=yy(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?l(f):""}},t.nice=()=>r(GO(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function XO(){const e=by(df()).domain([1,10]);return e.copy=()=>Ll(e,XO()).base(e.base()),ur.apply(e,arguments),e}function Ow(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Aw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xy(e){var t=1,r=e(Ow(t),Aw(t));return r.constant=function(n){return arguments.length?e(Ow(t=+n),Aw(t)):t},qn(r)}function YO(){var e=xy(df());return e.copy=function(){return Ll(e,YO()).constant(e.constant())},ur.apply(e,arguments)}function kw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function w9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _9(e){return e<0?-e*e:e*e}function wy(e){var t=e(_t,_t),r=1;function n(){return r===1?e(_t,_t):r===.5?e(w9,_9):e(kw(r),kw(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},qn(t)}function _y(){var e=wy(df());return e.copy=function(){return Ll(e,_y()).exponent(e.exponent())},ur.apply(e,arguments),e}function S9(){return _y.apply(null,arguments).exponent(.5)}function Ew(e){return Math.sign(e)*e*e}function j9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JO(){var e=gy(),t=[0,1],r=!1,n;function i(a){var o=j9(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(Ew(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Wc)).map(Ew)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ur.apply(i,arguments),qn(i)}function QO(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=PF(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Rl(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Rn),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return QO().domain(e).range(t).unknown(n)},ur.apply(a,arguments)}function ZO(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Rl(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ZO().domain([e,t]).range(i).unknown(a)},ur.apply(qn(o),arguments)}function eA(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Rl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eA().domain(e).range(t).unknown(r)},ur.apply(i,arguments)}const Ah=new Date,kh=new Date;function tt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>tt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ah.setTime(+a),kh.setTime(+o),e(Ah),e(kh),Math.floor(r(Ah,kh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Vc=tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vc);Vc.range;const Yr=1e3,rr=Yr*60,Jr=rr*60,on=Jr*24,Sy=on*7,Pw=on*30,Eh=on*365,fi=tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCSeconds());fi.range;const jy=tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getMinutes());jy.range;const Oy=tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCMinutes());Oy.range;const Ay=tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr-e.getMinutes()*rr)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getHours());Ay.range;const ky=tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCHours());ky.range;const Bl=tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rr)/on,e=>e.getDate()-1);Bl.range;const ff=tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/on,e=>e.getUTCDate()-1);ff.range;const tA=tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/on,e=>Math.floor(e/on));tA.range;function Mi(e){return tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rr)/Sy)}const hf=Mi(0),Kc=Mi(1),O9=Mi(2),A9=Mi(3),Va=Mi(4),k9=Mi(5),E9=Mi(6);hf.range;Kc.range;O9.range;A9.range;Va.range;k9.range;E9.range;function Ii(e){return tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Sy)}const pf=Ii(0),Gc=Ii(1),P9=Ii(2),N9=Ii(3),Ka=Ii(4),T9=Ii(5),C9=Ii(6);pf.range;Gc.range;P9.range;N9.range;Ka.range;T9.range;C9.range;const Ey=tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ey.range;const Py=tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Py.range;const sn=tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});sn.range;const ln=tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ln.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ln.range;function rA(e,t,r,n,i,a){const o=[[fi,1,Yr],[fi,5,5*Yr],[fi,15,15*Yr],[fi,30,30*Yr],[a,1,rr],[a,5,5*rr],[a,15,15*rr],[a,30,30*rr],[i,1,Jr],[i,3,3*Jr],[i,6,6*Jr],[i,12,12*Jr],[n,1,on],[n,2,2*on],[r,1,Sy],[t,1,Pw],[t,3,3*Pw],[e,1,Eh]];function s(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:l(u,f,d),b=p?p.range(u,+f+1):[];return h?b.reverse():b}function l(u,f,d){const h=Math.abs(f-u)/d,p=dy(([,,w])=>w).right(o,h);if(p===o.length)return e.every(Dm(u/Eh,f/Eh,d));if(p===0)return Vc.every(Math.max(Dm(u,f,d),1));const[b,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(x)}return[s,l]}const[$9,M9]=rA(ln,Py,pf,tA,ky,Oy),[I9,R9]=rA(sn,Ey,hf,Bl,Ay,jy);function Ph(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function D9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=zo(i),f=Fo(i),d=zo(a),h=Fo(a),p=zo(o),b=Fo(o),x=zo(s),w=Fo(s),g=zo(l),m=Fo(l),v={a:D,A:I,b:L,B:z,c:null,d:Iw,e:Iw,f:oW,g:gW,G:yW,H:nW,I:iW,j:aW,L:nA,m:sW,M:lW,p:V,q:W,Q:Lw,s:Bw,S:uW,u:cW,U:dW,V:fW,w:hW,W:pW,x:null,X:null,y:mW,Y:vW,Z:bW,"%":Dw},S={a:Q,A:se,b:he,B:Se,c:null,d:Rw,e:Rw,f:SW,g:$W,G:IW,H:xW,I:wW,j:_W,L:aA,m:jW,M:OW,p:G,q:oe,Q:Lw,s:Bw,S:AW,u:kW,U:EW,V:PW,w:NW,W:TW,x:null,X:null,y:CW,Y:MW,Z:RW,"%":Dw},y={a:T,A:N,b:E,B:P,c:C,d:$w,e:$w,f:Z9,g:Cw,G:Tw,H:Mw,I:Mw,j:X9,L:Q9,m:G9,M:Y9,p:A,q:K9,Q:tW,s:rW,S:J9,u:F9,U:W9,V:q9,w:z9,W:H9,x:M,X:R,y:Cw,Y:Tw,Z:V9,"%":eW};v.x=_(r,v),v.X=_(n,v),v.c=_(t,v),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(F,X){return function(ie){var B=[],je=-1,fe=0,We=F.length,q,ae,Be;for(ie instanceof Date||(ie=new Date(+ie));++je<We;)F.charCodeAt(je)===37&&(B.push(F.slice(fe,je)),(ae=Nw[q=F.charAt(++je)])!=null?q=F.charAt(++je):ae=q==="e"?" ":"0",(Be=X[q])&&(q=Be(ie,ae)),B.push(q),fe=je+1);return B.push(F.slice(fe,je)),B.join("")}}function j(F,X){return function(ie){var B=Uo(1900,void 0,1),je=O(B,F,ie+="",0),fe,We;if(je!=ie.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(X&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(fe=Nh(Uo(B.y,0,1)),We=fe.getUTCDay(),fe=We>4||We===0?Gc.ceil(fe):Gc(fe),fe=ff.offset(fe,(B.V-1)*7),B.y=fe.getUTCFullYear(),B.m=fe.getUTCMonth(),B.d=fe.getUTCDate()+(B.w+6)%7):(fe=Ph(Uo(B.y,0,1)),We=fe.getDay(),fe=We>4||We===0?Kc.ceil(fe):Kc(fe),fe=Bl.offset(fe,(B.V-1)*7),B.y=fe.getFullYear(),B.m=fe.getMonth(),B.d=fe.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),We="Z"in B?Nh(Uo(B.y,0,1)).getUTCDay():Ph(Uo(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(We+5)%7:B.w+B.U*7-(We+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Nh(B)):Ph(B)}}function O(F,X,ie,B){for(var je=0,fe=X.length,We=ie.length,q,ae;je<fe;){if(B>=We)return-1;if(q=X.charCodeAt(je++),q===37){if(q=X.charAt(je++),ae=y[q in Nw?X.charAt(je++):q],!ae||(B=ae(F,ie,B))<0)return-1}else if(q!=ie.charCodeAt(B++))return-1}return B}function A(F,X,ie){var B=u.exec(X.slice(ie));return B?(F.p=f.get(B[0].toLowerCase()),ie+B[0].length):-1}function T(F,X,ie){var B=p.exec(X.slice(ie));return B?(F.w=b.get(B[0].toLowerCase()),ie+B[0].length):-1}function N(F,X,ie){var B=d.exec(X.slice(ie));return B?(F.w=h.get(B[0].toLowerCase()),ie+B[0].length):-1}function E(F,X,ie){var B=g.exec(X.slice(ie));return B?(F.m=m.get(B[0].toLowerCase()),ie+B[0].length):-1}function P(F,X,ie){var B=x.exec(X.slice(ie));return B?(F.m=w.get(B[0].toLowerCase()),ie+B[0].length):-1}function C(F,X,ie){return O(F,t,X,ie)}function M(F,X,ie){return O(F,r,X,ie)}function R(F,X,ie){return O(F,n,X,ie)}function D(F){return o[F.getDay()]}function I(F){return a[F.getDay()]}function L(F){return l[F.getMonth()]}function z(F){return s[F.getMonth()]}function V(F){return i[+(F.getHours()>=12)]}function W(F){return 1+~~(F.getMonth()/3)}function Q(F){return o[F.getUTCDay()]}function se(F){return a[F.getUTCDay()]}function he(F){return l[F.getUTCMonth()]}function Se(F){return s[F.getUTCMonth()]}function G(F){return i[+(F.getUTCHours()>=12)]}function oe(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var X=_(F+="",v);return X.toString=function(){return F},X},parse:function(F){var X=j(F+="",!1);return X.toString=function(){return F},X},utcFormat:function(F){var X=_(F+="",S);return X.toString=function(){return F},X},utcParse:function(F){var X=j(F+="",!0);return X.toString=function(){return F},X}}}var Nw={"-":"",_:" ",0:"0"},at=/^\s*\d+/,L9=/^%/,B9=/[\\^$*+?|[\]().{}]/g;function ge(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function U9(e){return e.replace(B9,"\\$&")}function zo(e){return new RegExp("^(?:"+e.map(U9).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function z9(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function F9(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function W9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function q9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function H9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Tw(e,t,r){var n=at.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Cw(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function V9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function K9(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function G9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $w(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function X9(e,t,r){var n=at.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Mw(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Y9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function J9(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=at.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Z9(e,t,r){var n=at.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eW(e,t,r){var n=L9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tW(e,t,r){var n=at.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rW(e,t,r){var n=at.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Iw(e,t){return ge(e.getDate(),t,2)}function nW(e,t){return ge(e.getHours(),t,2)}function iW(e,t){return ge(e.getHours()%12||12,t,2)}function aW(e,t){return ge(1+Bl.count(sn(e),e),t,3)}function nA(e,t){return ge(e.getMilliseconds(),t,3)}function oW(e,t){return nA(e,t)+"000"}function sW(e,t){return ge(e.getMonth()+1,t,2)}function lW(e,t){return ge(e.getMinutes(),t,2)}function uW(e,t){return ge(e.getSeconds(),t,2)}function cW(e){var t=e.getDay();return t===0?7:t}function dW(e,t){return ge(hf.count(sn(e)-1,e),t,2)}function iA(e){var t=e.getDay();return t>=4||t===0?Va(e):Va.ceil(e)}function fW(e,t){return e=iA(e),ge(Va.count(sn(e),e)+(sn(e).getDay()===4),t,2)}function hW(e){return e.getDay()}function pW(e,t){return ge(Kc.count(sn(e)-1,e),t,2)}function mW(e,t){return ge(e.getFullYear()%100,t,2)}function gW(e,t){return e=iA(e),ge(e.getFullYear()%100,t,2)}function vW(e,t){return ge(e.getFullYear()%1e4,t,4)}function yW(e,t){var r=e.getDay();return e=r>=4||r===0?Va(e):Va.ceil(e),ge(e.getFullYear()%1e4,t,4)}function bW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function Rw(e,t){return ge(e.getUTCDate(),t,2)}function xW(e,t){return ge(e.getUTCHours(),t,2)}function wW(e,t){return ge(e.getUTCHours()%12||12,t,2)}function _W(e,t){return ge(1+ff.count(ln(e),e),t,3)}function aA(e,t){return ge(e.getUTCMilliseconds(),t,3)}function SW(e,t){return aA(e,t)+"000"}function jW(e,t){return ge(e.getUTCMonth()+1,t,2)}function OW(e,t){return ge(e.getUTCMinutes(),t,2)}function AW(e,t){return ge(e.getUTCSeconds(),t,2)}function kW(e){var t=e.getUTCDay();return t===0?7:t}function EW(e,t){return ge(pf.count(ln(e)-1,e),t,2)}function oA(e){var t=e.getUTCDay();return t>=4||t===0?Ka(e):Ka.ceil(e)}function PW(e,t){return e=oA(e),ge(Ka.count(ln(e),e)+(ln(e).getUTCDay()===4),t,2)}function NW(e){return e.getUTCDay()}function TW(e,t){return ge(Gc.count(ln(e)-1,e),t,2)}function CW(e,t){return ge(e.getUTCFullYear()%100,t,2)}function $W(e,t){return e=oA(e),ge(e.getUTCFullYear()%100,t,2)}function MW(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function IW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ka(e):Ka.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function RW(){return"+0000"}function Dw(){return"%"}function Lw(e){return+e}function Bw(e){return Math.floor(+e/1e3)}var Yi,sA,lA;DW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DW(e){return Yi=D9(e),sA=Yi.format,Yi.parse,lA=Yi.utcFormat,Yi.utcParse,Yi}function LW(e){return new Date(e)}function BW(e){return e instanceof Date?+e:+new Date(+e)}function Ny(e,t,r,n,i,a,o,s,l,u){var f=gy(),d=f.invert,h=f.domain,p=u(".%L"),b=u(":%S"),x=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),m=u("%b %d"),v=u("%B"),S=u("%Y");function y(_){return(l(_)<_?p:s(_)<_?b:o(_)<_?x:a(_)<_?w:n(_)<_?i(_)<_?g:m:r(_)<_?v:S)(_)}return f.invert=function(_){return new Date(d(_))},f.domain=function(_){return arguments.length?h(Array.from(_,BW)):h().map(LW)},f.ticks=function(_){var j=h();return e(j[0],j[j.length-1],_??10)},f.tickFormat=function(_,j){return j==null?y:u(j)},f.nice=function(_){var j=h();return(!_||typeof _.range!="function")&&(_=t(j[0],j[j.length-1],_??10)),_?h(GO(j,_)):f},f.copy=function(){return Ll(f,Ny(e,t,r,n,i,a,o,s,l,u))},f}function UW(){return ur.apply(Ny(I9,R9,sn,Ey,hf,Bl,Ay,jy,fi,sA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zW(){return ur.apply(Ny($9,M9,ln,Py,pf,ff,ky,Oy,fi,lA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mf(){var e=0,t=1,r,n,i,a,o=_t,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,b;return arguments.length?([p,b]=h,o=d(p,b),u):[o(0),o(1)]}}return u.range=f(Ao),u.rangeRound=f(my),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Hn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uA(){var e=qn(mf()(_t));return e.copy=function(){return Hn(e,uA())},pn.apply(e,arguments)}function cA(){var e=by(mf()).domain([1,10]);return e.copy=function(){return Hn(e,cA()).base(e.base())},pn.apply(e,arguments)}function dA(){var e=xy(mf());return e.copy=function(){return Hn(e,dA()).constant(e.constant())},pn.apply(e,arguments)}function Ty(){var e=wy(mf());return e.copy=function(){return Hn(e,Ty()).exponent(e.exponent())},pn.apply(e,arguments)}function FW(){return Ty.apply(null,arguments).exponent(.5)}function fA(){var e=[],t=_t;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Rn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>EF(e,a/n))},r.copy=function(){return fA(t).domain(e)},pn.apply(r,arguments)}function gf(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=_t,f,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+f(x))-a)*(n*x<n*a?s:l),u(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,i=f(e=+e),a=f(t=+t),o=f(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(u=x,p):u};function b(x){return function(w){var g,m,v;return arguments.length?([g,m,v]=w,u=e9(x,[g,m,v]),p):[u(0),u(.5),u(1)]}}return p.range=b(Ao),p.rangeRound=b(my),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return f=x,i=x(e),a=x(t),o=x(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function hA(){var e=qn(gf()(_t));return e.copy=function(){return Hn(e,hA())},pn.apply(e,arguments)}function pA(){var e=by(gf()).domain([.1,1,10]);return e.copy=function(){return Hn(e,pA()).base(e.base())},pn.apply(e,arguments)}function mA(){var e=xy(gf());return e.copy=function(){return Hn(e,mA()).constant(e.constant())},pn.apply(e,arguments)}function Cy(){var e=wy(gf());return e.copy=function(){return Hn(e,Cy()).exponent(e.exponent())},pn.apply(e,arguments)}function WW(){return Cy.apply(null,arguments).exponent(.5)}const Uw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Js,scaleDiverging:hA,scaleDivergingLog:pA,scaleDivergingPow:Cy,scaleDivergingSqrt:WW,scaleDivergingSymlog:mA,scaleIdentity:KO,scaleImplicit:Lm,scaleLinear:Hc,scaleLog:XO,scaleOrdinal:fy,scalePoint:vs,scalePow:_y,scaleQuantile:QO,scaleQuantize:ZO,scaleRadial:JO,scaleSequential:uA,scaleSequentialLog:cA,scaleSequentialPow:Ty,scaleSequentialQuantile:fA,scaleSequentialSqrt:FW,scaleSequentialSymlog:dA,scaleSqrt:S9,scaleSymlog:YO,scaleThreshold:eA,scaleTime:UW,scaleUtc:zW,tickFormat:VO},Symbol.toStringTag,{value:"Module"}));var qW=mo;function HW(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!qW(o):r(o,s)))var s=o,l=a}return l}var gA=HW;function VW(e,t){return e>t}var KW=VW,GW=gA,XW=KW,YW=So;function JW(e){return e&&e.length?GW(e,YW,XW):void 0}var QW=JW;const An=_e(QW);function ZW(e,t){return e<t}var eq=ZW,tq=gA,rq=eq,nq=So;function iq(e){return e&&e.length?tq(e,nq,rq):void 0}var aq=iq;const vf=_e(aq);var oq=Hv,sq=jo,lq=jO,uq=Ct;function cq(e,t){var r=uq(e)?oq:lq;return r(e,sq(t))}var dq=cq,fq=_O,hq=dq;function pq(e,t){return fq(hq(e,t),1)}var mq=pq;const gq=_e(mq);var vq=sy;function yq(e,t){return vq(e,t)}var bq=yq;const rl=_e(bq);var ko=1e9,xq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},My,$e=!0,sr="[DecimalError] ",wi=sr+"Invalid argument: ",$y=sr+"Exponent out of range: ",Eo=Math.floor,ri=Math.pow,wq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bt,rt=1e7,Ne=7,vA=9007199254740991,Xc=Eo(vA/Ne),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ne;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return en(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return we(en(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return Ge(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bt))throw Error(sr+"NaN");if(r.s<1)throw Error(sr+(r.s?"NaN":"-Infinity"));return r.eq(Bt)?new n(0):($e=!1,t=en(nl(r,a),nl(e,a),a),$e=!0,we(t,i))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xA(t,e):yA(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(sr+"NaN");return r.s?($e=!1,t=en(r,e,0,1).times(e),$e=!0,r.minus(t)):we(new n(r),i)};J.naturalExponential=J.exp=function(){return bA(this)};J.naturalLogarithm=J.ln=function(){return nl(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yA(t,e):xA(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wi+e);if(t=Ge(i)+1,n=i.d.length-1,r=n*Ne+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(sr+"NaN")}for(e=Ge(s),$e=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=$r(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(en(s,a,o+2)).times(.5),$r(a.d).slice(0,o)===(t=$r(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(we(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return $e=!0,we(n,r)};J.times=J.mul=function(e){var t,r,n,i,a,o,s,l,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%rt|0,t=s/rt|0;a[i]=(a[i]+t)%rt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,$e?we(e,d.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Br(e,0,ko),t===void 0?t=n.rounding:Br(t,0,8),we(r,e+Ge(r)+1,t))};J.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Pi(n,!0):(Br(e,0,ko),t===void 0?t=i.rounding:Br(t,0,8),n=we(new i(n),e+1,t),r=Pi(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Pi(i):(Br(e,0,ko),t===void 0?t=a.rounding:Br(t,0,8),n=we(new a(i),e+Ge(i)+1,t),r=Pi(n.abs(),!1,e+Ge(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return we(new t(e),Ge(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,f=+(e=new l(e));if(!e.s)return new l(Bt);if(s=new l(s),!s.s){if(e.s<1)throw Error(sr+"Infinity");return s}if(s.eq(Bt))return s;if(n=l.precision,e.eq(Bt))return we(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=f<0?-f:f)<=vA){for(i=new l(Bt),t=Math.ceil(n/Ne+4),$e=!1;r%2&&(i=i.times(s),Fw(i.d,t)),r=Eo(r/2),r!==0;)s=s.times(s),Fw(s.d,t);return $e=!0,e.s<0?new l(Bt).div(i):we(i,n)}}else if(a<0)throw Error(sr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,$e=!1,i=e.times(nl(s,n+u)),$e=!0,i=bA(i),i.s=a,i};J.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ge(i),n=Pi(i,r<=a.toExpNeg||r>=a.toExpPos)):(Br(e,1,ko),t===void 0?t=a.rounding:Br(t,0,8),i=we(new a(i),e,t),r=Ge(i),n=Pi(i,e<=r||r<=a.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Br(e,1,ko),t===void 0?t=n.rounding:Br(t,0,8)),we(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ge(e),r=e.constructor;return Pi(e,t<=r.toExpNeg||t>=r.toExpPos)};function yA(e,t){var r,n,i,a,o,s,l,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),$e?we(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Ne),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/rt|0,l[a]%=rt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,$e?we(t,d):t}function Br(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wi+e)}function $r(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ne-n.length,r&&(a+=xn(r)),a+=n;o=e[t],n=o+"",r=Ne-n.length,r&&(a+=xn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var en=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%rt|0,o=a/rt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*rt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,f,d,h,p,b,x,w,g,m,v,S,y,_,j,O,A=n.constructor,T=n.s==i.s?1:-1,N=n.d,E=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(sr+"Division by zero");for(l=n.e-i.e,j=E.length,y=N.length,p=new A(T),b=p.d=[],u=0;E[u]==(N[u]||0);)++u;if(E[u]>(N[u]||0)&&--l,a==null?m=a=A.precision:o?m=a+(Ge(n)-Ge(i))+1:m=a,m<0)return new A(0);if(m=m/Ne+2|0,u=0,j==1)for(f=0,E=E[0],m++;(u<y||f)&&m--;u++)v=f*rt+(N[u]||0),b[u]=v/E|0,f=v%E|0;else{for(f=rt/(E[0]+1)|0,f>1&&(E=e(E,f),N=e(N,f),j=E.length,y=N.length),S=j,x=N.slice(0,j),w=x.length;w<j;)x[w++]=0;O=E.slice(),O.unshift(0),_=E[0],E[1]>=rt/2&&++_;do f=0,s=t(E,x,j,w),s<0?(g=x[0],j!=w&&(g=g*rt+(x[1]||0)),f=g/_|0,f>1?(f>=rt&&(f=rt-1),d=e(E,f),h=d.length,w=x.length,s=t(d,x,h,w),s==1&&(f--,r(d,j<h?O:E,h))):(f==0&&(s=f=1),d=E.slice()),h=d.length,h<w&&d.unshift(0),r(x,d,w),s==-1&&(w=x.length,s=t(E,x,j,w),s<1&&(f++,r(x,j<w?O:E,w))),w=x.length):s===0&&(f++,x=[0]),b[u++]=f,s&&x[0]?x[w++]=N[S]||0:(x=[N[S]],w=1);while((S++<y||x[0]!==void 0)&&m--)}return b[0]||b.shift(),p.e=l,we(p,o?a+Ge(p)+1:a)}}();function bA(e,t){var r,n,i,a,o,s,l=0,u=0,f=e.constructor,d=f.precision;if(Ge(e)>16)throw Error($y+Ge(e));if(!e.s)return new f(Bt);for($e=!1,s=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ri(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new f(Bt),f.precision=s;;){if(i=we(i.times(e),s),r=r.times(++l),o=a.plus(en(i,r,s)),$r(o.d).slice(0,s)===$r(a.d).slice(0,s)){for(;u--;)a=we(a.times(a),s);return f.precision=d,t==null?($e=!0,we(a,d)):a}a=o}}function Ge(e){for(var t=e.e*Ne,r=e.d[0];r>=10;r/=10)t++;return t}function Th(e,t,r){if(t>e.LN10.sd())throw $e=!0,r&&(e.precision=r),Error(sr+"LN10 precision limit exceeded");return we(new e(e.LN10),t)}function xn(e){for(var t="";e--;)t+="0";return t}function nl(e,t){var r,n,i,a,o,s,l,u,f,d=1,h=10,p=e,b=p.d,x=p.constructor,w=x.precision;if(p.s<1)throw Error(sr+(p.s?"NaN":"-Infinity"));if(p.eq(Bt))return new x(0);if(t==null?($e=!1,u=w):u=t,p.eq(10))return t==null&&($e=!0),Th(x,u);if(u+=h,x.precision=u,r=$r(b),n=r.charAt(0),a=Ge(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=$r(p.d),n=r.charAt(0),d++;a=Ge(p),n>1?(p=new x("0."+r),a++):p=new x(n+"."+r.slice(1))}else return l=Th(x,u+2,w).times(a+""),p=nl(new x(n+"."+r.slice(1)),u-h).plus(l),x.precision=w,t==null?($e=!0,we(p,w)):p;for(s=o=p=en(p.minus(Bt),p.plus(Bt),u),f=we(p.times(p),u),i=3;;){if(o=we(o.times(f),u),l=s.plus(en(o,new x(i),u)),$r(l.d).slice(0,u)===$r(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Th(x,u+2,w).times(a+""))),s=en(s,new x(d),u),x.precision=w,t==null?($e=!0,we(s,w)):s;s=l,i+=2}}function zw(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/Ne),e.d=[],n=(r+1)%Ne,r<0&&(n+=Ne),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ne;n<i;)e.d.push(+t.slice(n,n+=Ne));t=t.slice(n),n=Ne-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),$e&&(e.e>Xc||e.e<-Xc))throw Error($y+r)}else e.s=0,e.e=0,e.d=[0];return e}function we(e,t,r){var n,i,a,o,s,l,u,f,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ne,i=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Ne),a=d.length,f>=a)return e;for(u=a=d[f],o=1;a>=10;a/=10)o++;n%=Ne,i=n-Ne+o}if(r!==void 0&&(a=ri(10,o-i-1),s=u/a%10|0,l=t<0||d[f+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/ri(10,o-i):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Ge(e),d.length=1,t=t-a-1,d[0]=ri(10,(Ne-t%Ne)%Ne),e.e=Eo(-t/Ne)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,a=1,f--):(d.length=f+1,a=ri(10,Ne-n),d[f]=i>0?(u/ri(10,o-i)%ri(10,i)|0)*a:0),l)for(;;)if(f==0){(d[0]+=a)==rt&&(d[0]=1,++e.e);break}else{if(d[f]+=a,d[f]!=rt)break;d[f--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if($e&&(e.e>Xc||e.e<-Xc))throw Error($y+Ge(e));return e}function xA(e,t){var r,n,i,a,o,s,l,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?we(t,p):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(f=o<0,f?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(p/Ne),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=rt-1;--l[a],l[i]+=rt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,$e?we(t,p):t):new h(0)}function Pi(e,t,r){var n,i=Ge(e),a=$r(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+xn(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xn(-i-1)+a,r&&(n=r-o)>0&&(a+=xn(n))):i>=o?(a+=xn(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+xn(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=xn(n))),e.s<0?"-"+a:a}function Fw(e,t){if(e.length>t)return e.length=t,!0}function wA(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wi+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return zw(o,a.toString())}else if(typeof a!="string")throw Error(wi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wq.test(a))zw(o,a);else throw Error(wi+a)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wA,i.config=i.set=_q,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _q(e){if(!e||typeof e!="object")throw Error(sr+"Object expected");var t,r,n,i=["precision",1,ko,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wi+r+": "+n);return this}var My=wA(xq);Bt=new My(1);const xe=My;function Sq(e){return kq(e)||Aq(e)||Oq(e)||jq()}function jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fm(e,t)}}function Aq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kq(e){if(Array.isArray(e))return Fm(e)}function Fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eq=function(t){return t},_A={},SA=function(t){return t===_A},Ww=function(t){return function r(){return arguments.length===0||arguments.length===1&&SA(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Pq=function e(t,r){return t===1?r:Ww(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==_A}).length;return o>=t?r.apply(void 0,i):e(t-o,Ww(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(d){return SA(d)?l.shift():d});return r.apply(void 0,Sq(f).concat(l))}))})},yf=function(t){return Pq(t.length,t)},Wm=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Nq=yf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Tq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Eq;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},qm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jA=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function Cq(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function $q(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Mq=yf(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Iq=yf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Rq=yf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bf={rangeStep:$q,getDigitCount:Cq,interpolateNumber:Mq,uninterpolateNumber:Iq,uninterpolateTruncation:Rq};function Hm(e){return Bq(e)||Lq(e)||OA(e)||Dq()}function Dq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bq(e){if(Array.isArray(e))return Vm(e)}function il(e,t){return Fq(e)||zq(e,t)||OA(e,t)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OA(e,t){if(e){if(typeof e=="string")return Vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vm(e,t)}}function Vm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zq(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Fq(e){if(Array.isArray(e))return e}function AA(e){var t=il(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function kA(e,t,r){if(e.lte(0))return new xe(0);var n=bf.getDigitCount(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new xe(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new xe(Math.ceil(l))}function Wq(e,t,r){var n=1,i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(bf.getDigitCount(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));var o=Math.floor((t-1)/2),s=Tq(Nq(function(l){return i.add(new xe(l-o).mul(n)).toNumber()}),Wm);return s(0,t)}function EA(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var a=kA(new xe(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new xe(0):(o=new xe(e).add(t).div(2),o=o.sub(new xe(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new xe(t).sub(o).div(a).toNumber()),u=s+l+1;return u>r?EA(e,t,r,n,i+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:a,tickMin:o.sub(new xe(s).mul(a)),tickMax:o.add(new xe(l).mul(a))})}function qq(e){var t=il(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=AA([r,n]),l=il(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Hm(Wm(0,i-1).map(function(){return 1/0}))):[].concat(Hm(Wm(0,i-1).map(function(){return-1/0})),[f]);return r>n?qm(d):d}if(u===f)return Wq(u,i,a);var h=EA(u,f,o,a),p=h.step,b=h.tickMin,x=h.tickMax,w=bf.rangeStep(b,x.add(new xe(.1).mul(p)),p);return r>n?qm(w):w}function Hq(e,t){var r=il(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=AA([n,i]),s=il(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(t,2),d=kA(new xe(u).sub(l).div(f-1),a,0),h=[].concat(Hm(bf.rangeStep(new xe(l),new xe(u).sub(new xe(.99).mul(d)),d)),[u]);return n>i?qm(h):h}var Vq=jA(qq),Kq=jA(Hq),Gq="Invariant failed";function Ni(e,t){throw new Error(Gq)}var Xq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(this,arguments)}function Yq(e,t){return eH(e)||Zq(e,t)||Qq(e,t)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qq(e,t){if(e){if(typeof e=="string")return qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(e,t)}}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eH(e){if(Array.isArray(e))return e}function tH(e,t){if(e==null)return{};var r=rH(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TA(n.key),n)}}function aH(e,t,r){return t&&iH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oH(e,t,r){return t=Jc(t),sH(e,PA()?Reflect.construct(t,r||[],Jc(e).constructor):t.apply(e,r))}function sH(e,t){if(t&&(Ga(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lH(e)}function lH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PA=function(){return!!e})()}function Jc(e){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jc(e)}function uH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Km(e,t)}function NA(e,t,r){return t=TA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e){var t=cH(e,"string");return Ga(t)=="symbol"?t:t+""}function cH(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xf=function(e){function t(){return nH(this,t),oH(this,t,arguments)}return uH(t,e),aH(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=tH(n,Xq),p=ce(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ni();var b=l.map(function(x){var w=u(x,s),g=w.x,m=w.y,v=w.value,S=w.errorVal;if(!S)return null;var y=[],_,j;if(Array.isArray(S)){var O=Yq(S,2);_=O[0],j=O[1]}else _=j=S;if(a==="vertical"){var A=f.scale,T=m+i,N=T+o,E=T-o,P=A(v-_),C=A(v+j);y.push({x1:C,y1:N,x2:C,y2:E}),y.push({x1:P,y1:T,x2:C,y2:T}),y.push({x1:P,y1:N,x2:P,y2:E})}else if(a==="horizontal"){var M=d.scale,R=g+i,D=R-o,I=R+o,L=M(v-_),z=M(v+j);y.push({x1:D,y1:z,x2:I,y2:z}),y.push({x1:R,y1:L,x2:R,y2:z}),y.push({x1:D,y1:L,x2:I,y2:L})}return $.createElement(Re,Yc({className:"recharts-errorBar",key:"bar-".concat(y.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),y.map(function(V){return $.createElement("line",Yc({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return $.createElement(Re,{className:"recharts-errorBars"},b)}}])}($.Component);NA(xf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NA(xf,"displayName","ErrorBar");function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){dH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dH(e,t,r){return t=fH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fH(e){var t=hH(e,"string");return al(t)=="symbol"?t:t+""}function hH(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CA=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Rt(r,Ea);if(!o)return null;var s=Ea.defaultProps,l=s!==void 0?Yn(Yn({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,b=p.sectors||p.data||[];return f.concat(b.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Yn(Yn({},h),d.props):{},b=p.dataKey,x=p.name,w=p.legendType,g=p.hide;return{inactive:g,dataKey:b,type:l.iconType||w||"square",color:Iy(d),value:x||b,payload:p}}),Yn(Yn(Yn({},l),Ea.getWithHeight(o,i)),{},{payload:u,item:o})};function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Vw(e){return vH(e)||gH(e)||mH(e)||pH()}function pH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return Gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gm(e,t)}}function gH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vH(e){if(Array.isArray(e))return Gm(e)}function Gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){Na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Na(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=bH(e,"string");return ol(t)=="symbol"?t:t+""}function bH(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,r){return de(e)||de(t)?r:et(t)?ir(e,t,r):le(t)?t(e):r}function ys(e,t,r,n){var i=gq(e,function(s){return Wt(s,t)});if(r==="number"){var a=i.filter(function(s){return K(s)||parseFloat(s)});return a.length?[vf(a),An(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!de(s)}):i;return o.map(function(s){return et(s)||s instanceof Date?s:""})}var xH=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(_r(d-f)!==_r(h-d)){var b=[];if(_r(h-d)===_r(l[1]-l[0])){p=h;var x=d+l[1]-l[0];b[0]=Math.min(x,(x+f)/2),b[1]=Math.max(x,(x+f)/2)}else{p=f;var w=h+l[1]-l[0];b[0]=Math.min(d,(w+d)/2),b[1]=Math.max(d,(w+d)/2)}var g=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>g[0]&&t<=g[1]||t>=b[0]&&t<=b[1]){o=i[u].index;break}}else{var m=Math.min(f,h),v=Math.max(f,h);if(t>(m+d)/2&&t<=(v+d)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Iy=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},wH=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var b=f[d[h]],x=b.items,w=b.cateAxisId,g=x.filter(function(j){return Zr(j.type).indexOf("Bar")>=0});if(g&&g.length){var m=g[0].type.defaultProps,v=m!==void 0?Fe(Fe({},m),g[0].props):g[0].props,S=v.barSize,y=v[w];o[y]||(o[y]=[]);var _=de(S)?r:S;o[y].push({item:g[0],stackList:g.slice(1),barSize:de(_)?void 0:Ei(_,n,0)})}}return o},_H=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=Ei(r,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,b=o.reduce(function(S,y){return S+y.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&p>0&&(h=!0,p*=.9,b=l*p);var x=(i-b)/2>>0,w={offset:x-u,size:0};f=o.reduce(function(S,y){var _={item:y.item,position:{offset:w.offset+w.size+u,size:h?p:y.barSize}},j=[].concat(Vw(S),[_]);return w=j[j.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(O){j.push({item:O,position:w})}),j},d)}else{var g=Ei(n,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var m=(i-2*g-(l-1)*u)/l;m>1&&(m>>=0);var v=s===+s?Math.min(m,s):m;f=o.reduce(function(S,y,_){var j=[].concat(Vw(S),[{item:y.item,position:{offset:g+(m+u)*_+(m-v)/2,size:v}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(O){j.push({item:O,position:j[j.length-1].position})}),j},d)}return f},SH=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=CA({children:a,legendWidth:l});if(u){var f=i||{},d=f.width,h=f.height,p=u.align,b=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&p!=="center"&&K(t[p]))return Fe(Fe({},t),{},Na({},p,t[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&b!=="middle"&&K(t[b]))return Fe(Fe({},t),{},Na({},b,t[b]+(h||0)))}return t},jH=function(t,r,n){return de(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},$A=function(t,r,n,i,a){var o=r.props.children,s=Or(o,xf).filter(function(u){return jH(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Wt(f,n);if(de(d))return u;var h=Array.isArray(d)?[vf(d),An(d)]:[d,d],p=l.reduce(function(b,x){var w=Wt(f,x,0),g=h[0]-Math.abs(Array.isArray(w)?w[0]:w),m=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(g,b[0]),Math.max(m,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},OH=function(t,r,n,i,a){var o=r.map(function(s){return $A(t,s,n,a,i)}).filter(function(s){return!de(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},MA=function(t,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&$A(t,l,u,i)||ys(t,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},IA=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hi=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?_r(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return f.filter(function(d){return!xo(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},Ch=new WeakMap,yu=function(t,r){if(typeof r!="function")return t;Ch.has(t)||Ch.set(t,new WeakMap);var n=Ch.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},AH=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Js(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Hc(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vs(),realScaleType:"point"}:a==="category"?{scale:Js(),realScaleType:"band"}:{scale:Hc(),realScaleType:"linear"};if(ki(i)){var l="scale".concat(nf(i));return{scale:(Uw[l]||vs)(),realScaleType:Uw[l]?l:"point"}}return le(i)?{scale:i}:{scale:vs(),realScaleType:"point"}},Gw=1e-4,kH=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-Gw,o=Math.max(i[0],i[1])+Gw,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},EH=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},PH=function(t,r){if(!r||r.length!==2||!K(r[0])||!K(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!K(t[0])||t[0]<n)&&(a[0]=n),(!K(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},NH=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=xo(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},TH=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=xo(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},CH={sign:NH,expand:VR,none:Ua,silhouette:KR,wiggle:GR,positive:TH},$H=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=CH[n],o=HR().keys(i).value(function(s,l){return+Wt(s,l,0)}).order(bm).offset(a);return o(t)},MH=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(d,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Fe(Fe({},h.type.defaultProps),h.props):h.props,x=b.stackId,w=b.hide;if(w)return d;var g=b[n],m=d[g]||{hasStack:!1,stackGroups:{}};if(et(x)){var v=m.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};v.items.push(h),m.hasStack=!0,m.stackGroups[x]=v}else m.stackGroups[Il("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Fe(Fe({},d),{},Na({},g,m))},l),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,w){var g=p.stackGroups[w];return Fe(Fe({},x),{},Na({},w,{numericAxisId:n,cateAxisId:i,items:g.items,stackedData:$H(t,g.items,a)}))},b)}return Fe(Fe({},d),{},Na({},h,p))},f)},IH=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Vq(u,a,s);return t.domain([vf(f),An(f)]),{niceTicks:f}}if(a&&i==="number"){var d=t.domain(),h=Kq(d,a,s);return{niceTicks:h}}return null};function Xw(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!de(i[t.dataKey])){var s=_c(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Wt(i,de(o)?t.dataKey:o);return de(l)?null:t.scale(l)}var Yw=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Wt(o,r.dataKey,r.domain[s]);return de(l)?null:r.scale(l)-a/2+i},RH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},DH=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(et(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},LH=function(t){return t.reduce(function(r,n){return[vf(n.concat([r[0]]).filter(K)),An(n.concat([r[1]]).filter(K))]},[1/0,-1/0])},RA=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(u,f){var d=LH(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Jw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xm=function(t,r,n){if(le(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(K(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Jw.test(t[0])){var a=+Jw.exec(t[0])[1];i[0]=r[0]-a}else le(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(K(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Qw.test(t[1])){var o=+Qw.exec(t[1])[1];i[1]=r[1]+o}else le(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Qc=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=uy(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Zw=function(t,r,n){return!t||!t.length||rl(t,ir(n,"type.defaultProps.domain"))?r:t},DA=function(t,r){var n=t.type.defaultProps?Fe(Fe({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return Fe(Fe({},ce(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Iy(t),value:Wt(r,i),type:l,payload:r,chartType:u,hide:f})};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=zH(e,"string");return sl(t)=="symbol"?t:t+""}function zH(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zc=Math.PI/180,FH=function(t){return t*180/Math.PI},dt=function(t,r,n,i){return{x:t+Math.cos(-Zc*i)*n,y:r+Math.sin(-Zc*i)*n}},WH=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},qH=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=WH({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:FH(u),angleInRadian:u}},HH=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},VH=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},r1=function(t,r){var n=t.x,i=t.y,a=qH({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=HH(r),d=f.startAngle,h=f.endAngle,p=s,b;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;b=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=d}return b?t1(t1({},r),{},{radius:o,angle:VH(p,r)}):null};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}var KH=["offset"];function GH(e){return QH(e)||JH(e)||YH(e)||XH()}function XH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return Ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ym(e,t)}}function JH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QH(e){if(Array.isArray(e))return Ym(e)}function Ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZH(e,t){if(e==null)return{};var r=eV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return ll(t)=="symbol"?t:t+""}function nV(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(this,arguments)}var iV=function(t){var r=t.value,n=t.formatter,i=de(t.children)?r:t.children;return le(n)?n(i):i},aV=function(t,r){var n=_r(r-t),i=Math.min(Math.abs(r-t),360);return n*i},oV=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,u=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,b=l.endAngle,x=l.clockWise,w=(d+h)/2,g=aV(p,b),m=g>=0?1:-1,v,S;i==="insideStart"?(v=p+m*o,S=x):i==="insideEnd"?(v=b-m*o,S=!x):i==="end"&&(v=b+m*o,S=x),S=g<=0?S:!S;var y=dt(u,f,w,v),_=dt(u,f,w,v+(S?1:-1)*359),j="M".concat(y.x,",").concat(y.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),O=de(t.id)?Il("recharts-radial-line-"):t.id;return $.createElement("text",ul({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:O,d:j})),$.createElement("textPath",{xlinkHref:"#".concat(O)},r))},sV=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,h=(f+d)/2;if(i==="outside"){var p=dt(o,s,u+n,h),b=p.x,x=p.y;return{x:b,y:x,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,g=dt(o,s,w,h),m=g.x,v=g.y;return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},lV=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*i,p=d>0?"end":"start",b=d>0?"start":"end",x=u>=0?1:-1,w=x*i,g=x>0?"end":"start",m=x>0?"start":"end";if(a==="top"){var v={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Ye(Ye({},v),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:b};return Ye(Ye({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(a==="left"){var y={x:s-w,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Ye(Ye({},y),n?{width:Math.max(y.x-n.x,0),height:f}:{})}if(a==="right"){var _={x:s+u+w,y:l+f/2,textAnchor:m,verticalAnchor:"middle"};return Ye(Ye({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:f}:{})}var j=n?{width:u,height:f}:{};return a==="insideLeft"?Ye({x:s+w,y:l+f/2,textAnchor:m,verticalAnchor:"middle"},j):a==="insideRight"?Ye({x:s+u-w,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):a==="insideTop"?Ye({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:b},j):a==="insideBottom"?Ye({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?Ye({x:s+w,y:l+h,textAnchor:m,verticalAnchor:b},j):a==="insideTopRight"?Ye({x:s+u-w,y:l+h,textAnchor:g,verticalAnchor:b},j):a==="insideBottomLeft"?Ye({x:s+w,y:l+f-h,textAnchor:m,verticalAnchor:p},j):a==="insideBottomRight"?Ye({x:s+u-w,y:l+f-h,textAnchor:g,verticalAnchor:p},j):go(a)&&(K(a.x)||ci(a.x))&&(K(a.y)||ci(a.y))?Ye({x:s+Ei(a.x,u),y:l+Ei(a.y,f),textAnchor:"end",verticalAnchor:"end"},j):Ye({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},uV=function(t){return"cx"in t&&K(t.cx)};function bt(e){var t=e.offset,r=t===void 0?5:t,n=ZH(e,KH),i=Ye({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!a||de(s)&&de(l)&&!k.isValidElement(u)&&!le(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var p;if(le(u)){if(p=k.createElement(u,i),k.isValidElement(p))return p}else p=iV(i);var b=uV(a),x=ce(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oV(i,p,x);var w=b?sV(i):lV(i);return $.createElement(Lc,ul({className:me("recharts-label",d)},x,w,{breakAll:h}),p)}bt.displayName="Label";var LA=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,b=t.left,x=t.width,w=t.height,g=t.clockWise,m=t.labelViewBox;if(m)return m;if(K(x)&&K(w)){if(K(d)&&K(h))return{x:d,y:h,width:x,height:w};if(K(p)&&K(b))return{x:p,y:b,width:x,height:w}}return K(d)&&K(h)?{x:d,y:h,width:0,height:0}:K(r)&&K(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:g}:t.viewBox?t.viewBox:{}},cV=function(t,r){return t?t===!0?$.createElement(bt,{key:"label-implicit",viewBox:r}):et(t)?$.createElement(bt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===bt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):$.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):le(t)?$.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):go(t)?$.createElement(bt,ul({viewBox:r},t,{key:"label-implicit"})):null:null},dV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=LA(t),o=Or(i,bt).map(function(l,u){return k.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=cV(t.label,r||a);return[s].concat(GH(o))};bt.parseViewBox=LA;bt.renderCallByParent=dV;function fV(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hV=fV;const pV=_e(hV);function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}var mV=["valueAccessor"],gV=["data","dataKey","clockWise","id","textBreakAll"];function vV(e){return wV(e)||xV(e)||bV(e)||yV()}function yV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bV(e,t){if(e){if(typeof e=="string")return Jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jm(e,t)}}function xV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wV(e){if(Array.isArray(e))return Jm(e)}function Jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){_V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _V(e,t,r){return t=SV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=jV(e,"string");return cl(t)=="symbol"?t:t+""}function jV(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1(e,t){if(e==null)return{};var r=OV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AV=function(t){return Array.isArray(t.value)?pV(t.value):t.value};function Dn(e){var t=e.valueAccessor,r=t===void 0?AV:t,n=o1(e,mV),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=o1(n,gV);return!i||!i.length?null:$.createElement(Re,{className:"recharts-label-list"},i.map(function(f,d){var h=de(a)?r(f,d):Wt(f&&f.payload,a),p=de(s)?{}:{id:"".concat(s,"-").concat(d)};return $.createElement(bt,ed({},ce(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:bt.parseViewBox(de(o)?f:a1(a1({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Dn.displayName="LabelList";function kV(e,t){return e?e===!0?$.createElement(Dn,{key:"labelList-implicit",data:t}):$.isValidElement(e)||le(e)?$.createElement(Dn,{key:"labelList-implicit",data:t,content:e}):go(e)?$.createElement(Dn,ed({data:t},e,{key:"labelList-implicit"})):null:null}function EV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Or(n,Dn).map(function(o,s){return k.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=kV(e.label,t);return[a].concat(vV(i))}Dn.renderCallByParent=EV;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){PV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PV(e,t,r){return t=NV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=TV(e,"string");return dl(t)=="symbol"?t:t+""}function TV(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CV=function(t,r){var n=_r(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},bu=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,f=l*(s?1:-1)+i,d=Math.asin(l/f)/Zc,h=u?a:a+o*d,p=dt(r,n,f,h),b=dt(r,n,i,h),x=u?a-o*d:a,w=dt(r,n,f*Math.cos(d*Zc),x);return{center:p,circleTangency:b,lineTangency:w,theta:d}},BA=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=CV(o,s),u=o+l,f=dt(r,n,a,o),d=dt(r,n,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=dt(r,n,i,o),b=dt(r,n,i,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},$V=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=_r(f-u),h=bu({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,b=h.lineTangency,x=h.theta,w=bu({cx:r,cy:n,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),g=w.circleTangency,m=w.lineTangency,v=w.theta,S=l?Math.abs(u-f):Math.abs(u-f)-x-v;if(S<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):BA({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var y="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=bu({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=_.circleTangency,O=_.lineTangency,A=_.theta,T=bu({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=T.circleTangency,E=T.lineTangency,P=T.theta,C=l?Math.abs(u-f):Math.abs(u-f)-A-P;if(C<0&&o===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},MV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UA=function(t){var r=l1(l1({},MV),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<a||f===d)return null;var p=me("recharts-sector",h),b=o-a,x=Ei(s,b,0,!0),w;return x>0&&Math.abs(f-d)<360?w=$V({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):w=BA({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),$.createElement("path",Qm({},ce(r,!0),{className:p,d:w,role:"img"}))};function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(this,arguments)}function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return t=RV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=DV(e,"string");return fl(t)=="symbol"?t:t+""}function DV(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d1={curveBasisClosed:MR,curveBasisOpen:IR,curveBasis:$R,curveBumpX:bR,curveBumpY:xR,curveLinearClosed:RR,curveLinear:of,curveMonotoneX:DR,curveMonotoneY:LR,curveNatural:BR,curveStep:UR,curveStepAfter:FR,curveStepBefore:zR},xu=function(t){return t.x===+t.x&&t.y===+t.y},Wo=function(t){return t.x},qo=function(t){return t.y},LV=function(t,r){if(le(t))return t;var n="curve".concat(nf(t));return(n==="curveMonotone"||n==="curveBump")&&r?d1["".concat(n).concat(r==="vertical"?"Y":"X")]:d1[n]||of},BV=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,f=LV(n,s),d=u?a.filter(function(x){return xu(x)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return xu(x)}):o,b=d.map(function(x,w){return c1(c1({},x),{},{base:p[w]})});return s==="vertical"?h=cu().y(qo).x1(Wo).x0(function(x){return x.base.x}):h=cu().x(Wo).y1(qo).y0(function(x){return x.base.y}),h.defined(xu).curve(f),h(b)}return s==="vertical"&&K(o)?h=cu().y(qo).x1(Wo).x0(o):K(o)?h=cu().x(Wo).y1(qo).y0(o):h=F2().x(Wo).y(qo),h.defined(xu).curve(f),h(d)},bs=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?BV(t):i;return k.createElement("path",Zm({},ce(t,!1),Sc(t),{className:me("recharts-curve",r),d:o,ref:a}))},zA={exports:{}},UV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zV=UV,FV=zV;function FA(){}function WA(){}WA.resetWarningCache=FA;var WV=function(){function e(n,i,a,o,s,l){if(l!==FV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WA,resetWarningCache:FA};return r.PropTypes=r,r};zA.exports=WV();var qV=zA.exports;const ve=_e(qV),{getOwnPropertyNames:HV,getOwnPropertySymbols:VV}=Object,{hasOwnProperty:KV}=Object.prototype;function $h(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function wu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);const l=e(r,n,i);return a.delete(r),a.delete(n),l}}function GV(e){return e!=null?e[Symbol.toStringTag]:void 0}function f1(e){return HV(e).concat(VV(e))}const XV=Object.hasOwn||((e,t)=>KV.call(e,t));function Ri(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const YV="__v",JV="__o",QV="_owner",{getOwnPropertyDescriptor:h1,keys:p1}=Object;function ZV(e,t){return e.byteLength===t.byteLength&&td(new Uint8Array(e),new Uint8Array(t))}function eK(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tK(e,t){return e.byteLength===t.byteLength&&td(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function rK(e,t){return Ri(e.getTime(),t.getTime())}function nK(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iK(e,t){return e===t}function m1(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=t.entries();let f=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=o.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}const aK=Ri;function oK(e,t,r){const n=p1(e);let i=n.length;if(p1(t).length!==i)return!1;for(;i-- >0;)if(!qA(e,t,r,n[i]))return!1;return!0}function Ho(e,t,r){const n=f1(e);let i=n.length;if(f1(t).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=n[i],!qA(e,t,r,a)||(o=h1(e,a),s=h1(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function sK(e,t){return Ri(e.valueOf(),t.valueOf())}function lK(e,t){return e.source===t.source&&e.flags===t.flags}function g1(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let o,s;for(;(o=a.next())&&!o.done;){const l=t.values();let u=!1,f=0;for(;(s=l.next())&&!s.done;){if(!i[f]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function td(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uK(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function qA(e,t,r,n){return(n===QV||n===JV||n===YV)&&(e.$$typeof||t.$$typeof)?!0:XV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const cK="[object ArrayBuffer]",dK="[object Arguments]",fK="[object Boolean]",hK="[object DataView]",pK="[object Date]",mK="[object Error]",gK="[object Map]",vK="[object Number]",yK="[object Object]",bK="[object RegExp]",xK="[object Set]",wK="[object String]",_K={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},SK="[object URL]",jK=Object.prototype.toString;function OK({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:b}){return function(w,g,m){if(w===g)return!0;if(w==null||g==null)return!1;const v=typeof w;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?s(w,g,m):v==="function"?a(w,g,m):!1;const S=w.constructor;if(S!==g.constructor)return!1;if(S===Object)return l(w,g,m);if(Array.isArray(w))return t(w,g,m);if(S===Date)return n(w,g,m);if(S===RegExp)return f(w,g,m);if(S===Map)return o(w,g,m);if(S===Set)return d(w,g,m);const y=jK.call(w);if(y===pK)return n(w,g,m);if(y===bK)return f(w,g,m);if(y===gK)return o(w,g,m);if(y===xK)return d(w,g,m);if(y===yK)return typeof w.then!="function"&&typeof g.then!="function"&&l(w,g,m);if(y===SK)return p(w,g,m);if(y===mK)return i(w,g,m);if(y===dK)return l(w,g,m);if(_K[y])return h(w,g,m);if(y===cK)return e(w,g,m);if(y===hK)return r(w,g,m);if(y===fK||y===vK||y===wK)return u(w,g,m);if(b){let _=b[y];if(!_){const j=GV(w);j&&(_=b[j])}if(_)return _(w,g,m)}return!1}}function AK({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:ZV,areArraysEqual:r?Ho:eK,areDataViewsEqual:tK,areDatesEqual:rK,areErrorsEqual:nK,areFunctionsEqual:iK,areMapsEqual:r?$h(m1,Ho):m1,areNumbersEqual:aK,areObjectsEqual:r?Ho:oK,arePrimitiveWrappersEqual:sK,areRegExpsEqual:lK,areSetsEqual:r?$h(g1,Ho):g1,areTypedArraysEqual:r?$h(td,Ho):td,areUrlsEqual:uK,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=wu(n.areArraysEqual),a=wu(n.areMapsEqual),o=wu(n.areObjectsEqual),s=wu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return n}function kK(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function EK({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:u,equals:n,meta:f,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(s,l){return t(s,l,a)}}const PK=Vn();Vn({strict:!0});Vn({circular:!0});Vn({circular:!0,strict:!0});Vn({createInternalComparator:()=>Ri});Vn({strict:!0,createInternalComparator:()=>Ri});Vn({circular:!0,createInternalComparator:()=>Ri});Vn({circular:!0,createInternalComparator:()=>Ri,strict:!0});function Vn(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=AK(e),o=OK(a),s=r?r(o):kK(o);return EK({circular:t,comparator:o,createState:n,equals:s,strict:i})}function NK(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function v1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):NK(i)};requestAnimationFrame(n)}function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function TK(e){return IK(e)||MK(e)||$K(e)||CK()}function CK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IK(e){if(Array.isArray(e))return e}function RK(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=TK(o),l=s[0],u=s.slice(1);if(typeof l=="number"){v1(i.bind(null,u),l);return}i(l),v1(i.bind(null,u));return}eg(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function b1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(r),!0).forEach(function(n){HA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HA(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=LK(e,"string");return hl(t)==="symbol"?t:String(t)}function LK(e,t){if(hl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BK=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},UK=function(t){return t},zK=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xs=function(t,r){return Object.keys(r).reduce(function(n,i){return x1(x1({},n),{},HA({},i,t(i,r[i])))},{})},w1=function(t,r,n){return t.map(function(i){return"".concat(zK(i)," ").concat(r,"ms ").concat(n)}).join(",")};function FK(e,t){return HK(e)||qK(e,t)||VA(e,t)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function HK(e){if(Array.isArray(e))return e}function VK(e){return XK(e)||GK(e)||VA(e)||KK()}function KK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VA(e,t){if(e){if(typeof e=="string")return tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tg(e,t)}}function GK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XK(e){if(Array.isArray(e))return tg(e)}function tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rd=1e-4,KA=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},GA=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},_1=function(t,r){return function(n){var i=KA(t,r);return GA(i,n)}},YK=function(t,r){return function(n){var i=KA(t,r),a=[].concat(VK(i.map(function(o,s){return o*s}).slice(1)),[0]);return GA(a,n)}},S1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=FK(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=_1(i,o),h=_1(a,s),p=YK(i,o),b=function(g){return g>1?1:g<0?0:g},x=function(g){for(var m=g>1?1:g,v=m,S=0;S<8;++S){var y=d(v)-m,_=p(v);if(Math.abs(y-m)<rd||_<rd)return h(v);v=b(v-y/_)}return h(v)};return x.isStepper=!1,x},JK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(f,d,h){var p=-(f-d)*n,b=h*a,x=h+(p-b)*s/1e3,w=h*s/1e3+f;return Math.abs(w-d)<rd&&Math.abs(x)<rd?[d,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},QK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S1(i);case"spring":return JK();default:if(i.split("(")[0]==="cubic-bezier")return S1(i)}return typeof i=="function"?i:null};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function j1(e){return tG(e)||eG(e)||XA(e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tG(e){if(Array.isArray(e))return ng(e)}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rg(e,t,r){return t=rG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return pl(t)==="symbol"?t:String(t)}function nG(e,t){if(pl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iG(e,t){return sG(e)||oG(e,t)||XA(e,t)||aG()}function aG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XA(e,t){if(e){if(typeof e=="string")return ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ng(e,t)}}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sG(e){if(Array.isArray(e))return e}var nd=function(t,r,n){return t+(r-t)*n},ig=function(t){var r=t.from,n=t.to;return r!==n},lG=function e(t,r,n){var i=xs(function(a,o){if(ig(o)){var s=t(o.from,o.to,o.velocity),l=iG(s,2),u=l[0],f=l[1];return ut(ut({},o),{},{from:u,velocity:f})}return o},r);return n<1?xs(function(a,o){return ig(o)?ut(ut({},o),{},{velocity:nd(o.velocity,i[a].velocity,n),from:nd(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const uG=function(e,t,r,n,i){var a=BK(e,t),o=a.reduce(function(w,g){return ut(ut({},w),{},rg({},g,[e[g],t[g]]))},{}),s=a.reduce(function(w,g){return ut(ut({},w),{},rg({},g,{from:e[g],velocity:0,to:t[g]}))},{}),l=-1,u,f,d=function(){return null},h=function(){return xs(function(g,m){return m.from},s)},p=function(){return!Object.values(s).filter(ig).length},b=function(g){u||(u=g);var m=g-u,v=m/r.dt;s=lG(r,s,v),i(ut(ut(ut({},e),t),h())),u=g,p()||(l=requestAnimationFrame(d))},x=function(g){f||(f=g);var m=(g-f)/n,v=xs(function(y,_){return nd.apply(void 0,j1(_).concat([r(m)]))},o);if(i(ut(ut(ut({},e),t),v)),m<1)l=requestAnimationFrame(d);else{var S=xs(function(y,_){return nd.apply(void 0,j1(_).concat([r(1)]))},o);i(ut(ut(ut({},e),t),S))}};return d=r.isStepper?b:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var cG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dG(e,t){if(e==null)return{};var r=fG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fG(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Mh(e){return gG(e)||mG(e)||pG(e)||hG()}function hG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(e,t){if(e){if(typeof e=="string")return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}}function mG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gG(e){if(Array.isArray(e))return ag(e)}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){is(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function is(e,t,r){return t=YA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YA(n.key),n)}}function bG(e,t,r){return t&&yG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YA(e){var t=xG(e,"string");return Xa(t)==="symbol"?t:String(t)}function xG(e,t){if(Xa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},og(e,t)}function _G(e){var t=SG();return function(){var n=id(e),i;if(t){var a=id(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sg(this,i)}}function sg(e,t){if(t&&(Xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lg(e)}function lg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}var un=function(e){wG(r,e);var t=_G(r);function r(n,i){var a;vG(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(lg(a)),a.changeStyle=a.changeStyle.bind(lg(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),sg(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},sg(a);a.state={style:l?is({},l,u):u}}else a.state={style:{}};return a}return bG(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:l?is({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(PK(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||u?d:i.to;if(this.state&&h){var w={style:l?is({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(w)}this.runAnimation(dr(dr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=uG(o,s,QK(u),l,this.changeStyle),b=function(){a.stopJSAnimation=p()};this.manager.start([h,f,b,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(x,w,g){if(g===0)return x;var m=w.duration,v=w.easing,S=v===void 0?"ease":v,y=w.style,_=w.properties,j=w.onAnimationEnd,O=g>0?o[g-1]:w,A=_||Object.keys(y);if(typeof S=="function"||S==="spring")return[].concat(Mh(x),[a.runJSAnimation.bind(a,{from:O.style,to:y,duration:m,easing:S}),m]);var T=w1(A,m,S),N=dr(dr(dr({},O.style),y),{},{transition:T});return[].concat(Mh(x),[N,m,j]).filter(UK)};return this.manager.start([l].concat(Mh(o.reduce(p,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RK());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=s?is({},s,l):l,w=w1(Object.keys(x),o,u);b.start([f,a,dr(dr({},x),{},{transition:w}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dG(i,cG),u=k.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(p){var b=p.props,x=b.style,w=x===void 0?{}:x,g=b.className,m=k.cloneElement(p,dr(dr({},l),{},{style:dr(dr({},w),f),className:g}));return m};return u===1?d(k.Children.only(a)):$.createElement("div",null,k.Children.map(a,function(h){return d(h)}))}}]),r}(k.PureComponent);un.displayName="Animate";un.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};un.propTypes={from:ve.oneOfType([ve.object,ve.string]),to:ve.oneOfType([ve.object,ve.string]),attributeName:ve.string,duration:ve.number,begin:ve.number,easing:ve.oneOfType([ve.string,ve.func]),steps:ve.arrayOf(ve.shape({duration:ve.number.isRequired,style:ve.object.isRequired,easing:ve.oneOfType([ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ve.func]),properties:ve.arrayOf("string"),onAnimationEnd:ve.func})),children:ve.oneOfType([ve.node,ve.func]),isActive:ve.bool,canBegin:ve.bool,onAnimationEnd:ve.func,shouldReAnimate:ve.bool,onAnimationStart:ve.func,onAnimationReStart:ve.func};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}function jG(e,t){return EG(e)||kG(e,t)||AG(e,t)||OG()}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function EG(e){if(Array.isArray(e))return e}function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=TG(e,"string");return ml(t)=="symbol"?t:t+""}function TG(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N1=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(r+i)),f+="L ".concat(t+l*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);f="M ".concat(t,",").concat(r+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+l*b,",").concat(r,`
            L `).concat(t+n-l*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*b,`
            L `).concat(t+n,",").concat(r+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-l*b,",").concat(r+i,`
            L `).concat(t+l*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+i-s*b," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},CG=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=f&&i>=d&&i<=h}return!1},$G={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ry=function(t){var r=P1(P1({},$G),t),n=k.useRef(),i=k.useState(-1),a=jG(i,2),o=a[0],s=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,b=r.animationEasing,x=r.animationDuration,w=r.animationBegin,g=r.isAnimationActive,m=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var v=me("recharts-rectangle",p);return m?$.createElement(un,{canBegin:o>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:x,animationEasing:b,isActive:m},function(S){var y=S.width,_=S.height,j=S.x,O=S.y;return $.createElement(un,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:g,easing:b},$.createElement("path",ad({},ce(r,!0),{className:v,d:N1(j,O,y,_,h),ref:n})))}):$.createElement("path",ad({},ce(r,!0),{className:v,d:N1(l,u,f,d,h)}))};function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}var Dy=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=me("recharts-dot",a);return r===+r&&n===+n&&i===+i?k.createElement("circle",ug({},ce(t,!1),Sc(t),{className:o,cx:r,cy:n,r:i})):null};function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}var MG=["x","y","top","left","width","height","className"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=LG(e,"string");return gl(t)=="symbol"?t:t+""}function LG(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e,t){if(e==null)return{};var r=UG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zG=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},FG=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,b=t.className,x=BG(t,MG),w=IG({x:n,y:a,top:s,left:u,width:d,height:p},x);return!K(n)||!K(a)||!K(d)||!K(p)||!K(s)||!K(u)?null:$.createElement("path",cg({},ce(w,!0),{className:me("recharts-cross",b),d:zG(n,a,d,p,s,u)}))},WG=fO,qG=WG(Object.getPrototypeOf,Object),HG=qG,VG=fn,KG=HG,GG=hn,XG="[object Object]",YG=Function.prototype,JG=Object.prototype,JA=YG.toString,QG=JG.hasOwnProperty,ZG=JA.call(Object);function eX(e){if(!GG(e)||VG(e)!=XG)return!1;var t=KG(e);if(t===null)return!0;var r=QG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&JA.call(r)==ZG}var tX=eX;const rX=_e(tX);var nX=fn,iX=hn,aX="[object Boolean]";function oX(e){return e===!0||e===!1||iX(e)&&nX(e)==aX}var sX=oX;const lX=_e(sX);function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function uX(e,t){return hX(e)||fX(e,t)||dX(e,t)||cX()}function cX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hX(e){if(Array.isArray(e))return e}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return t=mX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=gX(e,"string");return vl(t)=="symbol"?t:t+""}function gX(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},vX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yX=function(t){var r=M1(M1({},vX),t),n=k.useRef(),i=k.useState(-1),a=uX(i,2),o=a[0],s=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&s(v)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,x=r.animationDuration,w=r.animationBegin,g=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var m=me("recharts-trapezoid",p);return g?$.createElement(un,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:u},duration:x,animationEasing:b,isActive:g},function(v){var S=v.upperWidth,y=v.lowerWidth,_=v.height,j=v.x,O=v.y;return $.createElement(un,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:b},$.createElement("path",od({},ce(r,!0),{className:m,d:I1(j,O,S,y,_),ref:n})))}):$.createElement("g",null,$.createElement("path",od({},ce(r,!0),{className:m,d:I1(l,u,f,d,h)})))},bX=["option","shapeType","propTransformer","activeClassName","isActive"];function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function xX(e,t){if(e==null)return{};var r=wX(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return t=SX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SX(e){var t=jX(e,"string");return yl(t)=="symbol"?t:t+""}function jX(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OX(e,t){return sd(sd({},t),e)}function AX(e,t){return e==="symbols"}function D1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $.createElement(Ry,r);case"trapezoid":return $.createElement(yX,r);case"sector":return $.createElement(UA,r);case"symbols":if(AX(t))return $.createElement(ey,r);break;default:return null}}function kX(e){return k.isValidElement(e)?e.props:e}function EX(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?OX:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=xX(e,bX),u;if(k.isValidElement(t))u=k.cloneElement(t,sd(sd({},l),kX(t)));else if(le(t))u=t(l);else if(rX(t)&&!lX(t)){var f=i(t,l);u=$.createElement(D1,{shapeType:r,elementProps:f})}else{var d=l;u=$.createElement(D1,{shapeType:r,elementProps:d})}return s?$.createElement(Re,{className:o},u):u}function wf(e,t){return t!=null&&"trapezoids"in e.props}function _f(e,t){return t!=null&&"sectors"in e.props}function bl(e,t){return t!=null&&"points"in e.props}function PX(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function NX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function TX(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function CX(e,t){var r;return wf(e,t)?r=PX:_f(e,t)?r=NX:bl(e,t)&&(r=TX),r}function $X(e,t){var r;return wf(e,t)?r="trapezoids":_f(e,t)?r="sectors":bl(e,t)&&(r="points"),r}function MX(e,t){if(wf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_f(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bl(e,t)?t.payload:{}}function IX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=$X(r,t),a=MX(r,t),o=n.filter(function(l,u){var f=rl(a,l),d=r.props[i].filter(function(b){var x=CX(r,t);return x(b,t)}),h=r.props[i].indexOf(d[d.length-1]),p=u===h;return f&&p}),s=n.indexOf(o[o.length-1]);return s}var RX=Math.ceil,DX=Math.max;function LX(e,t,r,n){for(var i=-1,a=DX(RX((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var BX=LX,UX=NO,L1=1/0,zX=17976931348623157e292;function FX(e){if(!e)return e===0?e:0;if(e=UX(e),e===L1||e===-L1){var t=e<0?-1:1;return t*zX}return e===e?e:0}var WX=FX,qX=BX,HX=cf,Ih=WX;function VX(e){return function(t,r,n){return n&&typeof n!="number"&&HX(t,r,n)&&(r=n=void 0),t=Ih(t),r===void 0?(r=t,t=0):r=Ih(r),n=n===void 0?t<r?1:-1:Ih(n),qX(t,r,n,e)}}var KX=VX,GX=KX,XX=GX(),YX=XX;const ld=_e(YX);function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){QA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QA(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=QX(e,"string");return xl(t)=="symbol"?t:t+""}function QX(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZX=["Webkit","Moz","O","ms"],eY=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ZX.reduce(function(a,o){return U1(U1({},a),{},QA({},o+n,r))},{});return i[t]=r,i};function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){Mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function rY(e,t,r){return t&&F1(e.prototype,t),r&&F1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nY(e,t,r){return t=cd(t),iY(e,ZA()?Reflect.construct(t,r||[],cd(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&(Ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZA=function(){return!!e})()}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}function oY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dg(e,t)}function Mt(e,t,r){return t=ek(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=sY(e,"string");return Ya(t)=="symbol"?t:t+""}function sY(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lY=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=vs().domain(ld(0,l)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},W1=function(t){return t.changedTouches&&!!t.changedTouches.length},Ja=function(e){function t(r){var n;return tY(this,t),n=nY(this,t,[r]),Mt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Mt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mt(n,"handleSlideDragStart",function(i){var a=W1(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return oY(t,e),rY(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,d),b=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:b===f?f:b-b%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Wt(a[n],s,n);return le(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,b=l.onChange,x=n.pageX-a;x>0?x=Math.min(x,u+f-d-s,u+f-d-o):x<0&&(x=Math.max(x,u-o,u-s));var w=this.getIndex({startX:o+x,endX:s+x});(w.startIndex!==h||w.endIndex!==p)&&b&&b(w),this.setState({startX:o+x,endX:s+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=W1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,b=f.onChange,x=f.gap,w=f.data,g={startX:this.state.startX,endX:this.state.endX},m=n.pageX-a;m>0?m=Math.min(m,d+h-p-u):m<0&&(m=Math.max(m,d-u)),g[o]=u+m;var v=this.getIndex(g),S=v.startIndex,y=v.endIndex,_=function(){var O=w.length-1;return o==="startX"&&(s>l?S%x===0:y%x===0)||s<l&&y===O||o==="endX"&&(s>l?y%x===0:S%x===0)||s>l&&y===O};this.setState(Mt(Mt({},o,u+m),"brushMoveStartX",n.pageX),function(){b&&_()&&b(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Mt({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,f=n.padding,d=k.Children.only(u);return d?$.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,b=l.data,x=l.startIndex,w=l.endIndex,g=Math.max(n,this.props.x),m=Rh(Rh({},ce(this.props,!1)),{},{x:g,y:u,width:f,height:d}),v=p||"Min value: ".concat((a=b[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return $.createElement(Re,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),s.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,m))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,b={pointerEvents:"none",fill:u};return $.createElement(Re,{className:"recharts-brush-texts"},$.createElement(Lc,ud({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},b),this.getTextOfTick(i)),$.createElement(Lc,ud({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,b=h.endX,x=h.isTextActive,w=h.isSlideMoving,g=h.isTravellerMoving,m=h.isTravellerFocused;if(!i||!i.length||!K(s)||!K(l)||!K(u)||!K(f)||u<=0||f<=0)return null;var v=me("recharts-brush",a),S=$.Children.count(o)===1,y=eY("userSelect","none");return $.createElement(Re,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(x||w||g||m||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):le(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Rh({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?lY({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(k.PureComponent);Mt(Ja,"displayName","Brush");Mt(Ja,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uY=ly;function cY(e,t){var r;return uY(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var dY=cY,fY=iO,hY=jo,pY=dY,mY=Ct,gY=cf;function vY(e,t,r){var n=mY(e)?fY:pY;return r&&gY(e,t,r)&&(t=void 0),n(e,hY(t))}var yY=vY;const bY=_e(yY);var Lr=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},q1=OO;function xY(e,t,r){t=="__proto__"&&q1?q1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wY=xY,_Y=wY,SY=SO,jY=jo;function OY(e,t){var r={};return t=jY(t),SY(e,function(n,i,a){_Y(r,i,t(n,i,a))}),r}var AY=OY;const kY=_e(AY);function EY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var PY=EY,NY=ly;function TY(e,t){var r=!0;return NY(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var CY=TY,$Y=PY,MY=CY,IY=jo,RY=Ct,DY=cf;function LY(e,t,r){var n=RY(e)?$Y:MY;return r&&DY(e,t,r)&&(t=void 0),n(e,IY(t))}var BY=LY;const UY=_e(BY);var zY=["x","y"];function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return t=WY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=qY(e,"string");return wl(t)=="symbol"?t:t+""}function qY(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){if(e==null)return{};var r=VY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KY(e,t){var r=e.x,n=e.y,i=HY(e,zY),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Vo(Vo(Vo(Vo(Vo({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function V1(e){return $.createElement(EX,fg({shapeType:"rectangle",propTransformer:KY,activeClassName:"recharts-active-bar"},e))}var GY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=K(n)||i4(n);return a?t(n,i):(a||Ni(),r)}},XY=["value","background"],tk;function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function YY(e,t){if(e==null)return{};var r=JY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nk(n.key),n)}}function ZY(e,t,r){return t&&G1(e.prototype,t),r&&G1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eJ(e,t,r){return t=fd(t),tJ(e,rk()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function tJ(e,t){if(t&&(Qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(e)}function rJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function nJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hg(e,t)}function kn(e,t,r){return t=nk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nk(e){var t=iJ(e,"string");return Qa(t)=="symbol"?t:t+""}function iJ(e,t){if(Qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Di=function(e){function t(){var r;QY(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eJ(this,t,[].concat(i)),kn(r,"state",{isAnimationFinished:!1}),kn(r,"id",Il("recharts-bar-")),kn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),kn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return nJ(t,e),ZY(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=ce(this.props,!1);return n&&n.map(function(d,h){var p=h===l,b=p?u:o,x=He(He(He({},f),d),{},{isActive:p,option:b,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Re,dd({className:"recharts-bar-rectangle"},jc(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(V1,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(un,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,x=a.map(function(w,g){var m=h&&h[g];if(m){var v=Zt(m.x,w.x),S=Zt(m.y,w.y),y=Zt(m.width,w.width),_=Zt(m.height,w.height);return He(He({},w),{},{x:v(b),y:S(b),width:y(b),height:_(b)})}if(o==="horizontal"){var j=Zt(0,w.height),O=j(b);return He(He({},w),{},{y:w.y+w.height-O,height:O})}var A=Zt(0,w.width),T=A(b);return He(He({},w),{},{width:T})});return $.createElement(Re,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!rl(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,h=YY(u,XY);if(!d)return null;var p=He(He(He(He(He({},h),{},{fill:"#eee"},d),l),jc(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return $.createElement(V1,dd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=Or(f,xf);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,g){var m=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:m,errorVal:Wt(w,g)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(Re,b,d.map(function(x){return $.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,b=n.background,x=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,g=me("recharts-bar",o),m=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,S=m||v,y=de(x)?this.id:x;return $.createElement(Re,{className:g},m||v?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(y)},$.createElement("rect",{x:m?u:u-d/2,y:v?f:f-h/2,width:m?d:d*2,height:v?h:h*2}))):null,$.createElement(Re,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(y,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,y),(!p||w)&&Dn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(k.PureComponent);tk=Di;kn(Di,"displayName","Bar");kn(Di,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kn(Di,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=EH(n,r);if(!p)return null;var b=t.layout,x=r.type.defaultProps,w=x!==void 0?He(He({},x),r.props):r.props,g=w.dataKey,m=w.children,v=w.minPointSize,S=b==="horizontal"?o:a,y=u?S.scale.domain():null,_=RH({numericAxis:S}),j=Or(m,CO),O=d.map(function(A,T){var N,E,P,C,M,R;u?N=PH(u[f+T],y):(N=Wt(A,g),Array.isArray(N)||(N=[_,N]));var D=GY(v,tk.defaultProps.minPointSize)(N[1],T);if(b==="horizontal"){var I,L=[o.scale(N[0]),o.scale(N[1])],z=L[0],V=L[1];E=Yw({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:A,index:T}),P=(I=V??z)!==null&&I!==void 0?I:void 0,C=p.size;var W=z-V;if(M=Number.isNaN(W)?0:W,R={x:E,y:o.y,width:C,height:o.height},Math.abs(D)>0&&Math.abs(M)<Math.abs(D)){var Q=_r(M||D)*(Math.abs(D)-Math.abs(M));P-=Q,M+=Q}}else{var se=[a.scale(N[0]),a.scale(N[1])],he=se[0],Se=se[1];if(E=he,P=Yw({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:A,index:T}),C=Se-he,M=p.size,R={x:a.x,y:P,width:a.width,height:M},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var G=_r(C||D)*(Math.abs(D)-Math.abs(C));C+=G}}return He(He(He({},A),{},{x:E,y:P,width:C,height:M,value:u?N:N[1],payload:A,background:R},j&&j[T]&&j[T].props),{},{tooltipPayload:[DA(r,A)],tooltipPosition:{x:E+C/2,y:P+M/2}})});return He({data:O,layout:b},h)});function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function aJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ik(n.key),n)}}function oJ(e,t,r){return t&&X1(e.prototype,t),r&&X1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){Sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sf(e,t,r){return t=ik(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ik(e){var t=sJ(e,"string");return _l(t)=="symbol"?t:t+""}function sJ(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ak=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Rt(u,Di);return f.reduce(function(p,b){var x=r[b],w=x.orientation,g=x.domain,m=x.padding,v=m===void 0?{}:m,S=x.mirror,y=x.reversed,_="".concat(w).concat(S?"Mirror":""),j,O,A,T,N;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=g[1]-g[0],P=1/0,C=x.categoricalDomain.sort(s4);if(C.forEach(function(se,he){he>0&&(P=Math.min((se||0)-(C[he-1]||0),P))}),Number.isFinite(P)){var M=P/E,R=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(j=M*R/2),x.padding==="no-gap"){var D=Ei(t.barCategoryGap,M*R),I=M*R/2;j=I-D-(I-D)/R*D}}}i==="xAxis"?O=[n.left+(v.left||0)+(j||0),n.left+n.width-(v.right||0)-(j||0)]:i==="yAxis"?O=l==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(j||0),n.top+n.height-(v.bottom||0)-(j||0)]:O=x.range,y&&(O=[O[1],O[0]]);var L=AH(x,a,h),z=L.scale,V=L.realScaleType;z.domain(g).range(O),kH(z);var W=IH(z,yr(yr({},x),{},{realScaleType:V}));i==="xAxis"?(N=w==="top"&&!S||w==="bottom"&&S,A=n.left,T=d[_]-N*x.height):i==="yAxis"&&(N=w==="left"&&!S||w==="right"&&S,A=d[_]-N*x.width,T=n.top);var Q=yr(yr(yr({},x),W),{},{realScaleType:V,x:A,y:T,scale:z,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return Q.bandSize=Qc(Q,W),!x.hide&&i==="xAxis"?d[_]+=(N?-1:1)*Q.height:x.hide||(d[_]+=(N?-1:1)*Q.width),yr(yr({},p),{},Sf({},b,Q))},{})},ok=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},lJ=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return ok({x:r,y:n},{x:i,y:a})},sk=function(){function e(t){aJ(this,e),this.scale=t}return oJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Sf(sk,"EPS",1e-4);var Ly=function(t){var r=Object.keys(t).reduce(function(n,i){return yr(yr({},n),{},Sf({},i,sk.create(t[i])))},{});return yr(yr({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return kY(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return UY(i,function(a,o){return r[o].isInRange(a)})}})};function uJ(e){return(e%180+180)%180}var cJ=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uJ(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},dJ=cI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lk=k.createContext(void 0),uk=k.createContext(void 0),ck=k.createContext(void 0),fJ=k.createContext({}),dk=k.createContext(void 0),fk=k.createContext(0),hk=k.createContext(0),J1=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,f=dJ(a);return $.createElement(lk.Provider,{value:n},$.createElement(uk.Provider,{value:i},$.createElement(fJ.Provider,{value:a},$.createElement(ck.Provider,{value:f},$.createElement(dk.Provider,{value:o},$.createElement(fk.Provider,{value:u},$.createElement(hk.Provider,{value:l},s)))))))},hJ=function(){return k.useContext(dk)},pk=function(t){var r=k.useContext(lk);r==null&&Ni();var n=r[t];return n==null&&Ni(),n},mk=function(t){var r=k.useContext(uk);r==null&&Ni();var n=r[t];return n==null&&Ni(),n},pJ=function(){var t=k.useContext(ck);return t},gk=function(){return k.useContext(hk)},vk=function(){return k.useContext(fk)};function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function mJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bk(n.key),n)}}function vJ(e,t,r){return t&&gJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yJ(e,t,r){return t=hd(t),bJ(e,yk()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function bJ(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(e)}function xJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yk=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function wJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pg(e,t)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){By(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function By(e,t,r){return t=bk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bk(e){var t=_J(e,"string");return Za(t)=="symbol"?t:t+""}function _J(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SJ(e,t){return kJ(e)||AJ(e,t)||OJ(e,t)||jJ()}function jJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function kJ(e){if(Array.isArray(e))return e}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}var EJ=function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):le(t)?n=t(r):n=$.createElement("line",mg({},r,{className:"recharts-reference-line-line"})),n},PJ=function(t,r,n,i,a,o,s,l,u){var f=a.x,d=a.y,h=a.width,p=a.height;if(n){var b=u.y,x=t.y.apply(b,{position:o});if(Lr(u,"discard")&&!t.y.isInRange(x))return null;var w=[{x:f+h,y:x},{x:f,y:x}];return l==="left"?w.reverse():w}if(r){var g=u.x,m=t.x.apply(g,{position:o});if(Lr(u,"discard")&&!t.x.isInRange(m))return null;var v=[{x:m,y:d+p},{x:m,y:d}];return s==="top"?v.reverse():v}if(i){var S=u.segment,y=S.map(function(_){return t.apply(_,{position:o})});return Lr(u,"discard")&&bY(y,function(_){return!t.isInRange(_)})?null:y}return null};function NJ(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=hJ(),f=pk(i),d=mk(a),h=pJ();if(!u||!h)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ly({x:f.scale,y:d.scale}),b=et(t),x=et(r),w=n&&n.length===2,g=PJ(p,b,x,w,h,e.position,f.orientation,d.orientation,e);if(!g)return null;var m=SJ(g,2),v=m[0],S=v.x,y=v.y,_=m[1],j=_.x,O=_.y,A=Lr(e,"hidden")?"url(#".concat(u,")"):void 0,T=Z1(Z1({clipPath:A},ce(e,!0)),{},{x1:S,y1:y,x2:j,y2:O});return $.createElement(Re,{className:me("recharts-reference-line",s)},EJ(o,T),bt.renderCallByParent(e,lJ({x1:S,y1:y,x2:j,y2:O})))}var Uy=function(e){function t(){return mJ(this,t),yJ(this,t,arguments)}return wJ(t,e),vJ(t,[{key:"render",value:function(){return $.createElement(NJ,this.props)}}])}($.Component);By(Uy,"displayName","ReferenceLine");By(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wk(n.key),n)}}function $J(e,t,r){return t&&CJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MJ(e,t,r){return t=pd(t),IJ(e,xk()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function IJ(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(e)}function RJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xk=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function DJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vg(e,t)}function jf(e,t,r){return t=wk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wk(e){var t=LJ(e,"string");return eo(t)=="symbol"?t:t+""}function LJ(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BJ=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=Ly({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Lr(t,"discard")&&!o.isInRange(s)?null:s},Of=function(e){function t(){return TJ(this,t),MJ(this,t,arguments)}return DJ(t,e),$J(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=et(i),f=et(a);if(bi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=BJ(this.props);if(!d)return null;var h=d.x,p=d.y,b=this.props,x=b.shape,w=b.className,g=Lr(this.props,"hidden")?"url(#".concat(l,")"):void 0,m=r_(r_({clipPath:g},ce(this.props,!0)),{},{cx:h,cy:p});return $.createElement(Re,{className:me("recharts-reference-dot",w)},t.renderDot(x,m),bt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}($.Component);jf(Of,"displayName","ReferenceDot");jf(Of,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jf(Of,"renderDot",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):le(e)?r=e(t):r=$.createElement(Dy,gg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sk(n.key),n)}}function FJ(e,t,r){return t&&zJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WJ(e,t,r){return t=md(t),qJ(e,_k()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function qJ(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(e)}function HJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_k=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function VJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bg(e,t)}function Af(e,t,r){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sk(e){var t=KJ(e,"string");return to(t)=="symbol"?t:t+""}function KJ(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GJ=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var h=Ly({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Lr(a,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:ok(p,b)},kf=function(e){function t(){return UJ(this,t),WJ(this,t,arguments)}return VJ(t,e),FJ(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=et(i),h=et(a),p=et(o),b=et(s),x=this.props.shape;if(!d&&!h&&!p&&!b&&!x)return null;var w=GJ(d,h,p,b,this.props);if(!w&&!x)return null;var g=Lr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return $.createElement(Re,{className:me("recharts-reference-area",l)},t.renderRect(x,i_(i_({clipPath:g},ce(this.props,!0)),w)),bt.renderCallByParent(this.props,w))}}])}($.Component);Af(kf,"displayName","ReferenceArea");Af(kf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Af(kf,"renderRect",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):le(e)?r=e(t):r=$.createElement(Ry,yg({},t,{className:"recharts-reference-area-rect"})),r});function jk(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function XJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cJ(n,r)}function YJ(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function gd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function JJ(e,t){return jk(e,t+1)}function QJ(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,f=o,d=function(){var b=n==null?void 0:n[l];if(b===void 0)return{v:jk(n,u)};var x=l,w,g=function(){return w===void 0&&(w=r(b,x)),w},m=b.coordinate,v=l===0||gd(e,m,g,f,s);v||(l=0,f=o,u+=1),v&&(f=m+e*(g()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return t=eQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return Sl(t)=="symbol"?t:t+""}function tQ(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rQ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,u=function(h){var p=a[h],b,x=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var w=e*(p.coordinate+e*x()/2-l);a[h]=p=vt(vt({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else a[h]=p=vt(vt({},p),{},{tickCoord:p.coordinate});var g=gd(e,p.tickCoord,x,s,l);g&&(l=p.tickCoord-e*(x()/2+i),a[h]=vt(vt({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function nQ(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(a){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-u);o[s-1]=f=vt(vt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=gd(e,f.tickCoord,function(){return d},l,u);p&&(u=f.tickCoord-e*(d/2+i),o[s-1]=vt(vt({},f),{},{isShow:!0}))}for(var b=a?s-1:s,x=function(m){var v=o[m],S,y=function(){return S===void 0&&(S=r(v,m)),S};if(m===0){var _=e*(v.coordinate-e*y()/2-l);o[m]=v=vt(vt({},v),{},{tickCoord:_<0?v.coordinate-_*e:v.coordinate})}else o[m]=v=vt(vt({},v),{},{tickCoord:v.coordinate});var j=gd(e,v.tickCoord,y,l,u);j&&(l=v.tickCoord+e*(y()/2+i),o[m]=vt(vt({},v),{},{isShow:!0}))},w=0;w<b;w++)x(w);return o}function iQ(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(K(l)||Oo.isSsr)return JJ(i,typeof l=="number"&&K(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",b=f&&p==="width"?gs(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(v,S){var y=le(u)?u(v.value,S):v.value;return p==="width"?XJ(gs(y,{fontSize:t,letterSpacing:r}),b,d):gs(y,{fontSize:t,letterSpacing:r})[p]},w=i.length>=2?_r(i[1].coordinate-i[0].coordinate):1,g=YJ(a,w,p);return l==="equidistantPreserveStart"?QJ(w,g,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=nQ(w,g,x,i,o,l==="preserveStartEnd"):h=rQ(w,g,x,i,o),h.filter(function(m){return m.isShow}))}var aQ=["viewBox"],oQ=["viewBox"],sQ=["ticks"];function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){zy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dh(e,t){if(e==null)return{};var r=lQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ak(n.key),n)}}function cQ(e,t,r){return t&&s_(e.prototype,t),r&&s_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dQ(e,t,r){return t=vd(t),fQ(e,Ok()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function fQ(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ok(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ok=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function pQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xg(e,t)}function zy(e,t,r){return t=Ak(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ak(e){var t=mQ(e,"string");return ro(t)=="symbol"?t:t+""}function mQ(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ef=function(e){function t(r){var n;return uQ(this,t),n=dQ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pQ(t,e),cQ(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Dh(n,aQ),s=this.props,l=s.viewBox,u=Dh(s,oQ);return!ka(a,l)||!ka(o,u)||!ka(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,p,b,x,w,g,m,v=d?-1:1,S=n.tickSize||f,y=K(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=b=n.coordinate,w=o+ +!d*l,x=w-v*S,m=x-v*h,g=y;break;case"left":x=w=n.coordinate,b=a+ +!d*s,p=b-v*S,g=p-v*h,m=y;break;case"right":x=w=n.coordinate,b=a+ +d*s,p=b+v*S,g=p+v*h,m=y;break;default:p=b=n.coordinate,w=o+ +d*l,x=w+v*S,m=x+v*h,g=y;break}return{line:{x1:p,y1:x,x2:b,y2:w},tick:{x:g,y:m}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,d=Xe(Xe(Xe({},ce(this.props,!1)),ce(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Xe(Xe({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=Xe(Xe({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return $.createElement("line",va({},d,{className:me("recharts-cartesian-axis-line",ir(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=iQ(Xe(Xe({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=ce(this.props,!1),g=ce(f,!1),m=Xe(Xe({},w),{},{fill:"none"},ce(l,!1)),v=p.map(function(S,y){var _=o.getTickLineCoord(S),j=_.line,O=_.tick,A=Xe(Xe(Xe(Xe({textAnchor:b,verticalAnchor:x},w),{},{stroke:"none",fill:u},g),O),{},{index:y,payload:S,visibleTicksCount:p.length,tickFormatter:d});return $.createElement(Re,va({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},jc(o.props,S,y)),l&&$.createElement("line",va({},m,j,{className:me("recharts-cartesian-axis-tick-line",ir(l,"className"))})),f&&t.renderTickItem(f,A,"".concat(le(d)?d(S.value,y):S.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,p=Dh(d,sQ),b=h;return le(l)&&(b=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!b||!b.length?null:$.createElement(Re,{className:me("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=me(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Xe(Xe({},i),{},{className:s})):le(n)?o=n(Xe(Xe({},i),{},{className:s})):o=$.createElement(Lc,va({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(k.Component);zy(Ef,"displayName","CartesianAxis");zy(Ef,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gQ=["layout","type","stroke","connectNulls","isRange","ref"],vQ=["key"],kk;function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Ek(e,t){if(e==null)return{};var r=yQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){Mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nk(n.key),n)}}function xQ(e,t,r){return t&&u_(e.prototype,t),r&&u_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wQ(e,t,r){return t=yd(t),_Q(e,Pk()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function _Q(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(e)}function SQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pk=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wg(e,t)}function Mr(e,t,r){return t=Nk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nk(e){var t=OQ(e,"string");return no(t)=="symbol"?t:t+""}function OQ(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=function(e){function t(){var r;bQ(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=wQ(this,t,[].concat(i)),Mr(r,"state",{isAnimationFinished:!0}),Mr(r,"id",Il("recharts-area-")),Mr(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),le(o)&&o()}),Mr(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),le(o)&&o()}),r}return jQ(t,e),xQ(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,f=l.points,d=l.dataKey,h=ce(this.props,!1),p=ce(u,!0),b=f.map(function(w,g){var m=gn(gn(gn({key:"dot-".concat(g),r:3},h),p),{},{index:g,cx:w.x,cy:w.y,dataKey:d,value:w.value,payload:w.payload,points:f});return t.renderDotItem(u,m)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Re,pi({className:"recharts-area-dots"},x),b)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,f=n*Math.abs(l-u),d=An(o.map(function(h){return h.y||0}));return K(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(An(a.map(function(h){return h.y||0})),d)),K(d)?$.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,f=n*Math.abs(l-u),d=An(o.map(function(h){return h.x||0}));return K(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(An(a.map(function(h){return h.x||0})),d)),K(d)?$.createElement("rect",{x:0,y:l<u?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,u=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=Ek(s,gQ);return $.createElement(Re,{clipPath:a?"url(#clipPath-".concat(o,")"):null},$.createElement(bs,pi({},ce(p,!0),{points:n,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&$.createElement(bs,pi({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&$.createElement(bs,pi({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,b=this.state,x=b.prevPoints,w=b.prevBaseLine;return $.createElement(un,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var m=g.t;if(x){var v=x.length/s.length,S=s.map(function(O,A){var T=Math.floor(A*v);if(x[T]){var N=x[T],E=Zt(N.x,O.x),P=Zt(N.y,O.y);return gn(gn({},O),{},{x:E(m),y:P(m)})}return O}),y;if(K(l)&&typeof l=="number"){var _=Zt(w,l);y=_(m)}else if(de(l)||xo(l)){var j=Zt(w,0);y=j(m)}else y=l.map(function(O,A){var T=Math.floor(A*v);if(w[T]){var N=w[T],E=Zt(N.x,O.x),P=Zt(N.y,O.y);return gn(gn({},O),{},{x:E(m),y:P(m)})}return O});return a.renderAreaStatically(S,y,n,i)}return $.createElement(Re,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(m))),$.createElement(Re,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!f&&h>0||!rl(f,o)||!rl(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,f=i.left,d=i.xAxis,h=i.yAxis,p=i.width,b=i.height,x=i.isAnimationActive,w=i.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,m=s.length===1,v=me("recharts-area",l),S=d&&d.allowDataOverflow,y=h&&h.allowDataOverflow,_=S||y,j=de(w)?this.id:w,O=(n=ce(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=O.r,T=A===void 0?3:A,N=O.strokeWidth,E=N===void 0?2:N,P=g4(o)?o:{},C=P.clipDot,M=C===void 0?!0:C,R=T*2+E;return $.createElement(Re,{className:v},S||y?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(j)},$.createElement("rect",{x:S?f:f-p/2,y:y?u:u-b/2,width:S?p:p*2,height:y?b:b*2})),!M&&$.createElement("clipPath",{id:"clipPath-dots-".concat(j)},$.createElement("rect",{x:f-R/2,y:u-R/2,width:p+R,height:b+R}))):null,m?null:this.renderArea(_,j),(o||m)&&this.renderDots(_,M,j),(!x||g)&&Dn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(k.PureComponent);kk=Kn;Mr(Kn,"displayName","Area");Mr(Kn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Mr(Kn,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(K(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Mr(Kn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,b=u&&u.length,x=kk.getBaseValue(t,r,n,i),w=p==="horizontal",g=!1,m=d.map(function(S,y){var _;b?_=u[f+y]:(_=Wt(S,l),Array.isArray(_)?g=!0:_=[x,_]);var j=_[1]==null||b&&Wt(S,l)==null;return w?{x:Xw({axis:n,ticks:a,bandSize:s,entry:S,index:y}),y:j?null:i.scale(_[1]),value:_,payload:S}:{x:j?null:n.scale(_[1]),y:Xw({axis:i,ticks:o,bandSize:s,entry:S,index:y}),value:_,payload:S}}),v;return b||g?v=m.map(function(S){var y=Array.isArray(S.value)?S.value[0]:null;return w?{x:S.x,y:y!=null&&S.y!=null?i.scale(y):null}:{x:y!=null?n.scale(y):null,y:S.y}}):v=w?i.scale(x):n.scale(x),gn({points:m,baseLine:v,layout:p,isRange:g},h)});Mr(Kn,"renderDotItem",function(e,t){var r;if($.isValidElement(e))r=$.cloneElement(e,t);else if(le(e))r=e(t);else{var n=me("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Ek(t,vQ);r=$.createElement(Dy,pi({},a,{key:i,className:n}))}return r});function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function AQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$k(n.key),n)}}function EQ(e,t,r){return t&&kQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PQ(e,t,r){return t=bd(t),NQ(e,Tk()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function NQ(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TQ(e)}function TQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tk=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function CQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_g(e,t)}function Ck(e,t,r){return t=$k(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $k(e){var t=$Q(e,"string");return io(t)=="symbol"?t:t+""}function $Q(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function MQ(e){var t=e.xAxisId,r=gk(),n=vk(),i=pk(t);return i==null?null:k.createElement(Ef,Sg({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return hi(o,!0)}}))}var ao=function(e){function t(){return AQ(this,t),PQ(this,t,arguments)}return CQ(t,e),EQ(t,[{key:"render",value:function(){return k.createElement(MQ,this.props)}}])}(k.Component);Ck(ao,"displayName","XAxis");Ck(ao,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function IQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rk(n.key),n)}}function DQ(e,t,r){return t&&RQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LQ(e,t,r){return t=xd(t),BQ(e,Mk()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function BQ(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UQ(e)}function UQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function zQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jg(e,t)}function Ik(e,t,r){return t=Rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rk(e){var t=FQ(e,"string");return oo(t)=="symbol"?t:t+""}function FQ(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}var WQ=function(t){var r=t.yAxisId,n=gk(),i=vk(),a=mk(r);return a==null?null:k.createElement(Ef,Og({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},so=function(e){function t(){return IQ(this,t),LQ(this,t,arguments)}return zQ(t,e),DQ(t,[{key:"render",value:function(){return k.createElement(WQ,this.props)}}])}(k.Component);Ik(so,"displayName","YAxis");Ik(so,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function c_(e){return KQ(e)||VQ(e)||HQ(e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}}function VQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KQ(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kg=function(t,r,n,i,a){var o=Or(t,Uy),s=Or(t,Of),l=[].concat(c_(o),c_(s)),u=Or(t,kf),f="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(x,w){if(w.props[f]===n&&Lr(w.props,"extendDomain")&&K(w.props[d])){var g=w.props[d];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},h)),u.length){var p="".concat(d,"1"),b="".concat(d,"2");h=u.reduce(function(x,w){if(w.props[f]===n&&Lr(w.props,"extendDomain")&&K(w.props[p])&&K(w.props[b])){var g=w.props[p],m=w.props[b];return[Math.min(x[0],g,m),Math.max(x[1],g,m)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,w){return K(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},h)),h},Dk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||l,h),b=r?r+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],p]:l._events[b].push(p):(l._events[b]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,b=new Array(p);h<p;h++)b[h]=d[h].fn;return b},s.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,h,p,b){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],g=arguments.length,m,v;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,d),!0;case 4:return w.fn.call(w.context,f,d,h),!0;case 5:return w.fn.call(w.context,f,d,h,p),!0;case 6:return w.fn.call(w.context,f,d,h,p,b),!0}for(v=1,m=new Array(g-1);v<g;v++)m[v-1]=arguments[v];w.fn.apply(w.context,m)}else{var S=w.length,y;for(v=0;v<S;v++)switch(w[v].once&&this.removeListener(u,w[v].fn,void 0,!0),g){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,f);break;case 3:w[v].fn.call(w[v].context,f,d);break;case 4:w[v].fn.call(w[v].context,f,d,h);break;default:if(!m)for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];w[v].fn.apply(w[v].context,m)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===f&&(!h||b.once)&&(!d||b.context===d)&&o(this,p);else{for(var x=0,w=[],g=b.length;x<g;x++)(b[x].fn!==f||h&&!b[x].once||d&&b[x].context!==d)&&w.push(b[x]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(Dk);var GQ=Dk.exports;const XQ=_e(GQ);var Lh=new XQ,Bh="recharts.syncMouseEvents";function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function YQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function QQ(e,t,r){return t&&JQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uh(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=ZQ(e,"string");return jl(t)=="symbol"?t:t+""}function ZQ(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eZ=function(){function e(){YQ(this,e),Uh(this,"activeIndex",0),Uh(this,"coordinateList",[]),Uh(this,"layout","horizontal")}return QQ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+u,h=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function tZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&K(n)&&K(i))return!0}return!1}function rZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Bk(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=dt(t,r,n,i),s=dt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function nZ(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=dt(s,l,u,d),p=dt(s,l,f,d);n=h.x,i=h.y,a=p.x,o=p.y}else return Bk(t);return[{x:n,y:i},{x:a,y:o}]}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iZ(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=oZ(e,"string");return Ol(t)=="symbol"?t:t+""}function oZ(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,x=bs;if(h==="ScatterChart")b=o,x=FG;else if(h==="BarChart")b=rZ(d,o,l,f),x=Ry;else if(d==="radial"){var w=Bk(o),g=w.cx,m=w.cy,v=w.radius,S=w.startAngle,y=w.endAngle;b={cx:g,cy:m,startAngle:S,endAngle:y,innerRadius:v,outerRadius:v},x=UA}else b={points:nZ(d,o,l)},x=bs;var _=_u(_u(_u(_u({stroke:"#ccc",pointerEvents:"none"},l),b),ce(p,!1)),{},{payload:s,payloadIndex:u,className:me("recharts-tooltip-cursor",p.className)});return k.isValidElement(p)?k.cloneElement(p,_):k.createElement(x,_)}var lZ=["item"],uZ=["children","className","width","height","style","compact","title","desc"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}function f_(e,t){return fZ(e)||dZ(e,t)||zk(e,t)||cZ()}function cZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fZ(e){if(Array.isArray(e))return e}function h_(e,t){if(e==null)return{};var r=hZ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fk(n.key),n)}}function gZ(e,t,r){return t&&mZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vZ(e,t,r){return t=wd(t),yZ(e,Uk()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function yZ(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZ(e)}function bZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function xZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Eg(e,t)}function uo(e){return SZ(e)||_Z(e)||zk(e)||wZ()}function wZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zk(e,t){if(e){if(typeof e=="string")return Pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pg(e,t)}}function _Z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SZ(e){if(Array.isArray(e))return Pg(e)}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ee(e,t,r){return t=Fk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fk(e){var t=jZ(e,"string");return lo(t)=="symbol"?t:t+""}function jZ(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OZ={xAxis:["bottom","top"],yAxis:["left","right"]},AZ={width:"100%",height:"100%"},Wk={x:0,y:0};function Su(e){return e}var kZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},EZ=function(t,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return U(U(U({},i),dt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return U(U(U({},i),dt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Wk},Pf=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(uo(s),uo(u)):s},[]);return o.length>0?o:t&&t.length&&K(i)&&K(a)?t.slice(i,a+1):[]};function qk(e){return e==="number"?[0,"auto"]:void 0}var Ng=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Pf(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=_c(p,o.dataKey,i)}else h=d&&d[n]||s[n];return h?[].concat(uo(l),[DA(u,h)]):l},[])},m_=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=kZ(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,f=xH(o,s,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,h=Ng(t,r,f,d),p=EZ(n,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},PZ=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=IA(f,a);return n.reduce(function(b,x){var w,g=x.type.defaultProps!==void 0?U(U({},x.type.defaultProps),x.props):x.props,m=g.type,v=g.dataKey,S=g.allowDataOverflow,y=g.allowDuplicatedCategory,_=g.scale,j=g.ticks,O=g.includeHidden,A=g[o];if(b[A])return b;var T=Pf(t.data,{graphicalItems:i.filter(function(W){var Q,se=o in W.props?W.props[o]:(Q=W.type.defaultProps)===null||Q===void 0?void 0:Q[o];return se===A}),dataStartIndex:l,dataEndIndex:u}),N=T.length,E,P,C;tZ(g.domain,S,m)&&(E=Xm(g.domain,null,S),p&&(m==="number"||_!=="auto")&&(C=ys(T,v,"category")));var M=qk(m);if(!E||E.length===0){var R,D=(R=g.domain)!==null&&R!==void 0?R:M;if(v){if(E=ys(T,v,m),m==="category"&&p){var I=o4(E);y&&I?(P=E,E=ld(0,N)):y||(E=Zw(D,E,x).reduce(function(W,Q){return W.indexOf(Q)>=0?W:[].concat(uo(W),[Q])},[]))}else if(m==="category")y?E=E.filter(function(W){return W!==""&&!de(W)}):E=Zw(D,E,x).reduce(function(W,Q){return W.indexOf(Q)>=0||Q===""||de(Q)?W:[].concat(uo(W),[Q])},[]);else if(m==="number"){var L=OH(T,i.filter(function(W){var Q,se,he=o in W.props?W.props[o]:(Q=W.type.defaultProps)===null||Q===void 0?void 0:Q[o],Se="hide"in W.props?W.props.hide:(se=W.type.defaultProps)===null||se===void 0?void 0:se.hide;return he===A&&(O||!Se)}),v,a,f);L&&(E=L)}p&&(m==="number"||_!=="auto")&&(C=ys(T,v,"category"))}else p?E=ld(0,N):s&&s[A]&&s[A].hasStack&&m==="number"?E=h==="expand"?[0,1]:RA(s[A].stackGroups,l,u):E=MA(T,i.filter(function(W){var Q=o in W.props?W.props[o]:W.type.defaultProps[o],se="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Q===A&&(O||!se)}),m,f,!0);if(m==="number")E=kg(d,E,A,a,j),D&&(E=Xm(D,E,S));else if(m==="category"&&D){var z=D,V=E.every(function(W){return z.indexOf(W)>=0});V&&(E=z)}}return U(U({},b),{},ee({},A,U(U({},g),{},{axisType:a,domain:E,categoricalDomain:C,duplicateDomain:P,originalDomain:(w=g.domain)!==null&&w!==void 0?w:M,isCategorical:p,layout:f})))},{})},NZ=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=Pf(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,b=IA(f,a),x=-1;return n.reduce(function(w,g){var m=g.type.defaultProps!==void 0?U(U({},g.type.defaultProps),g.props):g.props,v=m[o],S=qk("number");if(!w[v]){x++;var y;return b?y=ld(0,p):s&&s[v]&&s[v].hasStack?(y=RA(s[v].stackGroups,l,u),y=kg(d,y,v,a)):(y=Xm(S,MA(h,n.filter(function(_){var j,O,A=o in _.props?_.props[o]:(j=_.type.defaultProps)===null||j===void 0?void 0:j[o],T="hide"in _.props?_.props.hide:(O=_.type.defaultProps)===null||O===void 0?void 0:O.hide;return A===v&&!T}),"number",f),i.defaultProps.allowDataOverflow),y=kg(d,y,v,a)),U(U({},w),{},ee({},v,U(U({axisType:a},i.defaultProps),{},{hide:!0,orientation:ir(OZ,"".concat(a,".").concat(x%2),null),domain:y,originalDomain:S,isCategorical:b,layout:f})))}return w},{})},TZ=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(i,"Id"),h=Or(f,a),p={};return h&&h.length?p=PZ(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=NZ(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},CZ=function(t){var r=ra(t),n=hi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:uy(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Qc(r,n)}},g_=function(t){var r=t.children,n=t.defaultShowTooltip,i=Rt(r,Ja),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$Z=function(t){return!t||!t.length?!1:t.some(function(r){var n=Zr(r&&r.type);return n&&n.indexOf("Bar")>=0})},v_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MZ=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=Rt(d,Ja),b=Rt(d,Ea),x=Object.keys(l).reduce(function(y,_){var j=l[_],O=j.orientation;return!j.mirror&&!j.hide?U(U({},y),{},ee({},O,y[O]+j.width)):y},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(y,_){var j=o[_],O=j.orientation;return!j.mirror&&!j.hide?U(U({},y),{},ee({},O,ir(y,"".concat(O))+j.height)):y},{top:h.top||0,bottom:h.bottom||0}),g=U(U({},w),x),m=g.bottom;p&&(g.bottom+=p.props.height||Ja.defaultProps.height),b&&r&&(g=SH(g,i,n,r));var v=u-g.left-g.right,S=f-g.top-g.bottom;return U(U({brushBottom:m},g),{},{width:Math.max(v,0),height:Math.max(S,0)})},IZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Hk=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(g,m){var v=m.graphicalItems,S=m.stackGroups,y=m.offset,_=m.updateId,j=m.dataStartIndex,O=m.dataEndIndex,A=g.barSize,T=g.layout,N=g.barGap,E=g.barCategoryGap,P=g.maxBarSize,C=v_(T),M=C.numericAxisName,R=C.cateAxisName,D=$Z(v),I=[];return v.forEach(function(L,z){var V=Pf(g.data,{graphicalItems:[L],dataStartIndex:j,dataEndIndex:O}),W=L.type.defaultProps!==void 0?U(U({},L.type.defaultProps),L.props):L.props,Q=W.dataKey,se=W.maxBarSize,he=W["".concat(M,"Id")],Se=W["".concat(R,"Id")],G={},oe=l.reduce(function(zr,Fr){var ot=m["".concat(Fr.axisType,"Map")],Ui=W["".concat(Fr.axisType,"Id")];ot&&ot[Ui]||Fr.axisType==="zAxis"||Ni();var zi=ot[Ui];return U(U({},zr),{},ee(ee({},Fr.axisType,zi),"".concat(Fr.axisType,"Ticks"),hi(zi)))},G),F=oe[R],X=oe["".concat(R,"Ticks")],ie=S&&S[he]&&S[he].hasStack&&DH(L,S[he].stackGroups),B=Zr(L.type).indexOf("Bar")>=0,je=Qc(F,X),fe=[],We=D&&wH({barSize:A,stackGroups:S,totalSize:IZ(oe,R)});if(B){var q,ae,Be=de(se)?P:se,pt=(q=(ae=Qc(F,X,!0))!==null&&ae!==void 0?ae:Be)!==null&&q!==void 0?q:0;fe=_H({barGap:N,barCategoryGap:E,bandSize:pt!==je?pt:je,sizeList:We[Se],maxBarSize:Be}),pt!==je&&(fe=fe.map(function(zr){return U(U({},zr),{},{position:U(U({},zr.position),{},{offset:zr.position.offset-pt/2})})}))}var Bi=L&&L.type&&L.type.getComposedData;Bi&&I.push({props:U(U({},Bi(U(U({},oe),{},{displayedData:V,props:g,dataKey:Q,item:L,bandSize:je,barPosition:fe,offset:y,stackedData:ie,layout:T,dataStartIndex:j,dataEndIndex:O}))),{},ee(ee(ee({key:L.key||"item-".concat(z)},M,oe[M]),R,oe[R]),"animationId",_)),childIndex:b4(L,g.children),item:L})}),I},p=function(g,m){var v=g.props,S=g.dataStartIndex,y=g.dataEndIndex,_=g.updateId;if(!Hb({props:v}))return null;var j=v.children,O=v.layout,A=v.stackOffset,T=v.data,N=v.reverseStackOrder,E=v_(O),P=E.numericAxisName,C=E.cateAxisName,M=Or(j,n),R=MH(T,M,"".concat(P,"Id"),"".concat(C,"Id"),A,N),D=l.reduce(function(W,Q){var se="".concat(Q.axisType,"Map");return U(U({},W),{},ee({},se,TZ(v,U(U({},Q),{},{graphicalItems:M,stackGroups:Q.axisType===P&&R,dataStartIndex:S,dataEndIndex:y}))))},{}),I=MZ(U(U({},D),{},{props:v,graphicalItems:M}),m==null?void 0:m.legendBBox);Object.keys(D).forEach(function(W){D[W]=f(v,D[W],I,W.replace("Map",""),r)});var L=D["".concat(C,"Map")],z=CZ(L),V=h(v,U(U({},D),{},{dataStartIndex:S,dataEndIndex:y,updateId:_,graphicalItems:M,stackGroups:R,offset:I}));return U(U({formattedGraphicalItems:V,graphicalItems:M,offset:I,stackGroups:R},z),D)},b=function(w){function g(m){var v,S,y;return pZ(this,g),y=vZ(this,g,[m]),ee(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ee(y,"accessibilityManager",new eZ),ee(y,"handleLegendBBoxUpdate",function(_){if(_){var j=y.state,O=j.dataStartIndex,A=j.dataEndIndex,T=j.updateId;y.setState(U({legendBBox:_},p({props:y.props,dataStartIndex:O,dataEndIndex:A,updateId:T},U(U({},y.state),{},{legendBBox:_}))))}}),ee(y,"handleReceiveSyncEvent",function(_,j,O){if(y.props.syncId===_){if(O===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(j)}}),ee(y,"handleBrushChange",function(_){var j=_.startIndex,O=_.endIndex;if(j!==y.state.dataStartIndex||O!==y.state.dataEndIndex){var A=y.state.updateId;y.setState(function(){return U({dataStartIndex:j,dataEndIndex:O},p({props:y.props,dataStartIndex:j,dataEndIndex:O,updateId:A},y.state))}),y.triggerSyncEvent({dataStartIndex:j,dataEndIndex:O})}}),ee(y,"handleMouseEnter",function(_){var j=y.getMouseInfo(_);if(j){var O=U(U({},j),{},{isTooltipActive:!0});y.setState(O),y.triggerSyncEvent(O);var A=y.props.onMouseEnter;le(A)&&A(O,_)}}),ee(y,"triggeredAfterMouseMove",function(_){var j=y.getMouseInfo(_),O=j?U(U({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(O),y.triggerSyncEvent(O);var A=y.props.onMouseMove;le(A)&&A(O,_)}),ee(y,"handleItemMouseEnter",function(_){y.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ee(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),ee(y,"handleMouseMove",function(_){_.persist(),y.throttleTriggeredAfterMouseMove(_)}),ee(y,"handleMouseLeave",function(_){y.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};y.setState(j),y.triggerSyncEvent(j);var O=y.props.onMouseLeave;le(O)&&O(j,_)}),ee(y,"handleOuterEvent",function(_){var j=y4(_),O=ir(y.props,"".concat(j));if(j&&le(O)){var A,T;/.*touch.*/i.test(j)?T=y.getMouseInfo(_.changedTouches[0]):T=y.getMouseInfo(_),O((A=T)!==null&&A!==void 0?A:{},_)}}),ee(y,"handleClick",function(_){var j=y.getMouseInfo(_);if(j){var O=U(U({},j),{},{isTooltipActive:!0});y.setState(O),y.triggerSyncEvent(O);var A=y.props.onClick;le(A)&&A(O,_)}}),ee(y,"handleMouseDown",function(_){var j=y.props.onMouseDown;if(le(j)){var O=y.getMouseInfo(_);j(O,_)}}),ee(y,"handleMouseUp",function(_){var j=y.props.onMouseUp;if(le(j)){var O=y.getMouseInfo(_);j(O,_)}}),ee(y,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ee(y,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.handleMouseDown(_.changedTouches[0])}),ee(y,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.handleMouseUp(_.changedTouches[0])}),ee(y,"handleDoubleClick",function(_){var j=y.props.onDoubleClick;if(le(j)){var O=y.getMouseInfo(_);j(O,_)}}),ee(y,"handleContextMenu",function(_){var j=y.props.onContextMenu;if(le(j)){var O=y.getMouseInfo(_);j(O,_)}}),ee(y,"triggerSyncEvent",function(_){y.props.syncId!==void 0&&Lh.emit(Bh,y.props.syncId,_,y.eventEmitterSymbol)}),ee(y,"applySyncEvent",function(_){var j=y.props,O=j.layout,A=j.syncMethod,T=y.state.updateId,N=_.dataStartIndex,E=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)y.setState(U({dataStartIndex:N,dataEndIndex:E},p({props:y.props,dataStartIndex:N,dataEndIndex:E,updateId:T},y.state)));else if(_.activeTooltipIndex!==void 0){var P=_.chartX,C=_.chartY,M=_.activeTooltipIndex,R=y.state,D=R.offset,I=R.tooltipTicks;if(!D)return;if(typeof A=="function")M=A(I,_);else if(A==="value"){M=-1;for(var L=0;L<I.length;L++)if(I[L].value===_.activeLabel){M=L;break}}var z=U(U({},D),{},{x:D.left,y:D.top}),V=Math.min(P,z.x+z.width),W=Math.min(C,z.y+z.height),Q=I[M]&&I[M].value,se=Ng(y.state,y.props.data,M),he=I[M]?{x:O==="horizontal"?I[M].coordinate:V,y:O==="horizontal"?W:I[M].coordinate}:Wk;y.setState(U(U({},_),{},{activeLabel:Q,activeCoordinate:he,activePayload:se,activeTooltipIndex:M}))}else y.setState(_)}),ee(y,"renderCursor",function(_){var j,O=y.state,A=O.isTooltipActive,T=O.activeCoordinate,N=O.activePayload,E=O.offset,P=O.activeTooltipIndex,C=O.tooltipAxisBandSize,M=y.getTooltipEventType(),R=(j=_.props.active)!==null&&j!==void 0?j:A,D=y.props.layout,I=_.key||"_recharts-cursor";return $.createElement(sZ,{key:I,activeCoordinate:T,activePayload:N,activeTooltipIndex:P,chartName:r,element:_,isActive:R,layout:D,offset:E,tooltipAxisBandSize:C,tooltipEventType:M})}),ee(y,"renderPolarAxis",function(_,j,O){var A=ir(_,"type.axisType"),T=ir(y.state,"".concat(A,"Map")),N=_.type.defaultProps,E=N!==void 0?U(U({},N),_.props):_.props,P=T&&T[E["".concat(A,"Id")]];return k.cloneElement(_,U(U({},P),{},{className:me(A,P.className),key:_.key||"".concat(j,"-").concat(O),ticks:hi(P,!0)}))}),ee(y,"renderPolarGrid",function(_){var j=_.props,O=j.radialLines,A=j.polarAngles,T=j.polarRadius,N=y.state,E=N.radiusAxisMap,P=N.angleAxisMap,C=ra(E),M=ra(P),R=M.cx,D=M.cy,I=M.innerRadius,L=M.outerRadius;return k.cloneElement(_,{polarAngles:Array.isArray(A)?A:hi(M,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(T)?T:hi(C,!0).map(function(z){return z.coordinate}),cx:R,cy:D,innerRadius:I,outerRadius:L,key:_.key||"polar-grid",radialLines:O})}),ee(y,"renderLegend",function(){var _=y.state.formattedGraphicalItems,j=y.props,O=j.children,A=j.width,T=j.height,N=y.props.margin||{},E=A-(N.left||0)-(N.right||0),P=CA({children:O,formattedGraphicalItems:_,legendWidth:E,legendContent:u});if(!P)return null;var C=P.item,M=h_(P,lZ);return k.cloneElement(C,U(U({},M),{},{chartWidth:A,chartHeight:T,margin:N,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),ee(y,"renderTooltip",function(){var _,j=y.props,O=j.children,A=j.accessibilityLayer,T=Rt(O,vr);if(!T)return null;var N=y.state,E=N.isTooltipActive,P=N.activeCoordinate,C=N.activePayload,M=N.activeLabel,R=N.offset,D=(_=T.props.active)!==null&&_!==void 0?_:E;return k.cloneElement(T,{viewBox:U(U({},R),{},{x:R.left,y:R.top}),active:D,label:M,payload:D?C:[],coordinate:P,accessibilityLayer:A})}),ee(y,"renderBrush",function(_){var j=y.props,O=j.margin,A=j.data,T=y.state,N=T.offset,E=T.dataStartIndex,P=T.dataEndIndex,C=T.updateId;return k.cloneElement(_,{key:_.key||"_recharts-brush",onChange:yu(y.handleBrushChange,_.props.onChange),data:A,x:K(_.props.x)?_.props.x:N.left,y:K(_.props.y)?_.props.y:N.top+N.height+N.brushBottom-(O.bottom||0),width:K(_.props.width)?_.props.width:N.width,startIndex:E,endIndex:P,updateId:"brush-".concat(C)})}),ee(y,"renderReferenceElement",function(_,j,O){if(!_)return null;var A=y,T=A.clipPathId,N=y.state,E=N.xAxisMap,P=N.yAxisMap,C=N.offset,M=_.type.defaultProps||{},R=_.props,D=R.xAxisId,I=D===void 0?M.xAxisId:D,L=R.yAxisId,z=L===void 0?M.yAxisId:L;return k.cloneElement(_,{key:_.key||"".concat(j,"-").concat(O),xAxis:E[I],yAxis:P[z],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:T})}),ee(y,"renderActivePoints",function(_){var j=_.item,O=_.activePoint,A=_.basePoint,T=_.childIndex,N=_.isRange,E=[],P=j.props.key,C=j.item.type.defaultProps!==void 0?U(U({},j.item.type.defaultProps),j.item.props):j.item.props,M=C.activeDot,R=C.dataKey,D=U(U({index:T,dataKey:R,cx:O.x,cy:O.y,r:4,fill:Iy(j.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ce(M,!1)),Sc(M));return E.push(g.renderActiveDot(M,D,"".concat(P,"-activePoint-").concat(T))),A?E.push(g.renderActiveDot(M,U(U({},D),{},{cx:A.x,cy:A.y}),"".concat(P,"-basePoint-").concat(T))):N&&E.push(null),E}),ee(y,"renderGraphicChild",function(_,j,O){var A=y.filterFormatItem(_,j,O);if(!A)return null;var T=y.getTooltipEventType(),N=y.state,E=N.isTooltipActive,P=N.tooltipAxis,C=N.activeTooltipIndex,M=N.activeLabel,R=y.props.children,D=Rt(R,vr),I=A.props,L=I.points,z=I.isRange,V=I.baseLine,W=A.item.type.defaultProps!==void 0?U(U({},A.item.type.defaultProps),A.item.props):A.item.props,Q=W.activeDot,se=W.hide,he=W.activeBar,Se=W.activeShape,G=!!(!se&&E&&D&&(Q||he||Se)),oe={};T!=="axis"&&D&&D.props.trigger==="click"?oe={onClick:yu(y.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(oe={onMouseLeave:yu(y.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:yu(y.handleItemMouseEnter,_.props.onMouseEnter)});var F=k.cloneElement(_,U(U({},A.props),oe));function X(Fr){return typeof P.dataKey=="function"?P.dataKey(Fr.payload):null}if(G)if(C>=0){var ie,B;if(P.dataKey&&!P.allowDuplicatedCategory){var je=typeof P.dataKey=="function"?X:"payload.".concat(P.dataKey.toString());ie=_c(L,je,M),B=z&&V&&_c(V,je,M)}else ie=L==null?void 0:L[C],B=z&&V&&V[C];if(Se||he){var fe=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[k.cloneElement(_,U(U(U({},A.props),oe),{},{activeIndex:fe})),null,null]}if(!de(ie))return[F].concat(uo(y.renderActivePoints({item:A,activePoint:ie,basePoint:B,childIndex:C,isRange:z})))}else{var We,q=(We=y.getItemByXY(y.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:F},ae=q.graphicalItem,Be=ae.item,pt=Be===void 0?_:Be,Bi=ae.childIndex,zr=U(U(U({},A.props),oe),{},{activeIndex:Bi});return[k.cloneElement(pt,zr),null,null]}return z?[F,null,null]:[F,null]}),ee(y,"renderCustomized",function(_,j,O){return k.cloneElement(_,U(U({key:"recharts-customized-".concat(O)},y.props),y.state))}),ee(y,"renderMap",{CartesianGrid:{handler:Su,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Su},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Su},YAxis:{handler:Su},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((v=m.id)!==null&&v!==void 0?v:Il("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=TO(y.triggeredAfterMouseMove,(S=m.throttleDelay)!==null&&S!==void 0?S:1e3/60),y.state={},y}return xZ(g,w),gZ(g,[{key:"componentDidMount",value:function(){var v,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,S=v.children,y=v.data,_=v.height,j=v.layout,O=Rt(S,vr);if(O){var A=O.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,N=Ng(this.state,y,A,T),E=this.state.tooltipTicks[A].coordinate,P=(this.state.offset.top+_)/2,C=j==="horizontal",M=C?{x:E,y:P}:{y:E,x:P},R=this.state.formattedGraphicalItems.find(function(I){var L=I.item;return L.type.name==="Scatter"});R&&(M=U(U({},M),R.props.points[A].tooltipPosition),N=R.props.points[A].tooltipPayload);var D={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:N,activeCoordinate:M};this.setState(D),this.renderCursor(O),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var y,_;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(v){cm([Rt(v.children,vr)],[Rt(this.props.children,vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Rt(this.props.children,vr);if(v&&typeof v.props.shared=="boolean"){var S=v.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var S=this.container,y=S.getBoundingClientRect(),_=Vz(y),j={chartX:Math.round(v.pageX-_.left),chartY:Math.round(v.pageY-_.top)},O=y.width/S.offsetWidth||1,A=this.inRange(j.chartX,j.chartY,O);if(!A)return null;var T=this.state,N=T.xAxisMap,E=T.yAxisMap,P=this.getTooltipEventType(),C=m_(this.state,this.props.data,this.props.layout,A);if(P!=="axis"&&N&&E){var M=ra(N).scale,R=ra(E).scale,D=M&&M.invert?M.invert(j.chartX):null,I=R&&R.invert?R.invert(j.chartY):null;return U(U({},j),{},{xValue:D,yValue:I},C)}return C?U(U({},j),C):null}},{key:"inRange",value:function(v,S){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,j=v/y,O=S/y;if(_==="horizontal"||_==="vertical"){var A=this.state.offset,T=j>=A.left&&j<=A.left+A.width&&O>=A.top&&O<=A.top+A.height;return T?{x:j,y:O}:null}var N=this.state,E=N.angleAxisMap,P=N.radiusAxisMap;if(E&&P){var C=ra(E);return r1({x:j,y:O},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,S=this.getTooltipEventType(),y=Rt(v,vr),_={};y&&S==="axis"&&(y.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Sc(this.props,this.handleOuterEvent);return U(U({},j),_)}},{key:"addListener",value:function(){Lh.on(Bh,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lh.removeListener(Bh,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,S,y){for(var _=this.state.formattedGraphicalItems,j=0,O=_.length;j<O;j++){var A=_[j];if(A.item===v||A.props.key===v.key||S===Zr(A.item.type)&&y===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,S=this.state.offset,y=S.left,_=S.top,j=S.height,O=S.width;return $.createElement("defs",null,$.createElement("clipPath",{id:v},$.createElement("rect",{x:y,y:_,height:j,width:O})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(S,y){var _=f_(y,2),j=_[0],O=_[1];return U(U({},S),{},ee({},j,O.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(S,y){var _=f_(y,2),j=_[0],O=_[1];return U(U({},S),{},ee({},j,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(v){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(v){var S=this.state,y=S.formattedGraphicalItems,_=S.activeItem;if(y&&y.length)for(var j=0,O=y.length;j<O;j++){var A=y[j],T=A.props,N=A.item,E=N.type.defaultProps!==void 0?U(U({},N.type.defaultProps),N.props):N.props,P=Zr(N.type);if(P==="Bar"){var C=(T.data||[]).find(function(I){return CG(v,I)});if(C)return{graphicalItem:A,payload:C}}else if(P==="RadialBar"){var M=(T.data||[]).find(function(I){return r1(v,I)});if(M)return{graphicalItem:A,payload:M}}else if(wf(A,_)||_f(A,_)||bl(A,_)){var R=IX({graphicalItem:A,activeTooltipItem:_,itemData:E.data}),D=E.activeIndex===void 0?R:E.activeIndex;return{graphicalItem:U(U({},A),{},{childIndex:D}),payload:bl(A,_)?E.data[R]:A.props.data[R]}}}return null}},{key:"render",value:function(){var v=this;if(!Hb(this))return null;var S=this.props,y=S.children,_=S.className,j=S.width,O=S.height,A=S.style,T=S.compact,N=S.title,E=S.desc,P=h_(S,uZ),C=ce(P,!1);if(T)return $.createElement(J1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(fm,ya({},C,{width:j,height:O,title:N,desc:E}),this.renderClipPath(),Kb(y,this.renderMap)));if(this.props.accessibilityLayer){var M,R;C.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,C.role=(R=this.props.role)!==null&&R!==void 0?R:"application",C.onKeyDown=function(I){v.accessibilityManager.keyboardEvent(I)},C.onFocus=function(){v.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return $.createElement(J1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",ya({className:me("recharts-wrapper",_),style:U({position:"relative",cursor:"default",width:j,height:O},A)},D,{ref:function(L){v.container=L}}),$.createElement(fm,ya({},C,{width:j,height:O,title:N,desc:E,style:AZ}),this.renderClipPath(),Kb(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);ee(b,"displayName",r),ee(b,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ee(b,"getDerivedStateFromProps",function(w,g){var m=w.dataKey,v=w.data,S=w.children,y=w.width,_=w.height,j=w.layout,O=w.stackOffset,A=w.margin,T=g.dataStartIndex,N=g.dataEndIndex;if(g.updateId===void 0){var E=g_(w);return U(U(U({},E),{},{updateId:0},p(U(U({props:w},E),{},{updateId:0}),g)),{},{prevDataKey:m,prevData:v,prevWidth:y,prevHeight:_,prevLayout:j,prevStackOffset:O,prevMargin:A,prevChildren:S})}if(m!==g.prevDataKey||v!==g.prevData||y!==g.prevWidth||_!==g.prevHeight||j!==g.prevLayout||O!==g.prevStackOffset||!ka(A,g.prevMargin)){var P=g_(w),C={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},M=U(U({},m_(g,v,j)),{},{updateId:g.updateId+1}),R=U(U(U({},P),C),M);return U(U(U({},R),p(U({props:w},R),g)),{},{prevDataKey:m,prevData:v,prevWidth:y,prevHeight:_,prevLayout:j,prevStackOffset:O,prevMargin:A,prevChildren:S})}if(!cm(S,g.prevChildren)){var D,I,L,z,V=Rt(S,Ja),W=V&&(D=(I=V.props)===null||I===void 0?void 0:I.startIndex)!==null&&D!==void 0?D:T,Q=V&&(L=(z=V.props)===null||z===void 0?void 0:z.endIndex)!==null&&L!==void 0?L:N,se=W!==T||Q!==N,he=!de(v),Se=he&&!se?g.updateId:g.updateId+1;return U(U({updateId:Se},p(U(U({props:w},g),{},{updateId:Se,dataStartIndex:W,dataEndIndex:Q}),g)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:Q})}return null}),ee(b,"renderActiveDot",function(w,g,m){var v;return k.isValidElement(w)?v=k.cloneElement(w,g):le(w)?v=w(g):v=$.createElement(Dy,g),$.createElement(Re,{className:"recharts-active-dot",key:m},v)});var x=k.forwardRef(function(g,m){return $.createElement(b,ya({},g,{ref:m}))});return x.displayName=b.displayName,x},RZ=Hk({chartName:"BarChart",GraphicalChild:Di,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ao},{axisType:"yAxis",AxisComp:so}],formatAxisMap:ak}),DZ=Hk({chartName:"AreaChart",GraphicalChild:Kn,axisComponents:[{axisType:"xAxis",AxisComp:ao},{axisType:"yAxis",AxisComp:so}],formatAxisMap:ak});function LZ({demoMode:e,stats:t,conversations:r,leads:n,onOpenSuggestions:i,onOpenInsights:a,onActivateAI:o,onGoToAnalysis:s,onOpenEvents:l}){const u=r||[],f=n||[],d=!e&&(!!(t&&Object.keys(t).length>0)||u.length>0||f.length>0),h=k.useMemo(()=>[{label:"Conversas",value:87,delta:"+12%",icon:li,tone:"orange",hint:"ltimos 7 dias"},{label:"Leads",value:34,delta:"+9%",icon:Wu,tone:"cyan",hint:"Entraram no pipeline"},{label:"Qualificados",value:12,delta:"+4%",icon:mc,tone:"green",hint:"Alta inteno"},{label:"Tempo mdio",value:"18s",delta:"-7%",icon:gc,tone:"orange",hint:"Resposta do agente"}],[]),p=k.useMemo(()=>[{name:"Seg",value:12},{name:"Ter",value:18},{name:"Qua",value:16},{name:"Qui",value:25},{name:"Sex",value:21},{name:"Sb",value:14},{name:"Dom",value:9}],[]),b=k.useMemo(()=>[{name:"Ctico",value:10},{name:"Curioso",value:17},{name:"Preo",value:12},{name:"Empolgado",value:9},{name:"Pronto",value:6}],[]),x=k.useMemo(()=>[{type:"lead",title:"Novo lead qualificado",desc:"Lead entrou com Health Score 78/100",time:"h 2 min",icon:tr,tone:"orange"},{type:"alert",title:"Objeo detectada",desc:"Preo/ROI apareceu em 3 conversas",time:"h 12 min",icon:La,tone:"red"},{type:"system",title:"Sistema estvel",desc:"Webhooks OK  Supabase conectado",time:"h 31 min",icon:Oa,tone:"green"},{type:"perf",title:"Performance do agente",desc:"Tempo mdio caiu de 22s  18s",time:"hoje",icon:Ba,tone:"cyan"}],[]),w=k.useMemo(()=>{const O=(t==null?void 0:t.conversations_total)??u.length??0,A=(t==null?void 0:t.leads_total)??f.length??0,T=(t==null?void 0:t.qualified_total)??f.filter(P=>(P.status||"").toLowerCase()==="qualified").length??0,N=(t==null?void 0:t.avg_response_time_seconds)??0,E=N?`${Math.round(N)}s`:"";return[{label:"Conversas",value:O,delta:"",icon:li,tone:"orange",hint:"Total"},{label:"Leads",value:A,delta:"",icon:Wu,tone:"cyan",hint:"Total"},{label:"Qualificados",value:T,delta:"",icon:mc,tone:"green",hint:"Status qualified"},{label:"Tempo mdio",value:E,delta:"",icon:gc,tone:"orange",hint:"Resposta do agente"}]},[t,u,f]),g=k.useMemo(()=>{var O;return(O=t==null?void 0:t.activity_last_7_days)!=null&&O.length?t.activity_last_7_days:u.length?[{name:"Seg",value:0},{name:"Ter",value:0},{name:"Qua",value:0},{name:"Qui",value:0},{name:"Sex",value:0},{name:"Sb",value:0},{name:"Dom",value:u.length}]:[{name:"Seg",value:0},{name:"Ter",value:0},{name:"Qua",value:0},{name:"Qui",value:0},{name:"Sex",value:0},{name:"Sb",value:0},{name:"Dom",value:0}]},[t,u]),m=k.useMemo(()=>{const O=t==null?void 0:t.emotions_distribution;if(O&&Object.keys(O).length){const E=["skeptical","curious","price_sensitive","excited","ready","neutral"],P={skeptical:"Ctico",curious:"Curioso",price_sensitive:"Preo",excited:"Empolgado",ready:"Pronto",neutral:"Neutro"};return E.filter(C=>O[C]!=null).map(C=>({name:P[C]||C,value:Number(O[C]||0)}))}if(!u.length)return[{name:"Ctico",value:0},{name:"Curioso",value:0},{name:"Preo",value:0},{name:"Empolgado",value:0},{name:"Pronto",value:0}];const A={};u.forEach(E=>{const P=(E.current_emotion||"neutral").toLowerCase();A[P]=(A[P]||0)+1});const T={skeptical:"Ctico",curious:"Curioso",price_sensitive:"Preo",excited:"Empolgado",ready:"Pronto",neutral:"Neutro"};return Object.keys(A).slice(0,6).map(E=>({name:T[E]||E,value:A[E]}))},[t,u]),v=k.useMemo(()=>{if(!d)return[];const O=[];return u.length&&O.push({title:"Conversas carregadas",desc:`${u.length} conversas no sistema`,time:"agora",icon:li,tone:"orange"}),f.length&&O.push({title:"Leads carregados",desc:`${f.length} leads no sistema`,time:"agora",icon:Wu,tone:"cyan"}),O.push({title:"Modo produo",desc:"Sem mock  exibindo apenas dados reais",time:"agora",icon:ob,tone:"green"}),O.slice(0,4)},[d,u.length,f.length]),S=e?h:w,y=e?p:g,_=e?b:m,j=e?x:v;return!e&&!d?c.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-10 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:[c.jsx(ob,{className:"w-4 h-4 text-[#f57f17]"}),"Produo  Dados reais"]}),c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-4",children:"Ainda no h dados para exibir"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Este painel no usa mock no MCP. Assim que chegarem conversas/leads via webhook e forem persistidas no banco, os nmeros e grficos aparecem aqui."}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(zh,{title:"1) Envie mensagens",desc:"Use o WhatsApp conectado para criar conversas reais.",icon:li}),c.jsx(zh,{title:"2) Verifique o Webhook",desc:"Confira se o endpoint /api est respondendo e salvando.",icon:Oa}),c.jsx(zh,{title:"3) Atualize",desc:"Assim que houver dados, este painel se preenche automaticamente.",icon:ab})]}),c.jsxs("div",{className:"mt-6 flex items-center gap-3 flex-wrap",children:[c.jsxs("button",{onClick:s,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[c.jsx(Ba,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),c.jsx(rs,{className:"w-4 h-4 text-[#f57f17]"})]}),c.jsx("span",{className:"text-xs text-gray-500",children:"*Quando voc comear a receber conversas, esse dashboard vira vivo.*"})]})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"xl:col-span-8 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)] relative overflow-hidden",children:[c.jsx("div",{className:"pointer-events-none absolute -top-20 -right-40 h-[320px] w-[320px] rounded-full bg-[#f57f17]/20 blur-3xl"}),c.jsx("div",{className:"pointer-events-none absolute -bottom-28 left-[-120px] h-[320px] w-[320px] rounded-full bg-cyan-500/10 blur-3xl"}),c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[c.jsx(ab,{className:"w-4 h-4"}),e?"Demo  Painel fictcio":"Realtime  Operao viva"]}),c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-4",children:"Viso Executiva do Funil"}),c.jsx("p",{className:"text-gray-400 mt-2 max-w-2xl",children:"Tudo o que importa em um painel: volume, qualidade, inteno e performance do agente  com insights prontos para ao."}),c.jsxs("div",{className:"mt-6 flex items-center gap-3 flex-wrap",children:[c.jsxs("button",{onClick:a,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[c.jsx(Cl,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ver insights"}),c.jsx(rs,{className:"w-4 h-4 text-[#f57f17]"})]}),c.jsxs("button",{onClick:i,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2",children:[c.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm font-semibold text-gray-200",children:"Sugestes IA"})]}),e?c.jsx("span",{className:"text-xs text-gray-500",children:"*Demo com dados fictcios para demonstrao.*"}):c.jsx("span",{className:"text-xs text-gray-500",children:"*Os dados vm do backend (Supabase/Webhook).*"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Fh,{label:"SLA",value:e?"99.8%":"",tone:"green",tooltip:"SLA = % de mensagens respondidas dentro do tempo alvo (ex: 60s)."}),c.jsx(Fh,{label:"Erros",value:e?"0":"",tone:"orange",tooltip:"Erros = falhas do webhook/integraes (WhatsApp, DB, automaes)."}),c.jsx(Fh,{label:"Latncia",value:e?"112ms":"",tone:"cyan",tooltip:"Latncia = tempo mdio da API/webhook (resposta do backend)."})]})]}),c.jsxs("div",{className:"mt-7 h-[260px] rounded-2xl border border-white/10 bg-black/40 p-4",children:[c.jsxs("p",{className:"text-sm font-semibold text-gray-200 mb-3",children:["Atividade (conversas/dia)",c.jsx("span",{className:"text-xs text-gray-500 ml-2",children:" ltimos 7 dias"})]}),c.jsx(qx,{width:"100%",height:"100%",children:c.jsxs(DZ,{data:y,margin:{top:10,right:10,left:-15,bottom:0},children:[c.jsx(ao,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1}),c.jsx(so,{stroke:"#6b7280",tickLine:!1,axisLine:!1}),c.jsx(vr,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"14px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),c.jsx(Kn,{type:"monotone",dataKey:"value",stroke:"#f57f17",fill:"rgba(245,127,23,0.18)",strokeWidth:2.5})]})})]})]}),c.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Atividade"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e?"Eventos fictcios do demo":"Eventos do sistema"})]}),c.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:"Live"})]}),c.jsx("div",{className:"mt-6 space-y-3",children:j.length===0?c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-5",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"Sem eventos"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Assim que chegarem conversas/leads, o feed aparece aqui."})]}):j.map((O,A)=>c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:y_(O.tone),children:c.jsx(O.icon,{className:b_(O.tone)})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:O.title}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.desc}),c.jsx("p",{className:"text-[11px] text-gray-600 mt-2",children:O.time})]})]})},A))}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:l,className:"w-full h-11 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Ver todos os eventos"})})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:S.map((O,A)=>c.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-white/5 backdrop-blur-xl p-6 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:O.label}),c.jsx("p",{className:"text-4xl font-bold text-white mt-2",children:O.value}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:O.hint})]}),c.jsx("div",{className:y_(O.tone),children:c.jsx(O.icon,{className:b_(O.tone)})})]}),c.jsxs("div",{className:"mt-5 flex items-center justify-between",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Variao"}),c.jsxs("span",{className:BZ(O.tone),children:[c.jsx(rs,{className:"w-4 h-4"}),O.delta]})]})]},A))}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Distribuio Emocional"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Onde est o volume e a inteno agora"})]}),c.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:"ltimos 7 dias"})]}),c.jsx("div",{className:"mt-6 h-[300px] rounded-2xl border border-white/10 bg-black/40 p-4",children:c.jsx(qx,{width:"100%",height:"100%",children:c.jsxs(RZ,{data:_,margin:{top:10,right:10,left:-10,bottom:10},children:[c.jsx(ao,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1}),c.jsx(so,{stroke:"#6b7280",tickLine:!1,axisLine:!1}),c.jsx(vr,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"14px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),c.jsx(Di,{dataKey:"value",fill:"#f57f17",radius:[10,10,0,0]})]})})}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Wh,{icon:tr,title:"Ao rpida",desc:"Priorize os Prontos com follow-up imediato + call."}),c.jsx(Wh,{icon:La,title:"Objeo",desc:"Preo aparece com frequncia  traga ROI e prova social."}),c.jsx(Wh,{icon:Oa,title:"Sugerido",desc:"Automatize tags e rotas por emoo/urgncia."})]})]}),c.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Aes Recomendadas"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"O que fazer agora para aumentar converso"})]}),c.jsx("span",{className:"rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:"DOCA IA"})]}),c.jsxs("div",{className:"mt-6 space-y-3",children:[c.jsx(ju,{title:"1) Atacar leads prontos ",desc:"Fila de follow-up + agenda automtica em menos de 5 min.",tone:"green"}),c.jsx(ju,{title:"2) Destravar cticos ",desc:"Prova social + cases + garantia reduz risco.",tone:"orange"}),c.jsx(ju,{title:"3) Sensveis a preo ",desc:"2 opes (parcela vs  vista) + ROI imediato.",tone:"cyan"}),c.jsx(ju,{title:"4) Frustrados ",desc:"Mensagem emptica antes de ofertar. Humanizar.",tone:"red"})]}),c.jsxs("div",{className:"mt-6 rounded-2xl border border-white/10 bg-black/40 p-5",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"Prximo passo recomendado"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Conectar o mdulo"," ",c.jsx("span",{className:"text-gray-200 font-semibold",children:"Anlise IA"})," ","para gerar relatrios automticos e alertas."]}),c.jsxs("button",{onClick:o,className:"mt-4 w-full h-11 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all text-sm font-semibold text-[#f57f17] flex items-center justify-center gap-2",children:[c.jsx(tr,{className:"w-4 h-4"}),"Ativar Anlise IA",c.jsx(rs,{className:"w-4 h-4"})]})]})]})]})]})}function zh({title:e,desc:t,icon:r}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center",children:c.jsx(r,{className:"w-4 h-4 text-[#f57f17]"})}),c.jsx("p",{className:"text-sm font-semibold text-white",children:e})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t})]})}function Fh({label:e,value:t,tone:r,tooltip:n}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl px-4 py-3 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-gray-500",children:e}),n&&c.jsxs("span",{className:"group relative",children:[c.jsx(Yj,{className:"w-3.5 h-3.5 text-gray-600"}),c.jsx("span",{className:"pointer-events-none absolute left-1/2 top-full z-10 mt-2 w-56 -translate-x-1/2 rounded-xl border border-white/10 bg-black/90 px-3 py-2 text-[11px] text-gray-200 opacity-0 shadow-xl transition-all group-hover:opacity-100",children:n})]})]}),c.jsx("p",{className:"text-sm font-bold text-white mt-1",children:t}),c.jsx("div",{className:`mt-2 h-1.5 rounded-full ${zZ(r)}`})]})}function Wh({icon:e,title:t,desc:r}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center",children:c.jsx(e,{className:"w-4 h-4 text-[#f57f17]"})}),c.jsx("p",{className:"text-sm font-semibold text-white",children:t})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r})]})}function ju({title:e,desc:t,tone:r}){return c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 px-5 py-4 hover:bg-black/50 transition-all",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:e}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),c.jsx("div",{className:`h-10 w-10 rounded-2xl border flex items-center justify-center ${UZ(r)}`,children:r==="green"?c.jsx(mc,{className:Ou(r)}):r==="red"?c.jsx(La,{className:Ou(r)}):r==="cyan"?c.jsx(Ba,{className:Ou(r)}):c.jsx(Cl,{className:Ou(r)})})]})})}function y_(e){return["h-12 w-12 rounded-2xl border bg-white/5 flex items-center justify-center",e==="green"?"border-green-500/30":e==="cyan"?"border-cyan-500/30":e==="red"?"border-red-500/30":"border-[#f57f17]/25"].join(" ")}function b_(e){return["w-6 h-6",e==="green"?"text-green-400":e==="cyan"?"text-cyan-400":e==="red"?"text-red-400":"text-[#f57f17]"].join(" ")}function BZ(e){return["inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-semibold border",e==="green"?"border-green-500/30 bg-green-500/10 text-green-300":e==="cyan"?"border-cyan-500/30 bg-cyan-500/10 text-cyan-300":"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]"].join(" ")}function UZ(e){return["bg-white/5",e==="green"?"border-green-500/30":e==="cyan"?"border-cyan-500/30":e==="red"?"border-red-500/30":"border-[#f57f17]/25"].join(" ")}function Ou(e){return["w-5 h-5",e==="green"?"text-green-400":e==="cyan"?"text-cyan-400":e==="red"?"text-red-400":"text-[#f57f17]"].join(" ")}function zZ(e){return e==="green"?"bg-gradient-to-r from-green-500/70 to-green-500/10":e==="cyan"?"bg-gradient-to-r from-cyan-500/70 to-cyan-500/10":"bg-gradient-to-r from-[#f57f17]/70 to-[#f57f17]/10"}function Yt({title:e,subtitle:t,right:r,children:n,className:i=""}){return c.jsxs("div",{className:["rounded-2xl border border-white/10","bg-gradient-to-b from-white/[0.07] to-white/[0.03]","backdrop-blur-xl","shadow-[0_20px_50px_rgba(0,0,0,0.35)]","hover:border-white/20 transition-colors",i].join(" "),children:[(e||t||r)&&c.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-white/5",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[e&&c.jsx("h3",{className:"text-white font-semibold text-base leading-tight",children:e}),t&&c.jsx("p",{className:"text-slate-400 text-sm mt-1 leading-snug",children:t})]}),r&&c.jsx("div",{className:"shrink-0",children:r})]})}),c.jsx("div",{className:"px-6 pb-6 pt-5",children:n})]})}function Au(){return new Date().toISOString()}function Ko(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Go(e,t,r){return Math.max(t,Math.min(r,e))}function x_(e){return e[Math.floor(Math.random()*e.length)]}function qu(e){let t=2166136261;for(let r=0;r<e.length;r++)t^=e.charCodeAt(r),t=Math.imul(t,16777619);return Math.abs(t)}function FZ(e){let t=qu(e)||123456789;return()=>(t^=t<<13,t^=t>>17,t^=t<<5,(t>>>0)/4294967296)}function WZ(e){var v;const t=e.niche||"default",r=e.seedKey||`${t}-${e.businessName||"demo"}`,n=FZ(r),i=e.businessName||"Cliente Demo",a=e.city||"So Paulo",o=e.instagram||"",s=e.website||"",l=e.offer||"",u=e.mainPain||"",f=e.objections||"",d=Go(Number(e.leadsPerMonth??120),10,1e4),h=Go(Number(e.conversationsCount??60),5,600),p={conversations_last_7d:Math.round(h*.7),leads_last_7d:Math.round(d/4*(.8+n()*.4)),qualified_last_7d:Math.round(d/12*(.7+n()*.6)),avg_response_time_s:Math.round(10+n()*30),updated_at:Au(),business:{name:i,city:a,instagram:o,website:s,offer:l,mainPain:u,objections:f,niche:t}},b=Go(Math.round(h*(.45+n()*.25)),8,220),x=["curioso","ctico","sensvel_preo","empolgado","pronto","frustrado"],w=Array.from({length:b}).map((S,y)=>{const _=`lead-${qu(`${r}-lead-${y}`)}-${y}`,j=`55${Ko(11,99)}9${Ko(1e3,9999)}${Ko(1e3,9999)}`,O=Go(Math.round(40+n()*55),0,100),A=Go(.15+n()*.75,0,1),N=x_([...["low","normal","high","critical"]]),E=x_([...x]);return{id:_,phone:j,name:null,health_score:O,stage:E,urgency_level:N,conversion_probability:A,tags:[],updated_at:Au(),created_at:Au()}}),g=[],m=[];for(let S=0;S<h;S++){const y=w[Math.floor(n()*w.length)],_=`conv-${qu(`${r}-conv-${S}`)}-${S}`,j=[{from:"lead",text:`Oi! Vi sobre ${i}. Como funciona?`},{from:"agent",text:"Oi!  Funciona assim: a gente automatiza atendimento + qualificao + follow-up no WhatsApp. Quer que eu te explique rapidinho?"},{from:"lead",text:"Sim, tenho dvida sobre preo e como instala."},{from:"agent",text:"Show! Te explico os planos e a implementao  bem rpida (em minutos). Me diz seu volume de leads/ms?"}],O=new Date(Date.now()-Ko(1,7)*864e5).toISOString(),A=j.length>0?String(((v=j[j.length-1])==null?void 0:v.text)||""):"";g.push({id:_,phone:y.phone,name:y.name,status:"active",last_message:A,current_emotion:y.stage,created_at:O,updated_at:Au(),lead_id:y.id,tags:[]}),j.forEach((T,N)=>{m.push({id:`msg-${qu(`${r}-msg-${S}-${N}`)}-${S}-${N}`,conversation_id:_,from:T.from,text:String(T.text||""),created_at:new Date(Date.now()-Ko(1,7)*864e5+N*12e4).toISOString()})})}return{stats:p,leads:w,conversations:g,messages:m,emotion_events:[]}}const Fy="doca:demo:list",Wy=e=>`doca:demo:${e}`;function Vk(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Nf(){return(Vk(localStorage.getItem(Fy))||[]).sort((t,r)=>r.createdAt-t.createdAt)}function qZ(e,t,r){localStorage.setItem(Wy(e),JSON.stringify(t));const n=Nf(),i=[{key:e,label:r.label||e,niche:r.niche,createdAt:Date.now()},...n.filter(a=>a.key!==e)];localStorage.setItem(Fy,JSON.stringify(i.slice(0,50)))}function Kk(e){return Vk(localStorage.getItem(Wy(e)))}function HZ(e){localStorage.removeItem(Wy(e));const t=Nf().filter(r=>r.key!==e);localStorage.setItem(Fy,JSON.stringify(t))}function Gk(){return"".trim().toLowerCase()}function Xk(){try{return(new URL(window.location.href).searchParams.get("demo")||"").toString().trim().toLowerCase()}catch{return""}}function Li(){return!!(Xk()||Gk())}function Yk(){const e=(Xk()||Gk()||"").toString().trim().toLowerCase();return e&&Kk(e)?e:""}function VZ(){const e=Nf().map(t=>({key:t.key,label:t.label,source:"generated"}));return e.length===0?[{key:"",label:"(sem demos geradas)",source:"generated"}]:e}function Ul(){const e=Yk();if(e){const t=Kk(e);if(t)return t}return YZ()}function KZ(e){const t=WZ({niche:e.niche,seedKey:e.key,businessName:e.businessName,city:e.city,instagram:e.instagram,website:e.website,offer:e.offer,mainPain:e.mainPain,objections:e.objections,leadsPerMonth:e.leadsPerMonth,conversationsCount:e.conversationsCount});return qZ(e.key,t,{label:e.businessName||e.key,niche:e.niche}),{key:e.key}}function GZ(){return Nf()}function XZ(e){return HZ(e)}function YZ(){return{stats:{conversations_last_7d:0,leads_last_7d:0,qualified_last_7d:0,avg_response_time_s:0,updated_at:new Date().toISOString()},conversations:[],leads:[],messages:[],emotion_events:[]}}const JZ="/api/conversations?limit=200",QZ="/api/messages?conversation_id=";function w_(e){const t=(e||"").replace("@c.us","").replace(/\D/g,"");if(!t)return e;if(t.startsWith("55")&&t.length>=12){const r=t.slice(2,4),n=t.slice(4,9),i=t.slice(9,13);return`+55 (${r}) ${n}-${i}`}return`+${t}`}function __(e){try{return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}async function S_(e){const t=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if((t.headers.get("content-type")||"").includes("text/html")){const n=await t.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${e}. Ex: ${n.slice(0,80)}...`)}if(!t.ok){const n=await t.text().catch(()=>"");throw new Error(`HTTP ${t.status} em ${e}. ${n}`)}return await t.json()}function ZZ({initialSelectedId:e}){const t=k.useMemo(()=>Li()?Ul():null,[]),r=!!t,[n,i]=k.useState([]),[a,o]=k.useState(!0),[s,l]=k.useState(null),[u,f]=k.useState(""),[d,h]=k.useState(null),[p,b]=k.useState([]),[x,w]=k.useState(!1),[g,m]=k.useState(null);k.useEffect(()=>{let _=!0;async function j(){try{if(o(!0),l(null),r&&t){const A=[...t.conversations].sort((T,N)=>T.updated_at>N.updated_at?-1:1);if(!_)return;i(A);return}const O=await S_(JZ);if(!_)return;i(O||[])}catch(O){if(!_)return;l((O==null?void 0:O.message)||"Erro ao carregar conversas")}finally{if(!_)return;o(!1)}}return j(),()=>{_=!1}},[r,t]),k.useEffect(()=>{!e||!n.some(j=>j.id===e)||h(e)},[e,n]);const v=k.useMemo(()=>{const _=u.trim().toLowerCase();return _?n.filter(j=>{const O=(j.phone||"").toLowerCase(),A=(j.name||"").toLowerCase(),T=(j.last_message||"").toLowerCase();return O.includes(_)||A.includes(_)||T.includes(_)}):n},[u,n]),S=k.useMemo(()=>n.find(_=>_.id===d)||null,[n,d]);k.useEffect(()=>{let _=!0;async function j(){if(!d){b([]);return}try{if(w(!0),m(null),r&&t){const A=t.messages.filter(T=>T.conversation_id===d).sort((T,N)=>T.created_at>N.created_at?1:-1);if(!_)return;b(A);return}const O=await S_(`${QZ}${encodeURIComponent(d)}&limit=200`);if(!_)return;b((O||[]).sort((A,T)=>A.created_at>T.created_at?1:-1))}catch(O){if(!_)return;m((O==null?void 0:O.message)||"Erro ao carregar mensagens"),b([])}finally{if(!_)return;w(!1)}}return j(),()=>{_=!1}},[d,r,t]);const y=k.useMemo(()=>{const _={};for(const j of n){const O=Math.abs(Date.now()-new Date(j.updated_at).getTime())/6e4;_[j.id]=O<25}return _},[n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Conversas"}),c.jsxs("p",{className:"text-gray-500 text-sm",children:["Mensagens e atendimentos em tempo real",r?" (DEMO)":""]})]})}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-6",children:[c.jsx(Yt,{title:"Conversas",subtitle:"Fila de atendimento",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-gray-500",children:""}),c.jsx("input",{value:u,onChange:_=>f(_.target.value),placeholder:"Buscar...",className:"w-full bg-black/30 border border-gray-800 rounded-2xl px-4 py-3 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30"})]}),a?c.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Carregando conversas..."}):s?c.jsx("div",{className:"text-red-400 text-sm py-6",children:s}):v.length===0?c.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Nenhuma conversa encontrada."}):c.jsx("div",{className:"divide-y divide-gray-800/70",children:v.map(_=>{const j=d===_.id,O=y[_.id];return c.jsx("button",{onClick:()=>h(_.id),className:["w-full text-left px-4 py-4 transition-all",j?"bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl":"hover:bg-white/5 rounded-2xl"].join(" "),children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:_.name?_.name:_.phone}),c.jsx("p",{className:"text-gray-500 text-xs mt-1 truncate",children:__(_.updated_at)}),_.last_message?c.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:_.last_message}):c.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Sem mensagens ainda"})]}),c.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c.jsx("div",{className:["h-2.5 w-2.5 rounded-full",O?"bg-emerald-400":"bg-gray-600"].join(" "),title:O?"Ativo":"Inativo"}),c.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border",_.status==="open"?"bg-emerald-500/10 text-emerald-200 border-emerald-500/20":"bg-gray-500/10 text-gray-300 border-gray-500/20"].join(" "),children:_.status==="open"?"ABERTO":"FECHADO"})]})]})},_.id)})})]})}),c.jsx(Yt,{title:S?S.name||w_(S.phone):"Chat",subtitle:S?w_(S.phone):"Selecione uma conversa",right:S?c.jsx("span",{className:"text-xs text-gray-400",children:S.status==="open"?"Atendimento":"Histrico"}):c.jsx("span",{className:"text-xs text-gray-500",children:""}),children:S?x?c.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-400",children:"Carregando mensagens..."}):g?c.jsx("div",{className:"h-[520px] flex items-center justify-center text-red-400",children:g}):p.length===0?c.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:"Sem mensagens nessa conversa."}):c.jsx("div",{className:"h-[520px] overflow-y-auto pr-2 space-y-3",children:p.map(_=>{const j=_.from==="agent";return c.jsxs("div",{className:["max-w-[85%] rounded-2xl px-4 py-3 border",j?"ml-auto bg-[#f57f17]/10 border-[#f57f17]/20 text-gray-100":"mr-auto bg-black/40 border-gray-800 text-gray-100"].join(" "),children:[c.jsx("p",{className:"text-sm leading-relaxed",children:_.text}),c.jsx("p",{className:"text-[11px] text-gray-500 mt-2",children:__(_.created_at)})]},_.id)})}):c.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl mb-3",children:""}),c.jsx("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]})}function eee(e,t){const r=(e||"").trim();if(!r)return t.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function qh(e){const t=e.replace(/\D/g,"");if(t.length<10)return e;const r=t.startsWith("55")?t.slice(2):t,n=r.slice(0,2),i=r.slice(2,7),a=r.slice(7,11);return`+55 (${n}) ${i}-${a}`}function tee(e,t,r){return Math.max(t,Math.min(r,e))}function ree(e){const t=(e||"curioso").toLowerCase(),r={ctico:{label:"CTICO",bg:"bg-fuchsia-500/10",border:"border-fuchsia-400/25",text:"text-fuchsia-200",glow:"shadow-[0_0_0_1px_rgba(217,70,239,0.25)]"},frustrado:{label:"FRUSTRADO",bg:"bg-orange-500/10",border:"border-orange-400/25",text:"text-orange-200",glow:"shadow-[0_0_0_1px_rgba(251,146,60,0.25)]"},curioso:{label:"CURIOSO",bg:"bg-blue-500/10",border:"border-blue-400/25",text:"text-blue-200",glow:"shadow-[0_0_0_1px_rgba(96,165,250,0.25)]"},sensvel_preo:{label:"SENSVEL A PREO",bg:"bg-cyan-500/10",border:"border-cyan-400/25",text:"text-cyan-200",glow:"shadow-[0_0_0_1px_rgba(34,211,238,0.25)]"},empolgado:{label:"EMPOLGADO",bg:"bg-emerald-500/10",border:"border-emerald-400/25",text:"text-emerald-200",glow:"shadow-[0_0_0_1px_rgba(52,211,153,0.25)]"},pronto:{label:"PRONTO",bg:"bg-green-500/10",border:"border-green-400/25",text:"text-green-200",glow:"shadow-[0_0_0_1px_rgba(74,222,128,0.25)]"}};return r[t]||r.curioso}function nee(e){const t=(e||"normal").toLowerCase(),r={low:{label:"Baixa",dot:"bg-gray-400",text:"text-gray-300",bg:"bg-white/5"},normal:{label:"Normal",dot:"bg-sky-400",text:"text-sky-200",bg:"bg-sky-500/10"},high:{label:"Alta",dot:"bg-yellow-400",text:"text-yellow-200",bg:"bg-yellow-500/10"},critical:{label:"Crtica",dot:"bg-red-400",text:"text-red-200",bg:"bg-red-500/10"}};return r[t]||r.normal}function iee(e){const t=e||"active",r={new:{label:"Novo",bg:"bg-white/5",text:"text-gray-200",dot:"bg-sky-400"},active:{label:"Ativo",bg:"bg-emerald-500/10",text:"text-emerald-200",dot:"bg-emerald-400"},won:{label:"Ganho",bg:"bg-green-500/10",text:"text-green-200",dot:"bg-green-400"},lost:{label:"Perdido",bg:"bg-red-500/10",text:"text-red-200",dot:"bg-red-400"}};return r[t]||r.active}function aee({value:e}){const t=tee(e,0,100),r=t>=70,n=t>=45&&t<70;return c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-400",children:[c.jsx("span",{children:"Health"}),c.jsx("span",{className:"text-gray-200 font-semibold",children:t})]}),c.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/5 border border-white/10 overflow-hidden",children:c.jsx("div",{className:["h-full rounded-full",r?"bg-emerald-400/80":n?"bg-yellow-400/75":"bg-red-400/75"].join(" "),style:{width:`${t}%`}})})]})}function oee({leads:e,conversations:t,onOpenConversation:r,onSendFollowUp:n,onMarkAsWon:i}){var g;const[a,o]=k.useState(""),[s,l]=k.useState(null),u=k.useMemo(()=>Array.isArray(e)?e:[],[e]),f=k.useMemo(()=>Array.isArray(t)?t:[],[t]),d=k.useMemo(()=>{const m=new Map;for(const v of f)m.set(v.lead_id,v);return u.map(v=>{const S=m.get(v.id);return{...v,status:v.status||"active",last_message:(S==null?void 0:S.last_message)||"",updated_at:(S==null?void 0:S.updated_at)||v.updated_at,conversation_id:(S==null?void 0:S.id)||null}})},[u,f]),h=k.useMemo(()=>{const m=a.trim().toLowerCase();return m?d.filter(v=>{const S=(v.name||"").toLowerCase(),y=(v.phone||"").toLowerCase(),_=(v.stage||"").toLowerCase();return S.includes(m)||y.includes(m)||_.includes(m)||(v.last_message||"").toLowerCase().includes(m)}):d},[d,a]),p=k.useMemo(()=>h.find(m=>m.id===s)||h[0]||null,[h,s]),b=h.length,x=h.filter(m=>(m.stage||"").toLowerCase()==="pronto").length,w=h.filter(m=>(m.urgency_level||"normal")==="high"||(m.urgency_level||"normal")==="critical").length;return c.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:"Leads"}),c.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Fila premium de leads (demo realista)  clique para ver detalhes."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-gray-400 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:["Total: ",c.jsx("span",{className:"text-white font-semibold",children:b})]}),c.jsxs("span",{className:"text-xs text-emerald-200 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-400/20",children:["Prontos:"," ",c.jsx("span",{className:"text-white font-semibold",children:x})]}),c.jsxs("span",{className:"text-xs text-yellow-200 px-3 py-1 rounded-full bg-yellow-500/10 border border-yellow-400/20",children:["Quentes:"," ",c.jsx("span",{className:"text-white font-semibold",children:w})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr]",children:[c.jsxs("div",{className:"border-r border-white/10",children:[c.jsx("div",{className:"p-4 border-b border-white/10",children:c.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-white/10 bg-black/30 px-3 py-2",children:[c.jsx(Tl,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{value:a,onChange:m=>o(m.target.value),placeholder:"Buscar por nome, nmero, estgio...",className:"w-full bg-transparent outline-none text-sm text-white placeholder:text-gray-500"})]})}),c.jsxs("div",{className:"max-h-[740px] overflow-auto",children:[h.map(m=>{const v=(p==null?void 0:p.id)===m.id,S=ree(m.stage),y=nee(m.urgency_level),_=iee(m.status);return c.jsx("button",{onClick:()=>l(m.id),className:["w-full text-left px-4 py-4 border-b border-white/5 transition-all",v?"bg-[#f57f17]/10 border-l-4 border-l-[#f57f17]":"hover:bg-white/[0.03]"].join(" "),children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:eee(m.name,m.phone)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:m.name||qh(m.phone)}),c.jsx("p",{className:"text-gray-500 text-xs truncate",children:m.name?qh(m.phone):"Contato sem nome"})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${_.bg} border border-white/10`,children:[c.jsx("span",{className:`h-2 w-2 rounded-full ${_.dot}`}),c.jsx("span",{className:`text-xs font-semibold ${_.text}`,children:_.label})]})]}),c.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:m.last_message||"Sem mensagens ainda  lead recm-criado."}),c.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[c.jsx("span",{className:["text-[11px] font-bold px-2.5 py-1 rounded-full border",S.bg,S.border,S.text,S.glow].join(" "),children:S.label}),c.jsxs("span",{className:["text-[11px] font-semibold px-2.5 py-1 rounded-full border border-white/10",y.bg,y.text].join(" "),children:[c.jsx("span",{className:`inline-block h-2 w-2 rounded-full mr-2 ${y.dot}`}),y.label]}),c.jsxs("span",{className:"text-[11px] font-semibold px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-gray-200",children:[Math.round((m.conversion_probability||0)*100),"% converso"]})]})]})]})},m.id)}),h.length===0&&c.jsx("div",{className:"p-6 text-gray-400 text-sm",children:"Nenhum lead encontrado."})]})]}),c.jsx("div",{className:"p-6",children:p?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-2xl",children:p.name||"Contato sem nome"}),c.jsxs("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Jj,{className:"w-4 h-4"}),qh(p.phone)]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm",children:["Score:"," ",c.jsx("span",{className:"text-white font-semibold",children:p.health_score??50})]}),c.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[c.jsx(Xj,{className:"w-4 h-4 text-[#f57f17]"}),"Temp:"," ",c.jsx("span",{className:"text-white font-semibold",children:p.health_score??50})]}),c.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[c.jsx(Oa,{className:"w-4 h-4 text-emerald-300"}),Math.round((p.conversion_probability||0)*100),"%"]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),c.jsx("p",{className:"text-white leading-relaxed",children:p.last_message||"Sem mensagens ainda  lead criado agora."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:c.jsx(aee,{value:p.health_score??50})}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Prxima ao sugerida"}),c.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:c.jsx(kv,{className:"w-5 h-5 text-[#f57f17]"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:"Follow-up inteligente"}),c.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Priorize este lead com mensagem de valor + CTA (call ou link). Ajuste pelo estgio ",p.stage,"."]})]})]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[c.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[c.jsx(La,{className:"w-4 h-4 text-yellow-300"}),"Sinais detectados"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(p.tags||[]).length===0?c.jsx("span",{className:"text-gray-500 text-sm",children:"Sem tags ainda"}):(g=p.tags)==null?void 0:g.map(m=>c.jsx("span",{className:"text-xs text-gray-200 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:m},m))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx("button",{onClick:()=>p&&(r==null?void 0:r(p)),className:"rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition px-4 py-3 text-white font-semibold",children:"Abrir conversa"}),c.jsx("button",{onClick:()=>p&&(n==null?void 0:n(p)),className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition px-4 py-3 text-white font-semibold",children:"Enviar follow-up"}),c.jsx("button",{onClick:()=>p&&(i==null?void 0:i(p)),className:"rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition px-4 py-3 text-white font-semibold",children:"Marcar como ganho"})]})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Selecione um lead"})})]})]})}function see(e){const t=Array.isArray(e==null?void 0:e.leads)?e.leads:[],r=Array.isArray(e==null?void 0:e.conversations)?e.conversations:[];return c.jsx("div",{className:"space-y-6",children:c.jsx(oee,{leads:t,conversations:r,onOpenConversation:e==null?void 0:e.onOpenConversation,onSendFollowUp:e==null?void 0:e.onSendFollowUp,onMarkAsWon:e==null?void 0:e.onMarkAsWon})})}function wr(e,t,r){return Math.max(t,Math.min(r,e))}function lee(e){const t=(e||"").replace(/\D/g,"");if(t.length<10)return e;const r=t.startsWith("55")?t.slice(2):t,n=r.slice(0,2),i=r.slice(2,7),a=r.slice(7,11);return`+55 (${n}) ${i}-${a}`}function uee(e,t){const r=(e||"").trim();if(!r)return t.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function cee(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const r=Math.round((Date.now()-t)/6e4);return r<1?"agora":r<60?`${r} min`:`${Math.round(r/60)}h`}function dee(e){const t=(e||"normal").toLowerCase();return t==="critical"?.95:t==="high"?.75:t==="low"?.25:.45}function j_(e){const t=dee(e.urgency_level),r=wr(e.health_score??50,0,100),n=wr((65-r)/65,0,1),i=e.last_touch_at?new Date(e.last_touch_at).getTime():Date.now(),a=wr(Math.round(Math.abs(Date.now()-i)/6e4),0,240),o=wr(a/60,0,1);return wr(.55*t+.25*o+.2*n,0,1)}function O_(e){if(typeof e.conversion_probability=="number")return wr(e.conversion_probability,0,1);const t=(e.stage||"").toLowerCase();return t==="pronto"?.9:t==="empolgado"?.75:t==="sensvel_preo"?.55:t==="ctico"?.35:.45}function fee(e,t){const r=e>=.55,n=t>=.55;return r&&!n?{title:"FECHAR AGORA",hint:"Alta inteno  Baixo risco"}:r&&n?{title:"SALVAR (URGENTE)",hint:"Alta inteno  Alto risco"}:!r&&n?{title:"NUTRIR COM PROVA",hint:"Baixa inteno  Alto risco"}:{title:"AUTOMATIZAR",hint:"Baixa inteno  Baixo risco"}}function hee(e,t){const r=wr(e*.6+t*.4,0,1);return r>.75?"bg-[#f57f17] shadow-[0_0_0_12px_rgba(245,127,23,0.16)]":r>.55?"bg-emerald-400 shadow-[0_0_0_12px_rgba(52,211,153,0.16)]":r>.35?"bg-sky-400 shadow-[0_0_0_12px_rgba(56,189,248,0.16)]":"bg-white/60 shadow-[0_0_0_12px_rgba(255,255,255,0.12)]"}function pee(e){const{anchorX:t,anchorY:r,vw:n,vh:i,cardW:a,cardH:o,pad:s}=e,l=[{x:t+16,y:r-o-16},{x:t-a-16,y:r-o-16},{x:t+16,y:r+16},{x:t-a-16,y:r+16},{x:t+16,y:r-o/2},{x:t-a-16,y:r-o/2}];for(const u of l){const f=u.x>=s&&u.x+a<=n-s,d=u.y>=s&&u.y+o<=i-s;if(f&&d)return u}return{x:wr(t-a/2,s,n-a-s),y:wr(r-o/2,s,i-o-s)}}function mee({leads:e,height:t=420,highlightLeadIds:r=[],onClearHighlights:n,onOpenConversation:i,onSendFollowUp:a,onMarkAsWon:o}){const s=k.useRef(null),[l,u]=k.useState(null),[f,d]=k.useState(null),h=k.useMemo(()=>new Set(r),[r]),p=k.useMemo(()=>e.map(w=>{const g=O_(w),m=j_(w);return{lead:w,intent:g,risk:m,x:g,y:m}}),[e]);function b(w,g,m){u(w);const _=pee({anchorX:g,anchorY:m,vw:window.innerWidth,vh:window.innerHeight,cardW:380,cardH:380,pad:12});d(_)}const x=()=>{u(null),d(null)};return c.jsxs("div",{className:"relative rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[c.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:"DOCA Emotion Map"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Inteno  Risco  clique em um ponto para aes e sugesto IA."})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs text-gray-200",children:[p.length," leads"]}),c.jsx("span",{className:"px-3 py-1.5 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-xs text-[#f57f17] font-semibold",children:"Assinatura visual DOCA"}),r.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-[#8b5cf6]/30 bg-[#8b5cf6]/15 text-xs text-white font-semibold flex items-center gap-2",children:[c.jsx(tr,{className:"w-4 h-4 text-[#8b5cf6]"}),"Plano do dia: ",r.length," destacados"]}),c.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs text-gray-200 font-semibold",children:"Limpar destaque"})]})]})]}),c.jsxs("div",{ref:s,className:"relative rounded-b-[28px] overflow-hidden",style:{height:t},children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[1]",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(245,127,23,0.10),transparent_55%)]"}),c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:48px_48px]"})]}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[2]",children:[c.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/10"}),c.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/10"})]}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 p-6 z-[3]",children:[c.jsxs("div",{className:"absolute left-6 top-6 text-xs text-gray-400",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"SALVAR (URGENTE)"}),c.jsx("div",{children:"Alta inteno  Alto risco"})]}),c.jsxs("div",{className:"absolute right-6 top-6 text-xs text-gray-400 text-right",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"FECHAR AGORA"}),c.jsx("div",{children:"Alta inteno  Baixo risco"})]}),c.jsxs("div",{className:"absolute left-6 bottom-6 text-xs text-gray-400",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"NUTRIR COM PROVA"}),c.jsx("div",{children:"Baixa inteno  Alto risco"})]}),c.jsxs("div",{className:"absolute right-6 bottom-6 text-xs text-gray-400 text-right",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"AUTOMATIZAR"}),c.jsx("div",{children:"Baixa inteno  Baixo risco"})]})]}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[4]",children:[c.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[11px] text-gray-500 rotate-[-90deg] origin-left",children:"RISCO "}),c.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 text-[11px] text-gray-500",children:"INTENO "})]}),c.jsx("div",{className:"absolute inset-0 z-[10]",children:p.map(w=>{const g=wr(w.x,.04,.96)*100,m=wr(1-w.y,.04,.96)*100,v=h.has(w.lead.id),S=v?"bg-[#8b5cf6] shadow-[0_0_0_16px_rgba(139,92,246,0.22)]":hee(w.intent,w.risk);return c.jsx("button",{onClick:y=>{y.stopPropagation(),b(w.lead,y.clientX,y.clientY)},className:["absolute group",v?"z-[60]":"z-[10]"].join(" "),style:{left:`${g}%`,top:`${m}%`},title:w.lead.name||w.lead.phone,children:c.jsxs("div",{className:"relative",children:[v&&c.jsx("div",{className:"absolute inset-[-22px] rounded-full bg-[#8b5cf6]/14 blur-2xl animate-pulse"}),c.jsx("div",{className:["relative rounded-full border border-black/40 transition-all",S,"group-hover:scale-[1.25]",v?"h-6 w-6":"h-4 w-4",v?"ring-4 ring-[#8b5cf6]/60":""].join(" ")}),v&&c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-8 px-2 py-0.5 rounded-full text-[10px] font-bold border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] whitespace-nowrap",children:"PLANO"})]})},w.lead.id)})})]}),l&&f?EN.createPortal(c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"fixed inset-0 z-[9998] cursor-default",style:{background:"transparent"},onClick:x,"aria-label":"Fechar"}),c.jsxs("div",{className:"fixed z-[9999] w-[380px] max-w-[calc(100vw-24px)] rounded-[24px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl animate-[fadeIn_140ms_ease-out]",style:{left:f.x,top:f.y},onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-white/10 flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:uee(l.name,l.phone)}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:l.name||"Contato sem nome"}),c.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-2 mt-0.5",children:[c.jsx(Jj,{className:"w-4 h-4"}),lee(l.phone)]}),h.has(l.id)&&c.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] text-xs font-semibold",children:[c.jsx(tr,{className:"w-4 h-4 text-[#8b5cf6]"}),"Afetado pelo plano do dia"]})]})]}),c.jsx("button",{onClick:x,className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition flex items-center justify-center",title:"Fechar",children:c.jsx($v,{className:"w-4 h-4 text-gray-200"})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[(()=>{const w=O_(l),g=j_(l),m=fee(w,g);return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Quadrante"}),c.jsx("p",{className:"text-white font-bold mt-1",children:m.title}),c.jsx("p",{className:"text-gray-400 text-sm mt-1",children:m.hint}),c.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(w*100),"% inteno"]}),c.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(g*100),"% risco"]}),c.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["health ",l.health_score??50]}),c.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["last ",cee(l.last_touch_at)]})]})]})})(),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),c.jsx("p",{className:"text-white text-sm leading-relaxed",children:l.last_message||"Sem mensagens ainda."})]}),c.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[#f57f17]",children:[c.jsx(Xj,{className:"w-4 h-4"}),c.jsx("p",{className:"text-sm font-semibold",children:"Sugesto IA"})]}),c.jsxs("p",{className:"text-gray-200 text-sm mt-2 leading-relaxed",children:["Mensagem curta com prova social + CTA direto. Ex:"," ",c.jsx("span",{className:"text-white font-semibold",children:"Consigo te colocar em funcionamento hoje. Quer que eu te mande os planos?"})]}),c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-300",children:[c.jsx(Oa,{className:"w-4 h-4 text-emerald-300"}),"Alta chance de resposta em 1020 min"]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("button",{onClick:()=>i==null?void 0:i(l),className:"h-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Abrir"}),c.jsxs("button",{onClick:()=>a==null?void 0:a(l),className:"h-10 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(kv,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up"]}),c.jsx("button",{onClick:()=>o==null?void 0:o(l),className:"h-10 rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition text-sm font-semibold text-white",children:"Ganho"})]}),c.jsx("div",{className:"text-[11px] text-gray-500",children:"*MVP: inteno/risco por heurstica (depois plugamos no motor real)."})]})]}),c.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(6px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `})]}),document.body):null]})}const gee="/api/dashboard";async function vee(e){const t=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if((t.headers.get("content-type")||"").includes("text/html")){const n=await t.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${e}. Exemplo: ${n.slice(0,60)}...`)}if(!t.ok){const n=await t.text().catch(()=>"");throw new Error(`HTTP ${t.status} em ${e}. ${n}`)}return await t.json()}function Jk(){const[e,t]=k.useState(null),[r,n]=k.useState(!0),[i,a]=k.useState(null),o=k.useMemo(()=>Li(),[]);return k.useEffect(()=>{let s=!0;async function l(){try{if(n(!0),a(null),o){const f=Ul(),d=f==null?void 0:f.stats;s&&t(d);return}const u=await vee(`${gee}/metrics`);s&&t(u)}catch(u){s&&a((u==null?void 0:u.message)||"Erro desconhecido")}finally{s&&n(!1)}}return l(),()=>{s=!1}},[o]),{data:e,loading:r,error:i}}function yee(e,t,r){return Math.max(t,Math.min(r,e))}function mi(e,t){if(e.length<=t)return e;const r=[...e],n=[];for(;n.length<t&&r.length>0;){const i=Math.floor(Math.random()*r.length);n.push(r.splice(i,1)[0])}return n}function bee(e){if(!Array.isArray(e)||e.length===0)return[];const t=e.filter(o=>String(o.stage||"").toLowerCase()==="pronto"),r=e.filter(o=>["high","critical"].includes(String(o.urgency_level||"").toLowerCase())),n=e.filter(o=>{const s=Number(o.health_score??50),l=String(o.urgency_level||"").toLowerCase();return s<=45&&(l==="high"||l==="critical")}),i=[...mi(t,4),...mi(r,3),...mi(n,2)],a=Array.from(new Set(i.map(o=>String(o.id)).filter(Boolean)));if(a.length<5){const o=mi(e,8).map(s=>String(s.id));return Array.from(new Set([...a,...o])).slice(0,10)}return a.slice(0,10)}function A_(e){return e.reduce((t,r)=>t+r,0)}function xee(e){const{loading:t,error:r}=Jk(),n=k.useMemo(()=>Li()?Ul():null,[]),i=!!n,a=k.useMemo(()=>{var y;if(Array.isArray(e==null?void 0:e.leads)&&e.leads.length)return e.leads.map(_=>({id:String(_.id),phone:String(_.phone||""),name:_.name??null,stage:_.stage,urgency_level:_.urgency_level,health_score:_.health_score??_.score??50,conversion_probability:_.conversion_probability,tags:Array.isArray(_.tags)?_.tags:[],last_message:_.last_message??_.lastMessage,last_touch_at:_.last_touch_at??_.lastTouchAt??_.updated_at}));if(i&&((y=n==null?void 0:n.leads)!=null&&y.length)){const _=new Map;return Array.isArray(n.conversations)&&n.conversations.forEach(j=>{j!=null&&j.phone&&(j!=null&&j.last_message)&&_.set(j.phone,j.last_message)}),(n.leads||[]).map(j=>({id:String(j.id),phone:String(j.phone||""),name:j.name??null,stage:j.stage,urgency_level:j.urgency_level,health_score:j.health_score??50,conversion_probability:j.conversion_probability,tags:Array.isArray(j.tags)?j.tags:[],last_message:_.get(j.phone)||"",last_touch_at:j.updated_at}))}return[]},[e==null?void 0:e.leads,i,n]),[o,s]=k.useState([]),l=a.length,u=k.useMemo(()=>a.filter(y=>String(y.stage||"").toLowerCase()==="pronto"),[a]),f=k.useMemo(()=>a.filter(y=>["high","critical"].includes(String(y.urgency_level||"").toLowerCase())),[a]),d=k.useMemo(()=>a.filter(y=>{const _=Number(y.health_score??50),j=String(y.urgency_level||"").toLowerCase();return _<=45&&(j==="high"||j==="critical")}),[a]),h=k.useMemo(()=>a.length?Math.round(A_(a.map(y=>Number(y.health_score??50)))/a.length):0,[a]),p=k.useMemo(()=>{const y=a.length?f.length/a.length:0,_=140,j=Math.round(y*80);return yee(_+j,60,260)},[a.length,f.length]),b=k.useMemo(()=>{const y=a.length?A_(a.map(O=>Number(O.conversion_probability??.35)))/a.length:.35;return Math.round(u.length*1497*y*1.1)},[a,u.length]),x=k.useMemo(()=>bee(a),[a]),w=()=>{s(x)},g=()=>s([]),m=u.length||o.length||0,v=u.length>0?`Hoje voc tem ${f.length} leads quentes e ${d.length} em risco. A IA gerou 3 tarefas para aumentar converso agora.`:"A IA analisou inteno, urgncia e health. Gere um plano para destacar oportunidades e riscos no mapa.",S=k.useMemo(()=>[{id:"attack-ready",title:"Atacar leads prontos",desc:`Enviar follow-up para ${Math.min(u.length||4,6)} leads em estgio PRONTO com CTA de call.`,count:Math.min(u.length||4,6),action:()=>{const y=mi(u.map(_=>_.id),6);s(y)}},{id:"save-risk",title:"Salvar leads esfriando",desc:`Priorizar ${Math.min(d.length||3,5)} leads em risco (alta urgncia + baixo health + tempo sem toque).`,count:Math.min(d.length||3,5),action:()=>{const y=mi(d.map(_=>_.id),5);s(y)}},{id:"price-objection",title:"Destravar objeo de preo",desc:`Responder ${Math.min(3,a.length)} sensveis a preo com oferta em 2 opes e ROI.`,count:Math.min(3,a.length),action:()=>{const y=a.filter(j=>String(j.stage||"").toLowerCase()==="sensvel_preo"),_=mi((y.length?y:a).map(j=>j.id),6);s(_)}}],[a,u,d]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Cl,{className:"w-6 h-6 text-[#f57f17]"}),"Funil & Emoes"]}),c.jsxs("p",{className:"text-gray-500 text-sm",children:["Modo War Room: deciso + execuo. A IA te diz o que fazer agora.",i?" (DEMO)":""]})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl px-4 py-2",children:[c.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm text-gray-300",children:"Plano do dia + Mapa emocional"})]})]}),c.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-6 flex-wrap",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[c.jsx(Ba,{className:"w-4 h-4 text-[#f57f17]"}),"Plano do dia (IA)"]}),c.jsxs("div",{className:"text-3xl font-extrabold text-white",children:[m," leads prontos"," ",c.jsx("span",{className:"text-gray-400 font-semibold text-xl",children:"para fechar"})]}),c.jsx("p",{className:"text-gray-500 text-sm max-w-[720px]",children:v}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-2",children:[c.jsxs("button",{onClick:w,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-white font-semibold flex items-center gap-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:c.jsx(Ba,{className:"w-4 h-4 text-[#f57f17]"})}),"Executar plano do dia"]}),c.jsx("span",{className:"text-xs text-gray-600",children:"Ao executar: destaca leads no mapa (fica at voc limpar)."}),o.length>0&&c.jsx("button",{onClick:g,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-white font-semibold",children:"Limpar destaque"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-3 min-w-[520px] max-w-full",children:[c.jsx(ku,{title:"Ativos",value:String(l),sub:"Leads no radar"}),c.jsx(ku,{title:"Quentes",value:String(f.length),sub:"Alta urgncia"}),c.jsx(ku,{title:"Health",value:String(h),sub:"mdia 0100"}),c.jsx(ku,{title:"SLA",value:`${p} min`,sub:"estimativa"})]})]}),c.jsxs("div",{className:"p-6 grid grid-cols-1 xl:grid-cols-[1.6fr_1fr] gap-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.map(y=>c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 hover:bg-white/[0.04] transition",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-xl bg-emerald-500/10 border border-emerald-400/20 flex items-center justify-center",children:c.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400"})}),c.jsx("p",{className:"text-white font-semibold",children:y.title})]}),c.jsxs("span",{className:"text-[11px] px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300",children:[y.count," leads"]})]}),c.jsx("p",{className:"text-gray-400 text-sm mt-3 leading-relaxed",children:y.desc}),c.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[c.jsx("button",{onClick:y.action,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Destacar no mapa"}),c.jsx("span",{className:"text-[11px] text-gray-600",children:"impacta risco/inteno"})]})]},y.id))}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-white/10",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Previso (MVP)"}),c.jsxs("div",{className:"mt-2 flex items-center justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-3xl font-extrabold text-white",children:["R$ ",b.toLocaleString("pt-BR")]}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Receita esperada se executar o plano."})]}),c.jsxs("button",{onClick:w,className:"h-10 px-4 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center gap-2",children:[c.jsx(Qj,{className:"w-4 h-4 text-[#f57f17]"}),"+65% converso em prontos"]})]})]}),d.length>0&&c.jsx("div",{className:"p-5 bg-[#f59e0b]/10 border-t border-[#f59e0b]/20",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f59e0b]/15 border border-[#f59e0b]/25 flex items-center justify-center",children:c.jsx(La,{className:"w-5 h-5 text-[#f59e0b]"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-white font-semibold",children:[d.length," leads esfriando"]}),c.jsx("p",{className:"text-gray-300 text-sm mt-0.5",children:"Se no tocar agora, voc perde. O plano j prioriza isso."})]})]})})]})]})]}),c.jsx(mee,{leads:a,height:460,highlightLeadIds:o,onClearHighlights:g,onOpenConversation:y=>{console.log("Abrir conversa:",y)},onSendFollowUp:y=>{console.log("Enviar follow-up:",y)},onMarkAsWon:y=>{console.log("Marcar como ganho:",y)}}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Yt,{title:"Insights rpidos",subtitle:"Resumo do que est acontecendo agora",children:t?c.jsx("p",{className:"text-gray-400",children:"Carregando mtricas..."}):r?c.jsxs("p",{className:"text-red-400",children:["Erro ao carregar mtricas: ",String(r)]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(Hh,{title:"Oportunidade imediata",value:u.length>0?`${u.length} leads em estgio PRONTO`:"Sem leads prontos ainda"}),c.jsx(Hh,{title:"Urgncia do funil",value:f.length>0?`${f.length} leads com alta urgncia`:"Sem urgncias altas agora"}),c.jsx(Hh,{title:"Tendncia",value:h>=70?"Funil saudvel (alta chance de converso)":h>=45?"Funil mdio (precisa de follow-up)":"Funil fraco (ajustar abordagem e oferta)"})]})}),c.jsx(Yt,{title:"Aes recomendadas",subtitle:"O que fazer para melhorar converso",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(Eu,{title:"1) Foco em leads prontos",desc:"Crie uma fila automtica de follow-up + agenda de call rpida."}),c.jsx(Eu,{title:"2) Destravar cticos",desc:"Responda com prova social + cases + oferta com risco reduzido."}),c.jsx(Eu,{title:"3) Sensveis a preo",desc:"Oferea 2 opes (parcela vs  vista) e destaque ROI imediato."}),c.jsx(Eu,{title:"4) Frustrados",desc:"Priorizar suporte humano ou mensagem emptica antes de ofertar."})]})})]}),i&&c.jsxs("div",{className:"text-xs text-gray-600",children:["DEMO: plano seleciona sempre leads reais. Ex:"," ",c.jsxs("span",{className:"text-gray-400",children:[x.slice(0,3).join(", "),"..."]})]})]})}function ku({title:e,value:t,sub:r}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-xs text-gray-500",children:e}),c.jsx("p",{className:"text-2xl font-extrabold text-white mt-1",children:t}),c.jsx("p",{className:"text-[11px] text-gray-600 mt-1",children:r})]})}function Hh({title:e,value:t}){return c.jsxs("div",{className:"rounded-2xl border border-gray-800 bg-black/40 px-4 py-3",children:[c.jsx("p",{className:"text-sm text-gray-400",children:e}),c.jsx("p",{className:"text-white font-semibold mt-1",children:t})]})}function Eu({title:e,desc:t}){return c.jsxs("div",{className:"rounded-2xl border border-gray-800 bg-black/40 px-4 py-3 hover:border-[#f57f17]/30 transition-all",children:[c.jsx("p",{className:"text-white font-semibold",children:e}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t})]})}const wee="modulepreload",_ee=function(e){return"/"+e},k_={},E_=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=_ee(l),l in k_)return;k_[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":wee,u||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};async function See(e,t={}){if(!e)throw new Error("exportElementToPdf: element is required.");const{filename:r="DOCA-Relatorio.pdf",backgroundColor:n="#0b0f19",scale:i=2,marginMm:a=8,orientation:o="p"}=t,[{default:s},{jsPDF:l}]=await Promise.all([E_(()=>import("./html2canvas.esm-CBrSDip1.js"),[]),E_(()=>import("./jspdf.es.min-DX-RWccm.js").then(O=>O.j),[])]),f=await(s||s)(e,{scale:Number(i)||2,backgroundColor:n,useCORS:!0,logging:!1,removeContainer:!0}),d=f.toDataURL("image/png",1),h=new l({orientation:o,unit:"mm",format:"a4"}),p=h.internal.pageSize.getWidth(),b=h.internal.pageSize.getHeight(),x=p-a*2,w=b-a*2,g=f.width,m=f.height,v=g/m;let S=x,y=S/v;y>w&&(y=w,S=y*v);const _=(p-S)/2,j=a;h.addImage(d,"PNG",_,j,S,y,void 0,"FAST"),h.save(r)}const jee=[{key:"today",label:"Hoje"},{key:"7d",label:"7 dias"},{key:"30d",label:"30 dias"},{key:"90d",label:"90 dias"}];function Oee(e){const t=Number(e);return Number.isFinite(t)?`${t>0?"+":""}${t.toFixed(0)}%`:""}function Xo(e,t=0){const r=Number(e);return Number.isFinite(r)?r:t}function qy(...e){return e.filter(Boolean).join(" ")}function Vh(){return"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-xl px-4 py-2 text-sm text-gray-200 hover:bg-white/[0.06] transition"}function Aee(){return"inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-white/[0.04] backdrop-blur-xl px-4 py-2 text-sm font-semibold text-white hover:bg-white/[0.08] transition"}function kee(){return"inline-flex items-center gap-2 rounded-2xl border border-[#f57f17]/35 bg-[#f57f17]/15 backdrop-blur-xl px-4 py-2 text-sm font-semibold text-white hover:bg-[#f57f17]/20 transition shadow-[0_0_0_1px_rgba(245,127,23,0.12)]"}function Eee({onGoToFunnel:e}){const{data:t,loading:r,error:n}=Jk(),i=k.useMemo(()=>Li(),[]),a=k.useRef(null),[o,s]=k.useState("7d"),[l,u]=k.useState("all"),[f,d]=k.useState("all"),h=Xo(t==null?void 0:t.total_leads,0),p=Math.round(Xo(t==null?void 0:t.avg_health_score,0)),b=Math.round(Xo(t==null?void 0:t.avg_temperature,0)),x=Xo(t==null?void 0:t.total_emotion_events,0),w=i?Math.max(h,35):h,g=i?Math.max(p,76):p,m=i?Math.max(b,68):b,v=i?Math.max(x,128):x,S=(t==null?void 0:t.stage_distribution)||{},y=Xo(S==null?void 0:S.pronto,i?8:0),_=w>0?y/w*100:0,j=i?18:0,O=i?9:0,A=i?6:0,T=i?-2:0,N=i?22:0;function E(){const M=[];_>=20?M.push("Seu funil est forte: alta proporo em PRONTO."):_>=10?M.push("Bom potencial: aumente follow-up nos leads quentes."):M.push("Baixa converso: precisamos elevar inteno e remover frico."),g<55?M.push("Health mdio est baixo: h risco de esfriar."):g>=75&&M.push("Health alto: timo momento para atacar leads no topo."),v<30&&M.push("Poucos eventos emocionais: falta volume para leitura do modelo."),M.push("Sugesto: execute o Plano do Dia no Funil para destacar leads crticos."),alert(M.join(`
 `).replace(/^/," "))}async function P(){try{if(!a.current)return;await See(a.current,{filename:"Relatorio-DOCA.pdf",scale:2,backgroundColor:"#0b0f19"})}catch(M){alert((M==null?void 0:M.message)||"Falha ao exportar PDF")}}const C=!i&&!r&&!n&&h===0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Relatrios"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Performance do funil, qualidade do atendimento e sinais de converso."})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("div",{className:Vh()+" flex items-center gap-2",children:[c.jsx(MN,{className:"w-4 h-4 text-gray-400"}),c.jsx("select",{value:o,onChange:M=>s(M.target.value),className:"bg-transparent outline-none text-gray-200",children:jee.map(M=>c.jsx("option",{value:M.key,className:"bg-[#0b0f19]",children:M.label},M.key))})]}),c.jsxs("div",{className:Vh()+" flex items-center gap-2",children:[c.jsx(Ev,{className:"w-4 h-4 text-gray-400"}),c.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"bg-transparent outline-none text-gray-200",children:[c.jsx("option",{value:"all",className:"bg-[#0b0f19]",children:"Todos os canais"}),c.jsx("option",{value:"whatsapp",className:"bg-[#0b0f19]",children:"WhatsApp"}),c.jsx("option",{value:"instagram",className:"bg-[#0b0f19]",children:"Instagram"})]})]}),c.jsx("div",{className:Vh()+" flex items-center gap-2",children:c.jsxs("select",{value:f,onChange:M=>d(M.target.value),className:"bg-transparent outline-none text-gray-200",children:[c.jsx("option",{value:"all",className:"bg-[#0b0f19]",children:"Todos os status"}),c.jsx("option",{value:"new",className:"bg-[#0b0f19]",children:"Novos"}),c.jsx("option",{value:"active",className:"bg-[#0b0f19]",children:"Ativos"}),c.jsx("option",{value:"won",className:"bg-[#0b0f19]",children:"Ganhos"}),c.jsx("option",{value:"lost",className:"bg-[#0b0f19]",children:"Perdidos"})]})}),c.jsxs("button",{onClick:E,className:kee(),children:[c.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),"Insight IA"]}),c.jsxs("button",{onClick:P,className:Aee(),children:[c.jsx(LN,{className:"w-4 h-4 text-gray-300"}),"Exportar PDF"]})]})]}),c.jsxs("div",{ref:a,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-white font-semibold",children:"KPIs detalhados"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Mtricas do perodo (no passo 3 vira grficos)."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[c.jsxs(Yt,{title:"Leads gerados",subtitle:"Total no perodo",right:c.jsx(Yo,{value:j}),children:[c.jsx(Ji,{loading:r,error:n,value:w}),c.jsx(Qi,{children:"Volume total de leads com atividade recente."})]}),c.jsxs(Yt,{title:"Converses",subtitle:"Estimativa (pronto / total)",right:c.jsx(Yo,{value:O}),children:[c.jsx(Ji,{loading:r,error:n,value:w>0?`${_.toFixed(1)}%`:""}),c.jsx(Qi,{children:"No PROD vira taxa real (won/total) quando o backend expor."})]}),c.jsxs(Yt,{title:"Health Score mdio",subtitle:"Qualidade geral do funil",right:c.jsx(Yo,{value:A}),children:[c.jsx(Ji,{loading:r,error:n,value:g}),c.jsx(Qi,{children:"Score mdio 0100 (quanto maior, melhor)."})]}),c.jsxs(Yt,{title:"Temperatura mdia",subtitle:"Propenso de converso",right:c.jsx(Yo,{value:T}),children:[c.jsx(Ji,{loading:r,error:n,value:m}),c.jsx(Qi,{children:"Temperatura mdia dos atendimentos ativos."})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mt-6",children:[c.jsxs(Yt,{title:"Eventos emocionais",subtitle:"Cobertura do modelo",right:c.jsx(Yo,{value:N}),children:[c.jsx(Ji,{loading:r,error:n,value:v}),c.jsx(Qi,{children:"Mais eventos = leitura emocional mais precisa."}),c.jsx("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(WN,{className:"w-4 h-4 text-gray-300"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Esse nmero indica quantos sinais emocionais o motor leu no perodo."})]})})]}),c.jsxs(Yt,{title:"SLA de resposta",subtitle:"Mdia e pico",right:c.jsx("span",{className:"text-xs text-gray-500",children:"Em breve"}),children:[c.jsx(Ji,{loading:!1,error:null,value:""}),c.jsx(Qi,{children:"Vai medir tempo mdio e p90 por canal."}),c.jsx("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Gj,{className:"w-4 h-4 text-gray-300"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Assim que o backend expor timestamps, isso vira o KPI mais valioso."})]})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[c.jsxs(Yt,{title:"Resumo executivo",subtitle:"O que importa agora",right:c.jsx("span",{className:"text-xs text-gray-500",children:i?"DEMO":"Realtime"}),children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(Kh,{title:"Converso estimada",value:w>0?`${_.toFixed(1)}%`:"",tone:_>=15?"good":_>=8?"mid":"bad"}),c.jsx(Kh,{title:"Health mdio",value:g?`${g}/100`:"",tone:g>=75?"good":g>=55?"mid":"bad"}),c.jsx(Kh,{title:"Eventos emocionais",value:String(v),tone:v>=80?"good":v>=35?"mid":"bad"})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-white font-semibold text-sm",children:"Prximo passo"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Execute o plano do dia no Funil para impactar os leads com maior chance."}),c.jsxs("button",{onClick:e,disabled:!e,className:qy("mt-4 h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",e?"border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20":"border-white/10 bg-white/5 text-gray-500 cursor-not-allowed"),children:[c.jsx(kv,{className:"w-4 h-4 text-[#f57f17]"}),"Ir para Funil"]})]})]}),c.jsx(Yt,{title:"Aes recomendadas",subtitle:"O que fazer para melhorar",right:c.jsx(Cl,{className:"w-4 h-4 text-[#f57f17]"}),className:"xl:col-span-2",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Pu,{title:"1) Ataque leads prontos",desc:"Use CTA direto + agendamento. A janela  curta.",pill:`${y||0} leads`}),c.jsx(Pu,{title:"2) Nutrir cticos com prova",desc:"Cases curtos + depoimentos + ROI em 15s.",pill:"Prova social"}),c.jsx(Pu,{title:"3) Reduzir risco",desc:"Oferta com risco reduzido (teste / garantia / onboarding assistido).",pill:"Remover frico"}),c.jsx(Pu,{title:"4) Subir Health mdio",desc:"Automatize follow-up e evite deixar lead sem toque.",pill:"Aumentar health"})]})})]})]}),!r&&n&&c.jsxs("div",{className:"rounded-2xl border border-red-500/20 bg-red-500/10 px-4 py-3 text-red-200",children:["Erro ao carregar mtricas:"," ",c.jsx("span",{className:"font-semibold",children:n})]}),C&&c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-xl px-6 py-5",children:[c.jsx("p",{className:"text-white font-semibold",children:"Sem dados ainda"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"No PROD essa tela vai preencher assim que o backend comear a registrar mtricas (leads, eventos emocionais e score). Se quiser, eu j deixo essa UI com um estado Primeiro Setup."})]})]})}function Ji({loading:e,error:t,value:r}){return e?c.jsx("div",{className:"h-10 w-28 rounded-xl bg-white/5 animate-pulse"}):t?c.jsx("p",{className:"text-2xl font-bold text-white",children:""}):c.jsx("p",{className:"text-4xl font-bold text-white",children:r})}function Qi({children:e}){return c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:e})}function Yo({value:e}){const t=Number(e),r=!Number.isFinite(t)||t===0,n=r?"border-white/10 bg-white/[0.03] text-gray-400":t>0?"border-emerald-400/20 bg-emerald-400/10 text-emerald-200":"border-red-400/20 bg-red-400/10 text-red-200";return c.jsx("span",{className:qy("text-xs font-semibold px-3 py-1 rounded-full border backdrop-blur-xl",n),title:"Comparao com perodo anterior (mock enquanto no h histrico)",children:r?"":Oee(t)})}function Kh({title:e,value:t,tone:r}){const n=r==="good"?"text-emerald-200":r==="mid"?"text-yellow-200":"text-red-200";return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 px-4 py-3 flex items-center justify-between",children:[c.jsx("p",{className:"text-gray-400 text-sm",children:e}),c.jsx("p",{className:qy("text-sm font-semibold",n),children:t})]})}function Pu({title:e,desc:t,pill:r}){return c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 hover:bg-black/35 transition-all p-4",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:e}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t})]}),c.jsx("span",{className:"text-[11px] px-3 py-1 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-[#f57f17] font-semibold",children:r})]})})}function Pee(...e){return e.filter(Boolean).join(" ")}function Nee({open:e,saving:t,onClose:r,onSave:n}){const[i,a]=k.useState(""),[o,s]=k.useState("testimonial"),[l,u]=k.useState(""),[f,d]=k.useState(""),[h,p]=k.useState("ctico, curioso, sensvel_preo"),[b,x]=k.useState("vale a pena, robtico"),[w,g]=k.useState(null),m=k.useMemo(()=>w?URL.createObjectURL(w):"",[w]);if(!e)return null;function v(){if(!i.trim())return alert("Ttulo  obrigatrio.");if(!l.trim())return alert("Texto sugerido  obrigatrio.");if(!w)return alert("Envie uma imagem (print/case).");n({title:i.trim(),type:o,suggested_text:l.trim(),tags:Gh(f),best_for_stages:Gh(h),best_for_objections:Gh(b),file:w})}return c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/70 backdrop-blur-sm flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-3xl rounded-[28px] border border-white/10 bg-black/85 shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold text-lg",children:"Adicionar prova social"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Prints, cases, depoimentos e resultados  isso aumenta converso."})]}),c.jsx("button",{onClick:r,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-gray-200 flex items-center justify-center",children:c.jsx($v,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Ttulo"}),c.jsx("input",{value:i,onChange:S=>a(S.target.value),className:"mt-1 w-full h-11 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"Ex: Case  Clnica esttica aumentou agenda em 23%"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Tipo"}),c.jsxs("select",{value:o,onChange:S=>s(S.target.value),className:"mt-1 w-full h-11 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",children:[c.jsx("option",{value:"testimonial",className:"bg-black",children:"Depoimento"}),c.jsx("option",{value:"case",className:"bg-black",children:"Case"}),c.jsx("option",{value:"before_after",className:"bg-black",children:"Antes/Depois"}),c.jsx("option",{value:"results",className:"bg-black",children:"Resultados"}),c.jsx("option",{value:"other",className:"bg-black",children:"Outro"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Tags"}),c.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-2xl border border-white/10 bg-black/40 px-3 h-11",children:[c.jsx(Tv,{className:"w-4 h-4 text-gray-500"}),c.jsx("input",{value:f,onChange:S=>d(S.target.value),className:"w-full bg-transparent outline-none text-sm text-gray-200 placeholder:text-gray-600",placeholder:"Ex: esttica, SLA, agendamento"})]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Texto sugerido (script)"}),c.jsx("textarea",{value:l,onChange:S=>u(S.target.value),className:"mt-1 w-full min-h-[160px] rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm p-3 outline-none resize-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"Ex: Temos clientes nesse setor que reduziram tempo de resposta de 30min para 2min..."}),c.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Dica: sempre inclua um nmero (resultado) + CTA (ex: quer ver um exemplo?)."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Melhor para estgios"}),c.jsx("input",{value:h,onChange:S=>p(S.target.value),className:"mt-1 w-full h-11 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"ctico, curioso, pronto..."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Quebra objees"}),c.jsx("input",{value:b,onChange:S=>x(S.target.value),className:"mt-1 w-full h-11 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"robtico, vale a pena, preo..."})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/35 p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-white font-semibold flex items-center gap-2",children:[c.jsx(lb,{className:"w-4 h-4 text-[#f57f17]"}),"Upload da imagem"]}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Pode ser print do WhatsApp, grfico, print de resultado, etc."})]}),c.jsxs("label",{className:"cursor-pointer h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200 inline-flex items-center gap-2",children:[c.jsx(lb,{className:"w-4 h-4"}),"Selecionar",c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>{var _;const y=((_=S.target.files)==null?void 0:_[0])||null;g(y)}})]})]}),w?c.jsxs("div",{className:"mt-3 text-sm text-gray-300",children:[c.jsx("span",{className:"text-white font-semibold",children:"Arquivo:"})," ",w.name," ",c.jsxs("span",{className:"text-gray-500",children:["(",Math.round(w.size/1024)," KB)"]})]}):c.jsx("div",{className:"mt-3 text-sm text-gray-500",children:"Nenhuma imagem selecionada ainda."})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsxs("p",{className:"text-white font-semibold flex items-center gap-2",children:[c.jsx(Pv,{className:"w-4 h-4 text-gray-400"}),"Preview"]}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"O agente vai poder usar isso como prova social."}),c.jsx("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/40 overflow-hidden",children:m?c.jsx("img",{src:m,alt:"preview",className:"w-full h-[360px] object-cover"}):c.jsx("div",{className:"h-[360px] flex items-center justify-center text-gray-600",children:"Selecione uma imagem"})}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:c.jsxs("button",{onClick:v,disabled:t,className:Pee("h-11 w-full rounded-2xl border transition-all flex items-center justify-center gap-2 text-sm font-semibold",t?"border-[#f57f17]/20 bg-[#f57f17]/10 text-[#f57f17]/60 cursor-not-allowed":"border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 shadow-[0_0_0_1px_rgba(245,127,23,0.12)]"),children:[t?c.jsx(Kr,{className:"w-4 h-4 animate-spin"}):c.jsx(Nv,{className:"w-4 h-4"}),"Salvar prova social"]})}),c.jsx("button",{onClick:r,className:"mt-3 h-11 w-full rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Cancelar"})]})]})]})})}function Gh(e){return(e||"").split(",").map(t=>t.trim()).filter(Boolean)}function Qk(e){var r,n;const t=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n[e];return typeof t=="string"&&t.trim()?t.trim():null}const Tg=Qk("VITE_SUPABASE_URL"),Cg=Qk("VITE_SUPABASE_ANON_KEY"),co=Tg&&Cg?g2(Tg,Cg,{auth:{persistSession:!0,autoRefreshToken:!0}}):null,Hy=!!(Tg&&Cg),Vy="social-proof",Ky="social_proof_assets";function Gy(){if(!Hy||!co)throw new Error("Supabase no configurado: defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.");return co}function Tee(e){return/^https?:\/\//i.test(e)}async function P_(e){if(!e)return"";if(Tee(e)||!Hy||!co)return e;const t=co,{data:r}=t.storage.from(Vy).getPublicUrl(e);return(r==null?void 0:r.publicUrl)||e}async function Cee(e,t="assets"){const r=Gy(),n=(e.name.split(".").pop()||"png").toLowerCase(),i=e.name.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_\.]/g,"").toLowerCase(),a=`${t}/${Date.now()}-${Math.random().toString(16).slice(2)}-${i}.${n}`,{error:o}=await r.storage.from(Vy).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;return a}async function $ee(){if(!Hy||!co)return[];const e=co,{data:t,error:r}=await e.from(Ky).select("*").order("created_at",{ascending:!1}).limit(200);if(r)throw r;return t||[]}async function Mee(e){const t=Gy(),r=new Date().toISOString(),n={...e,id:e.id||crypto.randomUUID(),title:e.title||"Sem ttulo",type:e.type||"other",image_path:e.image_path||"",suggested_text:e.suggested_text||"",tags:Array.isArray(e.tags)?e.tags:[],best_for_stages:Array.isArray(e.best_for_stages)?e.best_for_stages:["geral"],best_for_objections:Array.isArray(e.best_for_objections)?e.best_for_objections:[],source:e.source??"manual",created_at:e.created_at??r,updated_at:e.updated_at??r},{data:i,error:a}=await t.from(Ky).upsert(n).select("*").single();if(a)throw a;return i}async function Iee(e,t){const r=Gy(),{error:n}=await r.from(Ky).delete().eq("id",e);if(n)throw n;if(t)try{await r.storage.from(Vy).remove([t])}catch{}}function Ree(...e){return e.filter(Boolean).join(" ")}function Dee(e){const t={testimonial:"bg-emerald-500/10 border-emerald-400/20 text-emerald-200",case:"bg-cyan-500/10 border-cyan-400/20 text-cyan-200",before_after:"bg-fuchsia-500/10 border-fuchsia-400/20 text-fuchsia-200",results:"bg-yellow-500/10 border-yellow-400/20 text-yellow-200",other:"bg-white/5 border-white/10 text-gray-200"};return t[e]||t.other}function Lee(){const e=k.useMemo(()=>Li(),[]),[t,r]=k.useState(!0),[n,i]=k.useState(!1),[a,o]=k.useState([]),[s,l]=k.useState(""),[u,f]=k.useState("all"),[d,h]=k.useState(!1),[p,b]=k.useState({});k.useEffect(()=>{x()},[]);async function x(){try{r(!0);const S=await $ee();o(S);const y={};await Promise.all(S.map(async _=>{if(_.image_path)try{const j=await P_(_.image_path);j&&(y[_.id]=j)}catch{}})),b(y)}finally{r(!1)}}const w=k.useMemo(()=>{const S=s.trim().toLowerCase();return a.filter(y=>u!=="all"&&y.type!==u?!1:S?`${y.title}
${y.suggested_text}
${(y.tags||[]).join(" ")}
${(y.best_for_objections||[]).join(" ")}
${(y.best_for_stages||[]).join(" ")}`.toLowerCase().includes(S):!0)},[a,s,u]);async function g(S){try{i(!0);const y=S.file?await Cee(S.file):"",_=await Mee({title:S.title,type:S.type,suggested_text:S.suggested_text,tags:S.tags,best_for_stages:S.best_for_stages.length?S.best_for_stages:["geral"],best_for_objections:S.best_for_objections,image_path:y,source:e?"demo":"manual",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});let j="";if(_.image_path)try{j=await P_(_.image_path)}catch{}o(O=>[_,...O]),j&&b(O=>({...O,[_.id]:j})),h(!1)}catch(y){alert((y==null?void 0:y.message)||"Erro ao salvar prova social")}finally{i(!1)}}async function m(S){if(window.confirm("Remover esta prova social?"))try{await Iee(S.id,S.image_path),o(_=>_.filter(j=>j.id!==S.id)),b(_=>{const j={..._};return delete j[S.id],j})}catch(_){alert((_==null?void 0:_.message)||"Erro ao remover")}}async function v(S){try{await navigator.clipboard.writeText(S),alert("Script copiado ")}catch{alert("No consegui copiar. Copie manualmente.")}}return c.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-white font-semibold text-lg flex items-center gap-2",children:[c.jsx(Pv,{className:"w-5 h-5 text-[#f57f17]"}),"Prova Social"]}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Biblioteca de prints, cases e resultados para o agente usar como conviction engine."})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("button",{onClick:()=>h(!0),className:"h-10 px-4 rounded-2xl border border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 transition-all flex items-center gap-2 text-sm font-semibold shadow-[0_0_0_1px_rgba(245,127,23,0.12)]",children:[c.jsx(vc,{className:"w-4 h-4"}),"Adicionar"]})})]}),c.jsxs("div",{className:"mt-5 flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[c.jsx(Tl,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{value:s,onChange:S=>l(S.target.value),placeholder:"Buscar por ttulo, tags, objees...",className:"w-full h-10 rounded-2xl bg-white/5 border border-white/10 pl-10 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})]}),c.jsxs("div",{className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-2 text-sm text-gray-200",children:[c.jsx(Ev,{className:"w-4 h-4 text-gray-500"}),c.jsxs("select",{value:u,onChange:S=>f(S.target.value),className:"bg-transparent outline-none text-gray-200",children:[c.jsx("option",{value:"all",className:"bg-black",children:"Todos"}),c.jsx("option",{value:"testimonial",className:"bg-black",children:"Depoimento"}),c.jsx("option",{value:"case",className:"bg-black",children:"Case"}),c.jsx("option",{value:"before_after",className:"bg-black",children:"Antes/Depois"}),c.jsx("option",{value:"results",className:"bg-black",children:"Resultados"}),c.jsx("option",{value:"other",className:"bg-black",children:"Outro"})]})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:[w.length," itens ",e?" DEMO":""]})]}),c.jsx("div",{className:"mt-5",children:t?c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Kr,{className:"w-4 h-4 animate-spin"}),"Carregando provas sociais"]})}):w.length===0?c.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-black/25 p-6 text-center",children:[c.jsx("p",{className:"text-white font-semibold",children:"Nenhuma prova social ainda"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Adicione prints e cases. Isso vira seu maior motor de converso."}),c.jsxs("button",{onClick:()=>h(!0),className:"mt-4 inline-flex items-center gap-2 h-10 px-4 rounded-2xl border border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 transition-all text-sm font-semibold",children:[c.jsx(vc,{className:"w-4 h-4"})," Adicionar agora"]})]}):c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:w.map(S=>{const y=p[S.id]||"";return c.jsxs("div",{className:"rounded-[22px] border border-white/10 bg-black/30 hover:bg-black/35 transition-all overflow-hidden",children:[c.jsx("div",{className:"h-[220px] bg-black/40 border-b border-white/10 overflow-hidden",children:y?c.jsx("img",{src:y,alt:S.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"h-full flex items-center justify-center text-gray-600",children:"Sem imagem (adicione um print)"})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:S.title}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:Ree("text-[11px] font-semibold px-3 py-1 rounded-full border",Dee(S.type)),children:Bee(S.type)}),(S.tags||[]).slice(0,3).map(_=>c.jsxs("span",{className:"text-[11px] font-semibold px-3 py-1 rounded-full border border-white/10 bg-white/5 text-gray-200",children:["#",_]},_)),(S.tags||[]).length>3&&c.jsxs("span",{className:"text-xs text-gray-500",children:["+",(S.tags||[]).length-3]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>v(S.suggested_text),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Copiar script",children:c.jsx(Ld,{className:"w-4 h-4 text-gray-200"})}),c.jsx("button",{onClick:()=>m(S),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Remover",children:c.jsx(Cv,{className:"w-4 h-4 text-red-300"})})]})]}),c.jsxs("div",{className:"mt-3 rounded-2xl border border-white/10 bg-black/35 p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Script"}),c.jsx("p",{className:"text-sm text-gray-200 mt-1 line-clamp-4 whitespace-pre-wrap",children:S.suggested_text})]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsx(N_,{label:"Estgios",value:(S.best_for_stages||[]).slice(0,3).join(", ")||"geral"}),c.jsx(N_,{label:"Objees",value:(S.best_for_objections||[]).slice(0,3).join(", ")||""})]})]})]},S.id)})})})]}),c.jsx(Nee,{open:d,saving:n,onClose:()=>h(!1),onSave:g})]})}function Bee(e){return{testimonial:"Depoimento",case:"Case",before_after:"Antes/Depois",results:"Resultados",other:"Outro"}[e]||"Outro"}function N_({label:e,value:t}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03] px-3 py-2",children:[c.jsx("p",{className:"text-[11px] text-gray-500",children:e}),c.jsx("p",{className:"text-xs text-gray-200 font-semibold mt-0.5",children:t})]})}async function zl(e,t){const r=await fetch(e,{headers:{Accept:"application/json",...(t==null?void 0:t.headers)||{}},...t});if((r.headers.get("content-type")||"").includes("text/html")){const i=await r.text();throw new Error(`Endpoint retornou HTML (provvel rota errada): ${e}. Ex: ${i.slice(0,80)}...`)}if(!r.ok){const i=await r.text().catch(()=>"");throw new Error(`HTTP ${r.status} em ${e}. ${i}`)}return await r.json()}async function Uee(){try{const e=await zl("/api/settings?key=agent_prompt");return((e==null?void 0:e.value)||"").toString()}catch{return""}}async function zee(e){await zl("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_prompt",value:e})})}async function Fee(e){const r=await zl("/api/knowledge");return Array.isArray(r)?r:[]}async function Wee(e){await zl("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function qee(e){await zl("/api/knowledge",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})}function Cr(...e){return e.filter(Boolean).join(" ")}function Hee(){const[e,t]=k.useState(null),r=k.useRef(null);function n(i){t(i),r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>t(null),3200)}return{toast:e,show:n,clear:()=>t(null)}}function Xh(e){const{title:t,subtitle:r,right:n,children:i,className:a}=e;return c.jsx("div",{className:Cr("rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",a),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold text-lg",children:t}),r&&c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r})]}),n]}),c.jsx("div",{className:"mt-5",children:i})]})})}function Vee(){const{toast:e,show:t,clear:r}=Hee(),[n,i]=k.useState(!0),[a,o]=k.useState(!1),[s,l]=k.useState(""),[u,f]=k.useState(""),[d,h]=k.useState(!0),[p,b]=k.useState(!1),[x,w]=k.useState(null),[g,m]=k.useState([]),[v,S]=k.useState(""),[y,_]=k.useState("all"),[j,O]=k.useState(!1),[A,T]=k.useState(!1),[N,E]=k.useState(null),[P,C]=k.useState({stage:"curioso",emotion:"neutral",channel:"whatsapp"}),[M,R]=k.useState(""),[D,I]=k.useState(null),[L,z]=k.useState(!1),[V,W]=k.useState("prompt"),Q=k.useMemo(()=>{const q=new Set;return g.forEach(ae=>{const Be=(ae.category||"").trim();Be&&q.add(Be)}),["all",...Array.from(q).sort((ae,Be)=>ae.localeCompare(Be))]},[g]),se=k.useMemo(()=>{const q=v.trim().toLowerCase();return g.filter(ae=>(y==="all"?!0:(ae.category||"")===y)?q?`${ae.question}
${ae.answer}
${(ae.tags||[]).join(" ")}
${ae.category||""}`.toLowerCase().includes(q):!0:!1)},[g,v,y]),he=k.useMemo(()=>s!==u,[s,u]);k.useEffect(()=>{Se()},[]);async function Se(){await Promise.all([G(),oe()])}async function G(){try{i(!0);const q=await Uee();l(q),f(q)}catch(q){t({type:"error",title:"Erro ao carregar prompt",desc:q==null?void 0:q.message})}finally{i(!1)}}async function oe(){try{h(!0);const q=await Fee();m(q)}catch(q){t({type:"error",title:"Erro ao carregar base",desc:q==null?void 0:q.message})}finally{h(!1)}}async function F(){const q=s.trim();if(!q){t({type:"error",title:"Prompt vazio",desc:"Escreva um prompt antes de salvar."});return}try{o(!0),await zee(q),f(q),t({type:"success",title:"Prompt salvo",desc:"Configurao aplicada no backend."})}catch(ae){t({type:"error",title:"Falha ao salvar prompt",desc:ae==null?void 0:ae.message})}finally{o(!1)}}function X(){l(u),t({type:"info",title:"Prompt restaurado",desc:"Voltando para a ltima verso salva."})}function ie(){E(null),T(!0)}function B(q){E(q),T(!0)}async function je(q){if(!(!q.id||!window.confirm("Remover este item da base de conhecimento?")))try{w(q.id),await qee(q.id),t({type:"success",title:"Removido",desc:"Item removido da base."}),await oe()}catch(Be){t({type:"error",title:"Erro ao remover",desc:Be==null?void 0:Be.message})}finally{w(null)}}async function fe(q){var ae,Be;if(!((ae=q.question)!=null&&ae.trim())){t({type:"error",title:"Pergunta obrigatria"});return}if(!((Be=q.answer)!=null&&Be.trim())){t({type:"error",title:"Resposta obrigatria"});return}try{b(!0),await Wee({...q,category:(q.category||"").trim()||null,priority:typeof q.priority=="number"?q.priority:3,tags:Array.isArray(q.tags)?q.tags:[]}),t({type:"success",title:q.id?"Atualizado":"Adicionado",desc:"Base de conhecimento salva."}),T(!1),E(null),await oe()}catch(pt){t({type:"error",title:"Erro ao salvar",desc:pt==null?void 0:pt.message})}finally{b(!1)}}async function We(){const q=M.trim();if(!q){t({type:"error",title:"Digite uma mensagem",desc:"Simule uma pergunta do lead para testar."});return}try{z(!0),I(null);const ae=q.toLowerCase(),pt=g.map(ot=>{const Ui=`${ot.question}
${ot.answer}
${(ot.tags||[]).join(" ")}
${ot.category||""}`.toLowerCase();let zi=0;return ae.split(/\s+/).forEach(Xy=>{Xy.length>=3&&Ui.includes(Xy)&&(zi+=1)}),zi+=((ot.priority||3)-1)*.25,{k:ot,score:zi}}).sort((ot,Ui)=>Ui.score-ot.score).filter(ot=>ot.score>0).slice(0,2).map(ot=>({question:ot.k.question,category:ot.k.category||null})),Bi=P.emotion==="frustrated"||P.stage==="frustrado",zr=Xee(.62+(pt.length>0?.18:-.08)+(P.emotion==="ready"?.12:0)+(P.emotion==="skeptical"?-.08:0)),Fr=Yee({input:q,ctx:P,sources:pt});I({answer:Fr,sources:pt,confidence:Math.round(zr*100),escalate:Bi,rationale:pt.length>0?"A resposta foi composta usando os itens mais relevantes da Base de Conhecimento.":"Sem match forte na Base de Conhecimento; resposta gerada com heurstica padro."})}catch(ae){t({type:"error",title:"Falha no teste",desc:ae==null?void 0:ae.message})}finally{z(!1)}}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Gp,{className:"w-6 h-6 text-[#f57f17]"}),"Treinamento"]}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Configure o comportamento do agente e melhore as respostas com uma base de conhecimento viva."})]}),c.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:c.jsx(Kp,{className:"w-4 h-4 text-[#f57f17]"})}),c.jsxs("div",{className:"leading-tight",children:[c.jsx("p",{className:"text-sm text-white font-semibold",children:"Modo Treinamento"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Prompt + Knowledge + Prova Social + Testes"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(Nu,{active:V==="prompt",onClick:()=>W("prompt"),icon:c.jsx(Gp,{className:"w-4 h-4"}),label:"Prompt"}),c.jsx(Nu,{active:V==="knowledge",onClick:()=>W("knowledge"),icon:c.jsx(Kp,{className:"w-4 h-4"}),label:"Knowledge Base"}),c.jsx(Nu,{active:V==="social",onClick:()=>W("social"),icon:c.jsx(Pv,{className:"w-4 h-4"}),label:"Prova Social"}),c.jsx(Nu,{active:V==="playground",onClick:()=>W("playground"),icon:c.jsx(sb,{className:"w-4 h-4"}),label:"Playground"})]}),e&&c.jsx("div",{className:"fixed right-6 top-6 z-50",children:c.jsx("div",{className:Cr("rounded-2xl border backdrop-blur-xl px-4 py-3 shadow-xl w-[360px]",e.type==="success"&&"border-emerald-500/25 bg-emerald-500/10",e.type==="error"&&"border-red-500/25 bg-red-500/10",e.type==="info"&&"border-white/10 bg-white/5"),children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-0.5",children:e.type==="success"?c.jsx(mc,{className:"w-5 h-5 text-emerald-300"}):e.type==="error"?c.jsx(DN,{className:"w-5 h-5 text-red-300"}):c.jsx(Yj,{className:"w-5 h-5 text-gray-300"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-semibold text-sm",children:e.title}),e.desc&&c.jsx("p",{className:"text-gray-300 text-sm mt-1",children:e.desc})]}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-200",children:""})]})})}),V==="prompt"&&c.jsx(Xh,{title:"Prompt do Agente",subtitle:"Defina as regras, tom e objetivo. Essa  a mente do agente.",right:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:X,disabled:!he||n||a,className:Cr("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",!he||n||a?"border-white/10 bg-white/5 text-gray-500 cursor-not-allowed":"border-white/10 bg-white/5 text-gray-200 hover:bg-white/10"),children:[c.jsx(zN,{className:"w-4 h-4"}),"Restaurar"]}),c.jsxs("button",{onClick:F,disabled:n||a||!he,className:Cr("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",n||a||!he?"border-[#f57f17]/20 bg-[#f57f17]/10 text-[#f57f17]/60 cursor-not-allowed":"border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 shadow-[0_0_0_1px_rgba(245,127,23,0.12)]"),children:[a?c.jsx(Kr,{className:"w-4 h-4 animate-spin"}):c.jsx(Nv,{className:"w-4 h-4"}),"Salvar"]})]}),children:n?c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Kr,{className:"w-4 h-4 animate-spin"}),"Carregando prompt"]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[c.jsx("span",{className:"font-semibold text-white",children:"agent_prompt"}),c.jsx("span",{className:"text-gray-600",children:""}),c.jsx("span",{className:he?"text-[#f57f17]":"text-gray-500",children:he?"No salvo":"Salvo"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Dica: inclua regras + tom + coleta de dados + fechamento"})]}),c.jsx("textarea",{value:s,onChange:q=>l(q.target.value),className:"w-full min-h-[340px] p-4 bg-transparent outline-none resize-none font-mono text-sm text-gray-200 placeholder:text-gray-600",placeholder:`Exemplo:
Voc  um atendente especialista.
- Seja direto e consultivo.
- Sempre pergunte Nome + Segmento.
- Nunca prometa garantias irreais.
- Se lead estiver frustrado, escale para humano.`})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx(Yh,{title:"Objetivo",desc:"Converter leads com clareza"}),c.jsx(Yh,{title:"Tom",desc:"Premium, consultivo, assertivo"}),c.jsx(Yh,{title:"Regras",desc:"Compliance + escalonamento"})]})]})}),V==="knowledge"&&c.jsxs(Xh,{title:"Base de Conhecimento",subtitle:"Perguntas e respostas que a IA usa como referncia para atender com consistncia.",right:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>O(q=>!q),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[c.jsx(Ev,{className:"w-4 h-4 text-gray-400"}),y==="all"?"Todas categorias":y,c.jsx(Xp,{className:"w-4 h-4 text-gray-400"})]}),j&&c.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-10",children:Q.map(q=>c.jsx("button",{onClick:()=>{_(q),O(!1)},className:Cr("w-full text-left px-4 py-3 text-sm hover:bg-white/5",y===q?"text-white font-semibold":"text-gray-200"),children:q==="all"?"Todas categorias":q},q))})]}),c.jsxs("button",{onClick:ie,className:"h-10 px-4 rounded-2xl border border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 transition-all flex items-center gap-2 text-sm font-semibold shadow-[0_0_0_1px_rgba(245,127,23,0.12)]",children:[c.jsx(vc,{className:"w-4 h-4"}),"Adicionar"]})]}),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Tl,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{value:v,onChange:q=>S(q.target.value),placeholder:"Buscar por pergunta, resposta, tags...",className:"w-full h-10 rounded-2xl bg-white/5 border border-white/10 pl-10 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-2 text-xs text-gray-500",children:[c.jsx(Tv,{className:"w-4 h-4 text-gray-600"}),g.length," itens"]})]}),c.jsx("div",{className:"mt-4 space-y-3",children:d?c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Kr,{className:"w-4 h-4 animate-spin"}),"Carregando base"]})}):se.length===0?c.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-black/25 p-6 text-center",children:[c.jsx("p",{className:"text-white font-semibold",children:"Nenhum item encontrado"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ajuste filtros ou adicione perguntas e respostas para enriquecer a IA."}),c.jsxs("button",{onClick:ie,className:"mt-4 inline-flex items-center gap-2 h-10 px-4 rounded-2xl border border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 transition-all text-sm font-semibold",children:[c.jsx(vc,{className:"w-4 h-4"})," Adicionar item"]})]}):se.map(q=>c.jsx(Kee,{item:q,onEdit:()=>B(q),onDelete:()=>je(q),deleting:x===q.id},q.id||q.question))}),c.jsxs("div",{className:"mt-5 rounded-2xl border border-white/10 bg-black/25 p-4",children:[c.jsx("p",{className:"text-white font-semibold text-sm",children:"Boas prticas"}),c.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-gray-500",children:[c.jsx("li",{children:" Respostas devem ser objetivas, com exemplos e termos do seu negcio."}),c.jsx("li",{children:" Use categorias: Preo, Integraes, ROI, Objees, Garantia, Suporte"}),c.jsx("li",{children:" Prioridade (15) define o que a IA puxa primeiro."})]})]})]}),V==="social"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-xl px-5 py-4",children:[c.jsx("p",{className:"text-white font-semibold",children:"Prova Social (Conviction Engine)"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Aqui voc salva prints, cases e resultados para o agente usar na hora certa (principalmente para CTICOS)."})]}),c.jsx(Lee,{})]}),V==="playground"&&c.jsx(Xh,{title:"Playground",subtitle:"Teste o comportamento do agente com contexto (estgio, emoo e canal).",right:c.jsxs("button",{onClick:We,disabled:L,className:Cr("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",L?"border-[#f57f17]/20 bg-[#f57f17]/10 text-[#f57f17]/60 cursor-not-allowed":"border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 shadow-[0_0_0_1px_rgba(245,127,23,0.12)]"),children:[L?c.jsx(Kr,{className:"w-4 h-4 animate-spin"}):c.jsx(sb,{className:"w-4 h-4"}),"Testar"]}),children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-white font-semibold",children:"Contexto"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"A IA muda resposta conforme o cenrio."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Jh,{label:"Estgio",value:P.stage,onChange:q=>C(ae=>({...ae,stage:q})),options:[{value:"ctico",label:"Ctico"},{value:"frustrado",label:"Frustrado"},{value:"curioso",label:"Curioso"},{value:"sensvel_preo",label:"Sensvel a Preo"},{value:"empolgado",label:"Empolgado"},{value:"pronto",label:"Pronto"}]}),c.jsx(Jh,{label:"Emoo",value:P.emotion,onChange:q=>C(ae=>({...ae,emotion:q})),options:[{value:"neutral",label:"Neutral"},{value:"curious",label:"Curious"},{value:"price_sensitive",label:"Price Sensitive"},{value:"skeptical",label:"Skeptical"},{value:"frustrated",label:"Frustrated"},{value:"excited",label:"Excited"},{value:"ready",label:"Ready"}]}),c.jsx(Jh,{label:"Canal",value:P.channel,onChange:q=>C(ae=>({...ae,channel:q})),options:[{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram (em breve)"},{value:"web",label:"Webchat (em breve)"}]})]})]}),c.jsxs("div",{className:"lg:col-span-2 rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:"Mensagem do lead"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Simule uma pergunta real. O sistema busca referncias na Knowledge Base."})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:[g.length," itens na base"]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("textarea",{value:M,onChange:q=>R(q.target.value),placeholder:"Ex: Quanto custa? Tem integrao com CRM? D pra parcelar? Qual ROI?",className:"w-full min-h-[130px] p-4 rounded-2xl border border-white/10 bg-black/40 outline-none resize-none text-sm text-gray-200 placeholder:text-gray-600 focus:ring-2 focus:ring-[#f57f17]"})}),c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/35 p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:"Resposta do agente"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Resultado do Playground (simulado). Depois plugamos no backend de IA."})]}),D&&c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Confiana"}),c.jsxs("p",{className:"text-white font-bold text-lg",children:[D.confidence,"%"]})]})]}),c.jsx("div",{className:"mt-4",children:L?c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Kr,{className:"w-4 h-4 animate-spin"}),"Gerando resposta"]}):D?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/35 p-4",children:c.jsx("p",{className:"text-gray-200 text-sm whitespace-pre-wrap leading-relaxed",children:D.answer})}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx(Qh,{label:"Escalonar",value:D.escalate?"Sim":"No",tone:D.escalate?"red":"green"}),c.jsx(Qh,{label:"Contexto",value:`${P.stage}  ${P.emotion}`}),c.jsx(Qh,{label:"Canal",value:P.channel})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/25 p-4",children:[c.jsx("p",{className:"text-white font-semibold text-sm",children:"Fontes (Knowledge Base)"}),D.sources.length===0?c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Nenhum item da base foi match forte. Adicione FAQs para aumentar consistncia."}):c.jsx("div",{className:"mt-2 space-y-2",children:D.sources.map((q,ae)=>c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 px-3 py-2",children:[c.jsx("p",{className:"text-gray-200 text-sm font-semibold",children:q.question}),q.category&&c.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:q.category})]},ae))}),c.jsx("p",{className:"text-gray-500 text-xs mt-3",children:D.rationale})]})]}):c.jsxs("div",{className:"rounded-2xl border border-dashed border-white/15 bg-black/25 p-6 text-center",children:[c.jsx("p",{className:"text-white font-semibold",children:"Nenhum teste rodou ainda"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Escolha contexto, digite uma mensagem e clique em Testar."})]})})]})]})]})}),A&&c.jsx(Gee,{saving:p,item:N,onClose:()=>{T(!1),E(null)},onSave:fe})]})}function Nu(e){return c.jsxs("button",{onClick:e.onClick,className:Cr("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",e.active?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[c.jsx("span",{className:e.active?"text-[#f57f17]":"text-gray-400",children:e.icon}),e.label]})}function Yh(e){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsx("p",{className:"text-gray-500 text-xs",children:e.title}),c.jsx("p",{className:"text-white font-semibold text-sm mt-1",children:e.desc})]})}function Kee(e){const{item:t,onEdit:r,onDelete:n,deleting:i}=e,a=typeof t.priority=="number"?t.priority:3,o=Array.isArray(t.tags)?t.tags:[];return c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 hover:bg-black/35 transition-all overflow-hidden",children:c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold",children:t.question}),c.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:t.answer}),c.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.category&&c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold bg-white/5 border border-white/10 text-gray-200",children:[c.jsx(Kp,{className:"w-3.5 h-3.5 text-gray-400"}),t.category]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17]",children:["Prioridade ",a]}),o.slice(0,3).map(s=>c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold bg-black/30 border border-white/10 text-gray-300",children:[c.jsx(Tv,{className:"w-3.5 h-3.5 text-gray-500"}),s]},s)),o.length>3&&c.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.length-3]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:r,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Editar"}),c.jsx("button",{onClick:n,disabled:i,className:Cr("h-10 w-10 rounded-2xl border transition-all flex items-center justify-center",i?"border-red-500/20 bg-red-500/10 text-red-300 cursor-not-allowed":"border-white/10 bg-white/5 hover:bg-white/10 text-gray-200"),title:"Remover",children:i?c.jsx(Kr,{className:"w-4 h-4 animate-spin"}):c.jsx(Cv,{className:"w-4 h-4 text-red-300"})})]})]})})})}function Jh(e){return c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:e.label}),c.jsx("select",{value:e.value,onChange:t=>e.onChange(t.target.value),className:"mt-1 w-full h-10 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",children:e.options.map(t=>c.jsx("option",{value:t.value,className:"bg-black",children:t.label},t.value))})]})}function Qh(e){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 px-4 py-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:e.label}),c.jsx("p",{className:Cr("text-white font-semibold text-sm mt-1",e.tone==="green"&&"text-emerald-200",e.tone==="red"&&"text-red-200"),children:e.value})]})}function Gee(e){const{item:t,saving:r,onClose:n,onSave:i}=e,[a,o]=k.useState((t==null?void 0:t.question)||""),[s,l]=k.useState((t==null?void 0:t.answer)||""),[u,f]=k.useState((t==null?void 0:t.category)||""),[d,h]=k.useState(typeof(t==null?void 0:t.priority)=="number"?t.priority:3),[p,b]=k.useState(((t==null?void 0:t.tags)||[]).join(", "));return c.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-2xl rounded-[28px] border border-white/10 bg-black/85 shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold text-lg",children:t!=null&&t.id?"Editar item":"Adicionar item"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Mantenha respostas claras e teis. Isso afeta diretamente a performance."})]}),c.jsx("button",{onClick:n,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-gray-200",children:""})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Pergunta"}),c.jsx("input",{value:a,onChange:x=>o(x.target.value),className:"mt-1 w-full h-10 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"Ex: Quanto custa? Vocs integram com CRM?"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Resposta"}),c.jsx("textarea",{value:s,onChange:x=>l(x.target.value),className:"mt-1 w-full min-h-[140px] rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm p-3 outline-none resize-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"Ex: Temos plano mensal e anual. Integrao via webhook + API..."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),c.jsx("input",{value:u,onChange:x=>f(x.target.value),className:"mt-1 w-full h-10 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"Preo, ROI, Integraes..."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Prioridade (15)"}),c.jsx("select",{value:d,onChange:x=>h(parseInt(x.target.value)),className:"mt-1 w-full h-10 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",children:[1,2,3,4,5].map(x=>c.jsx("option",{value:x,className:"bg-black",children:x},x))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Tags (separadas por vrgula)"}),c.jsx("input",{value:p,onChange:x=>b(x.target.value),className:"mt-1 w-full h-10 rounded-2xl border border-white/10 bg-black/40 text-gray-200 text-sm px-3 outline-none focus:ring-2 focus:ring-[#f57f17]",placeholder:"parcelamento, CRM, suporte..."})]})]})]}),c.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Dica: quanto mais especfica a pergunta, melhor a IA busca o match."}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:n,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Cancelar"}),c.jsxs("button",{disabled:r,onClick:()=>i({id:t==null?void 0:t.id,question:a,answer:s,category:u||null,priority:d,tags:p.split(",").map(x=>x.trim()).filter(Boolean)}),className:Cr("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",r?"border-[#f57f17]/20 bg-[#f57f17]/10 text-[#f57f17]/60 cursor-not-allowed":"border-[#f57f17]/35 bg-[#f57f17]/15 text-white hover:bg-[#f57f17]/20 shadow-[0_0_0_1px_rgba(245,127,23,0.12)]"),children:[r?c.jsx(Kr,{className:"w-4 h-4 animate-spin"}):c.jsx(Nv,{className:"w-4 h-4"}),"Salvar"]})]})]})]})})}function Xee(e){return Math.max(0,Math.min(1,e))}function Yee(e){const{input:t,ctx:r,sources:n}=e,i=r.emotion==="frustrated"?"emptico":r.emotion==="skeptical"?"prova social":r.emotion==="ready"?"fechamento":"consultivo",a=i==="emptico"?"Entendi  faz sentido voc estar incomodado. Vamos resolver isso agora.":i==="prova social"?"Totalmente justo ter essa dvida. Posso te mostrar como isso funciona na prtica.":i==="fechamento"?"Perfeito. Vamos direto ao ponto pra voc fechar com segurana.":"Boa. Vou te explicar de um jeito rpido e claro.",o=n.length>0?`

Baseado na nossa base de conhecimento, aqui vai o que recomendo:`:`

Ainda no tenho um item especfico na base para isso, mas aqui vai a melhor orientao:`,s=r.stage==="sensvel_preo"?`

Se preo for o ponto principal, eu consigo te montar 2 opes (mensal e anual com desconto) + simulao de ROI.`:r.stage==="pronto"?`

Se voc j estiver pronto, eu te mando agora a proposta + link de pagamento e j deixo o onboarding agendado.`:r.stage==="ctico"?`

Se voc quiser, eu te mostro 2 cases e fazemos um teste rpido com suporte humano junto (pra no ficar robtico).`:"",l=r.channel==="whatsapp"?`

Me diz: qual seu segmento e quantos leads/ms vocs recebem hoje?`:`

Me passa seu contexto (segmento e volume) que eu te respondo com nmeros.`;return`${a}

Voc perguntou: "${t}"${o}${s}${l}`}function Jee(){return c.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Integraes"}),c.jsx("p",{className:"text-gray-400",children:"Aqui voc mantm a sua implementao atual (WAHA, Supabase, Calendar...)."})]})}function Qee(){return c.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Configuraes"}),c.jsx("p",{className:"text-gray-400",children:"Aqui voc mantm a sua implementao atual (Config do Agente)."})]})}function Zee(e){if(!e)return"-";const t=Date.now()-new Date(e).getTime(),r=Math.max(0,Math.floor(t/6e4));if(r<60)return`${r}m`;const n=Math.floor(r/60);return n<48?`${n}h`:`${Math.floor(n/24)}d`}function Zk(e,t,r){return Math.max(t,Math.min(r,e))}function Xt(e){return e[Math.floor(Math.random()*e.length)]}function ete(e){const t={ready:"Pronto",excited:"Empolgado",curious:"Curioso",skeptical:"Ctico",frustrated:"Frustrado",anxious:"Ansioso",price_sensitive:"Preo",neutral:"Neutro"};return e?t[e]||e:""}function tte(e){const t="inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-[11px] font-semibold";return e==="critical"?c.jsxs("span",{className:`${t} border-red-500/20 bg-red-500/10 text-red-300`,children:[c.jsx(La,{className:"w-3.5 h-3.5"}),"Crtico"]}):e==="high"?c.jsxs("span",{className:`${t} border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]`,children:[c.jsx(tr,{className:"w-3.5 h-3.5"}),"Alto"]}):e==="low"?c.jsx("span",{className:`${t} border-white/10 bg-white/5 text-gray-300`,children:"Baixo"}):c.jsx("span",{className:`${t} border-white/10 bg-white/5 text-gray-300`,children:"Normal"})}function rte(e){const t={pronto:"Pronto",empolgado:"Empolgado",curioso:"Curioso",sensvel_preo:"Sensvel a preo",ctico:"Ctico",frustrado:"Frustrado"};return e?t[e]||e:""}function eE(e){const r=e.slice(-12).map(o=>`${o.from==="lead"?"Cliente":"Agente"}: ${o.text}`).join(`
`).toLowerCase(),n=[];(r.includes("caro")||r.includes("preo")||r.includes("valor"))&&n.push("Preo / oramento"),(r.includes("no acredito")||r.includes("rob")||r.includes("funciona"))&&n.push("Ceticismo / confiana"),(r.includes("integr")||r.includes("api")||r.includes("crm"))&&n.push("Integrao / tcnico"),(r.includes("ningum responde")||r.includes("demora")||r.includes("baguna"))&&n.push("Experincia / frustrao"),(r.includes("urgente")||r.includes("hoje")||r.includes("agora"))&&n.push("Urgncia");const i=r.includes("fechar")||r.includes("contrato")||r.includes("pagamento")?"Fechamento / compra":r.includes("call")||r.includes("reunio")||r.includes("agenda")?"Agendamento":r.includes("como funciona")||r.includes("d pra")||r.includes("integr")?"Dvida / qualificao":r.includes("caro")||r.includes("preo")||r.includes("valor")?"Comparao de preo":"Atendimento / triagem",a=i==="Fechamento / compra"?"Enviar proposta + link e confirmar dados":i==="Agendamento"?"Sugerir 2 horrios e enviar link":i==="Comparao de preo"?"Ancorar ROI + oferecer 2 opes (mensal/anual)":"Perguntas rpidas de qualificao + prova social";return{intent:i,objections:n.length?n:[""],nextStep:a}}function tE(e,t){return(e==null?void 0:e.stage)||(t!=null&&t.current_emotion?t.current_emotion:"curioso")||"curioso"}function rE(e){const t=(e||"").toLowerCase();return t.includes("pronto")||t.includes("ready")?"fechamento":t.includes("frustr")||t.includes("problem")||t.includes("ctico")||t.includes("skept")?"objecoes":t.includes("preo")||t.includes("price")||t.includes("curioso")||t.includes("curious")?"valor":t.includes("empolgado")||t.includes("excited")?"fechamento":"reativacao"}function Jo(e){const t=e.lead,r=e.conv,n=eE(e.messages),i=(t==null?void 0:t.name)||(r==null?void 0:r.name)||"a",a=tE(t,r),o=(t==null?void 0:t.urgency_level)||"normal",s=[`Oi ${i}!`,`Fala ${i}!`,`Oi, ${i} `,`Ol ${i}! Tudo certo?`],l=["Quer que eu te mande as opes por aqui?","Posso te mostrar um caminho rpido pra isso agora?","Se fizer sentido, te mando os prximos passos.","Quer que eu te ajude a decidir hoje?"],u=[{id:"fu-price-1",stage:"valor",confidence:.86,title:"Valor  Ancorar ROI",goal:"Converter objeo de preo em comparao de valor",timing:o==="high"||o==="critical"?"Hoje":"Em 24h",text:`${Xt(s)} Vi que voc est comparando preo. Pra ficar justo: com seu volume, normalmente a DOCA reduz tempo de resposta e aumenta converso. Quantos leads/ms e quantos atendentes hoje? Eu simulo o ROI rapidinho.`,tags:["preo","roi","qualificao"]},{id:"fu-price-2",stage:"valor",confidence:.8,title:"Valor  2 opes (mensal vs anual)",goal:"Dar escolha e remover atrito de pagamento",timing:"Em 1 dia",text:`${Xt(s)} Pra facilitar, posso te mandar 2 opes: 1) mensal (flexvel) e 2) anual (com desconto). ${Xt(l)}`,tags:["preo","oferta","fechamento"]}],f=[{id:"fu-skept-1",stage:"objecoes",confidence:.86,title:"Objees  Prova + teste assistido",goal:"Gerar confiana e reduzir risco percebido",timing:o==="high"?"Hoje":"Em 48h",text:`${Xt(s)} Totalmente justo ser p no cho. Pra no ficar no achismo, eu te mostro 2 cases reais + fazemos um teste assistido. Qual seu maior medo: ficar robtico, errar info ou no converter?`,tags:["ctico","prova_social","teste"]},{id:"fu-skept-2",stage:"objecoes",confidence:.78,title:"Objees  Demo rpida",goal:"Mostrar na prtica o tom humano",timing:"Em 1 dia",text:`${Xt(s)} Se voc topar, eu fao uma demo em 10min com seu exemplo real (uma objeo comum do seu cliente) e voc v a resposta humana funcionando.`,tags:["demo","tom_de_voz","confiana"]}],d=[{id:"fu-frus-1",stage:"objecoes",confidence:.88,title:"Objees  Reparao + prioridade",goal:"Desarmar tenso e recuperar controle",timing:"Hoje",text:`${Xt(s)} Voc tem razo  isso no  experincia aceitvel. Eu vou priorizar seu caso agora. Me diz em 1 frase o que voc precisa resolver primeiro, e eu j te guio no passo a passo.`,tags:["frustrado","suporte","prioridade"]},{id:"fu-frus-2",stage:"valor",confidence:.82,title:"Valor  Ao objetiva",goal:"Transformar emoo em ao clara",timing:"Em 24h",text:`${Xt(s)} S pra eu no te fazer perder tempo: 1) seu objetivo  captar leads? 2) responder rpido? 3) agendar? Com isso eu te mando a configurao ideal em 3 passos.`,tags:["triagem","setup","resolver"]}],h=[{id:"fu-ready-1",stage:"fechamento",confidence:.9,title:"Fechamento  Direto ao ponto",goal:"Encaminhar contrato/pagamento com clareza",timing:"Hoje",text:`${Xt(s)} Perfeito  pra fechar hoje, s preciso de 2 infos: 1) plano (mensal/anual) e 2) CNPJ/razo social pra contrato. Te mando o link assim que me confirmar.`,tags:["fechamento","contrato","pagamento"]},{id:"fu-ready-2",stage:"fechamento",confidence:.8,title:"Fechamento  Onboarding rpido",goal:"Diminuir atrito do ps-venda",timing:"Aps pagamento",text:`${Xt(s)} Assim que confirmar, eu j te mando o checklist do onboarding (leva 15min) e em seguida a gente ativa a IA com seu tom de voz.`,tags:["onboarding","setup","ativao"]}],p=[{id:"fu-cur-1",stage:"valor",confidence:.86,title:"Valor  Qualificao rpida",goal:"Entender contexto e encaixar a oferta",timing:o==="high"?"Hoje":"Em 26h",text:`${Xt(s)} Pra te orientar certo: 1) qual seu tipo de negcio? 2) quantos leads/ms? 3) qual seu maior gargalo hoje? Com isso eu te digo exatamente se faz sentido e qual caminho mais rpido.`,tags:["qualificao","diagnstico","gargalo"]},{id:"fu-cur-2",stage:"fechamento",confidence:.72,title:"Fechamento  Agendamento",goal:"Mover para call e acelerar deciso",timing:"Em 1 dia",text:`${Xt(s)} Se preferir, a gente resolve em uma call curta. Voc prefere 09:30 ou 10:00?`,tags:["agenda","call","prximo_passo"]}],b=[{id:"fu-nurt-1",stage:"nutricao",confidence:.72,title:"Nutrio  Contedo til",goal:"Manter aquecido com leveza",timing:"Em 2 dias",text:"Fala a! Vou te mandar um guia rpido com 3 prticas que aumentam converso no WhatsApp (resposta em at 2min, perguntas certas e follow-ups). Quer que eu envie aqui?",tags:["contedo","dicas","nutrio"]},{id:"fu-nurt-2",stage:"reativacao",confidence:.78,title:"Reativao  Toque leve",goal:"Retomar contato e gerar resposta",timing:"Hoje",text:"Oi, a  Passando rapidinho pra saber se ficou alguma dvida. Se fizer sentido, eu te mando os prximos passos em 1 minuto ",tags:["reativao","leve"]}],x=a==="sensvel_preo"||a==="price_sensitive"?[...u]:a==="ctico"||a==="skeptical"?[...f]:a==="frustrado"||a==="frustrated"?[...d]:a==="pronto"||a==="ready"?[...h]:[...p],w={id:"fu-context-1",stage:"valor",confidence:.86,title:"Valor  Amarrar prximo passo",goal:"Fechar loop e reduzir frico",timing:"Em 412h",text:`${Xt(s)} Pelo que entendi, a inteno aqui : **${n.intent}**. O prximo passo que eu recomendo : **${n.nextStep}**. Quer que eu faa isso com voc agora?`,tags:["contexto","next_step","clareza"]};return[...[x[0],x[1]||x[0],w],...b].slice(0,5).map((v,S)=>({...v,id:`${v.id}-${S}-${Date.now()}`,confidence:v.confidence??.78,stage:v.stage??rE(a)}))}const nte={reativacao:{label:"Reativao",hint:"Retomar contato e gerar resposta",badge:"border-sky-500/20 bg-sky-500/10 text-sky-300"},valor:{label:"Valor",hint:"Entregar clareza e prova",badge:"border-violet-500/20 bg-violet-500/10 text-violet-300"},objecoes:{label:"Objees",hint:"Responder dvidas e reduzir atrito",badge:"border-amber-500/20 bg-amber-500/10 text-amber-300"},fechamento:{label:"Fechamento",hint:"Mover para deciso e CTA",badge:"border-emerald-500/20 bg-emerald-500/10 text-emerald-300"},nutricao:{label:"Nutrio",hint:"Manter aquecido com leveza",badge:"border-white/10 bg-white/5 text-gray-200"}};function ite(e){const t=Math.round(Zk(e??.78,0,1)*100);return c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-2.5 py-1 text-[11px] font-semibold text-emerald-300",children:[c.jsx(Vj,{className:"w-3.5 h-3.5"}),t,"% conf."]})}function ate(){const e=Li(),t=e?Ul():null,[r,n]=k.useState(!0),[i,a]=k.useState([]),[o,s]=k.useState([]),[l,u]=k.useState(null),[f,d]=k.useState([]),[h,p]=k.useState(""),[b,x]=k.useState([]),[w,g]=k.useState(null),m=k.useMemo(()=>{if(!l)return null;const E=l.lead_id?o.find(C=>C.id===l.lead_id):null;if(E)return E;const P=(l.phone||"").replace("@c.us","");return o.find(C=>C.phone===P)||null},[l,o]);async function v(){var E;n(!0);try{if(e&&t){a(t.conversations||[]),s(t.leads||[]);const D=((E=t.conversations)==null?void 0:E[0])||null;if(u(D),D){const I=(t.messages||[]).filter(L=>L.conversation_id===D.id);d(I),x(Jo({lead:null,conv:D,messages:I}))}n(!1);return}const M=(await(await fetch("/api/conversations?limit=80")).json()||[]).map(D=>({id:D.id,lead_id:D.lead_id,phone:D.phone||D.chat_id||"",name:D.name||null,status:D.status,updated_at:D.updated_at,created_at:D.created_at,last_message:D.last_message,current_emotion:D.current_emotion,temperature:D.temperature,tags:D.tags||[]}));a(M);try{const L=(await(await fetch("/api/leads?limit=200")).json()||[]).map(z=>({id:z.id,phone:(z.phone||"").replace("@c.us",""),name:z.name||null,health_score:z.health_score??z.score??50,stage:z.stage??"curioso",urgency_level:z.urgency_level??"normal",conversion_probability:z.conversion_probability??.4,tags:z.tags||[],updated_at:z.updated_at}));s(L)}catch{s([])}const R=(M==null?void 0:M[0])||null;u(R),R&&await S(R),n(!1)}catch(P){console.error(P),n(!1)}}async function S(E){u(E),d([]),x([]);try{if(e&&t){const R=(t.messages||[]).filter(D=>D.conversation_id===E.id);d(R),x(Jo({lead:m,conv:E,messages:R}));return}const M=(await(await fetch(`/api/messages?conversation_id=${encodeURIComponent(E.id)}&limit=80`)).json()||[]).map(R=>({id:R.id,conversation_id:R.conversation_id,from:R.role==="user"?"lead":R.role==="assistant"?"agent":R.from||"lead",text:R.content||R.text||"",created_at:R.timestamp||R.created_at||new Date().toISOString()}));d(M),x(Jo({lead:m,conv:E,messages:M}))}catch(P){console.error(P),d([]),x(Jo({lead:m,conv:E,messages:[]}))}}k.useEffect(()=>{v()},[]);const y=k.useMemo(()=>{const E=h.trim().toLowerCase();return E?i.filter(P=>{const C=(P.name||"").toLowerCase(),M=(P.phone||"").toLowerCase(),R=(P.last_message||"").toLowerCase();return C.includes(E)||M.includes(E)||R.includes(E)}):i},[i,h]),_=k.useMemo(()=>eE(f),[f]),j=k.useMemo(()=>{const E=new Map;(b||[]).forEach(P=>{const C=P.stage||"reativacao";E.has(C)||E.set(C,[]),E.get(C).push(P)});for(const[P,C]of E.entries())E.set(P,[...C].sort((M,R)=>(R.confidence??0)-(M.confidence??0)));return E},[b]),O=k.useMemo(()=>["reativacao","valor","objecoes","fechamento","nutricao"],[]),A=k.useMemo(()=>{if(!l)return"reativacao";const E=tE(m,l);return rE(E)},[l,m]);async function T(E,P){try{await navigator.clipboard.writeText(E),g(P),setTimeout(()=>g(null),1200)}catch{const C=document.createElement("textarea");C.value=E,document.body.appendChild(C),C.select(),document.execCommand("copy"),document.body.removeChild(C),g(P),setTimeout(()=>g(null),1200)}}const N=c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[c.jsx(tr,{className:"w-4 h-4"}),"Follow-ups IA (board)"]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx($N,{className:"w-6 h-6 text-[#f57f17]"}),"Anlise IA"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"IA analisa conversas e sugere follow-ups ideais por estgio, emoo e urgncia."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[N,c.jsxs("button",{onClick:v,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Atualizar",children:[c.jsx(Yp,{className:"w-4 h-4 text-[#f57f17]"}),"Atualizar"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.06)] overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(li,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("p",{className:"text-white font-semibold",children:"Fila de conversas"}),c.jsx("span",{className:"text-xs text-gray-500",children:y.length})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Tl,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{value:h,onChange:E=>p(E.target.value),placeholder:"Buscar por nome, nmero, mensagem...",className:"w-72 max-w-[70vw] h-10 rounded-2xl bg-black/30 border border-white/10 pl-10 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})]})]}),c.jsx("div",{className:"max-h-[560px] overflow-auto",children:r?c.jsx("div",{className:"p-6 text-gray-400",children:"Carregando conversas..."}):y.length===0?c.jsx("div",{className:"p-6 text-gray-400",children:"Nenhuma conversa encontrada."}):c.jsx("div",{className:"divide-y divide-white/5",children:y.map(E=>{const P=(l==null?void 0:l.id)===E.id,C=E.lead_id?o.find(M=>M.id===E.lead_id):null;return c.jsx("button",{onClick:()=>S(E),className:["w-full text-left px-5 py-4 transition-all",P?"bg-[#f57f17]/10":"hover:bg-white/5"].join(" "),children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:E.name||(C==null?void 0:C.name)||"Lead sem nome"}),c.jsx("span",{className:"text-[11px] text-gray-500 truncate",children:(E.phone||"").replace("@c.us","")})]}),c.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:E.last_message||""}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[11px] font-semibold text-gray-200",children:[c.jsx(gc,{className:"w-3.5 h-3.5 text-gray-400"}),Zee(E.updated_at||E.created_at)]}),c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[11px] font-semibold text-gray-200",children:ete(E.current_emotion)}),C!=null&&C.urgency_level?tte(C.urgency_level):null]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[11px] font-semibold text-gray-300",children:rte(C==null?void 0:C.stage)}),(C==null?void 0:C.conversion_probability)!=null&&c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-2.5 py-1 text-[11px] font-semibold text-emerald-300",children:[c.jsx(Vj,{className:"w-3.5 h-3.5"}),Math.round(Zk(C.conversion_probability,0,1)*100),"%"]})]})]})},E.id)})})})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.06)] overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:"Follow-ups sugeridos"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Baseado na conversa selecionada, estgio e urgncia (board)."})]}),c.jsxs("button",{onClick:()=>x(Jo({lead:m,conv:l,messages:f})),className:"h-10 px-4 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2 text-sm font-semibold text-[#f57f17]",disabled:!l,title:"Gerar novas sugestes",children:[c.jsx(yc,{className:"w-4 h-4"}),"Gerar novas"]})]}),c.jsx("div",{className:"p-5 space-y-5",children:l?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Zh,{title:"Inteno",value:_.intent}),c.jsx(Zh,{title:"Objees",value:_.objections.slice(0,2).join("  ")}),c.jsx(Zh,{title:"Prximo passo",value:_.nextStep})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"Trecho da conversa"}),c.jsxs("div",{className:"mt-3 space-y-2 max-h-[160px] overflow-auto pr-1",children:[(f||[]).slice(-8).map(E=>c.jsxs("div",{className:["text-sm rounded-2xl px-3 py-2 border",E.from==="lead"?"bg-white/5 border-white/10 text-gray-200":"bg-[#f57f17]/10 border-[#f57f17]/20 text-white"].join(" "),children:[c.jsx("span",{className:"text-[11px] text-gray-500 mr-2",children:E.from==="lead"?"Cliente":"Agente"}),E.text]},E.id)),f.length===0&&c.jsx("p",{className:"text-sm text-gray-500",children:"Sem mensagens carregadas."})]})]}),c.jsx("div",{className:"space-y-4",children:O.map(E=>{const P=j.get(E)||[],C=nte[E],M=E===A;return c.jsxs("div",{className:["rounded-2xl border bg-black/20 overflow-hidden transition-all",M?"border-[#f57f17]/40 shadow-[0_0_0_1px_rgba(245,127,23,0.20)]":"border-white/10"].join(" "),children:[c.jsx("div",{className:["p-4 border-b flex items-start justify-between gap-3",M?"border-[#f57f17]/20":"border-white/10"].join(" "),children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:["inline-flex items-center rounded-full border px-2.5 py-1 text-[11px] font-semibold",C.badge].join(" "),children:C.label}),M&&c.jsx("span",{className:"inline-flex items-center rounded-full border border-[#f57f17]/25 bg-[#f57f17]/10 px-2 py-0.5 text-[11px] font-semibold text-[#f57f17]",children:"Recomendado"}),c.jsx("span",{className:"text-[11px] text-gray-500",children:P.length})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.hint})]})}),c.jsx("div",{className:"p-4",children:P.length===0?c.jsx("div",{className:"text-xs text-gray-500 py-6 text-center",children:"Sem sugestes."}):c.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:P.map(R=>c.jsxs("div",{className:["min-w-[340px] max-w-[340px] rounded-2xl border bg-black/30 p-4 hover:bg-black/40 transition-all",M?"border-[#f57f17]/20":"border-white/10"].join(" "),children:[c.jsx("div",{className:"flex items-start justify-between gap-3",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold text-sm",children:R.title}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[c.jsx("span",{className:"text-gray-400",children:"Objetivo:"})," ",R.goal]}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-gray-500",children:[c.jsx(gc,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-gray-300 font-semibold",children:R.timing})]}),ite(R.confidence)]})]})}),c.jsx("div",{className:"mt-3 rounded-2xl border border-white/10 bg-black/40 p-3",children:c.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap line-clamp-5",children:R.text})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[R.tags.slice(0,2).map(D=>c.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-[11px] font-semibold text-gray-300",children:D},D)),R.tags.length>2&&c.jsxs("span",{className:"text-[11px] text-gray-500",children:["+",R.tags.length-2]})]}),c.jsxs("button",{onClick:()=>T(R.text,R.id),className:"h-9 px-3 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-xs font-semibold text-gray-200",title:"Copiar mensagem",children:[c.jsx(Ld,{className:"w-4 h-4 text-[#f57f17]"}),w===R.id?"Copiado":"Copiar"]})]})]},R.id))})})]},E)})}),c.jsx("div",{className:"text-xs text-gray-500",children:"*Agora est em modo heurstico (sem IA real). Depois trocamos o gerador por endpoint do backend (OpenAI) mantendo a UI.*"})]}):c.jsx("div",{className:"text-gray-400",children:"Selecione uma conversa para ver anlise e follow-ups."})})]})]})]})}function Zh({title:e,value:t}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[c.jsx("p",{className:"text-xs text-gray-500",children:e}),c.jsx("p",{className:"text-white font-semibold mt-1 line-clamp-2",children:t})]})}const ote=[{key:"default",label:"Padro DOCA",hint:"Geral / multi-negcio"},{key:"clinic",label:"Clnica",hint:"Sade / esttica / procedimentos"},{key:"realestate",label:"Imobiliria",hint:"Compra / venda / locao"},{key:"aesthetics",label:"Esttica",hint:"Studio / beleza / tratamentos"},{key:"law",label:"Advocacia",hint:"Consultoria / casos / contratos"},{key:"ecommerce",label:"E-commerce",hint:"Loja online / carrinho / ofertas"}];function ste(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}function lte(){const[e,t]=k.useState(""),[r,n]=k.useState("clinic"),[i,a]=k.useState("So Paulo"),[o,s]=k.useState(""),[l,u]=k.useState(""),[f,d]=k.useState(""),[h,p]=k.useState(""),[b,x]=k.useState("preo, confiana"),[w,g]=k.useState(120),[m,v]=k.useState(60),[S,y]=k.useState(null),[_,j]=k.useState(!1),O=k.useMemo(()=>GZ(),[S]);function A(){const P=ste(e||"cliente"),C=new Date,M=C.getFullYear(),R=String(C.getMonth()+1).padStart(2,"0"),D=String(C.getDate()).padStart(2,"0"),I=String(C.getHours()).padStart(2,"0"),L=String(C.getMinutes()).padStart(2,"0");return`${P}-${r}-${M}${R}${D}-${I}${L}`.slice(0,80)}function T(){const P=A(),C=KZ({key:P,niche:r,businessName:e||"Cliente",city:i,instagram:o,website:l,offer:f,mainPain:h,objections:b,leadsPerMonth:Number(w||0),conversationsCount:Number(m||0)});y(C.key)}async function N(){if(S)try{await navigator.clipboard.writeText(S),j(!0),setTimeout(()=>j(!1),1200)}catch{j(!1)}}function E(P){confirm(`Remover demo gerada "${P.label}" (${P.key})?`)&&(XZ(P.key),y(M=>M===P.key?null:M))}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(yc,{className:"w-6 h-6 text-[#f57f17]"}),"Demo Generator"]}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gere demos completas para o DEV (conversas, leads, mensagens e stats) e faa elas aparecerem no dropdown automaticamente."})]}),S&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200",children:["ltima demo:"," ",c.jsx("span",{className:"text-white font-semibold",children:S})]}),c.jsxs("button",{onClick:N,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Copiar key",children:[_?c.jsx(Kj,{className:"w-4 h-4 text-emerald-400"}):c.jsx(Ld,{className:"w-4 h-4 text-[#f57f17]"}),_?"Copiado":"Copiar key"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:"Dados do cliente"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha o bsico. O gerador cria uma base realista e coerente."})]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[c.jsx(tr,{className:"w-4 h-4"}),"DEV-only"]})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Pr,{label:"Nome do negcio",children:c.jsx("input",{value:e,onChange:P=>t(P.target.value),placeholder:"Ex: Clnica Capilar Lux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Nicho",children:c.jsx("select",{value:r,onChange:P=>n(P.target.value),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent",children:ote.map(P=>c.jsxs("option",{value:P.key,children:[P.label,"  ",P.hint]},P.key))})}),c.jsx(Pr,{label:"Cidade",children:c.jsx("input",{value:i,onChange:P=>a(P.target.value),placeholder:"Ex: So Paulo",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Instagram (opcional)",children:c.jsx("input",{value:o,onChange:P=>s(P.target.value),placeholder:"Ex: @clinicacapilarlux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Site / LP (opcional)",children:c.jsx("input",{value:l,onChange:P=>u(P.target.value),placeholder:"Ex: https://site.com",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Oferta (opcional)",children:c.jsx("input",{value:f,onChange:P=>d(P.target.value),placeholder:"Ex: Avaliao grtis + plano de tratamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Dor principal (opcional)",full:!0,children:c.jsx("input",{value:h,onChange:P=>p(P.target.value),placeholder:"Ex: queda de cabelo + autoestima",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"Objees comuns (separe por vrgula)",full:!0,children:c.jsx("input",{value:b,onChange:P=>x(P.target.value),placeholder:"Ex: preo, confiana, tempo, parcelamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Pr,{label:"Leads/ms (aprox.)",children:c.jsx("input",{type:"number",value:w,onChange:P=>g(Number(P.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),c.jsx(Pr,{label:"N de conversas (mock)",children:c.jsx("input",{type:"number",value:m,onChange:P=>v(Number(P.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),c.jsxs("div",{className:"mt-7 flex items-center gap-3 flex-wrap",children:[c.jsxs("button",{onClick:T,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[c.jsx(yc,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Gerar demo"})]}),c.jsx("span",{className:"text-xs text-gray-500",children:"*Isso salva no localStorage do navegador (DEV). Depois a gente pluga no Supabase.*"})]})]}),c.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Demos geradas"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Essas aparecem no dropdown do DEV automaticamente."})]}),c.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:O.length})]}),c.jsx("div",{className:"mt-6 space-y-3",children:O.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma demo gerada ainda. Crie a primeira usando o formulrio."}):O.map(P=>c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:P.label}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["key: ",c.jsx("span",{className:"text-gray-300 font-semibold",children:P.key})]}),c.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["niche: ",c.jsx("span",{className:"text-gray-400",children:P.niche})," "," ",c.jsx("span",{className:"text-gray-500",children:new Date(P.createdAt).toLocaleString("pt-BR")})]})]}),c.jsx("button",{onClick:()=>E(P),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Excluir demo",children:c.jsx(Cv,{className:"w-4 h-4 text-red-300"})})]})},P.key))}),c.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Dica: pra abrir uma demo gerada, selecione ela no dropdown do topo e recarregue a pgina (ou o sistema recarrega sozinho se voc j estiver em modo demo)."})]})]})]})}function Pr({label:e,children:t,full:r}){return c.jsxs("div",{className:r?"md:col-span-2":"",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:e}),t]})}function ute({open:e,onClose:t,title:r,subtitle:n,children:i,maxWidthClass:a="max-w-3xl"}){return k.useEffect(()=>{if(!e)return;const o=s=>{s.key==="Escape"&&t()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t]),e?c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:c.jsxs("div",{className:["w-full",a,"rounded-[28px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl"].join(" "),children:[c.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[r&&c.jsx("h3",{className:"text-lg font-bold text-white truncate",children:r}),n&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),c.jsx("button",{onClick:t,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Fechar",children:c.jsx($v,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx("div",{className:"p-6",children:i})]})})]}):null}function cte(e){return e==="alto"?"border-emerald-500/25 bg-emerald-500/10 text-emerald-300":e==="mdio"?"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]":"border-white/10 bg-white/5 text-gray-300"}function dte(e){return e==="green"?"text-emerald-400":e==="cyan"?"text-cyan-400":e==="red"?"text-red-400":"text-[#f57f17]"}function fte(e){return e==="green"?"border-emerald-500/30 bg-emerald-500/10":e==="cyan"?"border-cyan-500/30 bg-cyan-500/10":e==="red"?"border-red-500/30 bg-red-500/10":"border-[#f57f17]/25 bg-[#f57f17]/10"}function hte({open:e,onClose:t,onGoToAnalysis:r}){const[n,i]=k.useState(null),a=k.useMemo(()=>[{id:"s1",title:"Fila de follow-up (Prontos  agendar)",reason:"Voc tem leads com alta inteno. Se voc chamar agora, aumenta muito a chance de agendar.",impact:"alto",actionLabel:"Copiar mensagem",messageToCopy:"Oi! Vi que voc ficou com interesse  consigo te ajudar a agendar uma avaliao rpida. Qual melhor horrio hoje ou amanh?",icon:IN,tone:"green"},{id:"s2",title:"Responder objeo de preo com ROI e prova social",reason:"Quando preo aparece, a melhor rota  reduzir risco: mostrar resultado + comparao + garantia.",impact:"alto",actionLabel:"Copiar argumento",messageToCopy:"Entendo total sobre o preo. Pra ficar claro: o objetivo  gerar resultado e se pagar. Posso te mostrar cases e como funciona na prtica  e a voc decide com segurana.",icon:Oa,tone:"orange"},{id:"s3",title:"Qualificao rpida (curioso  pronto)",reason:"Muita gente fica no curioso por falta de clareza. Faa 2 perguntas e j direciona pra oferta certa.",impact:"mdio",actionLabel:"Copiar roteiro",messageToCopy:"Pra eu te orientar certinho: 1) qual seu objetivo principal agora? 2) voc quer algo mais rpido (resultado em curto prazo) ou algo mais definitivo?",icon:Qj,tone:"cyan"},{id:"s4",title:"Atalho: mandar udio humano + CTA simples",reason:"Quando o lead est ctico/frustrado, uma mensagem humana reduz resistncia e acelera resposta.",impact:"mdio",actionLabel:"Copiar texto",messageToCopy:"Vou ser bem direto e humano: eu entendi seu caso. Se voc topar, eu te explico o melhor caminho em 2 minutos e te digo se vale a pena pra voc. Pode ser?",icon:li,tone:"red"}],[]);async function o(s,l){try{await navigator.clipboard.writeText(s),i(l),setTimeout(()=>i(null),1200)}catch{i(null)}}return c.jsxs(ute,{open:e,onClose:t,title:"Sugestes IA",subtitle:"Aes prontas para aumentar converso (copie e aplique em 1 clique).",maxWidthClass:"max-w-4xl",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 flex items-start gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-[#f57f17]/25 bg-[#f57f17]/10 flex items-center justify-center",children:c.jsx(tr,{className:"w-5 h-5 text-[#f57f17]"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"Sugestes geradas automaticamente"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hoje isso  mock. Amanh a IA vai puxar das conversas e do funil."})]})]}),r&&c.jsxs("button",{onClick:()=>{t(),r()},className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[c.jsx(Ba,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),c.jsx(rs,{className:"w-4 h-4 text-[#f57f17]"})]})]}),c.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:a.map(s=>c.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-black/50 p-5 hover:bg-black/60 transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[c.jsx("div",{className:["h-11 w-11 rounded-2xl border flex items-center justify-center shrink-0",fte(s.tone)].join(" "),children:c.jsx(s.icon,{className:["w-5 h-5",dte(s.tone)].join(" ")})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-white font-semibold truncate",children:s.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.reason})]})]}),c.jsxs("span",{className:["shrink-0 text-[11px] font-semibold rounded-full border px-2.5 py-1",cte(s.impact)].join(" "),children:["Impacto ",s.impact]})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Mensagem pronta"}),c.jsx("p",{className:"text-sm text-gray-200 mt-2 leading-relaxed",children:s.messageToCopy}),c.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>o(s.messageToCopy,s.id),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[n===s.id?c.jsx(Kj,{className:"w-4 h-4 text-emerald-400"}):c.jsx(Ld,{className:"w-4 h-4 text-[#f57f17]"}),n===s.id?"Copiado":s.actionLabel]}),c.jsx("span",{className:"text-xs text-gray-500",children:"Cole no WhatsApp e mande."})]})]})]},s.id))}),c.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 flex-wrap",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Prximo upgrade: a IA vai gerar sugestes por conversa, estgio do funil e objees detectadas."}),c.jsx("button",{onClick:t,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Fechar"})]})]})}function T_(...e){return e.filter(Boolean).join(" ")}function pte(){var he,Se;const[e,t]=k.useState("dashboard"),[r,n]=k.useState(null),[i,a]=k.useState([]),[o,s]=k.useState([]),[l,u]=k.useState(null),[f,d]=k.useState([]),[h,p]=k.useState(!0),[b,x]=k.useState(new Date),[w,g]=k.useState(""),[m,v]=k.useState(!1),[S,y]=k.useState(!1),_=k.useRef(null),[j,O]=k.useState(!1),A=Li(),T=A?Yk():"default",N=A?Ul():null,E=k.useMemo(()=>A?VZ():[],[A]),P=k.useMemo(()=>{const G=[{id:"dashboard",label:"Dashboard",icon:BN},{id:"conversations",label:"Conversas",icon:li},{id:"leads",label:"Leads",icon:Wu},{id:"funnel",label:"Funil",icon:Cl},{id:"analysis",label:"Anlise IA",icon:RN},{id:"reports",label:"Relatrios",icon:Gj},{id:"training",label:"Treinamento",icon:Gp},{id:"integrations",label:"Integraes",icon:UN},{id:"settings",label:"Configuraes",icon:FN}];return A&&G.splice(5,0,{id:"demo-generator",label:"Demo Generator",icon:yc}),G},[A]);k.useEffect(()=>{if(C(),A)return;const G=k$(()=>{x(new Date),C()}),oe=A$(()=>{x(new Date),C()}),F=setInterval(C,3e4);return()=>{G.unsubscribe(),oe.unsubscribe(),clearInterval(F)}},[]),k.useEffect(()=>{function G(oe){if(!S)return;const F=_.current;F&&(F.contains(oe.target)||y(!1))}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[S]);const C=async()=>{try{if(p(!0),A&&N){n(N.stats);const X=(N.conversations||[]).map(B=>({id:B.id,chat_id:B.phone,phone:B.phone,name:B.name,last_message:B.last_message,status:B.status,updated_at:B.updated_at,created_at:B.created_at??B.updated_at,current_emotion:B.current_emotion,lead_id:B.lead_id,tags:B.tags||[]})),ie=(N.leads||[]).map(B=>({id:B.id,name:B.name,phone:B.phone,status:B.status??"new",score:B.score,tags:B.tags||[],stage:B.stage,urgency_level:B.urgency_level,health_score:B.health_score,conversion_probability:B.conversion_probability,created_at:B.created_at,updated_at:B.updated_at}));a(X),s(ie),p(!1);return}const[G,oe,F]=await Promise.all([S$(),j$(50),O$(50)]);n(G),a(oe||[]),s(F||[]),p(!1)}catch(G){console.error("Error loading data:",G),p(!1)}},M=async G=>{if(u(G),A&&N){const oe=(N.messages||[]).filter(F=>F.conversation_id===G.id).sort((F,X)=>F.created_at>X.created_at?1:-1).map(F=>({id:F.id,conversation_id:F.conversation_id,sender:F.from,content:F.text,text:F.text,created_at:F.created_at}));d(oe);return}d([])},R=G=>{const oe=i.find(F=>(F==null?void 0:F.lead_id)===(G==null?void 0:G.id))||i.find(F=>(F==null?void 0:F.phone)===(G==null?void 0:G.phone))||null;t("conversations"),oe&&(u(oe),M(oe))},D=G=>{const oe=new Date().toISOString();s(F=>F.map(X=>{if(X.id!==G.id)return X;const ie=Array.from(new Set([...X.tags||[],"followup_sent"])),B=Math.min(100,(X.health_score??50)+6),je=Math.min(1,(X.conversion_probability??.25)+.06);return{...X,tags:ie,health_score:B,conversion_probability:je,updated_at:oe,status:X.status==="new"?"contacted":X.status}})),a(F=>F.map(X=>(X==null?void 0:X.lead_id)===(G==null?void 0:G.id)||(X==null?void 0:X.phone)&&X.phone===(G==null?void 0:G.phone)?{...X,last_message:"Follow-up enviado: posso te ajudar a fechar hoje?",updated_at:oe,status:X.status==="closed"?"active":X.status}:X))},I=G=>{const oe=new Date().toISOString();s(F=>F.map(X=>X.id!==G.id?X:{...X,status:"won",updated_at:oe,tags:Array.from(new Set([...X.tags||[],"won"]))}))},L=((he=P.find(G=>G.id===e))==null?void 0:he.label)??"Dashboard",z=e==="dashboard"?"Viso executiva e insights em tempo real":e==="conversations"?"Mensagens e atendimentos em tempo real":e==="leads"?"Pipeline e leads qualificados":e==="funnel"?"War Room: decises + aes + previso":e==="analysis"?"Follow-ups inteligentes, insights e automaes":e==="reports"?"Performance do funil, exportaes e relatrios por perodo":e==="training"?"Configure prompt, base de conhecimento e prova social":e==="integrations"?"Conecte WhatsApp, banco e ferramentas":e==="settings"?"Preferncias e ajustes do sistema":e==="demo-generator"?"Crie demos realistas e adicione no dropdown do DEV":"Viso geral do sistema";if(h)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative mx-auto mb-5 w-14 h-14",children:[c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-[#f57f17]/15 blur-xl"}),c.jsx("div",{className:"relative w-14 h-14 rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:c.jsx(Yp,{className:"w-7 h-7 text-[#f57f17] animate-spin"})})]}),c.jsx("p",{className:"text-gray-300 font-medium",children:"Carregando DOCA AI"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Central de Comando"})]})});const V=P.filter(G=>w?G.label.toLowerCase().includes(w.toLowerCase()):!0),W=V.slice(0,7),Q=V.slice(7),se=((Se=E.find(G=>G.key===T))==null?void 0:Se.label)||(T?String(T):"Demo");return c.jsxs("div",{className:"min-h-screen text-white bg-black",children:[c.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[c.jsx("div",{className:"absolute -top-32 left-[-140px] h-[520px] w-[520px] rounded-full bg-[#f57f17]/18 blur-3xl"}),c.jsx("div",{className:"absolute top-12 right-[-220px] h-[560px] w-[560px] rounded-full bg-cyan-500/12 blur-3xl"}),c.jsx("div",{className:"absolute bottom-[-260px] left-[18%] h-[620px] w-[620px] rounded-full bg-emerald-500/10 blur-3xl"})]}),c.jsxs("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/45 backdrop-blur-xl",children:[c.jsxs("div",{className:"px-6 py-4 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-[240px]",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"leading-tight",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA AI"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Central de Comando"})]}),c.jsx("span",{className:"ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-[#f57f17]/10 text-[#f57f17] border border-[#f57f17]/20",children:"BETA"}),A&&c.jsx("span",{className:"ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-white/5 text-gray-200 border border-white/10",children:"DEMO"})]}),c.jsxs("nav",{className:"hidden lg:flex items-center gap-2",children:[W.map(G=>{const oe=e===G.id;return c.jsxs("button",{onClick:()=>{t(G.id),y(!1)},className:["h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",oe?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"].join(" "),children:[c.jsx(G.icon,{className:"w-4 h-4 text-[#f57f17]"}),G.label]},G.id)}),Q.length>0&&c.jsxs("div",{className:"relative",ref:_,children:[c.jsxs("button",{onClick:()=>y(G=>!G),className:T_("h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",S?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[c.jsx("span",{children:"Mais"}),c.jsx(Xp,{className:"w-4 h-4 text-gray-400"})]}),S&&c.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:Q.map(G=>{const oe=e===G.id;return c.jsxs("button",{onClick:()=>{t(G.id),y(!1)},className:T_("w-full text-left px-4 py-3 text-sm hover:bg-white/5 flex items-center gap-3",oe?"text-white font-semibold":"text-gray-200"),children:[c.jsx(G.icon,{className:"w-4 h-4 text-[#f57f17]"}),G.label]},G.id)})})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"hidden md:block relative",children:[c.jsx(Tl,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{value:w,onChange:G=>g(G.target.value),placeholder:"Buscar abas...",className:"w-64 h-10 rounded-2xl bg-white/5 border border-white/10 pl-10 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})]}),A&&c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>v(G=>!G),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[se,c.jsx(Xp,{className:"w-4 h-4 text-gray-400"})]}),m&&c.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:E.map(G=>c.jsx("a",{href:`/?demo=${G.key}`,className:"block px-4 py-3 text-sm text-gray-200 hover:bg-white/5",children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("span",{className:"truncate",children:G.label}),c.jsx("span",{className:"text-[11px] rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-gray-400",children:G.source==="generated"?"GERADA":"FIXA"})]})},G.key))})]}),c.jsx("button",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Notificaes",children:c.jsx(CN,{className:"w-4 h-4 text-gray-300"})}),c.jsxs("button",{onClick:C,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Atualizar",children:[c.jsx(Yp,{className:"w-4 h-4 text-[#f57f17]"}),c.jsx("span",{className:"hidden sm:inline",children:"Atualizar"})]}),c.jsxs("div",{className:"h-10 px-3 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-3",children:[c.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:c.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:"D"})}),c.jsxs("div",{className:"leading-tight hidden sm:block",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]})]})]})]}),c.jsxs("div",{className:"px-6 pb-4 flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs text-gray-500",children:["DOCA AI ",c.jsx("span",{className:"mx-2 text-gray-700",children:""})," ",c.jsx("span",{className:"text-gray-300 font-semibold",children:L})]}),c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-1",children:L}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-500 mt-1",children:[c.jsxs("div",{children:["Status:"," ",c.jsx("span",{className:"text-[#f57f17] font-semibold",children:A?"DEMO":"Online"})]}),c.jsxs("div",{children:["Atualizado: ",b.toLocaleTimeString("pt-BR")]})]})]})]}),c.jsxs("main",{className:"px-6 py-6",children:[c.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:c.jsxs("div",{className:"p-8",children:[e==="dashboard"&&c.jsx(LZ,{demoMode:A,stats:r,conversations:i,leads:o,onOpenSuggestions:()=>O(!0),onOpenInsights:()=>t("analysis"),onActivateAI:()=>t("analysis"),onGoToAnalysis:()=>t("analysis"),onOpenEvents:()=>t("reports")}),e==="conversations"&&c.jsx(ZZ,{}),e==="leads"&&c.jsx(see,{leads:o}),e==="funnel"&&c.jsx(xee,{leads:o,conversations:i,onOpenConversation:R,onSendFollowUp:D,onMarkAsWon:I}),e==="analysis"&&c.jsx(ate,{}),e==="reports"&&c.jsx(Eee,{onGoToFunnel:()=>t("funnel")}),e==="training"&&c.jsx(Vee,{}),e==="integrations"&&c.jsx(Jee,{}),e==="settings"&&c.jsx(Qee,{}),e==="demo-generator"&&c.jsx(lte,{})]})}),c.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("span",{children:[" ",new Date().getFullYear()," DOCA AI"]}),c.jsxs("span",{className:"text-gray-500",children:["Status:"," ",c.jsx("span",{className:"text-[#f57f17] font-semibold",children:A?"DEMO":"Online"})]})]})]}),c.jsx(hte,{open:j,onClose:()=>O(!1),onGoToAnalysis:()=>t("analysis")})]})}ep.createRoot(document.getElementById("root")).render(c.jsx($.StrictMode,{children:c.jsx(pte,{})}));export{E_ as _,Fl as c,_e as g};
