(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},Xo={},Vp={exports:{}},Ie={};var Kj;function wM(){if(Kj)return Ie;Kj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function y($,U,ae){this.props=$,this.context=U,this.refs=w,this.updater=ae||b}y.prototype.isReactComponent={},y.prototype.setState=function($,U){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,U,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function O(){}O.prototype=y.prototype;function E($,U,ae){this.props=$,this.context=U,this.refs=w,this.updater=ae||b}var N=E.prototype=new O;N.constructor=E,j(N,y.prototype),N.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function P($,U,ae){var se,ie={},he=null,ke=null;if(U!=null)for(se in U.ref!==void 0&&(ke=U.ref),U.key!==void 0&&(he=""+U.key),U)_.call(U,se)&&!C.hasOwnProperty(se)&&(ie[se]=U[se]);var ge=arguments.length-2;if(ge===1)ie.children=ae;else if(1<ge){for(var oe=Array(ge),ye=0;ye<ge;ye++)oe[ye]=arguments[ye+2];ie.children=oe}if($&&$.defaultProps)for(se in ge=$.defaultProps,ge)ie[se]===void 0&&(ie[se]=ge[se]);return{$$typeof:t,type:$,key:he,ref:ke,props:ie,_owner:k.current}}function R($,U){return{$$typeof:t,type:$.type,key:U,ref:$.ref,props:$.props,_owner:$._owner}}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function I($){var U={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ae){return U[ae]})}var F=/\/+/g;function L($,U){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):U.toString(36)}function X($,U,ae,se,ie){var he=typeof $;(he==="undefined"||he==="boolean")&&($=null);var ke=!1;if($===null)ke=!0;else switch(he){case"string":case"number":ke=!0;break;case"object":switch($.$$typeof){case t:case e:ke=!0}}if(ke)return ke=$,ie=ie(ke),$=se===""?"."+L(ke,0):se,A(ie)?(ae="",$!=null&&(ae=$.replace(F,"$&/")+"/"),X(ie,U,ae,"",function(ye){return ye})):ie!=null&&(B(ie)&&(ie=R(ie,ae+(!ie.key||ke&&ke.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+$)),U.push(ie)),1;if(ke=0,se=se===""?".":se+":",A($))for(var ge=0;ge<$.length;ge++){he=$[ge];var oe=se+L(he,ge);ke+=X(he,U,ae,oe,ie)}else if(oe=v($),typeof oe=="function")for($=oe.call($),ge=0;!(he=$.next()).done;)he=he.value,oe=se+L(he,ge++),ke+=X(he,U,ae,oe,ie);else if(he==="object")throw U=String($),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ke}function q($,U,ae){if($==null)return $;var se=[],ie=0;return X($,se,"","",function(he){return U.call(ae,he,ie++)}),se}function z($){if($._status===-1){var U=$._result;U=U(),U.then(function(ae){($._status===0||$._status===-1)&&($._status=1,$._result=ae)},function(ae){($._status===0||$._status===-1)&&($._status=2,$._result=ae)}),$._status===-1&&($._status=0,$._result=U)}if($._status===1)return $._result.default;throw $._result}var ee={current:null},K={transition:null},W={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:k};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:q,forEach:function($,U,ae){q($,function(){U.apply(this,arguments)},ae)},count:function($){var U=0;return q($,function(){U++}),U},toArray:function($){return q($,function(U){return U})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ie.Component=y,Ie.Fragment=r,Ie.Profiler=a,Ie.PureComponent=E,Ie.StrictMode=n,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ie.act=J,Ie.cloneElement=function($,U,ae){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var se=j({},$.props),ie=$.key,he=$.ref,ke=$._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,ke=k.current),U.key!==void 0&&(ie=""+U.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(oe in U)_.call(U,oe)&&!C.hasOwnProperty(oe)&&(se[oe]=U[oe]===void 0&&ge!==void 0?ge[oe]:U[oe])}var oe=arguments.length-2;if(oe===1)se.children=ae;else if(1<oe){ge=Array(oe);for(var ye=0;ye<oe;ye++)ge[ye]=arguments[ye+2];se.children=ge}return{$$typeof:t,type:$.type,key:ie,ref:he,props:se,_owner:ke}},Ie.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},Ie.createElement=P,Ie.createFactory=function($){var U=P.bind(null,$);return U.type=$,U},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function($){return{$$typeof:u,render:$}},Ie.isValidElement=B,Ie.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:z}},Ie.memo=function($,U){return{$$typeof:h,type:$,compare:U===void 0?null:U}},Ie.startTransition=function($){var U=K.transition;K.transition={};try{$()}finally{K.transition=U}},Ie.unstable_act=J,Ie.useCallback=function($,U){return ee.current.useCallback($,U)},Ie.useContext=function($){return ee.current.useContext($)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function($){return ee.current.useDeferredValue($)},Ie.useEffect=function($,U){return ee.current.useEffect($,U)},Ie.useId=function(){return ee.current.useId()},Ie.useImperativeHandle=function($,U,ae){return ee.current.useImperativeHandle($,U,ae)},Ie.useInsertionEffect=function($,U){return ee.current.useInsertionEffect($,U)},Ie.useLayoutEffect=function($,U){return ee.current.useLayoutEffect($,U)},Ie.useMemo=function($,U){return ee.current.useMemo($,U)},Ie.useReducer=function($,U,ae){return ee.current.useReducer($,U,ae)},Ie.useRef=function($){return ee.current.useRef($)},Ie.useState=function($){return ee.current.useState($)},Ie.useSyncExternalStore=function($,U,ae){return ee.current.useSyncExternalStore($,U,ae)},Ie.useTransition=function(){return ee.current.useTransition()},Ie.version="18.3.1",Ie}var Gj;function Qx(){return Gj||(Gj=1,Vp.exports=wM()),Vp.exports}var Xj;function jM(){if(Xj)return Xo;Xj=1;var t=Qx(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var p,m={},v=null,b=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:v,ref:b,props:m,_owner:a.current}}return Xo.Fragment=r,Xo.jsx=c,Xo.jsxs=c,Xo}var Yj;function _M(){return Yj||(Yj=1,Hp.exports=jM()),Hp.exports}var o=_M(),M=Qx();const Y=Ze(M);var Cu={},Kp={exports:{}},hr={},Gp={exports:{}},Xp={};var Jj;function SM(){return Jj||(Jj=1,(function(t){function e(K,W){var J=K.length;K.push(W);e:for(;0<J;){var $=J-1>>>1,U=K[$];if(0<a(U,W))K[$]=W,K[J]=U,J=$;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var W=K[0],J=K.pop();if(J!==W){K[0]=J;e:for(var $=0,U=K.length,ae=U>>>1;$<ae;){var se=2*($+1)-1,ie=K[se],he=se+1,ke=K[he];if(0>a(ie,J))he<U&&0>a(ke,ie)?(K[$]=ke,K[he]=J,$=he):(K[$]=ie,K[se]=J,$=se);else if(he<U&&0>a(ke,J))K[$]=ke,K[he]=J,$=he;else break e}}return W}function a(K,W){var J=K.sortIndex-W.sortIndex;return J!==0?J:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,m=null,v=3,b=!1,j=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else if(W.startTime<=K)n(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(h)}}function A(K){if(w=!1,N(K),!j)if(r(d)!==null)j=!0,z(_);else{var W=r(h);W!==null&&ee(A,W.startTime-K)}}function _(K,W){j=!1,w&&(w=!1,O(P),P=-1),b=!0;var J=v;try{for(N(W),m=r(d);m!==null&&(!(m.expirationTime>W)||K&&!I());){var $=m.callback;if(typeof $=="function"){m.callback=null,v=m.priorityLevel;var U=$(m.expirationTime<=W);W=t.unstable_now(),typeof U=="function"?m.callback=U:m===r(d)&&n(d),N(W)}else n(d);m=r(d)}if(m!==null)var ae=!0;else{var se=r(h);se!==null&&ee(A,se.startTime-W),ae=!1}return ae}finally{m=null,v=J,b=!1}}var k=!1,C=null,P=-1,R=5,B=-1;function I(){return!(t.unstable_now()-B<R)}function F(){if(C!==null){var K=t.unstable_now();B=K;var W=!0;try{W=C(!0,K)}finally{W?L():(k=!1,C=null)}}else k=!1}var L;if(typeof E=="function")L=function(){E(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,q=X.port2;X.port1.onmessage=F,L=function(){q.postMessage(null)}}else L=function(){y(F,0)};function z(K){C=K,k||(k=!0,L())}function ee(K,W){P=y(function(){K(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,z(_))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var J=v;v=W;try{return K()}finally{v=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=v;v=K;try{return W()}finally{v=J}},t.unstable_scheduleCallback=function(K,W,J){var $=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?$+J:$):J=$,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,K={id:p++,callback:W,priorityLevel:K,startTime:J,expirationTime:U,sortIndex:-1},J>$?(K.sortIndex=J,e(h,K),r(d)===null&&K===r(h)&&(w?(O(P),P=-1):w=!0,ee(A,J-$))):(K.sortIndex=U,e(d,K),j||b||(j=!0,z(_))),K},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(K){var W=v;return function(){var J=v;v=W;try{return K.apply(this,arguments)}finally{v=J}}}})(Xp)),Xp}var Qj;function NM(){return Qj||(Qj=1,Gp.exports=SM()),Gp.exports}var Zj;function kM(){if(Zj)return hr;Zj=1;var t=Qx(),e=NM();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return d.call(m,i)?!0:d.call(p,i)?!1:h.test(i)?m[i]=!0:(p[i]=!0,!1)}function b(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,f,g){if(l===null||typeof l>"u"||b(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,f,g,x,S,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=S,this.removeEmptyString=T}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];y[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function E(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(O,E);y[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(O,E);y[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(O,E);y[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,l,f,g){var x=y.hasOwnProperty(l)?y[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,f,x,g)&&(f=null),g||x===null?v(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,g=x.attributeNamespace,f===null?i.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,$;function U(i){if($===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+i}var ae=!1;function se(i,l){if(!i||ae)return"";ae=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var g=re}Reflect.construct(i,[],l)}else{try{l.call()}catch(re){g=re}i.call(l.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),S=g.stack.split(`
`),T=x.length-1,D=S.length-1;1<=T&&0<=D&&x[T]!==S[D];)D--;for(;1<=T&&0<=D;T--,D--)if(x[T]!==S[D]){if(T!==1||D!==1)do if(T--,D--,0>D||x[T]!==S[D]){var H=`
`+x[T].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=T&&0<=D);break}}}finally{ae=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?U(i):""}function ie(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function he(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case k:return"Portal";case R:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case X:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case F:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return l=i.displayName||null,l!==null?l:he(i.type)||"Memo";case z:l=i._payload,i=i._init;try{return he(i(l))}catch{}}return null}function ke(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ye(i){var l=oe(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(T){g=""+T,S.call(this,T)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Oe(i){i._valueTracker||(i._valueTracker=ye(i))}function Q(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=oe(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Re(i,l){var f=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function He(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=ge(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ye(i,l){l=l.checked,l!=null&&N(i,"checked",l,!1)}function gt(i,l){Ye(i,l);var f=ge(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?or(i,l.type,f):l.hasOwnProperty("defaultValue")&&or(i,l.type,ge(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Rt(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function or(i,l,f){(l!=="number"||je(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Ot=Array.isArray;function vt(i,l,f,g){if(i=i.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=l.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&g&&(i[f].defaultSelected=!0)}else{for(f=""+ge(f),l=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function Ft(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Fr(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Ot(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:ge(f)}}function dn(i,l){var f=ge(l.value),g=ge(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function An(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ra(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ra(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var pe,Ve=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=pe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function G(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var Pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Pe).forEach(function(i){rt.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Pe[l]=Pe[i]})});function Ke(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Pe.hasOwnProperty(i)&&Pe[i]?(""+l).trim():l+"px"}function It(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=Ke(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,x):i[f]=x}}var et=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(i,l){if(l){if(et[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Wa(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=null;function sh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oh=null,Ti=null,Mi=null;function uw(i){if(i=$o(i)){if(typeof oh!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Hc(l),oh(i.stateNode,i.type,l))}}function dw(i){Ti?Mi?Mi.push(i):Mi=[i]:Ti=i}function fw(){if(Ti){var i=Ti,l=Mi;if(Mi=Ti=null,uw(i),l)for(i=0;i<l.length;i++)uw(l[i])}}function hw(i,l){return i(l)}function pw(){}var lh=!1;function mw(i,l,f){if(lh)return i(l,f);lh=!0;try{return hw(i,l,f)}finally{lh=!1,(Ti!==null||Mi!==null)&&(pw(),fw())}}function ho(i,l){var f=i.stateNode;if(f===null)return null;var g=Hc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var ch=!1;if(u)try{var po={};Object.defineProperty(po,"passive",{get:function(){ch=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{ch=!1}function OT(i,l,f,g,x,S,T,D,H){var re=Array.prototype.slice.call(arguments,3);try{l.apply(f,re)}catch(ce){this.onError(ce)}}var mo=!1,_c=null,Sc=!1,uh=null,ET={onError:function(i){mo=!0,_c=i}};function AT(i,l,f,g,x,S,T,D,H){mo=!1,_c=null,OT.apply(ET,arguments)}function PT(i,l,f,g,x,S,T,D,H){if(AT.apply(this,arguments),mo){if(mo){var re=_c;mo=!1,_c=null}else throw Error(r(198));Sc||(Sc=!0,uh=re)}}function Ha(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function gw(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function vw(i){if(Ha(i)!==i)throw Error(r(188))}function CT(i){var l=i.alternate;if(!l){if(l=Ha(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return vw(x),i;if(S===g)return vw(x),l;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=S;else{for(var T=!1,D=x.child;D;){if(D===f){T=!0,f=x,g=S;break}if(D===g){T=!0,g=x,f=S;break}D=D.sibling}if(!T){for(D=S.child;D;){if(D===f){T=!0,f=S,g=x;break}if(D===g){T=!0,g=S,f=x;break}D=D.sibling}if(!T)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function yw(i){return i=CT(i),i!==null?xw(i):null}function xw(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=xw(i);if(l!==null)return l;i=i.sibling}return null}var bw=e.unstable_scheduleCallback,ww=e.unstable_cancelCallback,TT=e.unstable_shouldYield,MT=e.unstable_requestPaint,wt=e.unstable_now,$T=e.unstable_getCurrentPriorityLevel,dh=e.unstable_ImmediatePriority,jw=e.unstable_UserBlockingPriority,Nc=e.unstable_NormalPriority,RT=e.unstable_LowPriority,_w=e.unstable_IdlePriority,kc=null,fn=null;function IT(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:BT,DT=Math.log,LT=Math.LN2;function BT(i){return i>>>=0,i===0?32:31-(DT(i)/LT|0)|0}var Oc=64,Ec=4194304;function go(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ac(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,x=i.suspendedLanes,S=i.pingedLanes,T=f&268435455;if(T!==0){var D=T&~x;D!==0?g=go(D):(S&=T,S!==0&&(g=go(S)))}else T=f&~x,T!==0?g=go(T):S!==0&&(g=go(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,S=l&-l,x>=S||x===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-zr(l),x=1<<f,g|=i[f],l&=~x;return g}function qT(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UT(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-zr(S),D=1<<T,H=x[T];H===-1?((D&f)===0||(D&g)!==0)&&(x[T]=qT(D,l)):H<=l&&(i.expiredLanes|=D),S&=~D}}function fh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Sw(){var i=Oc;return Oc<<=1,(Oc&4194240)===0&&(Oc=64),i}function hh(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function vo(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-zr(l),i[l]=f}function FT(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-zr(f),S=1<<x;l[x]=0,g[x]=-1,i[x]=-1,f&=~S}}function ph(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-zr(f),x=1<<g;x&l|i[g]&l&&(i[g]|=l),f&=~x}}var Je=0;function Nw(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var kw,mh,Ow,Ew,Aw,gh=!1,Pc=[],na=null,aa=null,ia=null,yo=new Map,xo=new Map,sa=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(i,l){switch(i){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(l.pointerId)}}function bo(i,l,f,g,x,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},l!==null&&(l=$o(l),l!==null&&mh(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function WT(i,l,f,g,x){switch(l){case"focusin":return na=bo(na,i,l,f,g,x),!0;case"dragenter":return aa=bo(aa,i,l,f,g,x),!0;case"mouseover":return ia=bo(ia,i,l,f,g,x),!0;case"pointerover":var S=x.pointerId;return yo.set(S,bo(yo.get(S)||null,i,l,f,g,x)),!0;case"gotpointercapture":return S=x.pointerId,xo.set(S,bo(xo.get(S)||null,i,l,f,g,x)),!0}return!1}function Cw(i){var l=Va(i.target);if(l!==null){var f=Ha(l);if(f!==null){if(l=f.tag,l===13){if(l=gw(f),l!==null){i.blockedOn=l,Aw(i.priority,function(){Ow(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=yh(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);fo=g,f.target.dispatchEvent(g),fo=null}else return l=$o(f),l!==null&&mh(l),i.blockedOn=f,!1;l.shift()}return!0}function Tw(i,l,f){Cc(i)&&f.delete(l)}function HT(){gh=!1,na!==null&&Cc(na)&&(na=null),aa!==null&&Cc(aa)&&(aa=null),ia!==null&&Cc(ia)&&(ia=null),yo.forEach(Tw),xo.forEach(Tw)}function wo(i,l){i.blockedOn===l&&(i.blockedOn=null,gh||(gh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HT)))}function jo(i){function l(x){return wo(x,i)}if(0<Pc.length){wo(Pc[0],i);for(var f=1;f<Pc.length;f++){var g=Pc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(na!==null&&wo(na,i),aa!==null&&wo(aa,i),ia!==null&&wo(ia,i),yo.forEach(l),xo.forEach(l),f=0;f<sa.length;f++)g=sa[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<sa.length&&(f=sa[0],f.blockedOn===null);)Cw(f),f.blockedOn===null&&sa.shift()}var $i=A.ReactCurrentBatchConfig,Tc=!0;function VT(i,l,f,g){var x=Je,S=$i.transition;$i.transition=null;try{Je=1,vh(i,l,f,g)}finally{Je=x,$i.transition=S}}function KT(i,l,f,g){var x=Je,S=$i.transition;$i.transition=null;try{Je=4,vh(i,l,f,g)}finally{Je=x,$i.transition=S}}function vh(i,l,f,g){if(Tc){var x=yh(i,l,f,g);if(x===null)Rh(i,l,g,Mc,f),Pw(i,g);else if(WT(x,i,l,f,g))g.stopPropagation();else if(Pw(i,g),l&4&&-1<zT.indexOf(i)){for(;x!==null;){var S=$o(x);if(S!==null&&kw(S),S=yh(i,l,f,g),S===null&&Rh(i,l,g,Mc,f),S===x)break;x=S}x!==null&&g.stopPropagation()}else Rh(i,l,g,null,f)}}var Mc=null;function yh(i,l,f,g){if(Mc=null,i=sh(g),i=Va(i),i!==null)if(l=Ha(i),l===null)i=null;else if(f=l.tag,f===13){if(i=gw(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Mc=i,null}function Mw(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($T()){case dh:return 1;case jw:return 4;case Nc:case RT:return 16;case _w:return 536870912;default:return 16}default:return 16}}var oa=null,xh=null,$c=null;function $w(){if($c)return $c;var i,l=xh,f=l.length,g,x="value"in oa?oa.value:oa.textContent,S=x.length;for(i=0;i<f&&l[i]===x[i];i++);var T=f-i;for(g=1;g<=T&&l[f-g]===x[S-g];g++);return $c=x.slice(i,1<g?1-g:void 0)}function Rc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ic(){return!0}function Rw(){return!1}function gr(i){function l(f,g,x,S,T){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(f=i[D],this[D]=f?f(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ic:Rw,this.isPropagationStopped=Rw,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),l}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=gr(Ri),_o=J({},Ri,{view:0,detail:0}),GT=gr(_o),wh,jh,So,Dc=J({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==So&&(So&&i.type==="mousemove"?(wh=i.screenX-So.screenX,jh=i.screenY-So.screenY):jh=wh=0,So=i),wh)},movementY:function(i){return"movementY"in i?i.movementY:jh}}),Iw=gr(Dc),XT=J({},Dc,{dataTransfer:0}),YT=gr(XT),JT=J({},_o,{relatedTarget:0}),_h=gr(JT),QT=J({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=gr(QT),e4=J({},Ri,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),t4=gr(e4),r4=J({},Ri,{data:0}),Dw=gr(r4),n4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s4(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=i4[i])?!!l[i]:!1}function Sh(){return s4}var o4=J({},_o,{key:function(i){if(i.key){var l=n4[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Rc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?a4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(i){return i.type==="keypress"?Rc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),l4=gr(o4),c4=J({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=gr(c4),u4=J({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),d4=gr(u4),f4=J({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),h4=gr(f4),p4=J({},Dc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),m4=gr(p4),g4=[9,13,27,32],Nh=u&&"CompositionEvent"in window,No=null;u&&"documentMode"in document&&(No=document.documentMode);var v4=u&&"TextEvent"in window&&!No,Bw=u&&(!Nh||No&&8<No&&11>=No),qw=" ",Uw=!1;function Fw(i,l){switch(i){case"keyup":return g4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ii=!1;function y4(i,l){switch(i){case"compositionend":return zw(l);case"keypress":return l.which!==32?null:(Uw=!0,qw);case"textInput":return i=l.data,i===qw&&Uw?null:i;default:return null}}function x4(i,l){if(Ii)return i==="compositionend"||!Nh&&Fw(i,l)?(i=$w(),$c=xh=oa=null,Ii=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Bw&&l.locale!=="ko"?null:l.data;default:return null}}var b4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ww(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!b4[i.type]:l==="textarea"}function Hw(i,l,f,g){dw(g),l=Fc(l,"onChange"),0<l.length&&(f=new bh("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var ko=null,Oo=null;function w4(i){c1(i,0)}function Lc(i){var l=Ui(i);if(Q(l))return i}function j4(i,l){if(i==="change")return l}var Vw=!1;if(u){var kh;if(u){var Oh="oninput"in document;if(!Oh){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),Oh=typeof Kw.oninput=="function"}kh=Oh}else kh=!1;Vw=kh&&(!document.documentMode||9<document.documentMode)}function Gw(){ko&&(ko.detachEvent("onpropertychange",Xw),Oo=ko=null)}function Xw(i){if(i.propertyName==="value"&&Lc(Oo)){var l=[];Hw(l,Oo,i,sh(i)),mw(w4,l)}}function _4(i,l,f){i==="focusin"?(Gw(),ko=l,Oo=f,ko.attachEvent("onpropertychange",Xw)):i==="focusout"&&Gw()}function S4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Oo)}function N4(i,l){if(i==="click")return Lc(l)}function k4(i,l){if(i==="input"||i==="change")return Lc(l)}function O4(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Wr=typeof Object.is=="function"?Object.is:O4;function Eo(i,l){if(Wr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(l,x)||!Wr(i[x],l[x]))return!1}return!0}function Yw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jw(i,l){var f=Yw(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Yw(f)}}function Qw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Qw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Zw(){for(var i=window,l=je();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=je(i.document)}return l}function Eh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function E4(i){var l=Zw(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&Qw(f.ownerDocument.documentElement,f)){if(g!==null&&Eh(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!i.extend&&S>g&&(x=g,g=S,S=x),x=Jw(f,S);var T=Jw(f,g);x&&T&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),S>g?(i.addRange(l),i.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var A4=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Ah=null,Ao=null,Ph=!1;function e1(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ph||Di==null||Di!==je(g)||(g=Di,"selectionStart"in g&&Eh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ao&&Eo(Ao,g)||(Ao=g,g=Fc(Ah,"onSelect"),0<g.length&&(l=new bh("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=Di)))}function Bc(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Li={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Ch={},t1={};u&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function qc(i){if(Ch[i])return Ch[i];if(!Li[i])return i;var l=Li[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in t1)return Ch[i]=l[f];return i}var r1=qc("animationend"),n1=qc("animationiteration"),a1=qc("animationstart"),i1=qc("transitionend"),s1=new Map,o1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(i,l){s1.set(i,l),s(l,[i])}for(var Th=0;Th<o1.length;Th++){var Mh=o1[Th],P4=Mh.toLowerCase(),C4=Mh[0].toUpperCase()+Mh.slice(1);la(P4,"on"+C4)}la(r1,"onAnimationEnd"),la(n1,"onAnimationIteration"),la(a1,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(i1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function l1(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,PT(g,l,void 0,i),i.currentTarget=null}function c1(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],x=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var T=g.length-1;0<=T;T--){var D=g[T],H=D.instance,re=D.currentTarget;if(D=D.listener,H!==S&&x.isPropagationStopped())break e;l1(x,D,re),S=H}else for(T=0;T<g.length;T++){if(D=g[T],H=D.instance,re=D.currentTarget,D=D.listener,H!==S&&x.isPropagationStopped())break e;l1(x,D,re),S=H}}}if(Sc)throw i=uh,Sc=!1,uh=null,i}function st(i,l){var f=l[Uh];f===void 0&&(f=l[Uh]=new Set);var g=i+"__bubble";f.has(g)||(u1(l,i,2,!1),f.add(g))}function $h(i,l,f){var g=0;l&&(g|=4),u1(f,i,g,l)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Co(i){if(!i[Uc]){i[Uc]=!0,n.forEach(function(f){f!=="selectionchange"&&(T4.has(f)||$h(f,!1,i),$h(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Uc]||(l[Uc]=!0,$h("selectionchange",!1,l))}}function u1(i,l,f,g){switch(Mw(l)){case 1:var x=VT;break;case 4:x=KT;break;default:x=vh}f=x.bind(null,l,f,i),x=void 0,!ch||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,f,{capture:!0,passive:x}):i.addEventListener(l,f,!0):x!==void 0?i.addEventListener(l,f,{passive:x}):i.addEventListener(l,f,!1)}function Rh(i,l,f,g,x){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var D=g.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(T===4)for(T=g.return;T!==null;){var H=T.tag;if((H===3||H===4)&&(H=T.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;T=T.return}for(;D!==null;){if(T=Va(D),T===null)return;if(H=T.tag,H===5||H===6){g=S=T;continue e}D=D.parentNode}}g=g.return}mw(function(){var re=S,ce=sh(f),ue=[];e:{var le=s1.get(i);if(le!==void 0){var ve=bh,we=i;switch(i){case"keypress":if(Rc(f)===0)break e;case"keydown":case"keyup":ve=l4;break;case"focusin":we="focus",ve=_h;break;case"focusout":we="blur",ve=_h;break;case"beforeblur":case"afterblur":ve=_h;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=YT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=d4;break;case r1:case n1:case a1:ve=ZT;break;case i1:ve=h4;break;case"scroll":ve=GT;break;case"wheel":ve=m4;break;case"copy":case"cut":case"paste":ve=t4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Lw}var _e=(l&4)!==0,jt=!_e&&i==="scroll",Z=_e?le!==null?le+"Capture":null:le;_e=[];for(var V=re,te;V!==null;){te=V;var fe=te.stateNode;if(te.tag===5&&fe!==null&&(te=fe,Z!==null&&(fe=ho(V,Z),fe!=null&&_e.push(To(V,fe,te)))),jt)break;V=V.return}0<_e.length&&(le=new ve(le,we,null,f,ce),ue.push({event:le,listeners:_e}))}}if((l&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",le&&f!==fo&&(we=f.relatedTarget||f.fromElement)&&(Va(we)||we[Pn]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(we=f.relatedTarget||f.toElement,ve=re,we=we?Va(we):null,we!==null&&(jt=Ha(we),we!==jt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=re),ve!==we)){if(_e=Iw,fe="onMouseLeave",Z="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(_e=Lw,fe="onPointerLeave",Z="onPointerEnter",V="pointer"),jt=ve==null?le:Ui(ve),te=we==null?le:Ui(we),le=new _e(fe,V+"leave",ve,f,ce),le.target=jt,le.relatedTarget=te,fe=null,Va(ce)===re&&(_e=new _e(Z,V+"enter",we,f,ce),_e.target=te,_e.relatedTarget=jt,fe=_e),jt=fe,ve&&we)t:{for(_e=ve,Z=we,V=0,te=_e;te;te=Bi(te))V++;for(te=0,fe=Z;fe;fe=Bi(fe))te++;for(;0<V-te;)_e=Bi(_e),V--;for(;0<te-V;)Z=Bi(Z),te--;for(;V--;){if(_e===Z||Z!==null&&_e===Z.alternate)break t;_e=Bi(_e),Z=Bi(Z)}_e=null}else _e=null;ve!==null&&d1(ue,le,ve,_e,!1),we!==null&&jt!==null&&d1(ue,jt,we,_e,!0)}}e:{if(le=re?Ui(re):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var Se=j4;else if(Ww(le))if(Vw)Se=k4;else{Se=S4;var Ee=_4}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Se=N4);if(Se&&(Se=Se(i,re))){Hw(ue,Se,f,ce);break e}Ee&&Ee(i,le,re),i==="focusout"&&(Ee=le._wrapperState)&&Ee.controlled&&le.type==="number"&&or(le,"number",le.value)}switch(Ee=re?Ui(re):window,i){case"focusin":(Ww(Ee)||Ee.contentEditable==="true")&&(Di=Ee,Ah=re,Ao=null);break;case"focusout":Ao=Ah=Di=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,e1(ue,f,ce);break;case"selectionchange":if(A4)break;case"keydown":case"keyup":e1(ue,f,ce)}var Ae;if(Nh)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ii?Fw(i,f)&&($e="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&($e="onCompositionStart");$e&&(Bw&&f.locale!=="ko"&&(Ii||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ii&&(Ae=$w()):(oa=ce,xh="value"in oa?oa.value:oa.textContent,Ii=!0)),Ee=Fc(re,$e),0<Ee.length&&($e=new Dw($e,i,null,f,ce),ue.push({event:$e,listeners:Ee}),Ae?$e.data=Ae:(Ae=zw(f),Ae!==null&&($e.data=Ae)))),(Ae=v4?y4(i,f):x4(i,f))&&(re=Fc(re,"onBeforeInput"),0<re.length&&(ce=new Dw("onBeforeInput","beforeinput",null,f,ce),ue.push({event:ce,listeners:re}),ce.data=Ae))}c1(ue,l)})}function To(i,l,f){return{instance:i,listener:l,currentTarget:f}}function Fc(i,l){for(var f=l+"Capture",g=[];i!==null;){var x=i,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=ho(i,f),S!=null&&g.unshift(To(i,S,x)),S=ho(i,l),S!=null&&g.push(To(i,S,x))),i=i.return}return g}function Bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function d1(i,l,f,g,x){for(var S=l._reactName,T=[];f!==null&&f!==g;){var D=f,H=D.alternate,re=D.stateNode;if(H!==null&&H===g)break;D.tag===5&&re!==null&&(D=re,x?(H=ho(f,S),H!=null&&T.unshift(To(f,H,D))):x||(H=ho(f,S),H!=null&&T.push(To(f,H,D)))),f=f.return}T.length!==0&&i.push({event:l,listeners:T})}var M4=/\r\n?/g,$4=/\u0000|\uFFFD/g;function f1(i){return(typeof i=="string"?i:""+i).replace(M4,`
`).replace($4,"")}function zc(i,l,f){if(l=f1(l),f1(i)!==l&&f)throw Error(r(425))}function Wc(){}var Ih=null,Dh=null;function Lh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,I4=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(i){return h1.resolve(null).then(i).catch(D4)}:Bh;function D4(i){setTimeout(function(){throw i})}function qh(i,l){var f=l,g=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){i.removeChild(x),jo(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);jo(l)}function ca(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function p1(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var qi=Math.random().toString(36).slice(2),hn="__reactFiber$"+qi,Mo="__reactProps$"+qi,Pn="__reactContainer$"+qi,Uh="__reactEvents$"+qi,L4="__reactListeners$"+qi,B4="__reactHandles$"+qi;function Va(i){var l=i[hn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Pn]||f[hn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=p1(i);i!==null;){if(f=i[hn])return f;i=p1(i)}return l}i=f,f=i.parentNode}return null}function $o(i){return i=i[hn]||i[Pn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ui(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Hc(i){return i[Mo]||null}var Fh=[],Fi=-1;function ua(i){return{current:i}}function ot(i){0>Fi||(i.current=Fh[Fi],Fh[Fi]=null,Fi--)}function nt(i,l){Fi++,Fh[Fi]=i.current,i.current=l}var da={},Xt=ua(da),lr=ua(!1),Ka=da;function zi(i,l){var f=i.type.contextTypes;if(!f)return da;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=l[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function cr(i){return i=i.childContextTypes,i!=null}function Vc(){ot(lr),ot(Xt)}function m1(i,l,f){if(Xt.current!==da)throw Error(r(168));nt(Xt,l),nt(lr,f)}function g1(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(r(108,ke(i)||"Unknown",x));return J({},f,g)}function Kc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||da,Ka=Xt.current,nt(Xt,i),nt(lr,lr.current),!0}function v1(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=g1(i,l,Ka),g.__reactInternalMemoizedMergedChildContext=i,ot(lr),ot(Xt),nt(Xt,i)):ot(lr),nt(lr,f)}var Cn=null,Gc=!1,zh=!1;function y1(i){Cn===null?Cn=[i]:Cn.push(i)}function q4(i){Gc=!0,y1(i)}function fa(){if(!zh&&Cn!==null){zh=!0;var i=0,l=Je;try{var f=Cn;for(Je=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}Cn=null,Gc=!1}catch(x){throw Cn!==null&&(Cn=Cn.slice(i+1)),bw(dh,fa),x}finally{Je=l,zh=!1}}return null}var Wi=[],Hi=0,Xc=null,Yc=0,Er=[],Ar=0,Ga=null,Tn=1,Mn="";function Xa(i,l){Wi[Hi++]=Yc,Wi[Hi++]=Xc,Xc=i,Yc=l}function x1(i,l,f){Er[Ar++]=Tn,Er[Ar++]=Mn,Er[Ar++]=Ga,Ga=i;var g=Tn;i=Mn;var x=32-zr(g)-1;g&=~(1<<x),f+=1;var S=32-zr(l)+x;if(30<S){var T=x-x%5;S=(g&(1<<T)-1).toString(32),g>>=T,x-=T,Tn=1<<32-zr(l)+x|f<<x|g,Mn=S+i}else Tn=1<<S|f<<x|g,Mn=i}function Wh(i){i.return!==null&&(Xa(i,1),x1(i,1,0))}function Hh(i){for(;i===Xc;)Xc=Wi[--Hi],Wi[Hi]=null,Yc=Wi[--Hi],Wi[Hi]=null;for(;i===Ga;)Ga=Er[--Ar],Er[Ar]=null,Mn=Er[--Ar],Er[Ar]=null,Tn=Er[--Ar],Er[Ar]=null}var vr=null,yr=null,ct=!1,Hr=null;function b1(i,l){var f=Mr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function w1(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,vr=i,yr=ca(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,vr=i,yr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Ga!==null?{id:Tn,overflow:Mn}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Mr(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,vr=i,yr=null,!0):!1;default:return!1}}function Vh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kh(i){if(ct){var l=yr;if(l){var f=l;if(!w1(i,l)){if(Vh(i))throw Error(r(418));l=ca(f.nextSibling);var g=vr;l&&w1(i,l)?b1(g,f):(i.flags=i.flags&-4097|2,ct=!1,vr=i)}}else{if(Vh(i))throw Error(r(418));i.flags=i.flags&-4097|2,ct=!1,vr=i}}}function j1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vr=i}function Jc(i){if(i!==vr)return!1;if(!ct)return j1(i),ct=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Lh(i.type,i.memoizedProps)),l&&(l=yr)){if(Vh(i))throw _1(),Error(r(418));for(;l;)b1(i,l),l=ca(l.nextSibling)}if(j1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){yr=ca(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}yr=null}}else yr=vr?ca(i.stateNode.nextSibling):null;return!0}function _1(){for(var i=yr;i;)i=ca(i.nextSibling)}function Vi(){yr=vr=null,ct=!1}function Gh(i){Hr===null?Hr=[i]:Hr.push(i)}var U4=A.ReactCurrentBatchConfig;function Ro(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var x=g,S=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(T){var D=x.refs;T===null?delete D[S]:D[S]=T},l._stringRef=S,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Qc(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function S1(i){var l=i._init;return l(i._payload)}function N1(i){function l(Z,V){if(i){var te=Z.deletions;te===null?(Z.deletions=[V],Z.flags|=16):te.push(V)}}function f(Z,V){if(!i)return null;for(;V!==null;)l(Z,V),V=V.sibling;return null}function g(Z,V){for(Z=new Map;V!==null;)V.key!==null?Z.set(V.key,V):Z.set(V.index,V),V=V.sibling;return Z}function x(Z,V){return Z=ba(Z,V),Z.index=0,Z.sibling=null,Z}function S(Z,V,te){return Z.index=te,i?(te=Z.alternate,te!==null?(te=te.index,te<V?(Z.flags|=2,V):te):(Z.flags|=2,V)):(Z.flags|=1048576,V)}function T(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function D(Z,V,te,fe){return V===null||V.tag!==6?(V=Bp(te,Z.mode,fe),V.return=Z,V):(V=x(V,te),V.return=Z,V)}function H(Z,V,te,fe){var Se=te.type;return Se===C?ce(Z,V,te.props.children,fe,te.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&S1(Se)===V.type)?(fe=x(V,te.props),fe.ref=Ro(Z,V,te),fe.return=Z,fe):(fe=ju(te.type,te.key,te.props,null,Z.mode,fe),fe.ref=Ro(Z,V,te),fe.return=Z,fe)}function re(Z,V,te,fe){return V===null||V.tag!==4||V.stateNode.containerInfo!==te.containerInfo||V.stateNode.implementation!==te.implementation?(V=qp(te,Z.mode,fe),V.return=Z,V):(V=x(V,te.children||[]),V.return=Z,V)}function ce(Z,V,te,fe,Se){return V===null||V.tag!==7?(V=ni(te,Z.mode,fe,Se),V.return=Z,V):(V=x(V,te),V.return=Z,V)}function ue(Z,V,te){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Bp(""+V,Z.mode,te),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return te=ju(V.type,V.key,V.props,null,Z.mode,te),te.ref=Ro(Z,null,V),te.return=Z,te;case k:return V=qp(V,Z.mode,te),V.return=Z,V;case z:var fe=V._init;return ue(Z,fe(V._payload),te)}if(Ot(V)||W(V))return V=ni(V,Z.mode,te,null),V.return=Z,V;Qc(Z,V)}return null}function le(Z,V,te,fe){var Se=V!==null?V.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Se!==null?null:D(Z,V,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===Se?H(Z,V,te,fe):null;case k:return te.key===Se?re(Z,V,te,fe):null;case z:return Se=te._init,le(Z,V,Se(te._payload),fe)}if(Ot(te)||W(te))return Se!==null?null:ce(Z,V,te,fe,null);Qc(Z,te)}return null}function ve(Z,V,te,fe,Se){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Z=Z.get(te)||null,D(V,Z,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return Z=Z.get(fe.key===null?te:fe.key)||null,H(V,Z,fe,Se);case k:return Z=Z.get(fe.key===null?te:fe.key)||null,re(V,Z,fe,Se);case z:var Ee=fe._init;return ve(Z,V,te,Ee(fe._payload),Se)}if(Ot(fe)||W(fe))return Z=Z.get(te)||null,ce(V,Z,fe,Se,null);Qc(V,fe)}return null}function we(Z,V,te,fe){for(var Se=null,Ee=null,Ae=V,$e=V=0,Bt=null;Ae!==null&&$e<te.length;$e++){Ae.index>$e?(Bt=Ae,Ae=null):Bt=Ae.sibling;var ze=le(Z,Ae,te[$e],fe);if(ze===null){Ae===null&&(Ae=Bt);break}i&&Ae&&ze.alternate===null&&l(Z,Ae),V=S(ze,V,$e),Ee===null?Se=ze:Ee.sibling=ze,Ee=ze,Ae=Bt}if($e===te.length)return f(Z,Ae),ct&&Xa(Z,$e),Se;if(Ae===null){for(;$e<te.length;$e++)Ae=ue(Z,te[$e],fe),Ae!==null&&(V=S(Ae,V,$e),Ee===null?Se=Ae:Ee.sibling=Ae,Ee=Ae);return ct&&Xa(Z,$e),Se}for(Ae=g(Z,Ae);$e<te.length;$e++)Bt=ve(Ae,Z,$e,te[$e],fe),Bt!==null&&(i&&Bt.alternate!==null&&Ae.delete(Bt.key===null?$e:Bt.key),V=S(Bt,V,$e),Ee===null?Se=Bt:Ee.sibling=Bt,Ee=Bt);return i&&Ae.forEach(function(wa){return l(Z,wa)}),ct&&Xa(Z,$e),Se}function _e(Z,V,te,fe){var Se=W(te);if(typeof Se!="function")throw Error(r(150));if(te=Se.call(te),te==null)throw Error(r(151));for(var Ee=Se=null,Ae=V,$e=V=0,Bt=null,ze=te.next();Ae!==null&&!ze.done;$e++,ze=te.next()){Ae.index>$e?(Bt=Ae,Ae=null):Bt=Ae.sibling;var wa=le(Z,Ae,ze.value,fe);if(wa===null){Ae===null&&(Ae=Bt);break}i&&Ae&&wa.alternate===null&&l(Z,Ae),V=S(wa,V,$e),Ee===null?Se=wa:Ee.sibling=wa,Ee=wa,Ae=Bt}if(ze.done)return f(Z,Ae),ct&&Xa(Z,$e),Se;if(Ae===null){for(;!ze.done;$e++,ze=te.next())ze=ue(Z,ze.value,fe),ze!==null&&(V=S(ze,V,$e),Ee===null?Se=ze:Ee.sibling=ze,Ee=ze);return ct&&Xa(Z,$e),Se}for(Ae=g(Z,Ae);!ze.done;$e++,ze=te.next())ze=ve(Ae,Z,$e,ze.value,fe),ze!==null&&(i&&ze.alternate!==null&&Ae.delete(ze.key===null?$e:ze.key),V=S(ze,V,$e),Ee===null?Se=ze:Ee.sibling=ze,Ee=ze);return i&&Ae.forEach(function(bM){return l(Z,bM)}),ct&&Xa(Z,$e),Se}function jt(Z,V,te,fe){if(typeof te=="object"&&te!==null&&te.type===C&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var Se=te.key,Ee=V;Ee!==null;){if(Ee.key===Se){if(Se=te.type,Se===C){if(Ee.tag===7){f(Z,Ee.sibling),V=x(Ee,te.props.children),V.return=Z,Z=V;break e}}else if(Ee.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&S1(Se)===Ee.type){f(Z,Ee.sibling),V=x(Ee,te.props),V.ref=Ro(Z,Ee,te),V.return=Z,Z=V;break e}f(Z,Ee);break}else l(Z,Ee);Ee=Ee.sibling}te.type===C?(V=ni(te.props.children,Z.mode,fe,te.key),V.return=Z,Z=V):(fe=ju(te.type,te.key,te.props,null,Z.mode,fe),fe.ref=Ro(Z,V,te),fe.return=Z,Z=fe)}return T(Z);case k:e:{for(Ee=te.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===te.containerInfo&&V.stateNode.implementation===te.implementation){f(Z,V.sibling),V=x(V,te.children||[]),V.return=Z,Z=V;break e}else{f(Z,V);break}else l(Z,V);V=V.sibling}V=qp(te,Z.mode,fe),V.return=Z,Z=V}return T(Z);case z:return Ee=te._init,jt(Z,V,Ee(te._payload),fe)}if(Ot(te))return we(Z,V,te,fe);if(W(te))return _e(Z,V,te,fe);Qc(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,V!==null&&V.tag===6?(f(Z,V.sibling),V=x(V,te),V.return=Z,Z=V):(f(Z,V),V=Bp(te,Z.mode,fe),V.return=Z,Z=V),T(Z)):f(Z,V)}return jt}var Ki=N1(!0),k1=N1(!1),Zc=ua(null),eu=null,Gi=null,Xh=null;function Yh(){Xh=Gi=eu=null}function Jh(i){var l=Zc.current;ot(Zc),i._currentValue=l}function Qh(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Xi(i,l){eu=i,Xh=Gi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(ur=!0),i.firstContext=null)}function Pr(i){var l=i._currentValue;if(Xh!==i)if(i={context:i,memoizedValue:l,next:null},Gi===null){if(eu===null)throw Error(r(308));Gi=i,eu.dependencies={lanes:0,firstContext:i}}else Gi=Gi.next=i;return l}var Ya=null;function Zh(i){Ya===null?Ya=[i]:Ya.push(i)}function O1(i,l,f,g){var x=l.interleaved;return x===null?(f.next=f,Zh(l)):(f.next=x.next,x.next=f),l.interleaved=f,$n(i,g)}function $n(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var ha=!1;function ep(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function pa(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Ue&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,$n(i,f)}return x=g.interleaved,x===null?(l.next=l,Zh(g)):(l.next=x.next,x.next=l),g.interleaved=l,$n(i,f)}function tu(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,ph(i,f)}}function A1(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var T={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=T:S=S.next=T,f=f.next}while(f!==null);S===null?x=S=l:S=S.next=l}else x=S=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function ru(i,l,f,g){var x=i.updateQueue;ha=!1;var S=x.firstBaseUpdate,T=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var H=D,re=H.next;H.next=null,T===null?S=re:T.next=re,T=H;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==T&&(D===null?ce.firstBaseUpdate=re:D.next=re,ce.lastBaseUpdate=H))}if(S!==null){var ue=x.baseState;T=0,ce=re=H=null,D=S;do{var le=D.lane,ve=D.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var we=i,_e=D;switch(le=l,ve=f,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ue=we.call(ve,ue,le);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,le=typeof we=="function"?we.call(ve,ue,le):we,le==null)break e;ue=J({},ue,le);break e;case 2:ha=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,le=x.effects,le===null?x.effects=[D]:le.push(D))}else ve={eventTime:ve,lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(re=ce=ve,H=ue):ce=ce.next=ve,T|=le;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;le=D,D=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ce===null&&(H=ue),x.baseState=H,x.firstBaseUpdate=re,x.lastBaseUpdate=ce,l=x.shared.interleaved,l!==null){x=l;do T|=x.lane,x=x.next;while(x!==l)}else S===null&&(x.shared.lanes=0);Za|=T,i.lanes=T,i.memoizedState=ue}}function P1(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Io={},pn=ua(Io),Do=ua(Io),Lo=ua(Io);function Ja(i){if(i===Io)throw Error(r(174));return i}function tp(i,l){switch(nt(Lo,l),nt(Do,i),nt(pn,Io),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:za(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=za(l,i)}ot(pn),nt(pn,l)}function Yi(){ot(pn),ot(Do),ot(Lo)}function C1(i){Ja(Lo.current);var l=Ja(pn.current),f=za(l,i.type);l!==f&&(nt(Do,i),nt(pn,f))}function rp(i){Do.current===i&&(ot(pn),ot(Do))}var ft=ua(0);function nu(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var np=[];function ap(){for(var i=0;i<np.length;i++)np[i]._workInProgressVersionPrimary=null;np.length=0}var au=A.ReactCurrentDispatcher,ip=A.ReactCurrentBatchConfig,Qa=0,ht=null,Et=null,Dt=null,iu=!1,Bo=!1,qo=0,F4=0;function Yt(){throw Error(r(321))}function sp(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!Wr(i[f],l[f]))return!1;return!0}function op(i,l,f,g,x,S){if(Qa=S,ht=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,au.current=i===null||i.memoizedState===null?V4:K4,i=f(g,x),Bo){S=0;do{if(Bo=!1,qo=0,25<=S)throw Error(r(301));S+=1,Dt=Et=null,l.updateQueue=null,au.current=G4,i=f(g,x)}while(Bo)}if(au.current=lu,l=Et!==null&&Et.next!==null,Qa=0,Dt=Et=ht=null,iu=!1,l)throw Error(r(300));return i}function lp(){var i=qo!==0;return qo=0,i}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ht.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Cr(){if(Et===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var l=Dt===null?ht.memoizedState:Dt.next;if(l!==null)Dt=l,Et=i;else{if(i===null)throw Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Dt===null?ht.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function Uo(i,l){return typeof l=="function"?l(i):l}function cp(i){var l=Cr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=Et,x=g.baseQueue,S=f.pending;if(S!==null){if(x!==null){var T=x.next;x.next=S.next,S.next=T}g.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,g=g.baseState;var D=T=null,H=null,re=S;do{var ce=re.lane;if((Qa&ce)===ce)H!==null&&(H=H.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var ue={lane:ce,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};H===null?(D=H=ue,T=g):H=H.next=ue,ht.lanes|=ce,Za|=ce}re=re.next}while(re!==null&&re!==S);H===null?T=g:H.next=D,Wr(g,l.memoizedState)||(ur=!0),l.memoizedState=g,l.baseState=T,l.baseQueue=H,f.lastRenderedState=g}if(i=f.interleaved,i!==null){x=i;do S=x.lane,ht.lanes|=S,Za|=S,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function up(i){var l=Cr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,x=f.pending,S=l.memoizedState;if(x!==null){f.pending=null;var T=x=x.next;do S=i(S,T.action),T=T.next;while(T!==x);Wr(S,l.memoizedState)||(ur=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,g]}function T1(){}function M1(i,l){var f=ht,g=Cr(),x=l(),S=!Wr(g.memoizedState,x);if(S&&(g.memoizedState=x,ur=!0),g=g.queue,dp(I1.bind(null,f,g,i),[i]),g.getSnapshot!==l||S||Dt!==null&&Dt.memoizedState.tag&1){if(f.flags|=2048,Fo(9,R1.bind(null,f,g,x,l),void 0,null),Lt===null)throw Error(r(349));(Qa&30)!==0||$1(f,l,x)}return x}function $1(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=ht.updateQueue,l===null?(l={lastEffect:null,stores:null},ht.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function R1(i,l,f,g){l.value=f,l.getSnapshot=g,D1(l)&&L1(i)}function I1(i,l,f){return f(function(){D1(l)&&L1(i)})}function D1(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!Wr(i,f)}catch{return!0}}function L1(i){var l=$n(i,1);l!==null&&Xr(l,i,1,-1)}function B1(i){var l=mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:i},l.queue=i,i=i.dispatch=H4.bind(null,ht,i),[l.memoizedState,i]}function Fo(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=ht.updateQueue,l===null?(l={lastEffect:null,stores:null},ht.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function q1(){return Cr().memoizedState}function su(i,l,f,g){var x=mn();ht.flags|=i,x.memoizedState=Fo(1|l,f,void 0,g===void 0?null:g)}function ou(i,l,f,g){var x=Cr();g=g===void 0?null:g;var S=void 0;if(Et!==null){var T=Et.memoizedState;if(S=T.destroy,g!==null&&sp(g,T.deps)){x.memoizedState=Fo(l,f,S,g);return}}ht.flags|=i,x.memoizedState=Fo(1|l,f,S,g)}function U1(i,l){return su(8390656,8,i,l)}function dp(i,l){return ou(2048,8,i,l)}function F1(i,l){return ou(4,2,i,l)}function z1(i,l){return ou(4,4,i,l)}function W1(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function H1(i,l,f){return f=f!=null?f.concat([i]):null,ou(4,4,W1.bind(null,l,i),f)}function fp(){}function V1(i,l){var f=Cr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&sp(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function K1(i,l){var f=Cr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&sp(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function G1(i,l,f){return(Qa&21)===0?(i.baseState&&(i.baseState=!1,ur=!0),i.memoizedState=f):(Wr(f,l)||(f=Sw(),ht.lanes|=f,Za|=f,i.baseState=!0),l)}function z4(i,l){var f=Je;Je=f!==0&&4>f?f:4,i(!0);var g=ip.transition;ip.transition={};try{i(!1),l()}finally{Je=f,ip.transition=g}}function X1(){return Cr().memoizedState}function W4(i,l,f){var g=ya(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Y1(i))J1(l,f);else if(f=O1(i,l,f,g),f!==null){var x=rr();Xr(f,i,g,x),Q1(f,l,g)}}function H4(i,l,f){var g=ya(i),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Y1(i))J1(l,x);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var T=l.lastRenderedState,D=S(T,f);if(x.hasEagerState=!0,x.eagerState=D,Wr(D,T)){var H=l.interleaved;H===null?(x.next=x,Zh(l)):(x.next=H.next,H.next=x),l.interleaved=x;return}}catch{}f=O1(i,l,x,g),f!==null&&(x=rr(),Xr(f,i,g,x),Q1(f,l,g))}}function Y1(i){var l=i.alternate;return i===ht||l!==null&&l===ht}function J1(i,l){Bo=iu=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function Q1(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,ph(i,f)}}var lu={readContext:Pr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},V4={readContext:Pr,useCallback:function(i,l){return mn().memoizedState=[i,l===void 0?null:l],i},useContext:Pr,useEffect:U1,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,su(4194308,4,W1.bind(null,l,i),f)},useLayoutEffect:function(i,l){return su(4194308,4,i,l)},useInsertionEffect:function(i,l){return su(4,2,i,l)},useMemo:function(i,l){var f=mn();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=mn();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=W4.bind(null,ht,i),[g.memoizedState,i]},useRef:function(i){var l=mn();return i={current:i},l.memoizedState=i},useState:B1,useDebugValue:fp,useDeferredValue:function(i){return mn().memoizedState=i},useTransition:function(){var i=B1(!1),l=i[0];return i=z4.bind(null,i[1]),mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=ht,x=mn();if(ct){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Lt===null)throw Error(r(349));(Qa&30)!==0||$1(g,l,f)}x.memoizedState=f;var S={value:f,getSnapshot:l};return x.queue=S,U1(I1.bind(null,g,S,i),[i]),g.flags|=2048,Fo(9,R1.bind(null,g,S,f,l),void 0,null),f},useId:function(){var i=mn(),l=Lt.identifierPrefix;if(ct){var f=Mn,g=Tn;f=(g&~(1<<32-zr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=qo++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=F4++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},K4={readContext:Pr,useCallback:V1,useContext:Pr,useEffect:dp,useImperativeHandle:H1,useInsertionEffect:F1,useLayoutEffect:z1,useMemo:K1,useReducer:cp,useRef:q1,useState:function(){return cp(Uo)},useDebugValue:fp,useDeferredValue:function(i){var l=Cr();return G1(l,Et.memoizedState,i)},useTransition:function(){var i=cp(Uo)[0],l=Cr().memoizedState;return[i,l]},useMutableSource:T1,useSyncExternalStore:M1,useId:X1,unstable_isNewReconciler:!1},G4={readContext:Pr,useCallback:V1,useContext:Pr,useEffect:dp,useImperativeHandle:H1,useInsertionEffect:F1,useLayoutEffect:z1,useMemo:K1,useReducer:up,useRef:q1,useState:function(){return up(Uo)},useDebugValue:fp,useDeferredValue:function(i){var l=Cr();return Et===null?l.memoizedState=i:G1(l,Et.memoizedState,i)},useTransition:function(){var i=up(Uo)[0],l=Cr().memoizedState;return[i,l]},useMutableSource:T1,useSyncExternalStore:M1,useId:X1,unstable_isNewReconciler:!1};function Vr(i,l){if(i&&i.defaultProps){l=J({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function hp(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:J({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var cu={isMounted:function(i){return(i=i._reactInternals)?Ha(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=rr(),x=ya(i),S=Rn(g,x);S.payload=l,f!=null&&(S.callback=f),l=pa(i,S,x),l!==null&&(Xr(l,i,x,g),tu(l,i,x))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=rr(),x=ya(i),S=Rn(g,x);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=pa(i,S,x),l!==null&&(Xr(l,i,x,g),tu(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=rr(),g=ya(i),x=Rn(f,g);x.tag=2,l!=null&&(x.callback=l),l=pa(i,x,g),l!==null&&(Xr(l,i,g,f),tu(l,i,g))}};function Z1(i,l,f,g,x,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,T):l.prototype&&l.prototype.isPureReactComponent?!Eo(f,g)||!Eo(x,S):!0}function ej(i,l,f){var g=!1,x=da,S=l.contextType;return typeof S=="object"&&S!==null?S=Pr(S):(x=cr(l)?Ka:Xt.current,g=l.contextTypes,S=(g=g!=null)?zi(i,x):da),l=new l(f,S),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=cu,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=S),l}function tj(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&cu.enqueueReplaceState(l,l.state,null)}function pp(i,l,f,g){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},ep(i);var S=l.contextType;typeof S=="object"&&S!==null?x.context=Pr(S):(S=cr(l)?Ka:Xt.current,x.context=zi(i,S)),x.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(hp(i,l,S,f),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&cu.enqueueReplaceState(x,x.state,null),ru(i,f,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,l){try{var f="",g=l;do f+=ie(g),g=g.return;while(g);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:l,stack:x,digest:null}}function mp(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function gp(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var X4=typeof WeakMap=="function"?WeakMap:Map;function rj(i,l,f){f=Rn(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){gu||(gu=!0,Cp=g),gp(i,l)},f}function nj(i,l,f){f=Rn(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;f.payload=function(){return g(x)},f.callback=function(){gp(i,l)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){gp(i,l),typeof g!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),f}function aj(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new X4;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(x.add(f),i=cM.bind(null,i,l,f),l.then(i,i))}function ij(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function sj(i,l,f,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Rn(-1,1),l.tag=2,pa(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var Y4=A.ReactCurrentOwner,ur=!1;function tr(i,l,f,g){l.child=i===null?k1(l,null,f,g):Ki(l,i.child,f,g)}function oj(i,l,f,g,x){f=f.render;var S=l.ref;return Xi(l,x),g=op(i,l,f,g,S,x),f=lp(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,In(i,l,x)):(ct&&f&&Wh(l),l.flags|=1,tr(i,l,g,x),l.child)}function lj(i,l,f,g,x){if(i===null){var S=f.type;return typeof S=="function"&&!Lp(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=S,cj(i,l,S,g,x)):(i=ju(f.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,(i.lanes&x)===0){var T=S.memoizedProps;if(f=f.compare,f=f!==null?f:Eo,f(T,g)&&i.ref===l.ref)return In(i,l,x)}return l.flags|=1,i=ba(S,g),i.ref=l.ref,i.return=l,l.child=i}function cj(i,l,f,g,x){if(i!==null){var S=i.memoizedProps;if(Eo(S,g)&&i.ref===l.ref)if(ur=!1,l.pendingProps=g=S,(i.lanes&x)!==0)(i.flags&131072)!==0&&(ur=!0);else return l.lanes=i.lanes,In(i,l,x)}return vp(i,l,f,g,x)}function uj(i,l,f){var g=l.pendingProps,x=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Zi,xr),xr|=f;else{if((f&1073741824)===0)return i=S!==null?S.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,nt(Zi,xr),xr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,nt(Zi,xr),xr|=g}else S!==null?(g=S.baseLanes|f,l.memoizedState=null):g=f,nt(Zi,xr),xr|=g;return tr(i,l,x,f),l.child}function dj(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function vp(i,l,f,g,x){var S=cr(f)?Ka:Xt.current;return S=zi(l,S),Xi(l,x),f=op(i,l,f,g,S,x),g=lp(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,In(i,l,x)):(ct&&g&&Wh(l),l.flags|=1,tr(i,l,f,x),l.child)}function fj(i,l,f,g,x){if(cr(f)){var S=!0;Kc(l)}else S=!1;if(Xi(l,x),l.stateNode===null)du(i,l),ej(l,f,g),pp(l,f,g,x),g=!0;else if(i===null){var T=l.stateNode,D=l.memoizedProps;T.props=D;var H=T.context,re=f.contextType;typeof re=="object"&&re!==null?re=Pr(re):(re=cr(f)?Ka:Xt.current,re=zi(l,re));var ce=f.getDerivedStateFromProps,ue=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==g||H!==re)&&tj(l,T,g,re),ha=!1;var le=l.memoizedState;T.state=le,ru(l,g,T,x),H=l.memoizedState,D!==g||le!==H||lr.current||ha?(typeof ce=="function"&&(hp(l,f,ce,g),H=l.memoizedState),(D=ha||Z1(l,f,D,g,le,H,re))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=H),T.props=g,T.state=H,T.context=re,g=D):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{T=l.stateNode,E1(i,l),D=l.memoizedProps,re=l.type===l.elementType?D:Vr(l.type,D),T.props=re,ue=l.pendingProps,le=T.context,H=f.contextType,typeof H=="object"&&H!==null?H=Pr(H):(H=cr(f)?Ka:Xt.current,H=zi(l,H));var ve=f.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==ue||le!==H)&&tj(l,T,g,H),ha=!1,le=l.memoizedState,T.state=le,ru(l,g,T,x);var we=l.memoizedState;D!==ue||le!==we||lr.current||ha?(typeof ve=="function"&&(hp(l,f,ve,g),we=l.memoizedState),(re=ha||Z1(l,f,re,g,le,we,H)||!1)?(ce||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,we,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,we,H)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=we),T.props=g,T.state=we,T.context=H,g=re):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),g=!1)}return yp(i,l,f,g,S,x)}function yp(i,l,f,g,x,S){dj(i,l);var T=(l.flags&128)!==0;if(!g&&!T)return x&&v1(l,f,!1),In(i,l,S);g=l.stateNode,Y4.current=l;var D=T&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&T?(l.child=Ki(l,i.child,null,S),l.child=Ki(l,null,D,S)):tr(i,l,D,S),l.memoizedState=g.state,x&&v1(l,f,!0),l.child}function hj(i){var l=i.stateNode;l.pendingContext?m1(i,l.pendingContext,l.pendingContext!==l.context):l.context&&m1(i,l.context,!1),tp(i,l.containerInfo)}function pj(i,l,f,g,x){return Vi(),Gh(x),l.flags|=256,tr(i,l,f,g),l.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function mj(i,l,f){var g=l.pendingProps,x=ft.current,S=!1,T=(l.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(x&2)!==0),D?(S=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),nt(ft,x&1),i===null)return Kh(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=g.children,i=g.fallback,S?(g=l.mode,S=l.child,T={mode:"hidden",children:T},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=_u(T,g,0,null),i=ni(i,g,f,null),S.return=l,i.return=l,S.sibling=i,l.child=S,l.child.memoizedState=bp(f),l.memoizedState=xp,i):wp(l,T));if(x=i.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return J4(i,l,T,g,D,x,f);if(S){S=g.fallback,T=l.mode,x=i.child,D=x.sibling;var H={mode:"hidden",children:g.children};return(T&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=H,l.deletions=null):(g=ba(x,H),g.subtreeFlags=x.subtreeFlags&14680064),D!==null?S=ba(D,S):(S=ni(S,T,f,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,T=i.child.memoizedState,T=T===null?bp(f):{baseLanes:T.baseLanes|f,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~f,l.memoizedState=xp,g}return S=i.child,i=S.sibling,g=ba(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function wp(i,l){return l=_u({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function uu(i,l,f,g){return g!==null&&Gh(g),Ki(l,i.child,null,f),i=wp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function J4(i,l,f,g,x,S,T){if(f)return l.flags&256?(l.flags&=-257,g=mp(Error(r(422))),uu(i,l,T,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(S=g.fallback,x=l.mode,g=_u({mode:"visible",children:g.children},x,0,null),S=ni(S,x,T,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Ki(l,i.child,null,T),l.child.memoizedState=bp(T),l.memoizedState=xp,S);if((l.mode&1)===0)return uu(i,l,T,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var D=g.dgst;return g=D,S=Error(r(419)),g=mp(S,g,void 0),uu(i,l,T,g)}if(D=(T&i.childLanes)!==0,ur||D){if(g=Lt,g!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|T))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,$n(i,x),Xr(g,i,x,-1))}return Dp(),g=mp(Error(r(421))),uu(i,l,T,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=uM.bind(null,i),x._reactRetry=l,null):(i=S.treeContext,yr=ca(x.nextSibling),vr=l,ct=!0,Hr=null,i!==null&&(Er[Ar++]=Tn,Er[Ar++]=Mn,Er[Ar++]=Ga,Tn=i.id,Mn=i.overflow,Ga=l),l=wp(l,g.children),l.flags|=4096,l)}function gj(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Qh(i.return,l,f)}function jp(i,l,f,g,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=x)}function vj(i,l,f){var g=l.pendingProps,x=g.revealOrder,S=g.tail;if(tr(i,l,g.children,f),g=ft.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gj(i,f,l);else if(i.tag===19)gj(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(nt(ft,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)i=f.alternate,i!==null&&nu(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),jp(l,!1,x,f,S);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&nu(i)===null){l.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}jp(l,!0,f,null,S);break;case"together":jp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function du(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function In(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Za|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=ba(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=ba(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function Q4(i,l,f){switch(l.tag){case 3:hj(l),Vi();break;case 5:C1(l);break;case 1:cr(l.type)&&Kc(l);break;case 4:tp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;nt(Zc,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(nt(ft,ft.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?mj(i,l,f):(nt(ft,ft.current&1),i=In(i,l,f),i!==null?i.sibling:null);nt(ft,ft.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return vj(i,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),nt(ft,ft.current),g)break;return null;case 22:case 23:return l.lanes=0,uj(i,l,f)}return In(i,l,f)}var yj,_p,xj,bj;yj=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},_p=function(){},xj=function(i,l,f,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,Ja(pn.current);var S=null;switch(f){case"input":x=Re(i,x),g=Re(i,g),S=[];break;case"select":x=J({},x,{value:void 0}),g=J({},g,{value:void 0}),S=[];break;case"textarea":x=Ft(i,x),g=Ft(i,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Wc)}qe(f,g);var T;f=null;for(re in x)if(!g.hasOwnProperty(re)&&x.hasOwnProperty(re)&&x[re]!=null)if(re==="style"){var D=x[re];for(T in D)D.hasOwnProperty(T)&&(f||(f={}),f[T]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?S||(S=[]):(S=S||[]).push(re,null));for(re in g){var H=g[re];if(D=x?.[re],g.hasOwnProperty(re)&&H!==D&&(H!=null||D!=null))if(re==="style")if(D){for(T in D)!D.hasOwnProperty(T)||H&&H.hasOwnProperty(T)||(f||(f={}),f[T]="");for(T in H)H.hasOwnProperty(T)&&D[T]!==H[T]&&(f||(f={}),f[T]=H[T])}else f||(S||(S=[]),S.push(re,f)),f=H;else re==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,D=D?D.__html:void 0,H!=null&&D!==H&&(S=S||[]).push(re,H)):re==="children"?typeof H!="string"&&typeof H!="number"||(S=S||[]).push(re,""+H):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(H!=null&&re==="onScroll"&&st("scroll",i),S||D===H||(S=[])):(S=S||[]).push(re,H))}f&&(S=S||[]).push("style",f);var re=S;(l.updateQueue=re)&&(l.flags|=4)}},bj=function(i,l,f,g){f!==g&&(l.flags|=4)};function zo(i,l){if(!ct)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Jt(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function Z4(i,l,f){var g=l.pendingProps;switch(Hh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(l),null;case 1:return cr(l.type)&&Vc(),Jt(l),null;case 3:return g=l.stateNode,Yi(),ot(lr),ot(Xt),ap(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Jc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hr!==null&&($p(Hr),Hr=null))),_p(i,l),Jt(l),null;case 5:rp(l);var x=Ja(Lo.current);if(f=l.type,i!==null&&l.stateNode!=null)xj(i,l,f,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Jt(l),null}if(i=Ja(pn.current),Jc(l)){g=l.stateNode,f=l.type;var S=l.memoizedProps;switch(g[hn]=l,g[Mo]=S,i=(l.mode&1)!==0,f){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(x=0;x<Po.length;x++)st(Po[x],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":He(g,S),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},st("invalid",g);break;case"textarea":Fr(g,S),st("invalid",g)}qe(f,S),x=null;for(var T in S)if(S.hasOwnProperty(T)){var D=S[T];T==="children"?typeof D=="string"?g.textContent!==D&&(S.suppressHydrationWarning!==!0&&zc(g.textContent,D,i),x=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(S.suppressHydrationWarning!==!0&&zc(g.textContent,D,i),x=["children",""+D]):a.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&st("scroll",g)}switch(f){case"input":Oe(g),Rt(g,S,!0);break;case"textarea":Oe(g),An(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Wc)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ra(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=T.createElement(f,{is:g.is}):(i=T.createElement(f),f==="select"&&(T=i,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):i=T.createElementNS(i,f),i[hn]=l,i[Mo]=g,yj(i,l,!1,!1),l.stateNode=i;e:{switch(T=Wa(f,g),f){case"dialog":st("cancel",i),st("close",i),x=g;break;case"iframe":case"object":case"embed":st("load",i),x=g;break;case"video":case"audio":for(x=0;x<Po.length;x++)st(Po[x],i);x=g;break;case"source":st("error",i),x=g;break;case"img":case"image":case"link":st("error",i),st("load",i),x=g;break;case"details":st("toggle",i),x=g;break;case"input":He(i,g),x=Re(i,g),st("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=J({},g,{value:void 0}),st("invalid",i);break;case"textarea":Fr(i,g),x=Ft(i,g),st("invalid",i);break;default:x=g}qe(f,x),D=x;for(S in D)if(D.hasOwnProperty(S)){var H=D[S];S==="style"?It(i,H):S==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ve(i,H)):S==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&G(i,H):typeof H=="number"&&G(i,""+H):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?H!=null&&S==="onScroll"&&st("scroll",i):H!=null&&N(i,S,H,T))}switch(f){case"input":Oe(i),Rt(i,g,!1);break;case"textarea":Oe(i),An(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ge(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?vt(i,!!g.multiple,S,!1):g.defaultValue!=null&&vt(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Wc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jt(l),null;case 6:if(i&&l.stateNode!=null)bj(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ja(Lo.current),Ja(pn.current),Jc(l)){if(g=l.stateNode,f=l.memoizedProps,g[hn]=l,(S=g.nodeValue!==f)&&(i=vr,i!==null))switch(i.tag){case 3:zc(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&zc(g.nodeValue,f,(i.mode&1)!==0)}S&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[hn]=l,l.stateNode=g}return Jt(l),null;case 13:if(ot(ft),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ct&&yr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)_1(),Vi(),l.flags|=98560,S=!1;else if(S=Jc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[hn]=l}else Vi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Jt(l),S=!1}else Hr!==null&&($p(Hr),Hr=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ft.current&1)!==0?At===0&&(At=3):Dp())),l.updateQueue!==null&&(l.flags|=4),Jt(l),null);case 4:return Yi(),_p(i,l),i===null&&Co(l.stateNode.containerInfo),Jt(l),null;case 10:return Jh(l.type._context),Jt(l),null;case 17:return cr(l.type)&&Vc(),Jt(l),null;case 19:if(ot(ft),S=l.memoizedState,S===null)return Jt(l),null;if(g=(l.flags&128)!==0,T=S.rendering,T===null)if(g)zo(S,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(T=nu(i),T!==null){for(l.flags|=128,zo(S,!1),g=T.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)S=f,i=g,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return nt(ft,ft.current&1|2),l.child}i=i.sibling}S.tail!==null&&wt()>es&&(l.flags|=128,g=!0,zo(S,!1),l.lanes=4194304)}else{if(!g)if(i=nu(T),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),zo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!ct)return Jt(l),null}else 2*wt()-S.renderingStartTime>es&&f!==1073741824&&(l.flags|=128,g=!0,zo(S,!1),l.lanes=4194304);S.isBackwards?(T.sibling=l.child,l.child=T):(f=S.last,f!==null?f.sibling=T:l.child=T,S.last=T)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=wt(),l.sibling=null,f=ft.current,nt(ft,g?f&1|2:f&1),l):(Jt(l),null);case 22:case 23:return Ip(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(xr&1073741824)!==0&&(Jt(l),l.subtreeFlags&6&&(l.flags|=8192)):Jt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function eM(i,l){switch(Hh(l),l.tag){case 1:return cr(l.type)&&Vc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Yi(),ot(lr),ot(Xt),ap(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return rp(l),null;case 13:if(ot(ft),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Vi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ot(ft),null;case 4:return Yi(),null;case 10:return Jh(l.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var fu=!1,Qt=!1,tM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Qi(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){yt(i,l,g)}else f.current=null}function Sp(i,l,f){try{f()}catch(g){yt(i,l,g)}}var wj=!1;function rM(i,l){if(Ih=Tc,i=Zw(),Eh(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var T=0,D=-1,H=-1,re=0,ce=0,ue=i,le=null;t:for(;;){for(var ve;ue!==f||x!==0&&ue.nodeType!==3||(D=T+x),ue!==S||g!==0&&ue.nodeType!==3||(H=T+g),ue.nodeType===3&&(T+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===i)break t;if(le===f&&++re===x&&(D=T),le===S&&++ce===g&&(H=T),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}f=D===-1||H===-1?null:{start:D,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Dh={focusedElem:i,selectionRange:f},Tc=!1,xe=l;xe!==null;)if(l=xe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,xe=i;else for(;xe!==null;){l=xe;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,jt=we.memoizedState,Z=l.stateNode,V=Z.getSnapshotBeforeUpdate(l.elementType===l.type?_e:Vr(l.type,_e),jt);Z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var te=l.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){yt(l,l.return,fe)}if(i=l.sibling,i!==null){i.return=l.return,xe=i;break}xe=l.return}return we=wj,wj=!1,we}function Wo(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var S=x.destroy;x.destroy=void 0,S!==void 0&&Sp(l,f,S)}x=x.next}while(x!==g)}}function hu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Np(i){var l=i.ref;if(l!==null){var f=i.stateNode;i.tag,i=f,typeof l=="function"?l(i):l.current=i}}function jj(i){var l=i.alternate;l!==null&&(i.alternate=null,jj(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[hn],delete l[Mo],delete l[Uh],delete l[L4],delete l[B4])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _j(i){return i.tag===5||i.tag===3||i.tag===4}function Sj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_j(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Wc));else if(g!==4&&(i=i.child,i!==null))for(kp(i,l,f),i=i.sibling;i!==null;)kp(i,l,f),i=i.sibling}function Op(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Op(i,l,f),i=i.sibling;i!==null;)Op(i,l,f),i=i.sibling}var zt=null,Kr=!1;function ma(i,l,f){for(f=f.child;f!==null;)Nj(i,l,f),f=f.sibling}function Nj(i,l,f){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(kc,f)}catch{}switch(f.tag){case 5:Qt||Qi(f,l);case 6:var g=zt,x=Kr;zt=null,ma(i,l,f),zt=g,Kr=x,zt!==null&&(Kr?(i=zt,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):zt.removeChild(f.stateNode));break;case 18:zt!==null&&(Kr?(i=zt,f=f.stateNode,i.nodeType===8?qh(i.parentNode,f):i.nodeType===1&&qh(i,f),jo(i)):qh(zt,f.stateNode));break;case 4:g=zt,x=Kr,zt=f.stateNode.containerInfo,Kr=!0,ma(i,l,f),zt=g,Kr=x;break;case 0:case 11:case 14:case 15:if(!Qt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&Sp(f,l,T),x=x.next}while(x!==g)}ma(i,l,f);break;case 1:if(!Qt&&(Qi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(D){yt(f,l,D)}ma(i,l,f);break;case 21:ma(i,l,f);break;case 22:f.mode&1?(Qt=(g=Qt)||f.memoizedState!==null,ma(i,l,f),Qt=g):ma(i,l,f);break;default:ma(i,l,f)}}function kj(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new tM),l.forEach(function(g){var x=dM.bind(null,i,g);f.has(g)||(f.add(g),g.then(x,x))})}}function Gr(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var S=i,T=l,D=T;e:for(;D!==null;){switch(D.tag){case 5:zt=D.stateNode,Kr=!1;break e;case 3:zt=D.stateNode.containerInfo,Kr=!0;break e;case 4:zt=D.stateNode.containerInfo,Kr=!0;break e}D=D.return}if(zt===null)throw Error(r(160));Nj(S,T,x),zt=null,Kr=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(re){yt(x,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Oj(l,i),l=l.sibling}function Oj(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gr(l,i),gn(i),g&4){try{Wo(3,i,i.return),hu(3,i)}catch(_e){yt(i,i.return,_e)}try{Wo(5,i,i.return)}catch(_e){yt(i,i.return,_e)}}break;case 1:Gr(l,i),gn(i),g&512&&f!==null&&Qi(f,f.return);break;case 5:if(Gr(l,i),gn(i),g&512&&f!==null&&Qi(f,f.return),i.flags&32){var x=i.stateNode;try{G(x,"")}catch(_e){yt(i,i.return,_e)}}if(g&4&&(x=i.stateNode,x!=null)){var S=i.memoizedProps,T=f!==null?f.memoizedProps:S,D=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{D==="input"&&S.type==="radio"&&S.name!=null&&Ye(x,S),Wa(D,T);var re=Wa(D,S);for(T=0;T<H.length;T+=2){var ce=H[T],ue=H[T+1];ce==="style"?It(x,ue):ce==="dangerouslySetInnerHTML"?Ve(x,ue):ce==="children"?G(x,ue):N(x,ce,ue,re)}switch(D){case"input":gt(x,S);break;case"textarea":dn(x,S);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ve=S.value;ve!=null?vt(x,!!S.multiple,ve,!1):le!==!!S.multiple&&(S.defaultValue!=null?vt(x,!!S.multiple,S.defaultValue,!0):vt(x,!!S.multiple,S.multiple?[]:"",!1))}x[Mo]=S}catch(_e){yt(i,i.return,_e)}}break;case 6:if(Gr(l,i),gn(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,S=i.memoizedProps;try{x.nodeValue=S}catch(_e){yt(i,i.return,_e)}}break;case 3:if(Gr(l,i),gn(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{jo(l.containerInfo)}catch(_e){yt(i,i.return,_e)}break;case 4:Gr(l,i),gn(i);break;case 13:Gr(l,i),gn(i),x=i.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Pp=wt())),g&4&&kj(i);break;case 22:if(ce=f!==null&&f.memoizedState!==null,i.mode&1?(Qt=(re=Qt)||ce,Gr(l,i),Qt=re):Gr(l,i),gn(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!ce&&(i.mode&1)!==0)for(xe=i,ce=i.child;ce!==null;){for(ue=xe=ce;xe!==null;){switch(le=xe,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Wo(4,le,le.return);break;case 1:Qi(le,le.return);var we=le.stateNode;if(typeof we.componentWillUnmount=="function"){g=le,f=le.return;try{l=g,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(_e){yt(g,f,_e)}}break;case 5:Qi(le,le.return);break;case 22:if(le.memoizedState!==null){Pj(ue);continue}}ve!==null?(ve.return=le,xe=ve):Pj(ue)}ce=ce.sibling}e:for(ce=null,ue=i;;){if(ue.tag===5){if(ce===null){ce=ue;try{x=ue.stateNode,re?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(D=ue.stateNode,H=ue.memoizedProps.style,T=H!=null&&H.hasOwnProperty("display")?H.display:null,D.style.display=Ke("display",T))}catch(_e){yt(i,i.return,_e)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=re?"":ue.memoizedProps}catch(_e){yt(i,i.return,_e)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Gr(l,i),gn(i),g&4&&kj(i);break;case 21:break;default:Gr(l,i),gn(i)}}function gn(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(_j(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(G(x,""),g.flags&=-33);var S=Sj(i);Op(i,S,x);break;case 3:case 4:var T=g.stateNode.containerInfo,D=Sj(i);kp(i,D,T);break;default:throw Error(r(161))}}catch(H){yt(i,i.return,H)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function nM(i,l,f){xe=i,Ej(i)}function Ej(i,l,f){for(var g=(i.mode&1)!==0;xe!==null;){var x=xe,S=x.child;if(x.tag===22&&g){var T=x.memoizedState!==null||fu;if(!T){var D=x.alternate,H=D!==null&&D.memoizedState!==null||Qt;D=fu;var re=Qt;if(fu=T,(Qt=H)&&!re)for(xe=x;xe!==null;)T=xe,H=T.child,T.tag===22&&T.memoizedState!==null?Cj(x):H!==null?(H.return=T,xe=H):Cj(x);for(;S!==null;)xe=S,Ej(S),S=S.sibling;xe=x,fu=D,Qt=re}Aj(i)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,xe=S):Aj(i)}}function Aj(i){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Qt||hu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Qt)if(f===null)g.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:Vr(l.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&P1(l,S,g);break;case 3:var T=l.updateQueue;if(T!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}P1(l,T,f)}break;case 5:var D=l.stateNode;if(f===null&&l.flags&4){f=D;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&f.focus();break;case"img":H.src&&(f.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var ce=re.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&jo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qt||l.flags&512&&Np(l)}catch(le){yt(l,l.return,le)}}if(l===i){xe=null;break}if(f=l.sibling,f!==null){f.return=l.return,xe=f;break}xe=l.return}}function Pj(i){for(;xe!==null;){var l=xe;if(l===i){xe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,xe=f;break}xe=l.return}}function Cj(i){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{hu(4,l)}catch(H){yt(l,f,H)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(H){yt(l,x,H)}}var S=l.return;try{Np(l)}catch(H){yt(l,S,H)}break;case 5:var T=l.return;try{Np(l)}catch(H){yt(l,T,H)}}}catch(H){yt(l,l.return,H)}if(l===i){xe=null;break}var D=l.sibling;if(D!==null){D.return=l.return,xe=D;break}xe=l.return}}var aM=Math.ceil,pu=A.ReactCurrentDispatcher,Ep=A.ReactCurrentOwner,Tr=A.ReactCurrentBatchConfig,Ue=0,Lt=null,_t=null,Wt=0,xr=0,Zi=ua(0),At=0,Ho=null,Za=0,mu=0,Ap=0,Vo=null,dr=null,Pp=0,es=1/0,Dn=null,gu=!1,Cp=null,ga=null,vu=!1,va=null,yu=0,Ko=0,Tp=null,xu=-1,bu=0;function rr(){return(Ue&6)!==0?wt():xu!==-1?xu:xu=wt()}function ya(i){return(i.mode&1)===0?1:(Ue&2)!==0&&Wt!==0?Wt&-Wt:U4.transition!==null?(bu===0&&(bu=Sw()),bu):(i=Je,i!==0||(i=window.event,i=i===void 0?16:Mw(i.type)),i)}function Xr(i,l,f,g){if(50<Ko)throw Ko=0,Tp=null,Error(r(185));vo(i,f,g),((Ue&2)===0||i!==Lt)&&(i===Lt&&((Ue&2)===0&&(mu|=f),At===4&&xa(i,Wt)),fr(i,g),f===1&&Ue===0&&(l.mode&1)===0&&(es=wt()+500,Gc&&fa()))}function fr(i,l){var f=i.callbackNode;UT(i,l);var g=Ac(i,i===Lt?Wt:0);if(g===0)f!==null&&ww(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&ww(f),l===1)i.tag===0?q4(Mj.bind(null,i)):y1(Mj.bind(null,i)),I4(function(){(Ue&6)===0&&fa()}),f=null;else{switch(Nw(g)){case 1:f=dh;break;case 4:f=jw;break;case 16:f=Nc;break;case 536870912:f=_w;break;default:f=Nc}f=Uj(f,Tj.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function Tj(i,l){if(xu=-1,bu=0,(Ue&6)!==0)throw Error(r(327));var f=i.callbackNode;if(ts()&&i.callbackNode!==f)return null;var g=Ac(i,i===Lt?Wt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=wu(i,g);else{l=g;var x=Ue;Ue|=2;var S=Rj();(Lt!==i||Wt!==l)&&(Dn=null,es=wt()+500,ti(i,l));do try{oM();break}catch(D){$j(i,D)}while(!0);Yh(),pu.current=S,Ue=x,_t!==null?l=0:(Lt=null,Wt=0,l=At)}if(l!==0){if(l===2&&(x=fh(i),x!==0&&(g=x,l=Mp(i,x))),l===1)throw f=Ho,ti(i,0),xa(i,g),fr(i,wt()),f;if(l===6)xa(i,g);else{if(x=i.current.alternate,(g&30)===0&&!iM(x)&&(l=wu(i,g),l===2&&(S=fh(i),S!==0&&(g=S,l=Mp(i,S))),l===1))throw f=Ho,ti(i,0),xa(i,g),fr(i,wt()),f;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:ri(i,dr,Dn);break;case 3:if(xa(i,g),(g&130023424)===g&&(l=Pp+500-wt(),10<l)){if(Ac(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){rr(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Bh(ri.bind(null,i,dr,Dn),l);break}ri(i,dr,Dn);break;case 4:if(xa(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var T=31-zr(g);S=1<<T,T=l[T],T>x&&(x=T),g&=~S}if(g=x,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*aM(g/1960))-g,10<g){i.timeoutHandle=Bh(ri.bind(null,i,dr,Dn),g);break}ri(i,dr,Dn);break;case 5:ri(i,dr,Dn);break;default:throw Error(r(329))}}}return fr(i,wt()),i.callbackNode===f?Tj.bind(null,i):null}function Mp(i,l){var f=Vo;return i.current.memoizedState.isDehydrated&&(ti(i,l).flags|=256),i=wu(i,l),i!==2&&(l=dr,dr=f,l!==null&&$p(l)),i}function $p(i){dr===null?dr=i:dr.push.apply(dr,i)}function iM(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],S=x.getSnapshot;x=x.value;try{if(!Wr(S(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xa(i,l){for(l&=~Ap,l&=~mu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-zr(l),g=1<<f;i[f]=-1,l&=~g}}function Mj(i){if((Ue&6)!==0)throw Error(r(327));ts();var l=Ac(i,0);if((l&1)===0)return fr(i,wt()),null;var f=wu(i,l);if(i.tag!==0&&f===2){var g=fh(i);g!==0&&(l=g,f=Mp(i,g))}if(f===1)throw f=Ho,ti(i,0),xa(i,l),fr(i,wt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ri(i,dr,Dn),fr(i,wt()),null}function Rp(i,l){var f=Ue;Ue|=1;try{return i(l)}finally{Ue=f,Ue===0&&(es=wt()+500,Gc&&fa())}}function ei(i){va!==null&&va.tag===0&&(Ue&6)===0&&ts();var l=Ue;Ue|=1;var f=Tr.transition,g=Je;try{if(Tr.transition=null,Je=1,i)return i()}finally{Je=g,Tr.transition=f,Ue=l,(Ue&6)===0&&fa()}}function Ip(){xr=Zi.current,ot(Zi)}function ti(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,R4(f)),_t!==null)for(f=_t.return;f!==null;){var g=f;switch(Hh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Vc();break;case 3:Yi(),ot(lr),ot(Xt),ap();break;case 5:rp(g);break;case 4:Yi();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:Jh(g.type._context);break;case 22:case 23:Ip()}f=f.return}if(Lt=i,_t=i=ba(i.current,null),Wt=xr=l,At=0,Ho=null,Ap=mu=Za=0,dr=Vo=null,Ya!==null){for(l=0;l<Ya.length;l++)if(f=Ya[l],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,S=f.pending;if(S!==null){var T=S.next;S.next=x,g.next=T}f.pending=g}Ya=null}return i}function $j(i,l){do{var f=_t;try{if(Yh(),au.current=lu,iu){for(var g=ht.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}iu=!1}if(Qa=0,Dt=Et=ht=null,Bo=!1,qo=0,Ep.current=null,f===null||f.return===null){At=1,Ho=l,_t=null;break}e:{var S=i,T=f.return,D=f,H=l;if(l=Wt,D.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=H,ce=D,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=ij(T);if(ve!==null){ve.flags&=-257,sj(ve,T,D,S,l),ve.mode&1&&aj(S,re,l),l=ve,H=re;var we=l.updateQueue;if(we===null){var _e=new Set;_e.add(H),l.updateQueue=_e}else we.add(H);break e}else{if((l&1)===0){aj(S,re,l),Dp();break e}H=Error(r(426))}}else if(ct&&D.mode&1){var jt=ij(T);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),sj(jt,T,D,S,l),Gh(Ji(H,D));break e}}S=H=Ji(H,D),At!==4&&(At=2),Vo===null?Vo=[S]:Vo.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var Z=rj(S,H,l);A1(S,Z);break e;case 1:D=H;var V=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ga===null||!ga.has(te)))){S.flags|=65536,l&=-l,S.lanes|=l;var fe=nj(S,D,l);A1(S,fe);break e}}S=S.return}while(S!==null)}Dj(f)}catch(Se){l=Se,_t===f&&f!==null&&(_t=f=f.return);continue}break}while(!0)}function Rj(){var i=pu.current;return pu.current=lu,i===null?lu:i}function Dp(){(At===0||At===3||At===2)&&(At=4),Lt===null||(Za&268435455)===0&&(mu&268435455)===0||xa(Lt,Wt)}function wu(i,l){var f=Ue;Ue|=2;var g=Rj();(Lt!==i||Wt!==l)&&(Dn=null,ti(i,l));do try{sM();break}catch(x){$j(i,x)}while(!0);if(Yh(),Ue=f,pu.current=g,_t!==null)throw Error(r(261));return Lt=null,Wt=0,At}function sM(){for(;_t!==null;)Ij(_t)}function oM(){for(;_t!==null&&!TT();)Ij(_t)}function Ij(i){var l=qj(i.alternate,i,xr);i.memoizedProps=i.pendingProps,l===null?Dj(i):_t=l,Ep.current=null}function Dj(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=Z4(f,l,xr),f!==null){_t=f;return}}else{if(f=eM(f,l),f!==null){f.flags&=32767,_t=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,_t=null;return}}if(l=l.sibling,l!==null){_t=l;return}_t=l=i}while(l!==null);At===0&&(At=5)}function ri(i,l,f){var g=Je,x=Tr.transition;try{Tr.transition=null,Je=1,lM(i,l,f,g)}finally{Tr.transition=x,Je=g}return null}function lM(i,l,f,g){do ts();while(va!==null);if((Ue&6)!==0)throw Error(r(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=f.lanes|f.childLanes;if(FT(i,S),i===Lt&&(_t=Lt=null,Wt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||vu||(vu=!0,Uj(Nc,function(){return ts(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Tr.transition,Tr.transition=null;var T=Je;Je=1;var D=Ue;Ue|=4,Ep.current=null,rM(i,f),Oj(f,i),E4(Dh),Tc=!!Ih,Dh=Ih=null,i.current=f,nM(f),MT(),Ue=D,Je=T,Tr.transition=S}else i.current=f;if(vu&&(vu=!1,va=i,yu=x),S=i.pendingLanes,S===0&&(ga=null),IT(f.stateNode),fr(i,wt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)x=l[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(gu)throw gu=!1,i=Cp,Cp=null,i;return(yu&1)!==0&&i.tag!==0&&ts(),S=i.pendingLanes,(S&1)!==0?i===Tp?Ko++:(Ko=0,Tp=i):Ko=0,fa(),null}function ts(){if(va!==null){var i=Nw(yu),l=Tr.transition,f=Je;try{if(Tr.transition=null,Je=16>i?16:i,va===null)var g=!1;else{if(i=va,va=null,yu=0,(Ue&6)!==0)throw Error(r(331));var x=Ue;for(Ue|=4,xe=i.current;xe!==null;){var S=xe,T=S.child;if((xe.flags&16)!==0){var D=S.deletions;if(D!==null){for(var H=0;H<D.length;H++){var re=D[H];for(xe=re;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:Wo(8,ce,S)}var ue=ce.child;if(ue!==null)ue.return=ce,xe=ue;else for(;xe!==null;){ce=xe;var le=ce.sibling,ve=ce.return;if(jj(ce),ce===re){xe=null;break}if(le!==null){le.return=ve,xe=le;break}xe=ve}}}var we=S.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var jt=_e.sibling;_e.sibling=null,_e=jt}while(_e!==null)}}xe=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,xe=T;else e:for(;xe!==null;){if(S=xe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Wo(9,S,S.return)}var Z=S.sibling;if(Z!==null){Z.return=S.return,xe=Z;break e}xe=S.return}}var V=i.current;for(xe=V;xe!==null;){T=xe;var te=T.child;if((T.subtreeFlags&2064)!==0&&te!==null)te.return=T,xe=te;else e:for(T=V;xe!==null;){if(D=xe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:hu(9,D)}}catch(Se){yt(D,D.return,Se)}if(D===T){xe=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,xe=fe;break e}xe=D.return}}if(Ue=x,fa(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(kc,i)}catch{}g=!0}return g}finally{Je=f,Tr.transition=l}}return!1}function Lj(i,l,f){l=Ji(f,l),l=rj(i,l,1),i=pa(i,l,1),l=rr(),i!==null&&(vo(i,1,l),fr(i,l))}function yt(i,l,f){if(i.tag===3)Lj(i,i,f);else for(;l!==null;){if(l.tag===3){Lj(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ga===null||!ga.has(g))){i=Ji(f,i),i=nj(l,i,1),l=pa(l,i,1),i=rr(),l!==null&&(vo(l,1,i),fr(l,i));break}}l=l.return}}function cM(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=rr(),i.pingedLanes|=i.suspendedLanes&f,Lt===i&&(Wt&f)===f&&(At===4||At===3&&(Wt&130023424)===Wt&&500>wt()-Pp?ti(i,0):Ap|=f),fr(i,l)}function Bj(i,l){l===0&&((i.mode&1)===0?l=1:(l=Ec,Ec<<=1,(Ec&130023424)===0&&(Ec=4194304)));var f=rr();i=$n(i,l),i!==null&&(vo(i,l,f),fr(i,f))}function uM(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),Bj(i,f)}function dM(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),Bj(i,f)}var qj;qj=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||lr.current)ur=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return ur=!1,Q4(i,l,f);ur=(i.flags&131072)!==0}else ur=!1,ct&&(l.flags&1048576)!==0&&x1(l,Yc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;du(i,l),i=l.pendingProps;var x=zi(l,Xt.current);Xi(l,f),x=op(null,l,g,i,x,f);var S=lp();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,cr(g)?(S=!0,Kc(l)):S=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ep(l),x.updater=cu,l.stateNode=x,x._reactInternals=l,pp(l,g,i,f),l=yp(null,l,g,!0,S,f)):(l.tag=0,ct&&S&&Wh(l),tr(null,l,x,f),l=l.child),l;case 16:g=l.elementType;e:{switch(du(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=hM(g),i=Vr(g,i),x){case 0:l=vp(null,l,g,i,f);break e;case 1:l=fj(null,l,g,i,f);break e;case 11:l=oj(null,l,g,i,f);break e;case 14:l=lj(null,l,g,Vr(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Vr(g,x),vp(i,l,g,x,f);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Vr(g,x),fj(i,l,g,x,f);case 3:e:{if(hj(l),i===null)throw Error(r(387));g=l.pendingProps,S=l.memoizedState,x=S.element,E1(i,l),ru(l,g,null,f);var T=l.memoizedState;if(g=T.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){x=Ji(Error(r(423)),l),l=pj(i,l,g,f,x);break e}else if(g!==x){x=Ji(Error(r(424)),l),l=pj(i,l,g,f,x);break e}else for(yr=ca(l.stateNode.containerInfo.firstChild),vr=l,ct=!0,Hr=null,f=k1(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Vi(),g===x){l=In(i,l,f);break e}tr(i,l,g,f)}l=l.child}return l;case 5:return C1(l),i===null&&Kh(l),g=l.type,x=l.pendingProps,S=i!==null?i.memoizedProps:null,T=x.children,Lh(g,x)?T=null:S!==null&&Lh(g,S)&&(l.flags|=32),dj(i,l),tr(i,l,T,f),l.child;case 6:return i===null&&Kh(l),null;case 13:return mj(i,l,f);case 4:return tp(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Ki(l,null,g,f):tr(i,l,g,f),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Vr(g,x),oj(i,l,g,x,f);case 7:return tr(i,l,l.pendingProps,f),l.child;case 8:return tr(i,l,l.pendingProps.children,f),l.child;case 12:return tr(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,S=l.memoizedProps,T=x.value,nt(Zc,g._currentValue),g._currentValue=T,S!==null)if(Wr(S.value,T)){if(S.children===x.children&&!lr.current){l=In(i,l,f);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var D=S.dependencies;if(D!==null){T=S.child;for(var H=D.firstContext;H!==null;){if(H.context===g){if(S.tag===1){H=Rn(-1,f&-f),H.tag=2;var re=S.updateQueue;if(re!==null){re=re.shared;var ce=re.pending;ce===null?H.next=H:(H.next=ce.next,ce.next=H),re.pending=H}}S.lanes|=f,H=S.alternate,H!==null&&(H.lanes|=f),Qh(S.return,f,l),D.lanes|=f;break}H=H.next}}else if(S.tag===10)T=S.type===l.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(r(341));T.lanes|=f,D=T.alternate,D!==null&&(D.lanes|=f),Qh(T,f,l),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===l){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}tr(i,l,x.children,f),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Xi(l,f),x=Pr(x),g=g(x),l.flags|=1,tr(i,l,g,f),l.child;case 14:return g=l.type,x=Vr(g,l.pendingProps),x=Vr(g.type,x),lj(i,l,g,x,f);case 15:return cj(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Vr(g,x),du(i,l),l.tag=1,cr(g)?(i=!0,Kc(l)):i=!1,Xi(l,f),ej(l,g,x),pp(l,g,x,f),yp(null,l,g,!0,i,f);case 19:return vj(i,l,f);case 22:return uj(i,l,f)}throw Error(r(156,l.tag))};function Uj(i,l){return bw(i,l)}function fM(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,l,f,g){return new fM(i,l,f,g)}function Lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hM(i){if(typeof i=="function")return Lp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===q)return 14}return 2}function ba(i,l){var f=i.alternate;return f===null?(f=Mr(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function ju(i,l,f,g,x,S){var T=2;if(g=i,typeof i=="function")Lp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case C:return ni(f.children,x,S,l);case P:T=8,x|=8;break;case R:return i=Mr(12,f,l,x|2),i.elementType=R,i.lanes=S,i;case L:return i=Mr(13,f,l,x),i.elementType=L,i.lanes=S,i;case X:return i=Mr(19,f,l,x),i.elementType=X,i.lanes=S,i;case ee:return _u(f,x,S,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break e;case I:T=9;break e;case F:T=11;break e;case q:T=14;break e;case z:T=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Mr(T,f,l,x),l.elementType=i,l.type=g,l.lanes=S,l}function ni(i,l,f,g){return i=Mr(7,i,g,l),i.lanes=f,i}function _u(i,l,f,g){return i=Mr(22,i,g,l),i.elementType=ee,i.lanes=f,i.stateNode={isHidden:!1},i}function Bp(i,l,f){return i=Mr(6,i,null,l),i.lanes=f,i}function qp(i,l,f){return l=Mr(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function pM(i,l,f,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Up(i,l,f,g,x,S,T,D,H){return i=new pM(i,l,f,D,H),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Mr(3,null,null,l),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ep(S),i}function mM(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function Fj(i){if(!i)return da;i=i._reactInternals;e:{if(Ha(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(cr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(cr(f))return g1(i,f,l)}return l}function zj(i,l,f,g,x,S,T,D,H){return i=Up(f,g,!0,i,x,S,T,D,H),i.context=Fj(null),f=i.current,g=rr(),x=ya(f),S=Rn(g,x),S.callback=l??null,pa(f,S,x),i.current.lanes=x,vo(i,x,g),fr(i,g),i}function Su(i,l,f,g){var x=l.current,S=rr(),T=ya(x);return f=Fj(f),l.context===null?l.context=f:l.pendingContext=f,l=Rn(S,T),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=pa(x,l,T),i!==null&&(Xr(i,x,T,S),tu(i,x,T)),T}function Nu(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function Wj(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function Fp(i,l){Wj(i,l),(i=i.alternate)&&Wj(i,l)}function gM(){return null}var Hj=typeof reportError=="function"?reportError:function(i){console.error(i)};function zp(i){this._internalRoot=i}ku.prototype.render=zp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Su(i,l,null,null)},ku.prototype.unmount=zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ei(function(){Su(null,i,null,null)}),l[Pn]=null}};function ku(i){this._internalRoot=i}ku.prototype.unstable_scheduleHydration=function(i){if(i){var l=Ew();i={blockedOn:null,target:i,priority:l};for(var f=0;f<sa.length&&l!==0&&l<sa[f].priority;f++);sa.splice(f,0,i),f===0&&Cw(i)}};function Wp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ou(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Vj(){}function vM(i,l,f,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var re=Nu(T);S.call(re)}}var T=zj(l,g,i,0,null,!1,!1,"",Vj);return i._reactRootContainer=T,i[Pn]=T.current,Co(i.nodeType===8?i.parentNode:i),ei(),T}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var D=g;g=function(){var re=Nu(H);D.call(re)}}var H=Up(i,0,!1,null,null,!1,!1,"",Vj);return i._reactRootContainer=H,i[Pn]=H.current,Co(i.nodeType===8?i.parentNode:i),ei(function(){Su(l,H,f,g)}),H}function Eu(i,l,f,g,x){var S=f._reactRootContainer;if(S){var T=S;if(typeof x=="function"){var D=x;x=function(){var H=Nu(T);D.call(H)}}Su(l,T,i,x)}else T=vM(f,l,i,x,g);return Nu(T)}kw=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=go(l.pendingLanes);f!==0&&(ph(l,f|1),fr(l,wt()),(Ue&6)===0&&(es=wt()+500,fa()))}break;case 13:ei(function(){var g=$n(i,1);if(g!==null){var x=rr();Xr(g,i,1,x)}}),Fp(i,1)}},mh=function(i){if(i.tag===13){var l=$n(i,134217728);if(l!==null){var f=rr();Xr(l,i,134217728,f)}Fp(i,134217728)}},Ow=function(i){if(i.tag===13){var l=ya(i),f=$n(i,l);if(f!==null){var g=rr();Xr(f,i,l,g)}Fp(i,l)}},Ew=function(){return Je},Aw=function(i,l){var f=Je;try{return Je=i,l()}finally{Je=f}},oh=function(i,l,f){switch(l){case"input":if(gt(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var x=Hc(g);if(!x)throw Error(r(90));Q(g),gt(g,x)}}}break;case"textarea":dn(i,f);break;case"select":l=f.value,l!=null&&vt(i,!!f.multiple,l,!1)}},hw=Rp,pw=ei;var yM={usingClientEntryPoint:!1,Events:[$o,Ui,Hc,dw,fw,Rp]},Go={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xM={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yw(i),i===null?null:i.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{kc=Au.inject(xM),fn=Au}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM,hr.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(l))throw Error(r(200));return mM(i,l,null,f)},hr.createRoot=function(i,l){if(!Wp(i))throw Error(r(299));var f=!1,g="",x=Hj;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Up(i,1,!1,null,null,f,!1,g,x),i[Pn]=l.current,Co(i.nodeType===8?i.parentNode:i),new zp(l)},hr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=yw(l),i=i===null?null:i.stateNode,i},hr.flushSync=function(i){return ei(i)},hr.hydrate=function(i,l,f){if(!Ou(l))throw Error(r(200));return Eu(null,i,l,!0,f)},hr.hydrateRoot=function(i,l,f){if(!Wp(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,S="",T=Hj;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),l=zj(l,null,i,1,f??null,x,!1,S,T),i[Pn]=l.current,Co(i),g)for(i=0;i<g.length;i++)f=g[i],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new ku(l)},hr.render=function(i,l,f){if(!Ou(l))throw Error(r(200));return Eu(null,i,l,!1,f)},hr.unmountComponentAtNode=function(i){if(!Ou(i))throw Error(r(40));return i._reactRootContainer?(ei(function(){Eu(null,null,i,!1,function(){i._reactRootContainer=null,i[Pn]=null})}),!0):!1},hr.unstable_batchedUpdates=Rp,hr.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!Ou(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Eu(i,l,f,!1,g)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var e_;function TA(){if(e_)return Kp.exports;e_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=kM(),Kp.exports}var t_;function OM(){if(t_)return Cu;t_=1;var t=TA();return Cu.createRoot=t.createRoot,Cu.hydrateRoot=t.hydrateRoot,Cu}var EM=OM();const AM=Ze(EM);const PM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var CM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TM=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},d)=>M.createElement("svg",{ref:d,...CM,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:MA("lucide",a),...u},[...c.map(([h,p])=>M.createElement(h,p)),...Array.isArray(s)?s:[s]]));const de=(t,e)=>{const r=M.forwardRef(({className:n,...a},s)=>M.createElement(TM,{ref:s,iconNode:e,className:MA(`lucide-${PM(t)}`,n),...a}));return r.displayName=`${t}`,r};const r_=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const MM=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const $A=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const RA=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const IA=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const g0=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Yp=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const v0=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const n_=de("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);const Pa=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const $M=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const jn=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const RM=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const DA=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const _l=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const IM=de("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const As=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const y0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const x0=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const DM=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const kn=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const LA=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Zx=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const a_=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Ca=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const xf=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const fd=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Zs=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const eb=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const BA=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const tb=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const bf=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _i=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const an=de("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const qA=de("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const LM=de("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const BM=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Sl=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const qM=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const UM=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const i_=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const FM=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const wf=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const ut=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const zM=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const hd=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const UA=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const WM=de("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const s_=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const sr=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const HM=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const VM=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const o_=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const FA=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Vn=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const l_=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const b0=de("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const pd=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const zA=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const WA=de("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const zn=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const HA=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const eo=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Jn=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const js=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const _n=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _s=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const VA=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const KM=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const GM=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const c_=de("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const ir=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Jp=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const XM=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const $a=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const u_=de("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);const md=de("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const YM=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const JM=de("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const QM=de("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const Ps=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ra=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const nr=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ZM=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const w0=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const ld=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const sn=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const gd=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const e$=de("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const cn=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ln=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function t$(){return"/api".replace(/\/$/,"")}const r$=t$();async function jf(t,e){const r=`${r$}${t}`,n=await fetch(r,{...e,headers:{"Content-Type":"application/json"}});if(!n.ok){const a=await n.text().catch(()=>"");throw console.error(`[API] ${n.status} ${r}`,a),new Error(`API error ${n.status}: ${a||n.statusText}`)}if(n.status!==204)return n.json()}function n$(t){return t?{conversations_total:t.totalConversations??0,leads_total:t.totalLeads??0,qualified_total:t.qualifiedLeads??0,avg_response_time_seconds:t.avgResponseTimeSeconds??0,emotions_distribution:t.emotionsDistribution??{},activity_last_7_days:t.activityLast7Days??[]}:{}}async function a$(t){let e="/stats";t&&(e+=`?tenant_id=${t}`);const r=await jf(e);return n$(r)}async function i$(){return jf("/tenants")}async function s$(t=50,e){let r=`/conversations?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),jf(r)}async function o$(t=50,e){let r=`/leads?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),jf(r)}function KA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=KA(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Fe(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=KA(t))&&(n&&(n+=" "),n+=e);return n}var Qp,d_;function mr(){if(d_)return Qp;d_=1;var t=Array.isArray;return Qp=t,Qp}var Zp,f_;function GA(){if(f_)return Zp;f_=1;var t=typeof Pu=="object"&&Pu&&Pu.Object===Object&&Pu;return Zp=t,Zp}var em,h_;function En(){if(h_)return em;h_=1;var t=GA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return em=r,em}var tm,p_;function hc(){if(p_)return tm;p_=1;var t=En(),e=t.Symbol;return tm=e,tm}var rm,m_;function l$(){if(m_)return rm;m_=1;var t=hc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var h=!0}catch{}var p=n.call(c);return h&&(u?c[a]=d:delete c[a]),p}return rm=s,rm}var nm,g_;function c$(){if(g_)return nm;g_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return nm=r,nm}var am,v_;function Qn(){if(v_)return am;v_=1;var t=hc(),e=l$(),r=c$(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:s&&s in Object(u)?e(u):r(u)}return am=c,am}var im,y_;function Zn(){if(y_)return im;y_=1;function t(e){return e!=null&&typeof e=="object"}return im=t,im}var sm,x_;function to(){if(x_)return sm;x_=1;var t=Qn(),e=Zn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return sm=n,sm}var om,b_;function rb(){if(b_)return om;b_=1;var t=mr(),e=to(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return om=a,om}var lm,w_;function Ia(){if(w_)return lm;w_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return lm=t,lm}var cm,j_;function nb(){if(j_)return cm;j_=1;var t=Qn(),e=Ia(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function c(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==s}return cm=c,cm}var um,__;function u$(){if(__)return um;__=1;var t=En(),e=t["__core-js_shared__"];return um=e,um}var dm,S_;function d$(){if(S_)return dm;S_=1;var t=u$(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return dm=r,dm}var fm,N_;function XA(){if(N_)return fm;N_=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return fm=r,fm}var hm,k_;function f$(){if(k_)return hm;k_=1;var t=nb(),e=d$(),r=Ia(),n=XA(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var b=t(v)?p:s;return b.test(n(v))}return hm=m,hm}var pm,O_;function h$(){if(O_)return pm;O_=1;function t(e,r){return e?.[r]}return pm=t,pm}var mm,E_;function Ei(){if(E_)return mm;E_=1;var t=f$(),e=h$();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return mm=r,mm}var gm,A_;function _f(){if(A_)return gm;A_=1;var t=Ei(),e=t(Object,"create");return gm=e,gm}var vm,P_;function p$(){if(P_)return vm;P_=1;var t=_f();function e(){this.__data__=t?t(null):{},this.size=0}return vm=e,vm}var ym,C_;function m$(){if(C_)return ym;C_=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ym=t,ym}var xm,T_;function g$(){if(T_)return xm;T_=1;var t=_f(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var c=this.__data__;if(t){var u=c[s];return u===e?void 0:u}return n.call(c,s)?c[s]:void 0}return xm=a,xm}var bm,M_;function v$(){if(M_)return bm;M_=1;var t=_f(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return bm=n,bm}var wm,$_;function y$(){if($_)return wm;$_=1;var t=_f(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return wm=r,wm}var jm,R_;function x$(){if(R_)return jm;R_=1;var t=p$(),e=m$(),r=g$(),n=v$(),a=y$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,jm=s,jm}var _m,I_;function b$(){if(I_)return _m;I_=1;function t(){this.__data__=[],this.size=0}return _m=t,_m}var Sm,D_;function ab(){if(D_)return Sm;D_=1;function t(e,r){return e===r||e!==e&&r!==r}return Sm=t,Sm}var Nm,L_;function Sf(){if(L_)return Nm;L_=1;var t=ab();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Nm=e,Nm}var km,B_;function w$(){if(B_)return km;B_=1;var t=Sf(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,c=t(s,a);if(c<0)return!1;var u=s.length-1;return c==u?s.pop():r.call(s,c,1),--this.size,!0}return km=n,km}var Om,q_;function j$(){if(q_)return Om;q_=1;var t=Sf();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Om=e,Om}var Em,U_;function _$(){if(U_)return Em;U_=1;var t=Sf();function e(r){return t(this.__data__,r)>-1}return Em=e,Em}var Am,F_;function S$(){if(F_)return Am;F_=1;var t=Sf();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Am=e,Am}var Pm,z_;function Nf(){if(z_)return Pm;z_=1;var t=b$(),e=w$(),r=j$(),n=_$(),a=S$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Pm=s,Pm}var Cm,W_;function ib(){if(W_)return Cm;W_=1;var t=Ei(),e=En(),r=t(e,"Map");return Cm=r,Cm}var Tm,H_;function N$(){if(H_)return Tm;H_=1;var t=x$(),e=Nf(),r=ib();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Tm=n,Tm}var Mm,V_;function k$(){if(V_)return Mm;V_=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Mm=t,Mm}var $m,K_;function kf(){if(K_)return $m;K_=1;var t=k$();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return $m=e,$m}var Rm,G_;function O$(){if(G_)return Rm;G_=1;var t=kf();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Rm=e,Rm}var Im,X_;function E$(){if(X_)return Im;X_=1;var t=kf();function e(r){return t(this,r).get(r)}return Im=e,Im}var Dm,Y_;function A$(){if(Y_)return Dm;Y_=1;var t=kf();function e(r){return t(this,r).has(r)}return Dm=e,Dm}var Lm,J_;function P$(){if(J_)return Lm;J_=1;var t=kf();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return Lm=e,Lm}var Bm,Q_;function sb(){if(Q_)return Bm;Q_=1;var t=N$(),e=O$(),r=E$(),n=A$(),a=P$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Bm=s,Bm}var qm,Z_;function YA(){if(Z_)return qm;Z_=1;var t=sb(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=s.cache;if(d.has(u))return d.get(u);var h=n.apply(this,c);return s.cache=d.set(u,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,qm=r,qm}var Um,eS;function C$(){if(eS)return Um;eS=1;var t=YA(),e=500;function r(n){var a=t(n,function(c){return s.size===e&&s.clear(),c}),s=a.cache;return a}return Um=r,Um}var Fm,tS;function T$(){if(tS)return Fm;tS=1;var t=C$(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(c,u,d,h){s.push(d?h.replace(r,"$1"):u||c)}),s});return Fm=n,Fm}var zm,rS;function ob(){if(rS)return zm;rS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return zm=t,zm}var Wm,nS;function M$(){if(nS)return Wm;nS=1;var t=hc(),e=ob(),r=mr(),n=to(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return e(u,c)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Wm=c,Wm}var Hm,aS;function JA(){if(aS)return Hm;aS=1;var t=M$();function e(r){return r==null?"":t(r)}return Hm=e,Hm}var Vm,iS;function QA(){if(iS)return Vm;iS=1;var t=mr(),e=rb(),r=T$(),n=JA();function a(s,c){return t(s)?s:e(s,c)?[s]:r(n(s))}return Vm=a,Vm}var Km,sS;function Of(){if(sS)return Km;sS=1;var t=to();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Km=e,Km}var Gm,oS;function lb(){if(oS)return Gm;oS=1;var t=QA(),e=Of();function r(n,a){a=t(a,n);for(var s=0,c=a.length;n!=null&&s<c;)n=n[e(a[s++])];return s&&s==c?n:void 0}return Gm=r,Gm}var Xm,lS;function ZA(){if(lS)return Xm;lS=1;var t=lb();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return Xm=e,Xm}var $$=ZA();const Br=Ze($$);var Ym,cS;function R$(){if(cS)return Ym;cS=1;function t(e){return e==null}return Ym=t,Ym}var I$=R$();const Be=Ze(I$);var Jm,uS;function D$(){if(uS)return Jm;uS=1;var t=Qn(),e=mr(),r=Zn(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Jm=a,Jm}var L$=D$();const Si=Ze(L$);var B$=nb();const De=Ze(B$);var q$=Ia();const ro=Ze(q$);var Qm={exports:{}},Ge={};var dS;function U$(){if(dS)return Ge;dS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var O=y.$$typeof;switch(O){case t:switch(y=y.type,y){case r:case a:case n:case h:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case c:case d:case v:case m:case s:return y;default:return O}}case e:return O}}}return Ge.ContextConsumer=c,Ge.ContextProvider=s,Ge.Element=t,Ge.ForwardRef=d,Ge.Fragment=r,Ge.Lazy=v,Ge.Memo=m,Ge.Portal=e,Ge.Profiler=a,Ge.StrictMode=n,Ge.Suspense=h,Ge.SuspenseList=p,Ge.isAsyncMode=function(){return!1},Ge.isConcurrentMode=function(){return!1},Ge.isContextConsumer=function(y){return w(y)===c},Ge.isContextProvider=function(y){return w(y)===s},Ge.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ge.isForwardRef=function(y){return w(y)===d},Ge.isFragment=function(y){return w(y)===r},Ge.isLazy=function(y){return w(y)===v},Ge.isMemo=function(y){return w(y)===m},Ge.isPortal=function(y){return w(y)===e},Ge.isProfiler=function(y){return w(y)===a},Ge.isStrictMode=function(y){return w(y)===n},Ge.isSuspense=function(y){return w(y)===h},Ge.isSuspenseList=function(y){return w(y)===p},Ge.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===h||y===p||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===m||y.$$typeof===s||y.$$typeof===c||y.$$typeof===d||y.$$typeof===j||y.getModuleId!==void 0)},Ge.typeOf=w,Ge}var fS;function F$(){return fS||(fS=1,Qm.exports=U$()),Qm.exports}var z$=F$(),Zm,hS;function e5(){if(hS)return Zm;hS=1;var t=Qn(),e=Zn(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Zm=n,Zm}var eg,pS;function W$(){if(pS)return eg;pS=1;var t=e5();function e(r){return t(r)&&r!=+r}return eg=e,eg}var H$=W$();const no=Ze(H$);var V$=e5();const K$=Ze(V$);var nn=function(e){return e===0?0:e>0?1:-1},hi=function(e){return Si(e)&&e.indexOf("%")===e.length-1},me=function(e){return K$(e)&&!no(e)},G$=function(e){return Be(e)},Mt=function(e){return me(e)||Si(e)},X$=0,pc=function(e){var r=++X$;return"".concat(e||"").concat(r)},Ni=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(e)&&!Si(e))return n;var s;if(hi(e)){var c=e.indexOf("%");s=r*parseFloat(e.slice(0,c))/100}else s=+e;return no(s)&&(s=n),a&&s>r&&(s=r),s},hs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Y$=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Dr=function(e,r){return me(e)&&me(r)?function(n){return e+n*(r-e)}:function(){return r}};function vd(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Br(n,e))===r})}var J$=function(e,r){return me(e)&&me(r)?e-r:Si(e)&&Si(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ss(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}var Q$=["viewBox","children"],Z$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mS=["points","pathLength"],tg={svg:Q$,polygon:mS,polyline:mS},cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!ro(n))return null;var a={};return Object.keys(n).forEach(function(s){cb.includes(s)&&(a[s]=r||function(c){return n[s](n,c)})}),a},eR=function(e,r,n){return function(a){return e(r,n,a),null}},xd=function(e,r,n){if(!ro(e)||j0(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var c=e[s];cb.includes(s)&&typeof c=="function"&&(a||(a={}),a[s]=eR(c,r,n))}),a},tR=["children"],rR=["children"];function gS(t,e){if(t==null)return{};var r=nR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}var vS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yS=null,rg=null,ub=function t(e){if(e===yS&&Array.isArray(rg))return rg;var r=[];return M.Children.forEach(e,function(n){Be(n)||(z$.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),rg=r,yS=e,r};function on(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Wn(a)}):n=[Wn(e)],ub(t).forEach(function(a){var s=Br(a,"type.displayName")||Br(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function _r(t,e){var r=on(t,e);return r&&r[0]}var xS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!me(n)||n<=0||!me(a)||a<=0)},aR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iR=function(e){return e&&e.type&&Si(e.type)&&aR.indexOf(e.type)>=0},sR=function(e){return e&&_0(e)==="object"&&"clipDot"in e},oR=function(e,r,n,a){var s,c=(s=tg?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!De(e)&&(a&&c.includes(r)||Z$.includes(r))||n&&cb.includes(r)},Le=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(M.isValidElement(e)&&(a=e.props),!ro(a))return null;var s={};return Object.keys(a).forEach(function(c){var u;oR((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(s[c]=a[c])}),s},S0=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return bS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],c=r[a];if(Array.isArray(s)||Array.isArray(c)){if(!t(s,c))return!1}else if(!bS(s,c))return!1}return!0},bS=function(e,r){if(Be(e)&&Be(r))return!0;if(!Be(e)&&!Be(r)){var n=e.props||{},a=n.children,s=gS(n,tR),c=r.props||{},u=c.children,d=gS(c,rR);return a&&u?Ss(s,d)&&S0(a,u):!a&&!u?Ss(s,d):!1}return!1},wS=function(e,r){var n=[],a={};return ub(e).forEach(function(s,c){if(iR(s))n.push(s);else if(s){var u=Wn(s.type),d=r[u]||{},h=d.handler,p=d.once;if(h&&(!p||!a[u])){var m=h(s,u,c);n.push(m),a[u]=!0}}}),n},lR=function(e){var r=e&&e.type;return r&&vS[r]?vS[r]:null},cR=function(e,r){return ub(r).indexOf(e)},uR=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N0.apply(this,arguments)}function dR(t,e){if(t==null)return{};var r=fR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k0(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,c=t.style,u=t.title,d=t.desc,h=dR(t,uR),p=a||{width:r,height:n,x:0,y:0},m=Fe("recharts-surface",s);return Y.createElement("svg",N0({},Le(h,!0,"svg"),{className:m,width:r,height:n,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Y.createElement("title",null,u),Y.createElement("desc",null,d),e)}var hR=["children","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function pR(t,e){if(t==null)return{};var r=mR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mt=Y.forwardRef(function(t,e){var r=t.children,n=t.className,a=pR(t,hR),s=Fe("recharts-layer",n);return Y.createElement("g",O0({className:s},Le(a,!0),{ref:e}),r)}),bi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},ng,jS;function gR(){if(jS)return ng;jS=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++a<s;)c[a]=e[a+r];return c}return ng=t,ng}var ag,_S;function vR(){if(_S)return ag;_S=1;var t=gR();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return ag=e,ag}var ig,SS;function t5(){if(SS)return ig;SS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+a+s+"]");function d(h){return u.test(h)}return ig=d,ig}var sg,NS;function yR(){if(NS)return sg;NS=1;function t(e){return e.split("")}return sg=t,sg}var og,kS;function xR(){if(kS)return og;kS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",j=h+"?",w="["+s+"]?",y="(?:"+b+"(?:"+[p,m,v].join("|")+")"+w+j+")*",O=w+j+y,E="(?:"+[p+u+"?",u,m,v,c].join("|")+")",N=RegExp(d+"(?="+d+")|"+E+O,"g");function A(_){return _.match(N)||[]}return og=A,og}var lg,OS;function bR(){if(OS)return lg;OS=1;var t=yR(),e=t5(),r=xR();function n(a){return e(a)?r(a):t(a)}return lg=n,lg}var cg,ES;function wR(){if(ES)return cg;ES=1;var t=vR(),e=t5(),r=bR(),n=JA();function a(s){return function(c){c=n(c);var u=e(c)?r(c):void 0,d=u?u[0]:c.charAt(0),h=u?t(u,1).join(""):c.slice(1);return d[s]()+h}}return cg=a,cg}var ug,AS;function jR(){if(AS)return ug;AS=1;var t=wR(),e=t("toUpperCase");return ug=e,ug}var _R=jR();const Ef=Ze(_R);function it(t){return function(){return t}}const r5=Math.cos,bd=Math.sin,un=Math.sqrt,wd=Math.PI,Af=2*wd,E0=Math.PI,A0=2*E0,li=1e-6,SR=A0-li;function n5(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function NR(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return n5;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class kR{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?n5:NR(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,d=n-e,h=a-r,p=c-e,m=u-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>li)if(!(Math.abs(m*d-h*p)>li)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-c,j=a-u,w=d*d+h*h,y=b*b+j*j,O=Math.sqrt(w),E=Math.sqrt(v),N=s*Math.tan((E0-Math.acos((w+v-y)/(2*O*E)))/2),A=N/E,_=N/O;Math.abs(A-1)>li&&this._append`L${e+A*p},${r+A*m}`,this._append`A${s},${s},0,0,${+(m*b>p*j)},${this._x1=e+_*d},${this._y1=r+_*h}`}}arc(e,r,n,a,s,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=e+u,p=r+d,m=1^c,v=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>li||Math.abs(this._y1-p)>li)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%A0+A0),v>SR?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:v>li&&this._append`A${n},${n},0,${+(v>=E0)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function db(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new kR(e)}function fb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a5(t){this._context=t}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Pf(t){return new a5(t)}function i5(t){return t[0]}function s5(t){return t[1]}function o5(t,e){var r=it(!0),n=null,a=Pf,s=null,c=db(u);t=typeof t=="function"?t:t===void 0?i5:it(t),e=typeof e=="function"?e:e===void 0?s5:it(e);function u(d){var h,p=(d=fb(d)).length,m,v=!1,b;for(n==null&&(s=a(b=c())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,d),+e(m,h,d));if(b)return s=null,b+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:it(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Tu(t,e,r){var n=null,a=it(!0),s=null,c=Pf,u=null,d=db(h);t=typeof t=="function"?t:t===void 0?i5:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?s5:it(+r);function h(m){var v,b,j,w=(m=fb(m)).length,y,O=!1,E,N=new Array(w),A=new Array(w);for(s==null&&(u=c(E=d())),v=0;v<=w;++v){if(!(v<w&&a(y=m[v],v,m))===O)if(O=!O)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=b;--j)u.point(N[j],A[j]);u.lineEnd(),u.areaEnd()}O&&(N[v]=+t(y,v,m),A[v]=+e(y,v,m),u.point(n?+n(y,v,m):N[v],r?+r(y,v,m):A[v]))}if(E)return u=null,E+""||null}function p(){return o5().defined(a).curve(c).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:it(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:it(!!m),h):a},h.curve=function(m){return arguments.length?(c=m,s!=null&&(u=c(s)),h):c},h.context=function(m){return arguments.length?(m==null?s=u=null:u=c(s=m),h):s},h}class l5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function OR(t){return new l5(t,!0)}function ER(t){return new l5(t,!1)}const hb={draw(t,e){const r=un(e/wd);t.moveTo(r,0),t.arc(0,0,r,0,Af)}},AR={draw(t,e){const r=un(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},c5=un(1/3),PR=c5*2,CR={draw(t,e){const r=un(e/PR),n=r*c5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},TR={draw(t,e){const r=un(e),n=-r/2;t.rect(n,n,r,r)}},MR=.8908130915292852,u5=bd(wd/10)/bd(7*wd/10),$R=bd(Af/10)*u5,RR=-r5(Af/10)*u5,IR={draw(t,e){const r=un(e*MR),n=$R*r,a=RR*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const c=Af*s/5,u=r5(c),d=bd(c);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},dg=un(3),DR={draw(t,e){const r=-un(e/(dg*3));t.moveTo(0,r*2),t.lineTo(-dg*r,-r),t.lineTo(dg*r,-r),t.closePath()}},$r=-.5,Rr=un(3)/2,P0=1/un(12),LR=(P0/2+1)*3,BR={draw(t,e){const r=un(e/LR),n=r/2,a=r*P0,s=n,c=r*P0+r,u=-s,d=c;t.moveTo(n,a),t.lineTo(s,c),t.lineTo(u,d),t.lineTo($r*n-Rr*a,Rr*n+$r*a),t.lineTo($r*s-Rr*c,Rr*s+$r*c),t.lineTo($r*u-Rr*d,Rr*u+$r*d),t.lineTo($r*n+Rr*a,$r*a-Rr*n),t.lineTo($r*s+Rr*c,$r*c-Rr*s),t.lineTo($r*u+Rr*d,$r*d-Rr*u),t.closePath()}};function qR(t,e){let r=null,n=db(a);t=typeof t=="function"?t:it(t||hb),e=typeof e=="function"?e:it(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:it(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:it(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function jd(){}function _d(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function d5(t){this._context=t}d5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UR(t){return new d5(t)}function f5(t){this._context=t}f5.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FR(t){return new f5(t)}function h5(t){this._context=t}h5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zR(t){return new h5(t)}function p5(t){this._context=t}p5.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function WR(t){return new p5(t)}function PS(t){return t<0?-1:1}function CS(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(PS(s)+PS(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function TS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fg(t,e,r){var n=t._x0,a=t._y0,s=t._x1,c=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,a+u*e,s-u,c-u*r,s,c)}function Sd(t){this._context=t}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,TS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,TS(this,r=CS(this,t,e)),r);break;default:fg(this,this._t0,r=CS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function m5(t){this._context=new g5(t)}(m5.prototype=Object.create(Sd.prototype)).point=function(t,e){Sd.prototype.point.call(this,e,t)};function g5(t){this._context=t}g5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function HR(t){return new Sd(t)}function VR(t){return new m5(t)}function v5(t){this._context=t}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MS(t),a=MS(e),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MS(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function KR(t){return new v5(t)}function Cf(t,e){this._context=t,this._t=e}Cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function GR(t){return new Cf(t,.5)}function XR(t){return new Cf(t,0)}function YR(t){return new Cf(t,1)}function Cs(t,e){if((c=t.length)>1)for(var r=1,n,a,s=t[e[0]],c,u=s.length;r<c;++r)for(a=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function JR(t,e){return t[e]}function QR(t){const e=[];return e.key=t,e}function ZR(){var t=it([]),e=C0,r=Cs,n=JR;function a(s){var c=Array.from(t.apply(this,arguments),QR),u,d=c.length,h=-1,p;for(const m of s)for(u=0,++h;u<d;++u)(c[u][h]=[0,+n(m,c[u].key,h,s)]).data=m;for(u=0,p=fb(e(c));u<d;++u)c[p[u]].index=u;return r(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:it(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:it(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?C0:typeof s=="function"?s:it(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Cs,a):r},a}function eI(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}Cs(t,e)}}function tI(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=t[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Cs(t,e)}}function rI(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,d=0,h=0;u<c;++u){for(var p=t[e[u]],m=p[n][1]||0,v=p[n-1][1]||0,b=(m-v)/2,j=0;j<u;++j){var w=t[e[j]],y=w[n][1]||0,O=w[n-1][1]||0;b+=y-O}d+=m,h+=b*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Cs(t,e)}}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}var nI=["type","size","sizeType"];function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function $S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(r),!0).forEach(function(n){aI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aI(t,e,r){return e=iI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iI(t){var e=sI(t,"string");return Nl(e)=="symbol"?e:e+""}function sI(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oI(t,e){if(t==null)return{};var r=lI(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lI(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var y5={symbolCircle:hb,symbolCross:AR,symbolDiamond:CR,symbolSquare:TR,symbolStar:IR,symbolTriangle:DR,symbolWye:BR},cI=Math.PI/180,uI=function(e){var r="symbol".concat(Ef(e));return y5[r]||hb},dI=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*cI;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fI=function(e,r){y5["symbol".concat(Ef(e))]=r},pb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,c=e.sizeType,u=c===void 0?"area":c,d=oI(e,nI),h=RS(RS({},d),{},{type:n,size:s,sizeType:u}),p=function(){var y=uI(n),O=qR().type(y).size(dI(s,u,n));return O()},m=h.className,v=h.cx,b=h.cy,j=Le(h,!0);return v===+v&&b===+b&&s===+s?Y.createElement("path",T0({},j,{className:Fe("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(b,")"),d:p()})):null};pb.registerSymbol=fI;function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}function IS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(r),!0).forEach(function(n){kl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b5(n.key),n)}}function gI(t,e,r){return e&&mI(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vI(t,e,r){return e=Nd(e),yI(t,x5()?Reflect.construct(e,r||[],Nd(t).constructor):e.apply(t,r))}function yI(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xI(t)}function xI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x5=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(t)}function bI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$0(t,e)}function kl(t,e,r){return e=b5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b5(t){var e=wI(t,"string");return Ts(e)=="symbol"?e:e+""}function wI(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ir=32,mb=(function(t){function e(){return pI(this,e),vI(this,e,arguments)}return bI(e,t),gI(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ir/2,c=Ir/6,u=Ir/3,d=n.inactive?a:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ir,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Ir,"M").concat(2*u,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ir/8,"h").concat(Ir,"v").concat(Ir*3/4,"h").concat(-Ir,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var h=hI({},n);return delete h.legendIcon,Y.cloneElement(n.legendIcon,h)}return Y.createElement(pb,{fill:d,cx:s,cy:s,size:Ir,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,c=a.iconSize,u=a.layout,d=a.formatter,h=a.inactiveColor,p={x:0,y:0,width:Ir,height:Ir},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,j){var w=b.formatter||d,y=Fe(kl(kl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=De(b.value)?null:b.value;bi(!De(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=b.inactive?h:b.color;return Y.createElement("li",M0({className:y,style:m,key:"legend-item-".concat(j)},xd(n.props,b,j)),Y.createElement(k0,{width:c,height:c,viewBox:p,style:v},n.renderIcon(b)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(O,b,j):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);kl(mb,"displayName","Legend");kl(mb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hg,DS;function jI(){if(DS)return hg;DS=1;var t=Nf();function e(){this.__data__=new t,this.size=0}return hg=e,hg}var pg,LS;function _I(){if(LS)return pg;LS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return pg=t,pg}var mg,BS;function SI(){if(BS)return mg;BS=1;function t(e){return this.__data__.get(e)}return mg=t,mg}var gg,qS;function NI(){if(qS)return gg;qS=1;function t(e){return this.__data__.has(e)}return gg=t,gg}var vg,US;function kI(){if(US)return vg;US=1;var t=Nf(),e=ib(),r=sb(),n=200;function a(s,c){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,c),this.size=u.size,this}return vg=a,vg}var yg,FS;function w5(){if(FS)return yg;FS=1;var t=Nf(),e=jI(),r=_I(),n=SI(),a=NI(),s=kI();function c(u){var d=this.__data__=new t(u);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=s,yg=c,yg}var xg,zS;function OI(){if(zS)return xg;zS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return xg=e,xg}var bg,WS;function EI(){if(WS)return bg;WS=1;function t(e){return this.__data__.has(e)}return bg=t,bg}var wg,HS;function j5(){if(HS)return wg;HS=1;var t=sb(),e=OI(),r=EI();function n(a){var s=-1,c=a==null?0:a.length;for(this.__data__=new t;++s<c;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,wg=n,wg}var jg,VS;function _5(){if(VS)return jg;VS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return jg=t,jg}var _g,KS;function S5(){if(KS)return _g;KS=1;function t(e,r){return e.has(r)}return _g=t,_g}var Sg,GS;function N5(){if(GS)return Sg;GS=1;var t=j5(),e=_5(),r=S5(),n=1,a=2;function s(c,u,d,h,p,m){var v=d&n,b=c.length,j=u.length;if(b!=j&&!(v&&j>b))return!1;var w=m.get(c),y=m.get(u);if(w&&y)return w==u&&y==c;var O=-1,E=!0,N=d&a?new t:void 0;for(m.set(c,u),m.set(u,c);++O<b;){var A=c[O],_=u[O];if(h)var k=v?h(_,A,O,u,c,m):h(A,_,O,c,u,m);if(k!==void 0){if(k)continue;E=!1;break}if(N){if(!e(u,function(C,P){if(!r(N,P)&&(A===C||p(A,C,d,h,m)))return N.push(P)})){E=!1;break}}else if(!(A===_||p(A,_,d,h,m))){E=!1;break}}return m.delete(c),m.delete(u),E}return Sg=s,Sg}var Ng,XS;function AI(){if(XS)return Ng;XS=1;var t=En(),e=t.Uint8Array;return Ng=e,Ng}var kg,YS;function PI(){if(YS)return kg;YS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return kg=t,kg}var Og,JS;function gb(){if(JS)return Og;JS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Og=t,Og}var Eg,QS;function CI(){if(QS)return Eg;QS=1;var t=hc(),e=AI(),r=ab(),n=N5(),a=PI(),s=gb(),c=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",b="[object RegExp]",j="[object Set]",w="[object String]",y="[object Symbol]",O="[object ArrayBuffer]",E="[object DataView]",N=t?t.prototype:void 0,A=N?N.valueOf:void 0;function _(k,C,P,R,B,I,F){switch(P){case E:if(k.byteLength!=C.byteLength||k.byteOffset!=C.byteOffset)return!1;k=k.buffer,C=C.buffer;case O:return!(k.byteLength!=C.byteLength||!I(new e(k),new e(C)));case d:case h:case v:return r(+k,+C);case p:return k.name==C.name&&k.message==C.message;case b:case w:return k==C+"";case m:var L=a;case j:var X=R&c;if(L||(L=s),k.size!=C.size&&!X)return!1;var q=F.get(k);if(q)return q==C;R|=u,F.set(k,C);var z=n(L(k),L(C),R,B,I,F);return F.delete(k),z;case y:if(A)return A.call(k)==A.call(C)}return!1}return Eg=_,Eg}var Ag,ZS;function k5(){if(ZS)return Ag;ZS=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return Ag=t,Ag}var Pg,e2;function TI(){if(e2)return Pg;e2=1;var t=k5(),e=mr();function r(n,a,s){var c=a(n);return e(n)?c:t(c,s(n))}return Pg=r,Pg}var Cg,t2;function MI(){if(t2)return Cg;t2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,c=[];++n<a;){var u=e[n];r(u,n,e)&&(c[s++]=u)}return c}return Cg=t,Cg}var Tg,r2;function $I(){if(r2)return Tg;r2=1;function t(){return[]}return Tg=t,Tg}var Mg,n2;function RI(){if(n2)return Mg;n2=1;var t=MI(),e=$I(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(c){return c==null?[]:(c=Object(c),t(a(c),function(u){return n.call(c,u)}))}:e;return Mg=s,Mg}var $g,a2;function II(){if(a2)return $g;a2=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return $g=t,$g}var Rg,i2;function DI(){if(i2)return Rg;i2=1;var t=Qn(),e=Zn(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Rg=n,Rg}var Ig,s2;function vb(){if(s2)return Ig;s2=1;var t=DI(),e=Zn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return Ig=s,Ig}var dl={exports:{}},Dg,o2;function LI(){if(o2)return Dg;o2=1;function t(){return!1}return Dg=t,Dg}dl.exports;var l2;function O5(){return l2||(l2=1,(function(t,e){var r=En(),n=LI(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,c=s&&s.exports===a,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(dl,dl.exports)),dl.exports}var Lg,c2;function yb(){if(c2)return Lg;c2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Lg=r,Lg}var Bg,u2;function xb(){if(u2)return Bg;u2=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Bg=e,Bg}var qg,d2;function BI(){if(d2)return qg;d2=1;var t=Qn(),e=xb(),r=Zn(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",b="[object Set]",j="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",O="[object DataView]",E="[object Float32Array]",N="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",B="[object Uint32Array]",I={};I[E]=I[N]=I[A]=I[_]=I[k]=I[C]=I[P]=I[R]=I[B]=!0,I[n]=I[a]=I[y]=I[s]=I[O]=I[c]=I[u]=I[d]=I[h]=I[p]=I[m]=I[v]=I[b]=I[j]=I[w]=!1;function F(L){return r(L)&&e(L.length)&&!!I[t(L)]}return qg=F,qg}var Ug,f2;function E5(){if(f2)return Ug;f2=1;function t(e){return function(r){return e(r)}}return Ug=t,Ug}var fl={exports:{}};fl.exports;var h2;function qI(){return h2||(h2=1,(function(t,e){var r=GA(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,c=s&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();t.exports=u})(fl,fl.exports)),fl.exports}var Fg,p2;function A5(){if(p2)return Fg;p2=1;var t=BI(),e=E5(),r=qI(),n=r&&r.isTypedArray,a=n?e(n):t;return Fg=a,Fg}var zg,m2;function UI(){if(m2)return zg;m2=1;var t=II(),e=vb(),r=mr(),n=O5(),a=yb(),s=A5(),c=Object.prototype,u=c.hasOwnProperty;function d(h,p){var m=r(h),v=!m&&e(h),b=!m&&!v&&n(h),j=!m&&!v&&!b&&s(h),w=m||v||b||j,y=w?t(h.length,String):[],O=y.length;for(var E in h)(p||u.call(h,E))&&!(w&&(E=="length"||b&&(E=="offset"||E=="parent")||j&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||a(E,O)))&&y.push(E);return y}return zg=d,zg}var Wg,g2;function FI(){if(g2)return Wg;g2=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Wg=e,Wg}var Hg,v2;function P5(){if(v2)return Hg;v2=1;function t(e,r){return function(n){return e(r(n))}}return Hg=t,Hg}var Vg,y2;function zI(){if(y2)return Vg;y2=1;var t=P5(),e=t(Object.keys,Object);return Vg=e,Vg}var Kg,x2;function WI(){if(x2)return Kg;x2=1;var t=FI(),e=zI(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var c=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&c.push(u);return c}return Kg=a,Kg}var Gg,b2;function mc(){if(b2)return Gg;b2=1;var t=nb(),e=xb();function r(n){return n!=null&&e(n.length)&&!t(n)}return Gg=r,Gg}var Xg,w2;function Tf(){if(w2)return Xg;w2=1;var t=UI(),e=WI(),r=mc();function n(a){return r(a)?t(a):e(a)}return Xg=n,Xg}var Yg,j2;function HI(){if(j2)return Yg;j2=1;var t=TI(),e=RI(),r=Tf();function n(a){return t(a,r,e)}return Yg=n,Yg}var Jg,_2;function VI(){if(_2)return Jg;_2=1;var t=HI(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,c,u,d,h,p){var m=u&e,v=t(s),b=v.length,j=t(c),w=j.length;if(b!=w&&!m)return!1;for(var y=b;y--;){var O=v[y];if(!(m?O in c:n.call(c,O)))return!1}var E=p.get(s),N=p.get(c);if(E&&N)return E==c&&N==s;var A=!0;p.set(s,c),p.set(c,s);for(var _=m;++y<b;){O=v[y];var k=s[O],C=c[O];if(d)var P=m?d(C,k,O,c,s,p):d(k,C,O,s,c,p);if(!(P===void 0?k===C||h(k,C,u,d,p):P)){A=!1;break}_||(_=O=="constructor")}if(A&&!_){var R=s.constructor,B=c.constructor;R!=B&&"constructor"in s&&"constructor"in c&&!(typeof R=="function"&&R instanceof R&&typeof B=="function"&&B instanceof B)&&(A=!1)}return p.delete(s),p.delete(c),A}return Jg=a,Jg}var Qg,S2;function KI(){if(S2)return Qg;S2=1;var t=Ei(),e=En(),r=t(e,"DataView");return Qg=r,Qg}var Zg,N2;function GI(){if(N2)return Zg;N2=1;var t=Ei(),e=En(),r=t(e,"Promise");return Zg=r,Zg}var ev,k2;function C5(){if(k2)return ev;k2=1;var t=Ei(),e=En(),r=t(e,"Set");return ev=r,ev}var tv,O2;function XI(){if(O2)return tv;O2=1;var t=Ei(),e=En(),r=t(e,"WeakMap");return tv=r,tv}var rv,E2;function YI(){if(E2)return rv;E2=1;var t=KI(),e=ib(),r=GI(),n=C5(),a=XI(),s=Qn(),c=XA(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",b=c(t),j=c(e),w=c(r),y=c(n),O=c(a),E=s;return(t&&E(new t(new ArrayBuffer(1)))!=v||e&&E(new e)!=u||r&&E(r.resolve())!=h||n&&E(new n)!=p||a&&E(new a)!=m)&&(E=function(N){var A=s(N),_=A==d?N.constructor:void 0,k=_?c(_):"";if(k)switch(k){case b:return v;case j:return u;case w:return h;case y:return p;case O:return m}return A}),rv=E,rv}var nv,A2;function JI(){if(A2)return nv;A2=1;var t=w5(),e=N5(),r=CI(),n=VI(),a=YI(),s=mr(),c=O5(),u=A5(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function j(w,y,O,E,N,A){var _=s(w),k=s(y),C=_?p:a(w),P=k?p:a(y);C=C==h?m:C,P=P==h?m:P;var R=C==m,B=P==m,I=C==P;if(I&&c(w)){if(!c(y))return!1;_=!0,R=!1}if(I&&!R)return A||(A=new t),_||u(w)?e(w,y,O,E,N,A):r(w,y,C,O,E,N,A);if(!(O&d)){var F=R&&b.call(w,"__wrapped__"),L=B&&b.call(y,"__wrapped__");if(F||L){var X=F?w.value():w,q=L?y.value():y;return A||(A=new t),N(X,q,O,E,A)}}return I?(A||(A=new t),n(w,y,O,E,N,A)):!1}return nv=j,nv}var av,P2;function bb(){if(P2)return av;P2=1;var t=JI(),e=Zn();function r(n,a,s,c,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,c,r,u)}return av=r,av}var iv,C2;function QI(){if(C2)return iv;C2=1;var t=w5(),e=bb(),r=1,n=2;function a(s,c,u,d){var h=u.length,p=h,m=!d;if(s==null)return!p;for(s=Object(s);h--;){var v=u[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=u[h];var b=v[0],j=s[b],w=v[1];if(m&&v[2]){if(j===void 0&&!(b in s))return!1}else{var y=new t;if(d)var O=d(j,w,b,s,c,y);if(!(O===void 0?e(w,j,r|n,d,y):O))return!1}}return!0}return iv=a,iv}var sv,T2;function T5(){if(T2)return sv;T2=1;var t=Ia();function e(r){return r===r&&!t(r)}return sv=e,sv}var ov,M2;function ZI(){if(M2)return ov;M2=1;var t=T5(),e=Tf();function r(n){for(var a=e(n),s=a.length;s--;){var c=a[s],u=n[c];a[s]=[c,u,t(u)]}return a}return ov=r,ov}var lv,$2;function M5(){if($2)return lv;$2=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return lv=t,lv}var cv,R2;function e3(){if(R2)return cv;R2=1;var t=QI(),e=ZI(),r=M5();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===a||t(c,a,s)}}return cv=n,cv}var uv,I2;function t3(){if(I2)return uv;I2=1;function t(e,r){return e!=null&&r in Object(e)}return uv=t,uv}var dv,D2;function r3(){if(D2)return dv;D2=1;var t=QA(),e=vb(),r=mr(),n=yb(),a=xb(),s=Of();function c(u,d,h){d=t(d,u);for(var p=-1,m=d.length,v=!1;++p<m;){var b=s(d[p]);if(!(v=u!=null&&h(u,b)))break;u=u[b]}return v||++p!=m?v:(m=u==null?0:u.length,!!m&&a(m)&&n(b,m)&&(r(u)||e(u)))}return dv=c,dv}var fv,L2;function n3(){if(L2)return fv;L2=1;var t=t3(),e=r3();function r(n,a){return n!=null&&e(n,a,t)}return fv=r,fv}var hv,B2;function a3(){if(B2)return hv;B2=1;var t=bb(),e=ZA(),r=n3(),n=rb(),a=T5(),s=M5(),c=Of(),u=1,d=2;function h(p,m){return n(p)&&a(m)?s(c(p),m):function(v){var b=e(v,p);return b===void 0&&b===m?r(v,p):t(m,b,u|d)}}return hv=h,hv}var pv,q2;function ao(){if(q2)return pv;q2=1;function t(e){return e}return pv=t,pv}var mv,U2;function i3(){if(U2)return mv;U2=1;function t(e){return function(r){return r?.[e]}}return mv=t,mv}var gv,F2;function s3(){if(F2)return gv;F2=1;var t=lb();function e(r){return function(n){return t(n,r)}}return gv=e,gv}var vv,z2;function o3(){if(z2)return vv;z2=1;var t=i3(),e=s3(),r=rb(),n=Of();function a(s){return r(s)?t(n(s)):e(s)}return vv=a,vv}var yv,W2;function Da(){if(W2)return yv;W2=1;var t=e3(),e=a3(),r=ao(),n=mr(),a=o3();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):a(c)}return yv=s,yv}var xv,H2;function $5(){if(H2)return xv;H2=1;function t(e,r,n,a){for(var s=e.length,c=n+(a?1:-1);a?c--:++c<s;)if(r(e[c],c,e))return c;return-1}return xv=t,xv}var bv,V2;function l3(){if(V2)return bv;V2=1;function t(e){return e!==e}return bv=t,bv}var wv,K2;function c3(){if(K2)return wv;K2=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return wv=t,wv}var jv,G2;function u3(){if(G2)return jv;G2=1;var t=$5(),e=l3(),r=c3();function n(a,s,c){return s===s?r(a,s,c):t(a,e,c)}return jv=n,jv}var _v,X2;function d3(){if(X2)return _v;X2=1;var t=u3();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return _v=e,_v}var Sv,Y2;function f3(){if(Y2)return Sv;Y2=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return Sv=t,Sv}var Nv,J2;function h3(){if(J2)return Nv;J2=1;function t(){}return Nv=t,Nv}var kv,Q2;function p3(){if(Q2)return kv;Q2=1;var t=C5(),e=h3(),r=gb(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return kv=a,kv}var Ov,Z2;function m3(){if(Z2)return Ov;Z2=1;var t=j5(),e=d3(),r=f3(),n=S5(),a=p3(),s=gb(),c=200;function u(d,h,p){var m=-1,v=e,b=d.length,j=!0,w=[],y=w;if(p)j=!1,v=r;else if(b>=c){var O=h?null:a(d);if(O)return s(O);j=!1,v=n,y=new t}else y=h?[]:w;e:for(;++m<b;){var E=d[m],N=h?h(E):E;if(E=p||E!==0?E:0,j&&N===N){for(var A=y.length;A--;)if(y[A]===N)continue e;h&&y.push(N),w.push(E)}else v(y,N,p)||(y!==w&&y.push(N),w.push(E))}return w}return Ov=u,Ov}var Ev,eN;function g3(){if(eN)return Ev;eN=1;var t=Da(),e=m3();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Ev=r,Ev}var v3=g3();const tN=Ze(v3);function R5(t,e,r){return e===!0?tN(t,r):De(e)?tN(t,e):t}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var y3=["ref"];function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D5(n.key),n)}}function b3(t,e,r){return e&&nN(t.prototype,e),r&&nN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w3(t,e,r){return e=kd(e),j3(t,I5()?Reflect.construct(e,r||[],kd(t).constructor):e.apply(t,r))}function j3(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _3(t)}function _3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(t)}function S3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R0(t,e)}function Mf(t,e,r){return e=D5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5(t){var e=N3(t,"string");return Ms(e)=="symbol"?e:e+""}function N3(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k3(t,e){if(t==null)return{};var r=O3(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E3(t){return t.value}function A3(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=k3(e,y3);return Y.createElement(mb,r)}var aN=1,Ns=(function(t){function e(){var r;x3(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=w3(this,e,[].concat(a)),Mf(r,"lastBoundingBox",{width:-1,height:-1}),r}return S3(e,t),b3(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>aN||Math.abs(a.height-this.lastBoundingBox.height)>aN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ln({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,c=a.align,u=a.verticalAlign,d=a.margin,h=a.chartWidth,p=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();m={left:((h||0)-b.width)/2}}else m=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();v={top:((p||0)-j.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ln(Ln({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,c=a.width,u=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,p=a.payload,m=Ln(Ln({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Y.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},A3(s,Ln(Ln({},this.props),{},{payload:R5(p,h,E3)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ln(Ln({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&me(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(M.PureComponent);Mf(Ns,"displayName","Legend");Mf(Ns,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Av,iN;function P3(){if(iN)return Av;iN=1;var t=hc(),e=vb(),r=mr(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return Av=a,Av}var Pv,sN;function L5(){if(sN)return Pv;sN=1;var t=k5(),e=P3();function r(n,a,s,c,u){var d=-1,h=n.length;for(s||(s=e),u||(u=[]);++d<h;){var p=n[d];a>0&&s(p)?a>1?r(p,a-1,s,c,u):t(u,p):c||(u[u.length]=p)}return u}return Pv=r,Pv}var Cv,oN;function C3(){if(oN)return Cv;oN=1;function t(e){return function(r,n,a){for(var s=-1,c=Object(r),u=a(r),d=u.length;d--;){var h=u[e?d:++s];if(n(c[h],h,c)===!1)break}return r}}return Cv=t,Cv}var Tv,lN;function T3(){if(lN)return Tv;lN=1;var t=C3(),e=t();return Tv=e,Tv}var Mv,cN;function B5(){if(cN)return Mv;cN=1;var t=T3(),e=Tf();function r(n,a){return n&&t(n,a,e)}return Mv=r,Mv}var $v,uN;function M3(){if(uN)return $v;uN=1;var t=mc();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var c=a.length,u=n?c:-1,d=Object(a);(n?u--:++u<c)&&s(d[u],u,d)!==!1;);return a}}return $v=e,$v}var Rv,dN;function wb(){if(dN)return Rv;dN=1;var t=B5(),e=M3(),r=e(t);return Rv=r,Rv}var Iv,fN;function q5(){if(fN)return Iv;fN=1;var t=wb(),e=mc();function r(n,a){var s=-1,c=e(n)?Array(n.length):[];return t(n,function(u,d,h){c[++s]=a(u,d,h)}),c}return Iv=r,Iv}var Dv,hN;function $3(){if(hN)return Dv;hN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Dv=t,Dv}var Lv,pN;function R3(){if(pN)return Lv;pN=1;var t=to();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,c=r===r,u=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!u&&r>n||u&&d&&p&&!h&&!m||s&&d&&p||!a&&p||!c)return 1;if(!s&&!u&&!m&&r<n||m&&a&&c&&!s&&!u||h&&a&&c||!d&&c||!p)return-1}return 0}return Lv=e,Lv}var Bv,mN;function I3(){if(mN)return Bv;mN=1;var t=R3();function e(r,n,a){for(var s=-1,c=r.criteria,u=n.criteria,d=c.length,h=a.length;++s<d;){var p=t(c[s],u[s]);if(p){if(s>=h)return p;var m=a[s];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Bv=e,Bv}var qv,gN;function D3(){if(gN)return qv;gN=1;var t=ob(),e=lb(),r=Da(),n=q5(),a=$3(),s=E5(),c=I3(),u=ao(),d=mr();function h(p,m,v){m.length?m=t(m,function(w){return d(w)?function(y){return e(y,w.length===1?w[0]:w)}:w}):m=[u];var b=-1;m=t(m,s(r));var j=n(p,function(w,y,O){var E=t(m,function(N){return N(w)});return{criteria:E,index:++b,value:w}});return a(j,function(w,y){return c(w,y,v)})}return qv=h,qv}var Uv,vN;function L3(){if(vN)return Uv;vN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Uv=t,Uv}var Fv,yN;function B3(){if(yN)return Fv;yN=1;var t=L3(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,d=e(c.length-a,0),h=Array(d);++u<d;)h[u]=c[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=c[u];return p[a]=s(h),t(n,this,p)}}return Fv=r,Fv}var zv,xN;function q3(){if(xN)return zv;xN=1;function t(e){return function(){return e}}return zv=t,zv}var Wv,bN;function U5(){if(bN)return Wv;bN=1;var t=Ei(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Wv=e,Wv}var Hv,wN;function U3(){if(wN)return Hv;wN=1;var t=q3(),e=U5(),r=ao(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Hv=n,Hv}var Vv,jN;function F3(){if(jN)return Vv;jN=1;var t=800,e=16,r=Date.now;function n(a){var s=0,c=0;return function(){var u=r(),d=e-(u-c);if(c=u,d>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Vv=n,Vv}var Kv,_N;function z3(){if(_N)return Kv;_N=1;var t=U3(),e=F3(),r=e(t);return Kv=r,Kv}var Gv,SN;function W3(){if(SN)return Gv;SN=1;var t=ao(),e=B3(),r=z3();function n(a,s){return r(e(a,s,t),a+"")}return Gv=n,Gv}var Xv,NN;function $f(){if(NN)return Xv;NN=1;var t=ab(),e=mc(),r=yb(),n=Ia();function a(s,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?e(u)&&r(c,u.length):d=="string"&&c in u)?t(u[c],s):!1}return Xv=a,Xv}var Yv,kN;function H3(){if(kN)return Yv;kN=1;var t=L5(),e=D3(),r=W3(),n=$f(),a=r(function(s,c){if(s==null)return[];var u=c.length;return u>1&&n(s,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),e(s,t(c,1),[])});return Yv=a,Yv}var V3=H3();const jb=Ze(V3);function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function K3(t,e){return J3(t)||Y3(t,e)||X3(t,e)||G3()}function G3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3(t,e){if(t){if(typeof t=="string")return ON(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(t,e)}}function ON(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function J3(t){if(Array.isArray(t))return t}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){Q3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q3(t,e,r){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z3(t){var e=eD(t,"string");return Ol(e)=="symbol"?e:e+""}function eD(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tD(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var rD=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,c=e.itemStyle,u=c===void 0?{}:c,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,b=e.wrapperClassName,j=e.labelClassName,w=e.label,y=e.labelFormatter,O=e.accessibilityLayer,E=O===void 0?!1:O,N=function(){if(p&&p.length){var F={padding:0,margin:0},L=(v?jb(p,v):p).map(function(X,q){if(X.type==="none")return null;var z=Jv({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},u),ee=X.formatter||m||tD,K=X.value,W=X.name,J=K,$=W;if(ee&&J!=null&&$!=null){var U=ee(K,W,X,q,p);if(Array.isArray(U)){var ae=K3(U,2);J=ae[0],$=ae[1]}else J=U}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:z},Mt($)?Y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Mt($)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},J),Y.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},A=Jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=Jv({margin:0},h),k=!Be(w),C=k?w:"",P=Fe("recharts-default-tooltip",b),R=Fe("recharts-tooltip-label",j);k&&y&&p!==void 0&&p!==null&&(C=y(w,p));var B=E?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",I0({className:P,style:A},B),Y.createElement("p",{className:R,style:_},Y.isValidElement(C)?C:"".concat(C)),N())};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Mu(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=aD(t,"string");return El(e)=="symbol"?e:e+""}function aD(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yo="recharts-tooltip-wrapper",iD={visibility:"hidden"};function sD(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Fe(Yo,Mu(Mu(Mu(Mu({},"".concat(Yo,"-right"),me(r)&&e&&me(e.x)&&r>=e.x),"".concat(Yo,"-left"),me(r)&&e&&me(e.x)&&r<e.x),"".concat(Yo,"-bottom"),me(n)&&e&&me(e.y)&&n>=e.y),"".concat(Yo,"-top"),me(n)&&e&&me(e.y)&&n<e.y))}function AN(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,c=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&me(s[n]))return s[n];var p=r[n]-u-a,m=r[n]+a;if(e[n])return c[n]?p:m;if(c[n]){var v=p,b=d[n];return v<b?Math.max(m,d[n]):Math.max(p,d[n])}var j=m+u,w=d[n]+h;return j>w?Math.max(p,d[n]):Math.max(m,d[n])}function oD(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function lD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,c=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,p,m;return c.height>0&&c.width>0&&r?(p=AN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),m=AN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),h=oD({translateX:p,translateY:m,useTranslate3d:u})):h=iD,{cssProperties:h,cssClasses:sD({translateX:p,translateY:m,coordinate:r})}}function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){L0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z5(n.key),n)}}function dD(t,e,r){return e&&uD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fD(t,e,r){return e=Od(e),hD(t,F5()?Reflect.construct(e,r||[],Od(t).constructor):e.apply(t,r))}function hD(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pD(t)}function pD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}function mD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D0(t,e)}function L0(t,e,r){return e=z5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z5(t){var e=gD(t,"string");return $s(e)=="symbol"?e:e+""}function gD(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TN=1,vD=(function(t){function e(){var r;cD(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=fD(this,e,[].concat(a)),L0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L0(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return mD(e,t),dD(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>TN||Math.abs(n.height-this.state.lastBoundingBox.height)>TN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.children,p=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,b=a.offset,j=a.position,w=a.reverseDirection,y=a.useTranslate3d,O=a.viewBox,E=a.wrapperStyle,N=lD({allowEscapeViewBox:c,coordinate:p,offsetTopLeft:b,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:O}),A=N.cssClasses,_=N.cssProperties,k=CN(CN({transition:v&&s?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return Y.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(P){n.wrapperNode=P}},h)}}])})(M.PureComponent),yD=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},io={isSsr:yD()};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){_b(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H5(n.key),n)}}function wD(t,e,r){return e&&bD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jD(t,e,r){return e=Ed(e),_D(t,W5()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function _D(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SD(t)}function SD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function ND(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B0(t,e)}function _b(t,e,r){return e=H5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H5(t){var e=kD(t,"string");return Rs(e)=="symbol"?e:e+""}function kD(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OD(t){return t.dataKey}function ED(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(rD,e)}var xn=(function(t){function e(){return xD(this,e),jD(this,e,arguments)}return ND(e,t),wD(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.content,p=a.coordinate,m=a.filterNull,v=a.isAnimationActive,b=a.offset,j=a.payload,w=a.payloadUniqBy,y=a.position,O=a.reverseDirection,E=a.useTranslate3d,N=a.viewBox,A=a.wrapperStyle,_=j??[];m&&_.length&&(_=R5(j.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),w,OD));var k=_.length>0;return Y.createElement(vD,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:v,active:s,coordinate:p,hasPayload:k,offset:b,position:y,reverseDirection:O,useTranslate3d:E,viewBox:N,wrapperStyle:A},ED(h,$N($N({},this.props),{},{payload:_})))}}])})(M.PureComponent);_b(xn,"displayName","Tooltip");_b(xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qv,RN;function AD(){if(RN)return Qv;RN=1;var t=En(),e=function(){return t.Date.now()};return Qv=e,Qv}var Zv,IN;function PD(){if(IN)return Zv;IN=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Zv=e,Zv}var ey,DN;function CD(){if(DN)return ey;DN=1;var t=PD(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ey=r,ey}var ty,LN;function V5(){if(LN)return ty;LN=1;var t=CD(),e=Ia(),r=to(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||c.test(h)?u(h.slice(2),m?2:8):a.test(h)?n:+h}return ty=d,ty}var ry,BN;function TD(){if(BN)return ry;BN=1;var t=Ia(),e=AD(),r=V5(),n="Expected a function",a=Math.max,s=Math.min;function c(u,d,h){var p,m,v,b,j,w,y=0,O=!1,E=!1,N=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(O=!!h.leading,E="maxWait"in h,v=E?a(r(h.maxWait)||0,d):v,N="trailing"in h?!!h.trailing:N);function A(L){var X=p,q=m;return p=m=void 0,y=L,b=u.apply(q,X),b}function _(L){return y=L,j=setTimeout(P,d),O?A(L):b}function k(L){var X=L-w,q=L-y,z=d-X;return E?s(z,v-q):z}function C(L){var X=L-w,q=L-y;return w===void 0||X>=d||X<0||E&&q>=v}function P(){var L=e();if(C(L))return R(L);j=setTimeout(P,k(L))}function R(L){return j=void 0,N&&p?A(L):(p=m=void 0,b)}function B(){j!==void 0&&clearTimeout(j),y=0,p=w=m=j=void 0}function I(){return j===void 0?b:R(e())}function F(){var L=e(),X=C(L);if(p=arguments,m=this,w=L,X){if(j===void 0)return _(w);if(E)return clearTimeout(j),j=setTimeout(P,d),A(w)}return j===void 0&&(j=setTimeout(P,d)),b}return F.cancel=B,F.flush=I,F}return ry=c,ry}var ny,qN;function MD(){if(qN)return ny;qN=1;var t=TD(),e=Ia(),r="Expected a function";function n(a,s,c){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),t(a,s,{leading:u,maxWait:s,trailing:d})}return ny=n,ny}var $D=MD();const K5=Ze($D);function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){RD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RD(t,e,r){return e=ID(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ID(t){var e=DD(t,"string");return Al(e)=="symbol"?e:e+""}function DD(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LD(t,e){return FD(t)||UD(t,e)||qD(t,e)||BD()}function BD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(t,e){if(t){if(typeof t=="string")return FN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(t,e)}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function FD(t){if(Array.isArray(t))return t}var zD=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,c=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,b=t.children,j=t.debounce,w=j===void 0?0:j,y=t.id,O=t.className,E=t.onResize,N=t.style,A=N===void 0?{}:N,_=M.useRef(null),k=M.useRef();k.current=E,M.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=M.useState({containerWidth:a.width,containerHeight:a.height}),P=LD(C,2),R=P[0],B=P[1],I=M.useCallback(function(L,X){B(function(q){var z=Math.round(L),ee=Math.round(X);return q.containerWidth===z&&q.containerHeight===ee?q:{containerWidth:z,containerHeight:ee}})},[]);M.useEffect(function(){var L=function(W){var J,$=W[0].contentRect,U=$.width,ae=$.height;I(U,ae),(J=k.current)===null||J===void 0||J.call(k,U,ae)};w>0&&(L=K5(L,w,{trailing:!0,leading:!1}));var X=new ResizeObserver(L),q=_.current.getBoundingClientRect(),z=q.width,ee=q.height;return I(z,ee),X.observe(_.current),function(){X.disconnect()}},[I,w]);var F=M.useMemo(function(){var L=R.containerWidth,X=R.containerHeight;if(L<0||X<0)return null;bi(hi(c)||hi(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=hi(c)?L:c,z=hi(d)?X:d;r&&r>0&&(q?z=q/r:z&&(q=z*r),v&&z>v&&(z=v)),bi(q>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,z,c,d,p,m,r);var ee=!Array.isArray(b)&&Wn(b.type).endsWith("Chart");return Y.Children.map(b,function(K){return Y.isValidElement(K)?M.cloneElement(K,$u({width:q,height:z},ee?{style:$u({height:"100%",width:"100%",maxHeight:z,maxWidth:q},K.props.style)}:{})):K})},[r,b,d,v,m,p,R,c]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:Fe("recharts-responsive-container",O),style:$u($u({},A),{},{width:c,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:_},F)}),G5=function(e){return null};G5.displayName="Cell";function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){WD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WD(t,e,r){return e=HD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HD(t){var e=VD(t,"string");return Pl(e)=="symbol"?e:e+""}function VD(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rs={widthCache:{},cacheCount:0},KD=2e3,GD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WN="recharts_measurement_span";function XD(t){var e=q0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var gl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||io.isSsr)return{width:0,height:0};var n=XD(r),a=JSON.stringify({text:e,copyStyle:n});if(rs.widthCache[a])return rs.widthCache[a];try{var s=document.getElementById(WN);s||(s=document.createElement("span"),s.setAttribute("id",WN),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=q0(q0({},GD),n);Object.assign(s.style,c),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return rs.widthCache[a]=d,++rs.cacheCount>KD&&(rs.cacheCount=0,rs.widthCache={}),d}catch{return{width:0,height:0}}},YD=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Ad(t,e){return e7(t)||ZD(t,e)||QD(t,e)||JD()}function JD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QD(t,e){if(t){if(typeof t=="string")return HN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function e7(t){if(Array.isArray(t))return t}function t7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n7(n.key),n)}}function r7(t,e,r){return e&&VN(t.prototype,e),r&&VN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7(t){var e=a7(t,"string");return Cl(e)=="symbol"?e:e+""}function a7(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,s7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,X5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},o7=Object.keys(X5),ys="NaN";function l7(t,e){return t*X5[e]}var Ru=(function(){function t(e,r){t7(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!i7.test(r)&&(this.num=NaN,this.unit=""),o7.includes(r)&&(this.num=l7(e,r),this.unit="px")}return r7(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=s7.exec(r))!==null&&n!==void 0?n:[],s=Ad(a,3),c=s[1],u=s[2];return new t(parseFloat(c),u??"")}}])})();function Y5(t){if(t.includes(ys))return ys;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=KN.exec(e))!==null&&r!==void 0?r:[],a=Ad(n,4),s=a[1],c=a[2],u=a[3],d=Ru.parse(s??""),h=Ru.parse(u??""),p=c==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return ys;e=e.replace(KN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=GN.exec(e))!==null&&m!==void 0?m:[],b=Ad(v,4),j=b[1],w=b[2],y=b[3],O=Ru.parse(j??""),E=Ru.parse(y??""),N=w==="+"?O.add(E):O.subtract(E);if(N.isNaN())return ys;e=e.replace(GN,N.toString())}return e}var XN=/\(([^()]*)\)/;function c7(t){for(var e=t;e.includes("(");){var r=XN.exec(e),n=Ad(r,2),a=n[1];e=e.replace(XN,Y5(a))}return e}function u7(t){var e=t.replace(/\s+/g,"");return e=c7(e),e=Y5(e),e}function d7(t){try{return u7(t)}catch{return ys}}function ay(t){var e=d7(t.slice(5,-1));return e===ys?"":e}var f7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],h7=["dx","dy","angle","className","breakAll"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function YN(t,e){if(t==null)return{};var r=p7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JN(t,e){return y7(t)||v7(t,e)||g7(t,e)||m7()}function m7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return QN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function y7(t){if(Array.isArray(t))return t}var J5=/[ \f\n\r\t\v\u2028\u2029]+/,Q5=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Be(r)||(n?s=r.toString().split(""):s=r.toString().split(J5));var c=s.map(function(d){return{word:d,width:gl(d,a).width}}),u=n?0:gl("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},x7=function(e,r,n,a,s){var c=e.maxLines,u=e.children,d=e.style,h=e.breakAll,p=me(c),m=u,v=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(z,ee){var K=ee.word,W=ee.width,J=z[z.length-1];if(J&&(a==null||s||J.width+W+n<Number(a)))J.words.push(K),J.width+=W+n;else{var $={words:[K],width:W};z.push($)}return z},[])},b=v(r),j=function(q){return q.reduce(function(z,ee){return z.width>ee.width?z:ee})};if(!p)return b;for(var w="",y=function(q){var z=m.slice(0,q),ee=Q5({breakAll:h,style:d,children:z+w}).wordsWithComputedWidth,K=v(ee),W=K.length>c||j(K).width>Number(a);return[W,K]},O=0,E=m.length-1,N=0,A;O<=E&&N<=m.length-1;){var _=Math.floor((O+E)/2),k=_-1,C=y(k),P=JN(C,2),R=P[0],B=P[1],I=y(_),F=JN(I,1),L=F[0];if(!R&&!L&&(O=_+1),R&&L&&(E=_-1),!R&&L){A=B;break}N++}return A||b},ZN=function(e){var r=Be(e)?[]:e.toString().split(J5);return[{words:r}]},b7=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,c=e.breakAll,u=e.maxLines;if((r||n)&&!io.isSsr){var d,h,p=Q5({breakAll:c,children:a,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,h=v}else return ZN(a);return x7({breakAll:c,children:a,maxLines:u,style:s},d,h,r,n)}return ZN(a)},ek="#808080",Pd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.lineHeight,u=c===void 0?"1em":c,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,b=v===void 0?"start":v,j=e.verticalAnchor,w=j===void 0?"end":j,y=e.fill,O=y===void 0?ek:y,E=YN(e,f7),N=M.useMemo(function(){return b7({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),A=E.dx,_=E.dy,k=E.angle,C=E.className,P=E.breakAll,R=YN(E,h7);if(!Mt(n)||!Mt(s))return null;var B=n+(me(A)?A:0),I=s+(me(_)?_:0),F;switch(w){case"start":F=ay("calc(".concat(h,")"));break;case"middle":F=ay("calc(".concat((N.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:F=ay("calc(".concat(N.length-1," * -").concat(u,")"));break}var L=[];if(m){var X=N[0].width,q=E.width;L.push("scale(".concat((me(q)?q/X:1)/X,")"))}return k&&L.push("rotate(".concat(k,", ").concat(B,", ").concat(I,")")),L.length&&(R.transform=L.join(" ")),Y.createElement("text",U0({},Le(R,!0),{x:B,y:I,className:Fe("recharts-text",C),textAnchor:b,fill:O.includes("url")?ek:O}),N.map(function(z,ee){var K=z.words.join(P?"":" ");return Y.createElement("tspan",{x:B,dy:ee===0?F:u,key:"".concat(K,"-").concat(ee)},K)}))};function Ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sb(t){let e,r,n;t.length!==2?(e=Ta,r=(u,d)=>Ta(t(u),d),n=(u,d)=>t(u)-d):(e=t===Ta||t===w7?t:j7,r=t,n=t);function a(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function c(u,d,h=0,p=u.length){const m=a(u,d,h,p-1);return m>h&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:c,right:s}}function j7(){return 0}function Z5(t){return t===null?NaN:+t}function*_7(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const S7=Sb(Ta),gc=S7.right;Sb(Z5).center;class tk extends Map{constructor(e,r=O7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(rk(this,e))}has(e){return super.has(rk(this,e))}set(e,r){return super.set(N7(this,e),r)}delete(e){return super.delete(k7(this,e))}}function rk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function N7({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function k7({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function O7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function E7(t=Ta){if(t===Ta)return eP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function eP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const A7=Math.sqrt(50),P7=Math.sqrt(10),C7=Math.sqrt(2);function Cd(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=A7?10:s>=P7?5:s>=C7?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/c,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*c,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?Cd(t,e,r*2):[u,d,h]}function F0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,c]=n?Cd(e,t,r):Cd(t,e,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)d[h]=(s-h)/-c;else for(let h=0;h<u;++h)d[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)d[h]=(a+h)/-c;else for(let h=0;h<u;++h)d[h]=(a+h)*c;return d}function z0(t,e,r){return e=+e,t=+t,r=+r,Cd(t,e,r)[2]}function W0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?z0(e,t,r):z0(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function nk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ak(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?eP:E7(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),b=Math.max(r,Math.floor(e-h*m/d+v)),j=Math.min(n,Math.floor(e+(d-h)*m/d+v));tP(t,e,b,j,a)}const s=t[e];let c=r,u=n;for(Jo(t,r,e),a(t[n],s)>0&&Jo(t,r,n);c<u;){for(Jo(t,c,u),++c,--u;a(t[c],s)<0;)++c;for(;a(t[u],s)>0;)--u}a(t[r],s)===0?Jo(t,r,u):(++u,Jo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Jo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function T7(t,e,r){if(t=Float64Array.from(_7(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ak(t);if(e>=1)return nk(t);var n,a=(n-1)*e,s=Math.floor(a),c=nk(tP(t,s).subarray(0,s+1)),u=ak(t.subarray(s+1));return c+(u-c)*(a-s)}}function M7(t,e,r=Z5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),c=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return c+(u-c)*(a-s)}}function $7(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ea(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H0=Symbol("implicit");function Nb(){var t=new tk,e=[],r=[],n=H0;function a(s){let c=t.get(s);if(c===void 0){if(n!==H0)return n;t.set(s,c=e.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new tk;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Nb(e,r).unknown(n)},Ur.apply(a,arguments),a}function Tl(){var t=Nb().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,c,u=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,b=a<n,j=b?a:n,w=b?n:a;s=(w-j)/Math.max(1,v-d+h*2),u&&(s=Math.floor(s)),j+=(w-j-s*(v-d))*p,c=s*(1-d),u&&(j=Math.round(j),c=Math.round(c));var y=$7(v).map(function(O){return j+s*O});return r(b?y.reverse():y)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,m()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Tl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(p)},Ur.apply(m(),arguments)}function rP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return rP(e())},t}function vl(){return rP(Tl.apply(null,arguments).paddingInner(1))}function kb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function nP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vc(){}var Ml=.7,Td=1/Ml,ks="\\s*([+-]?\\d+)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R7=/^#([0-9a-f]{3,8})$/,I7=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),D7=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),L7=new RegExp(`^rgba\\(${ks},${ks},${ks},${$l}\\)$`),B7=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${$l}\\)$`),q7=new RegExp(`^hsl\\(${$l},${Sn},${Sn}\\)$`),U7=new RegExp(`^hsla\\(${$l},${Sn},${Sn},${$l}\\)$`),ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kb(vc,Rl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sk,formatHex:sk,formatHex8:F7,formatHsl:z7,formatRgb:ok,toString:ok});function sk(){return this.rgb().formatHex()}function F7(){return this.rgb().formatHex8()}function z7(){return aP(this).formatHsl()}function ok(){return this.rgb().formatRgb()}function Rl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=R7.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?lk(e):r===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Iu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Iu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=I7.exec(t))?new pr(e[1],e[2],e[3],1):(e=D7.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=L7.exec(t))?Iu(e[1],e[2],e[3],e[4]):(e=B7.exec(t))?Iu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=q7.exec(t))?dk(e[1],e[2]/100,e[3]/100,1):(e=U7.exec(t))?dk(e[1],e[2]/100,e[3]/100,e[4]):ik.hasOwnProperty(t)?lk(ik[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function lk(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function Iu(t,e,r,n){return n<=0&&(t=e=r=NaN),new pr(t,e,r,n)}function W7(t){return t instanceof vc||(t=Rl(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function V0(t,e,r,n){return arguments.length===1?W7(t):new pr(t,e,r,n??1)}function pr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}kb(pr,V0,nP(vc,{brighter(t){return t=t==null?Td:Math.pow(Td,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ml:Math.pow(Ml,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(wi(this.r),wi(this.g),wi(this.b),Md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ck,formatHex:ck,formatHex8:H7,formatRgb:uk,toString:uk}));function ck(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}`}function H7(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}${pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function uk(){const t=Md(this.opacity);return`${t===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${t===1?")":`, ${t})`}`}function Md(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pi(t){return t=wi(t),(t<16?"0":"")+t.toString(16)}function dk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new tn(t,e,r,n)}function aP(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof vc||(t=Rl(t)),!t)return new tn;if(t instanceof tn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),c=NaN,u=s-a,d=(s+a)/2;return u?(e===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-e)/u+2:c=(e-r)/u+4,u/=d<.5?s+a:2-s-a,c*=60):u=d>0&&d<1?0:c,new tn(c,u,d,t.opacity)}function V7(t,e,r,n){return arguments.length===1?aP(t):new tn(t,e,r,n??1)}function tn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}kb(tn,V7,nP(vc,{brighter(t){return t=t==null?Td:Math.pow(Td,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ml:Math.pow(Ml,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new pr(iy(t>=240?t-240:t+120,a,n),iy(t,a,n),iy(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new tn(fk(this.h),Du(this.s),Du(this.l),Md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Md(this.opacity);return`${t===1?"hsl(":"hsla("}${fk(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fk(t){return t=(t||0)%360,t<0?t+360:t}function Du(t){return Math.max(0,Math.min(1,t||0))}function iy(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ob=t=>()=>t;function K7(t,e){return function(r){return t+r*e}}function G7(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function X7(t){return(t=+t)==1?iP:function(e,r){return r-e?G7(e,r,t):Ob(isNaN(e)?r:e)}}function iP(t,e){var r=e-t;return r?K7(t,r):Ob(isNaN(t)?e:t)}const hk=(function t(e){var r=X7(e);function n(a,s){var c=r((a=V0(a)).r,(s=V0(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),h=iP(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=t,n})(1);function Y7(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function J7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q7(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=so(t[c],e[c]);for(;c<r;++c)s[c]=e[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function Z7(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function $d(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function eL(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=so(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var K0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(K0.source,"g");function tL(t){return function(){return t}}function rL(t){return function(e){return t(e)+""}}function nL(t,e){var r=K0.lastIndex=sy.lastIndex=0,n,a,s,c=-1,u=[],d=[];for(t=t+"",e=e+"";(n=K0.exec(t))&&(a=sy.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:$d(n,a)})),r=sy.lastIndex;return r<e.length&&(s=e.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?rL(d[0].x):tL(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function so(t,e){var r=typeof e,n;return e==null||r==="boolean"?Ob(e):(r==="number"?$d:r==="string"?(n=Rl(e))?(e=n,hk):nL:e instanceof Rl?hk:e instanceof Date?Z7:J7(e)?Y7:Array.isArray(e)?Q7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eL:$d)(t,e)}function Eb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function aL(t,e){e===void 0&&(e=t,t=so);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function iL(t){return function(){return t}}function Rd(t){return+t}var pk=[0,1];function ar(t){return t}function G0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:iL(isNaN(e)?NaN:.5)}function sL(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function oL(t,e,r){var n=t[0],a=t[1],s=e[0],c=e[1];return a<n?(n=G0(a,n),s=r(c,s)):(n=G0(n,a),s=r(s,c)),function(u){return s(n(u))}}function lL(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=G0(t[c],t[c+1]),s[c]=r(e[c],e[c+1]);return function(u){var d=gc(t,u,1,n)-1;return s[d](a[d](u))}}function yc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rf(){var t=pk,e=pk,r=so,n,a,s,c=ar,u,d,h;function p(){var v=Math.min(t.length,e.length);return c!==ar&&(c=sL(t[0],t[v-1])),u=v>2?lL:oL,d=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(d||(d=u(t.map(n),e,r)))(n(c(v)))}return m.invert=function(v){return c(a((h||(h=u(e,t.map(n),$d)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Rd),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=Eb,p()},m.clamp=function(v){return arguments.length?(c=v?!0:ar,p()):c!==ar},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,b){return n=v,a=b,p()}}function Ab(){return Rf()(ar,ar)}function cL(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Id(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Is(t){return t=Id(Math.abs(t)),t?t[1]:NaN}function uL(t,e){return function(r,n){for(var a=r.length,s=[],c=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function dL(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var fL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Il(t){if(!(e=fL.exec(t)))throw new Error("invalid format: "+t);var e;return new Pb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Il.prototype=Pb.prototype;function Pb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hL(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var sP;function pL(t,e){var r=Id(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(sP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Id(t,Math.max(0,e+s-1))[0]}function mk(t,e){var r=Id(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const gk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cL,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mk(t*100,e),r:mk,s:pL,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vk(t){return t}var yk=Array.prototype.map,xk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mL(t){var e=t.grouping===void 0||t.thousands===void 0?vk:uL(yk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?vk:dL(yk.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Il(m);var v=m.fill,b=m.align,j=m.sign,w=m.symbol,y=m.zero,O=m.width,E=m.comma,N=m.precision,A=m.trim,_=m.type;_==="n"?(E=!0,_="g"):gk[_]||(N===void 0&&(N=12),A=!0,_="g"),(y||v==="0"&&b==="=")&&(y=!0,v="0",b="=");var k=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=w==="$"?n:/[%p]/.test(_)?c:"",P=gk[_],R=/[defgprs%]/.test(_);N=N===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(I){var F=k,L=C,X,q,z;if(_==="c")L=P(I)+L,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?d:P(Math.abs(I),N),A&&(I=hL(I)),ee&&+I==0&&j!=="+"&&(ee=!1),F=(ee?j==="("?j:u:j==="-"||j==="("?"":j)+F,L=(_==="s"?xk[8+sP/3]:"")+L+(ee&&j==="("?")":""),R){for(X=-1,q=I.length;++X<q;)if(z=I.charCodeAt(X),48>z||z>57){L=(z===46?a+I.slice(X+1):I.slice(X))+L,I=I.slice(0,X);break}}}E&&!y&&(I=e(I,1/0));var K=F.length+I.length+L.length,W=K<O?new Array(O-K+1).join(v):"";switch(E&&y&&(I=e(W+I,W.length?O-L.length:1/0),W=""),b){case"<":I=F+I+L+W;break;case"=":I=F+W+I+L;break;case"^":I=W.slice(0,K=W.length>>1)+F+I+L+W.slice(K);break;default:I=W+F+I+L;break}return s(I)}return B.toString=function(){return m+""},B}function p(m,v){var b=h((m=Il(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(Is(v)/3)))*3,w=Math.pow(10,-j),y=xk[8+j/3];return function(O){return b(w*O)+y}}return{format:h,formatPrefix:p}}var Lu,Cb,oP;gL({thousands:",",grouping:[3],currency:["$",""]});function gL(t){return Lu=mL(t),Cb=Lu.format,oP=Lu.formatPrefix,Lu}function vL(t){return Math.max(0,-Is(Math.abs(t)))}function yL(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Is(e)/3)))*3-Is(Math.abs(t)))}function xL(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Is(e)-Is(t))+1}function lP(t,e,r,n){var a=W0(t,e,r),s;switch(n=Il(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=yL(a,c))&&(n.precision=s),oP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=xL(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=vL(a))&&(n.precision=s-(n.type==="%")*2);break}}return Cb(n)}function La(t){var e=t.domain;return t.ticks=function(r){var n=e();return F0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return lP(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,c=n[a],u=n[s],d,h,p=10;for(u<c&&(h=c,c=u,u=h,h=a,a=s,s=h);p-- >0;){if(h=z0(c,u,r),h===d)return n[a]=c,n[s]=u,e(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function Dd(){var t=Ab();return t.copy=function(){return yc(t,Dd())},Ur.apply(t,arguments),La(t)}function cP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Rd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return cP(t).unknown(e)},t=arguments.length?Array.from(t,Rd):[0,1],La(r)}function uP(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),t[r]=e.floor(a),t[n]=e.ceil(s),t}function bk(t){return Math.log(t)}function wk(t){return Math.exp(t)}function bL(t){return-Math.log(-t)}function wL(t){return-Math.exp(-t)}function jL(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _L(t){return t===10?jL:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SL(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jk(t){return(e,r)=>-t(-e,r)}function Tb(t){const e=t(bk,wk),r=e.domain;let n=10,a,s;function c(){return a=SL(n),s=_L(n),r()[0]<0?(a=jk(a),s=jk(s),t(bL,wL)):t(bk,wk),e}return e.base=function(u){return arguments.length?(n=+u,c()):n},e.domain=function(u){return arguments.length?(r(u),c()):r()},e.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=a(h),b=a(p),j,w;const y=u==null?10:+u;let O=[];if(!(n%1)&&b-v<y){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(j=1;j<n;++j)if(w=v<0?j/s(-v):j*s(v),!(w<h)){if(w>p)break;O.push(w)}}else for(;v<=b;++v)for(j=n-1;j>=1;--j)if(w=v>0?j/s(-v):j*s(v),!(w<h)){if(w>p)break;O.push(w)}O.length*2<y&&(O=F0(h,p,y))}else O=F0(v,b,Math.min(b-v,y)).map(s);return m?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Il(d)).precision==null&&(d.trim=!0),d=Cb(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/s(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(uP(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function dP(){const t=Tb(Rf()).domain([1,10]);return t.copy=()=>yc(t,dP()).base(t.base()),Ur.apply(t,arguments),t}function _k(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Sk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mb(t){var e=1,r=t(_k(e),Sk(e));return r.constant=function(n){return arguments.length?t(_k(e=+n),Sk(e)):e},La(r)}function fP(){var t=Mb(Rf());return t.copy=function(){return yc(t,fP()).constant(t.constant())},Ur.apply(t,arguments)}function Nk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function NL(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kL(t){return t<0?-t*t:t*t}function $b(t){var e=t(ar,ar),r=1;function n(){return r===1?t(ar,ar):r===.5?t(NL,kL):t(Nk(r),Nk(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},La(e)}function Rb(){var t=$b(Rf());return t.copy=function(){return yc(t,Rb()).exponent(t.exponent())},Ur.apply(t,arguments),t}function OL(){return Rb.apply(null,arguments).exponent(.5)}function kk(t){return Math.sign(t)*t*t}function EL(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hP(){var t=Ab(),e=[0,1],r=!1,n;function a(s){var c=EL(t(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return t.invert(kk(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Rd)).map(kk)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ur.apply(a,arguments),La(a)}function pP(){var t=[],e=[],r=[],n;function a(){var c=0,u=Math.max(1,e.length);for(r=new Array(u-1);++c<u;)r[c-1]=M7(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:e[gc(r,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ta),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return pP().domain(t).range(e).unknown(n)},Ur.apply(s,arguments)}function mP(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function c(d){return d!=null&&d<=d?a[gc(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return c}return c.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},c.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},c.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},c.unknown=function(d){return arguments.length&&(s=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return mP().domain([t,e]).range(a).unknown(s)},Ur.apply(La(c),arguments)}function gP(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[gc(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return gP().domain(t).range(e).unknown(r)},Ur.apply(a,arguments)}const oy=new Date,ly=new Date;function $t(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<c);return d},a.filter=s=>$t(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),r&&(a.count=(s,c)=>(oy.setTime(+s),ly.setTime(+c),t(oy),t(ly),Math.floor(r(oy,ly))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Ld=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ld.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ld);Ld.range;const Un=1e3,Lr=Un*60,Fn=Lr*60,Kn=Fn*24,Ib=Kn*7,Ok=Kn*30,cy=Kn*365,mi=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getUTCSeconds());mi.range;const Db=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Un)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getMinutes());Db.range;const Lb=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getUTCMinutes());Lb.range;const Bb=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Un-t.getMinutes()*Lr)},(t,e)=>{t.setTime(+t+e*Fn)},(t,e)=>(e-t)/Fn,t=>t.getHours());Bb.range;const qb=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fn)},(t,e)=>(e-t)/Fn,t=>t.getUTCHours());qb.range;const xc=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/Kn,t=>t.getDate()-1);xc.range;const If=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Kn,t=>t.getUTCDate()-1);If.range;const vP=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Kn,t=>Math.floor(t/Kn));vP.range;function Ai(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Ib)}const Df=Ai(0),Bd=Ai(1),AL=Ai(2),PL=Ai(3),Ds=Ai(4),CL=Ai(5),TL=Ai(6);Df.range;Bd.range;AL.range;PL.range;Ds.range;CL.range;TL.range;function Pi(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Ib)}const Lf=Pi(0),qd=Pi(1),ML=Pi(2),$L=Pi(3),Ls=Pi(4),RL=Pi(5),IL=Pi(6);Lf.range;qd.range;ML.range;$L.range;Ls.range;RL.range;IL.range;const Ub=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ub.range;const Fb=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fb.range;const Gn=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Gn.range;const Xn=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xn.range;function yP(t,e,r,n,a,s){const c=[[mi,1,Un],[mi,5,5*Un],[mi,15,15*Un],[mi,30,30*Un],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[a,1,Fn],[a,3,3*Fn],[a,6,6*Fn],[a,12,12*Fn],[n,1,Kn],[n,2,2*Kn],[r,1,Ib],[e,1,Ok],[e,3,3*Ok],[t,1,cy]];function u(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const b=m&&typeof m.range=="function"?m:d(h,p,m),j=b?b.range(h,+p+1):[];return v?j.reverse():j}function d(h,p,m){const v=Math.abs(p-h)/m,b=Sb(([,,y])=>y).right(c,v);if(b===c.length)return t.every(W0(h/cy,p/cy,m));if(b===0)return Ld.every(Math.max(W0(h,p,m),1));const[j,w]=c[v/c[b-1][2]<c[b][2]/v?b-1:b];return j.every(w)}return[u,d]}const[DL,LL]=yP(Xn,Fb,Lf,vP,qb,Lb),[BL,qL]=yP(Gn,Ub,Df,xc,Bb,Db);function uy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function UL(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,c=t.shortDays,u=t.months,d=t.shortMonths,h=Zo(a),p=el(a),m=Zo(s),v=el(s),b=Zo(c),j=el(c),w=Zo(u),y=el(u),O=Zo(d),E=el(d),N={a:ee,A:K,b:W,B:J,c:null,d:Mk,e:Mk,f:u6,g:b6,G:j6,H:o6,I:l6,j:c6,L:xP,m:d6,M:f6,p:$,q:U,Q:Ik,s:Dk,S:h6,u:p6,U:m6,V:g6,w:v6,W:y6,x:null,X:null,y:x6,Y:w6,Z:_6,"%":Rk},A={a:ae,A:se,b:ie,B:he,c:null,d:$k,e:$k,f:O6,g:D6,G:B6,H:S6,I:N6,j:k6,L:wP,m:E6,M:A6,p:ke,q:ge,Q:Ik,s:Dk,S:P6,u:C6,U:T6,V:M6,w:$6,W:R6,x:null,X:null,y:I6,Y:L6,Z:q6,"%":Rk},_={a:B,A:I,b:F,B:L,c:X,d:Ck,e:Ck,f:n6,g:Pk,G:Ak,H:Tk,I:Tk,j:ZL,L:r6,m:QL,M:e6,p:R,q:JL,Q:i6,s:s6,S:t6,u:VL,U:KL,V:GL,w:HL,W:XL,x:q,X:z,y:Pk,Y:Ak,Z:YL,"%":a6};N.x=k(r,N),N.X=k(n,N),N.c=k(e,N),A.x=k(r,A),A.X=k(n,A),A.c=k(e,A);function k(oe,ye){return function(Oe){var Q=[],je=-1,Re=0,He=oe.length,Ye,gt,Rt;for(Oe instanceof Date||(Oe=new Date(+Oe));++je<He;)oe.charCodeAt(je)===37&&(Q.push(oe.slice(Re,je)),(gt=Ek[Ye=oe.charAt(++je)])!=null?Ye=oe.charAt(++je):gt=Ye==="e"?" ":"0",(Rt=ye[Ye])&&(Ye=Rt(Oe,gt)),Q.push(Ye),Re=je+1);return Q.push(oe.slice(Re,je)),Q.join("")}}function C(oe,ye){return function(Oe){var Q=Qo(1900,void 0,1),je=P(Q,oe,Oe+="",0),Re,He;if(je!=Oe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ye&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Re=dy(Qo(Q.y,0,1)),He=Re.getUTCDay(),Re=He>4||He===0?qd.ceil(Re):qd(Re),Re=If.offset(Re,(Q.V-1)*7),Q.y=Re.getUTCFullYear(),Q.m=Re.getUTCMonth(),Q.d=Re.getUTCDate()+(Q.w+6)%7):(Re=uy(Qo(Q.y,0,1)),He=Re.getDay(),Re=He>4||He===0?Bd.ceil(Re):Bd(Re),Re=xc.offset(Re,(Q.V-1)*7),Q.y=Re.getFullYear(),Q.m=Re.getMonth(),Q.d=Re.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),He="Z"in Q?dy(Qo(Q.y,0,1)).getUTCDay():uy(Qo(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(He+5)%7:Q.w+Q.U*7-(He+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,dy(Q)):uy(Q)}}function P(oe,ye,Oe,Q){for(var je=0,Re=ye.length,He=Oe.length,Ye,gt;je<Re;){if(Q>=He)return-1;if(Ye=ye.charCodeAt(je++),Ye===37){if(Ye=ye.charAt(je++),gt=_[Ye in Ek?ye.charAt(je++):Ye],!gt||(Q=gt(oe,Oe,Q))<0)return-1}else if(Ye!=Oe.charCodeAt(Q++))return-1}return Q}function R(oe,ye,Oe){var Q=h.exec(ye.slice(Oe));return Q?(oe.p=p.get(Q[0].toLowerCase()),Oe+Q[0].length):-1}function B(oe,ye,Oe){var Q=b.exec(ye.slice(Oe));return Q?(oe.w=j.get(Q[0].toLowerCase()),Oe+Q[0].length):-1}function I(oe,ye,Oe){var Q=m.exec(ye.slice(Oe));return Q?(oe.w=v.get(Q[0].toLowerCase()),Oe+Q[0].length):-1}function F(oe,ye,Oe){var Q=O.exec(ye.slice(Oe));return Q?(oe.m=E.get(Q[0].toLowerCase()),Oe+Q[0].length):-1}function L(oe,ye,Oe){var Q=w.exec(ye.slice(Oe));return Q?(oe.m=y.get(Q[0].toLowerCase()),Oe+Q[0].length):-1}function X(oe,ye,Oe){return P(oe,e,ye,Oe)}function q(oe,ye,Oe){return P(oe,r,ye,Oe)}function z(oe,ye,Oe){return P(oe,n,ye,Oe)}function ee(oe){return c[oe.getDay()]}function K(oe){return s[oe.getDay()]}function W(oe){return d[oe.getMonth()]}function J(oe){return u[oe.getMonth()]}function $(oe){return a[+(oe.getHours()>=12)]}function U(oe){return 1+~~(oe.getMonth()/3)}function ae(oe){return c[oe.getUTCDay()]}function se(oe){return s[oe.getUTCDay()]}function ie(oe){return d[oe.getUTCMonth()]}function he(oe){return u[oe.getUTCMonth()]}function ke(oe){return a[+(oe.getUTCHours()>=12)]}function ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=k(oe+="",N);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=C(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=k(oe+="",A);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=C(oe+="",!0);return ye.toString=function(){return oe},ye}}}var Ek={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,FL=/^%/,zL=/[\\^$*+?|[\]().{}]/g;function We(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function WL(t){return t.replace(zL,"\\$&")}function Zo(t){return new RegExp("^(?:"+t.map(WL).join("|")+")","i")}function el(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function HL(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function VL(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function KL(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function GL(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function XL(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Ak(t,e,r){var n=Ut.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Pk(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YL(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JL(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function QL(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Ck(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ZL(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Tk(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function t6(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function r6(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function n6(t,e,r){var n=Ut.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function a6(t,e,r){var n=FL.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function i6(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function s6(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Mk(t,e){return We(t.getDate(),e,2)}function o6(t,e){return We(t.getHours(),e,2)}function l6(t,e){return We(t.getHours()%12||12,e,2)}function c6(t,e){return We(1+xc.count(Gn(t),t),e,3)}function xP(t,e){return We(t.getMilliseconds(),e,3)}function u6(t,e){return xP(t,e)+"000"}function d6(t,e){return We(t.getMonth()+1,e,2)}function f6(t,e){return We(t.getMinutes(),e,2)}function h6(t,e){return We(t.getSeconds(),e,2)}function p6(t){var e=t.getDay();return e===0?7:e}function m6(t,e){return We(Df.count(Gn(t)-1,t),e,2)}function bP(t){var e=t.getDay();return e>=4||e===0?Ds(t):Ds.ceil(t)}function g6(t,e){return t=bP(t),We(Ds.count(Gn(t),t)+(Gn(t).getDay()===4),e,2)}function v6(t){return t.getDay()}function y6(t,e){return We(Bd.count(Gn(t)-1,t),e,2)}function x6(t,e){return We(t.getFullYear()%100,e,2)}function b6(t,e){return t=bP(t),We(t.getFullYear()%100,e,2)}function w6(t,e){return We(t.getFullYear()%1e4,e,4)}function j6(t,e){var r=t.getDay();return t=r>=4||r===0?Ds(t):Ds.ceil(t),We(t.getFullYear()%1e4,e,4)}function _6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function $k(t,e){return We(t.getUTCDate(),e,2)}function S6(t,e){return We(t.getUTCHours(),e,2)}function N6(t,e){return We(t.getUTCHours()%12||12,e,2)}function k6(t,e){return We(1+If.count(Xn(t),t),e,3)}function wP(t,e){return We(t.getUTCMilliseconds(),e,3)}function O6(t,e){return wP(t,e)+"000"}function E6(t,e){return We(t.getUTCMonth()+1,e,2)}function A6(t,e){return We(t.getUTCMinutes(),e,2)}function P6(t,e){return We(t.getUTCSeconds(),e,2)}function C6(t){var e=t.getUTCDay();return e===0?7:e}function T6(t,e){return We(Lf.count(Xn(t)-1,t),e,2)}function jP(t){var e=t.getUTCDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function M6(t,e){return t=jP(t),We(Ls.count(Xn(t),t)+(Xn(t).getUTCDay()===4),e,2)}function $6(t){return t.getUTCDay()}function R6(t,e){return We(qd.count(Xn(t)-1,t),e,2)}function I6(t,e){return We(t.getUTCFullYear()%100,e,2)}function D6(t,e){return t=jP(t),We(t.getUTCFullYear()%100,e,2)}function L6(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function B6(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ls(t):Ls.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function q6(){return"+0000"}function Rk(){return"%"}function Ik(t){return+t}function Dk(t){return Math.floor(+t/1e3)}var ns,_P,SP;U6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U6(t){return ns=UL(t),_P=ns.format,ns.parse,SP=ns.utcFormat,ns.utcParse,ns}function F6(t){return new Date(t)}function z6(t){return t instanceof Date?+t:+new Date(+t)}function zb(t,e,r,n,a,s,c,u,d,h){var p=Ab(),m=p.invert,v=p.domain,b=h(".%L"),j=h(":%S"),w=h("%I:%M"),y=h("%I %p"),O=h("%a %d"),E=h("%b %d"),N=h("%B"),A=h("%Y");function _(k){return(d(k)<k?b:u(k)<k?j:c(k)<k?w:s(k)<k?y:n(k)<k?a(k)<k?O:E:r(k)<k?N:A)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?v(Array.from(k,z6)):v().map(F6)},p.ticks=function(k){var C=v();return t(C[0],C[C.length-1],k??10)},p.tickFormat=function(k,C){return C==null?_:h(C)},p.nice=function(k){var C=v();return(!k||typeof k.range!="function")&&(k=e(C[0],C[C.length-1],k??10)),k?v(uP(C,k)):p},p.copy=function(){return yc(p,zb(t,e,r,n,a,s,c,u,d,h))},p}function W6(){return Ur.apply(zb(BL,qL,Gn,Ub,Df,xc,Bb,Db,mi,_P).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H6(){return Ur.apply(zb(DL,LL,Xn,Fb,Lf,If,qb,Lb,mi,SP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bf(){var t=0,e=1,r,n,a,s,c=ar,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:c(a===0?.5:(m=(s(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(v){var b,j;return arguments.length?([b,j]=v,c=m(b,j),h):[c(0),c(1)]}}return h.range=p(so),h.rangeRound=p(Eb),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),h}}function Ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NP(){var t=La(Bf()(ar));return t.copy=function(){return Ba(t,NP())},ea.apply(t,arguments)}function kP(){var t=Tb(Bf()).domain([1,10]);return t.copy=function(){return Ba(t,kP()).base(t.base())},ea.apply(t,arguments)}function OP(){var t=Mb(Bf());return t.copy=function(){return Ba(t,OP()).constant(t.constant())},ea.apply(t,arguments)}function Wb(){var t=$b(Bf());return t.copy=function(){return Ba(t,Wb()).exponent(t.exponent())},ea.apply(t,arguments)}function V6(){return Wb.apply(null,arguments).exponent(.5)}function EP(){var t=[],e=ar;function r(n){if(n!=null&&!isNaN(n=+n))return e((gc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ta),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>T7(t,s/n))},r.copy=function(){return EP(e).domain(t)},ea.apply(r,arguments)}function qf(){var t=0,e=.5,r=1,n=1,a,s,c,u,d,h=ar,p,m=!1,v;function b(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-s)*(n*w<n*s?u:d),h(m?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),s=p(e=+e),c=p(r=+r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,b):[t,e,r]},b.clamp=function(w){return arguments.length?(m=!!w,b):m},b.interpolator=function(w){return arguments.length?(h=w,b):h};function j(w){return function(y){var O,E,N;return arguments.length?([O,E,N]=y,h=aL(w,[O,E,N]),b):[h(0),h(.5),h(1)]}}return b.range=j(so),b.rangeRound=j(Eb),b.unknown=function(w){return arguments.length?(v=w,b):v},function(w){return p=w,a=w(t),s=w(e),c=w(r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,b}}function AP(){var t=La(qf()(ar));return t.copy=function(){return Ba(t,AP())},ea.apply(t,arguments)}function PP(){var t=Tb(qf()).domain([.1,1,10]);return t.copy=function(){return Ba(t,PP()).base(t.base())},ea.apply(t,arguments)}function CP(){var t=Mb(qf());return t.copy=function(){return Ba(t,CP()).constant(t.constant())},ea.apply(t,arguments)}function Hb(){var t=$b(qf());return t.copy=function(){return Ba(t,Hb()).exponent(t.exponent())},ea.apply(t,arguments)}function K6(){return Hb.apply(null,arguments).exponent(.5)}const Lk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tl,scaleDiverging:AP,scaleDivergingLog:PP,scaleDivergingPow:Hb,scaleDivergingSqrt:K6,scaleDivergingSymlog:CP,scaleIdentity:cP,scaleImplicit:H0,scaleLinear:Dd,scaleLog:dP,scaleOrdinal:Nb,scalePoint:vl,scalePow:Rb,scaleQuantile:pP,scaleQuantize:mP,scaleRadial:hP,scaleSequential:NP,scaleSequentialLog:kP,scaleSequentialPow:Wb,scaleSequentialQuantile:EP,scaleSequentialSqrt:V6,scaleSequentialSymlog:OP,scaleSqrt:OL,scaleSymlog:fP,scaleThreshold:gP,scaleTime:W6,scaleUtc:H6,tickFormat:lP},Symbol.toStringTag,{value:"Module"}));var fy,Bk;function TP(){if(Bk)return fy;Bk=1;var t=to();function e(r,n,a){for(var s=-1,c=r.length;++s<c;){var u=r[s],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,p=u}return p}return fy=e,fy}var hy,qk;function G6(){if(qk)return hy;qk=1;function t(e,r){return e>r}return hy=t,hy}var py,Uk;function X6(){if(Uk)return py;Uk=1;var t=TP(),e=G6(),r=ao();function n(a){return a&&a.length?t(a,r,e):void 0}return py=n,py}var Y6=X6();const Ea=Ze(Y6);var my,Fk;function J6(){if(Fk)return my;Fk=1;function t(e,r){return e<r}return my=t,my}var gy,zk;function Q6(){if(zk)return gy;zk=1;var t=TP(),e=J6(),r=ao();function n(a){return a&&a.length?t(a,r,e):void 0}return gy=n,gy}var Z6=Q6();const Uf=Ze(Z6);var vy,Wk;function e8(){if(Wk)return vy;Wk=1;var t=ob(),e=Da(),r=q5(),n=mr();function a(s,c){var u=n(s)?t:r;return u(s,e(c,3))}return vy=a,vy}var yy,Hk;function t8(){if(Hk)return yy;Hk=1;var t=L5(),e=e8();function r(n,a){return t(e(n,a),1)}return yy=r,yy}var r8=t8();const n8=Ze(r8);var xy,Vk;function a8(){if(Vk)return xy;Vk=1;var t=bb();function e(r,n){return t(r,n)}return xy=e,xy}var i8=a8();const Dl=Ze(i8);var oo=1e9,s8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Kb,dt=!0,qr="[DecimalError] ",ji=qr+"Invalid argument: ",Vb=qr+"Exponent out of range: ",lo=Math.floor,ci=Math.pow,o8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,qt=1e7,lt=7,MP=9007199254740991,Ud=lo(MP/lt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(t){return Hn(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,r=e.constructor;return tt(Hn(e,new r(t),0,1),r.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return kt(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Sr))throw Error(qr+"NaN");if(r.s<1)throw Error(qr+(r.s?"NaN":"-Infinity"));return r.eq(Sr)?new n(0):(dt=!1,e=Hn(Ll(r,s),Ll(t,s),s),dt=!0,tt(e,a))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IP(e,t):$P(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(qr+"NaN");return r.s?(dt=!1,e=Hn(r,t,0,1).times(t),dt=!0,r.minus(e)):tt(new n(r),a)};be.naturalExponential=be.exp=function(){return RP(this)};be.naturalLogarithm=be.ln=function(){return Ll(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$P(e,t):IP(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ji+t);if(e=kt(a)+1,n=a.d.length-1,r=n*lt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};be.squareRoot=be.sqrt=function(){var t,e,r,n,a,s,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(qr+"NaN")}for(t=kt(u),dt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=bn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=lo((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=c=r+3;;)if(s=n,n=s.plus(Hn(u,s,c+2)).times(.5),bn(s.d).slice(0,c)===(e=bn(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(tt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;c+=4}return dt=!0,tt(n,r)};be.times=be.mul=function(t){var e,r,n,a,s,c,u,d,h,p=this,m=p.constructor,v=p.d,b=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=v.length,h=b.length,d<h&&(s=v,v=b,b=s,c=d,d=h,h=c),s=[],c=d+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)u=s[a]+b[n]*v[a-n-1]+e,s[a--]=u%qt|0,e=u/qt|0;s[a]=(s[a]+e)%qt|0}for(;!s[--c];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,dt?tt(t,m.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(On(t,0,oo),e===void 0?e=n.rounding:On(e,0,8),tt(r,t+kt(r)+1,e))};be.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ki(n,!0):(On(t,0,oo),e===void 0?e=a.rounding:On(e,0,8),n=tt(new a(n),t+1,e),r=ki(n,!0,t+1)),r};be.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?ki(a):(On(t,0,oo),e===void 0?e=s.rounding:On(e,0,8),n=tt(new s(a),t+kt(a)+1,e),r=ki(n.abs(),!1,t+kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return tt(new e(t),kt(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,r,n,a,s,c,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Sr);if(u=new d(u),!u.s){if(t.s<1)throw Error(qr+"Infinity");return u}if(u.eq(Sr))return u;if(n=d.precision,t.eq(Sr))return tt(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,s=u.s,c){if((r=p<0?-p:p)<=MP){for(a=new d(Sr),e=Math.ceil(n/lt+4),dt=!1;r%2&&(a=a.times(u),Gk(a.d,e)),r=lo(r/2),r!==0;)u=u.times(u),Gk(u.d,e);return dt=!0,t.s<0?new d(Sr).div(a):tt(a,n)}}else if(s<0)throw Error(qr+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,dt=!1,a=t.times(Ll(u,n+h)),dt=!0,a=RP(a),a.s=s,a};be.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=kt(a),n=ki(a,r<=s.toExpNeg||r>=s.toExpPos)):(On(t,1,oo),e===void 0?e=s.rounding:On(e,0,8),a=tt(new s(a),t,e),r=kt(a),n=ki(a,t<=r||r<=s.toExpNeg,t)),n};be.toSignificantDigits=be.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(On(t,1,oo),e===void 0?e=n.rounding:On(e,0,8)),tt(new n(r),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),r=t.constructor;return ki(t,e<=r.toExpNeg||e>=r.toExpPos)};function $P(t,e){var r,n,a,s,c,u,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),dt?tt(e,m):e;if(d=t.d,h=e.d,c=t.e,a=e.e,d=d.slice(),s=c-a,s){for(s<0?(n=d,s=-s,u=h.length):(n=h,a=c,u=d.length),c=Math.ceil(m/lt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/qt|0,d[s]%=qt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,dt?tt(e,m):e}function On(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ji+t)}function bn(t){var e,r,n,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)n=t[e]+"",r=lt-n.length,r&&(s+=Na(r)),s+=n;c=t[e],n=c+"",r=lt-n.length,r&&(s+=Na(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Hn=(function(){function t(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%qt|0,c=s/qt|0;return c&&n.unshift(c),n}function e(n,a,s,c){var u,d;if(s!=c)d=s>c?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*qt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,d,h,p,m,v,b,j,w,y,O,E,N,A,_,k,C,P,R=n.constructor,B=n.s==a.s?1:-1,I=n.d,F=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(qr+"Division by zero");for(d=n.e-a.e,C=F.length,_=I.length,b=new R(B),j=b.d=[],h=0;F[h]==(I[h]||0);)++h;if(F[h]>(I[h]||0)&&--d,s==null?E=s=R.precision:c?E=s+(kt(n)-kt(a))+1:E=s,E<0)return new R(0);if(E=E/lt+2|0,h=0,C==1)for(p=0,F=F[0],E++;(h<_||p)&&E--;h++)N=p*qt+(I[h]||0),j[h]=N/F|0,p=N%F|0;else{for(p=qt/(F[0]+1)|0,p>1&&(F=t(F,p),I=t(I,p),C=F.length,_=I.length),A=C,w=I.slice(0,C),y=w.length;y<C;)w[y++]=0;P=F.slice(),P.unshift(0),k=F[0],F[1]>=qt/2&&++k;do p=0,u=e(F,w,C,y),u<0?(O=w[0],C!=y&&(O=O*qt+(w[1]||0)),p=O/k|0,p>1?(p>=qt&&(p=qt-1),m=t(F,p),v=m.length,y=w.length,u=e(m,w,v,y),u==1&&(p--,r(m,C<v?P:F,v))):(p==0&&(u=p=1),m=F.slice()),v=m.length,v<y&&m.unshift(0),r(w,m,y),u==-1&&(y=w.length,u=e(F,w,C,y),u<1&&(p++,r(w,C<y?P:F,y))),y=w.length):u===0&&(p++,w=[0]),j[h++]=p,u&&w[0]?w[y++]=I[A]||0:(w=[I[A]],y=1);while((A++<_||w[0]!==void 0)&&E--)}return j[0]||j.shift(),b.e=d,tt(b,c?s+kt(b)+1:s)}})();function RP(t,e){var r,n,a,s,c,u,d=0,h=0,p=t.constructor,m=p.precision;if(kt(t)>16)throw Error(Vb+kt(t));if(!t.s)return new p(Sr);for(dt=!1,u=m,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(n=Math.log(ci(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new p(Sr),p.precision=u;;){if(a=tt(a.times(t),u),r=r.times(++d),c=s.plus(Hn(a,r,u)),bn(c.d).slice(0,u)===bn(s.d).slice(0,u)){for(;h--;)s=tt(s.times(s),u);return p.precision=m,e==null?(dt=!0,tt(s,m)):s}s=c}}function kt(t){for(var e=t.e*lt,r=t.d[0];r>=10;r/=10)e++;return e}function by(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(qr+"LN10 precision limit exceeded");return tt(new t(t.LN10),e)}function Na(t){for(var e="";t--;)e+="0";return e}function Ll(t,e){var r,n,a,s,c,u,d,h,p,m=1,v=10,b=t,j=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(qr+(b.s?"NaN":"-Infinity"));if(b.eq(Sr))return new w(0);if(e==null?(dt=!1,h=y):h=e,b.eq(10))return e==null&&(dt=!0),by(w,h);if(h+=v,w.precision=h,r=bn(j),n=r.charAt(0),s=kt(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=bn(b.d),n=r.charAt(0),m++;s=kt(b),n>1?(b=new w("0."+r),s++):b=new w(n+"."+r.slice(1))}else return d=by(w,h+2,y).times(s+""),b=Ll(new w(n+"."+r.slice(1)),h-v).plus(d),w.precision=y,e==null?(dt=!0,tt(b,y)):b;for(u=c=b=Hn(b.minus(Sr),b.plus(Sr),h),p=tt(b.times(b),h),a=3;;){if(c=tt(c.times(p),h),d=u.plus(Hn(c,new w(a),h)),bn(d.d).slice(0,h)===bn(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(by(w,h+2,y).times(s+""))),u=Hn(u,new w(m),h),w.precision=y,e==null?(dt=!0,tt(u,y)):u;u=d,a+=2}}function Kk(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=lo(r/lt),t.d=[],n=(r+1)%lt,r<0&&(n+=lt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=lt;n<a;)t.d.push(+e.slice(n,n+=lt));e=e.slice(n),n=lt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>Ud||t.e<-Ud))throw Error(Vb+r)}else t.s=0,t.e=0,t.d=[0];return t}function tt(t,e,r){var n,a,s,c,u,d,h,p,m=t.d;for(c=1,s=m[0];s>=10;s/=10)c++;if(n=e-c,n<0)n+=lt,a=e,h=m[p=0];else{if(p=Math.ceil((n+1)/lt),s=m.length,p>=s)return t;for(h=s=m[p],c=1;s>=10;s/=10)c++;n%=lt,a=n-lt+c}if(r!==void 0&&(s=ci(10,c-a-1),u=h/s%10|0,d=e<0||m[p+1]!==void 0||h%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ci(10,c-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(s=kt(t),m.length=1,e=e-s-1,m[0]=ci(10,(lt-e%lt)%lt),t.e=lo(-e/lt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,s=1,p--):(m.length=p+1,s=ci(10,lt-n),m[p]=a>0?(h/ci(10,c-a)%ci(10,a)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==qt&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=qt)break;m[p--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(dt&&(t.e>Ud||t.e<-Ud))throw Error(Vb+kt(t));return t}function IP(t,e){var r,n,a,s,c,u,d,h,p,m,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),dt?tt(e,b):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),c=h-n,c){for(p=c<0,p?(r=d,c=-c,u=m.length):(r=m,n=h,u=d.length),a=Math.max(Math.ceil(b/lt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}c=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>c;){if(d[--a]<m[a]){for(s=a;s&&d[--s]===0;)d[s]=qt-1;--d[s],d[a]+=qt}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,dt?tt(e,b):e):new v(0)}function ki(t,e,r){var n,a=kt(t),s=bn(t.d),c=s.length;return e?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Na(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Na(-a-1)+s,r&&(n=r-c)>0&&(s+=Na(n))):a>=c?(s+=Na(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+Na(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=Na(n))),t.s<0?"-"+s:s}function Gk(t,e){if(t.length>e)return t.length=e,!0}function DP(t){var e,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ji+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return Kk(c,s.toString())}else if(typeof s!="string")throw Error(ji+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,o8.test(s))Kk(c,s);else throw Error(ji+s)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DP,a.config=a.set=l8,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function l8(t){if(!t||typeof t!="object")throw Error(qr+"Object expected");var e,r,n,a=["precision",1,oo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(lo(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ji+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ji+r+": "+n);return this}var Kb=DP(s8);Sr=new Kb(1);const Qe=Kb;function c8(t){return h8(t)||f8(t)||d8(t)||u8()}function u8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(t,e){if(t){if(typeof t=="string")return X0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(t,e)}}function f8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h8(t){if(Array.isArray(t))return X0(t)}function X0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p8=function(e){return e},LP={},BP=function(e){return e===LP},Xk=function(e){return function r(){return arguments.length===0||arguments.length===1&&BP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},m8=function t(e,r){return e===1?r:Xk(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=a.filter(function(u){return u!==LP}).length;return c>=e?r.apply(void 0,a):t(e-c,Xk(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var p=a.map(function(m){return BP(m)?d.shift():m});return r.apply(void 0,c8(p).concat(d))}))})},Ff=function(e){return m8(e.length,e)},Y0=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},g8=Ff(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),v8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return p8;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},J0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qP=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function y8(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function x8(t,e,r){for(var n=new Qe(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var b8=Ff(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),w8=Ff(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),j8=Ff(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const zf={rangeStep:x8,getDigitCount:y8,interpolateNumber:b8,uninterpolateNumber:w8,uninterpolateTruncation:j8};function Q0(t){return N8(t)||S8(t)||UP(t)||_8()}function _8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function N8(t){if(Array.isArray(t))return Z0(t)}function Bl(t,e){return E8(t)||O8(t,e)||UP(t,e)||k8()}function k8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UP(t,e){if(t){if(typeof t=="string")return Z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(t,e)}}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var c=t[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,s=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw s}}return r}}function E8(t){if(Array.isArray(t))return t}function FP(t){var e=Bl(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function zP(t,e,r){if(t.lte(0))return new Qe(0);var n=zf.getDigitCount(t.toNumber()),a=new Qe(10).pow(n),s=t.div(a),c=n!==1?.05:.1,u=new Qe(Math.ceil(s.div(c).toNumber())).add(r).mul(c),d=u.mul(a);return e?d:new Qe(Math.ceil(d))}function A8(t,e,r){var n=1,a=new Qe(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new Qe(10).pow(zf.getDigitCount(t)-1),a=new Qe(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Qe(Math.floor(t)))}else t===0?a=new Qe(Math.floor((e-1)/2)):r||(a=new Qe(Math.floor(t)));var c=Math.floor((e-1)/2),u=v8(g8(function(d){return a.add(new Qe(d-c).mul(n)).toNumber()}),Y0);return u(0,e)}function WP(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var s=zP(new Qe(e).sub(t).div(r-1),n,a),c;t<=0&&e>=0?c=new Qe(0):(c=new Qe(t).add(e).div(2),c=c.sub(new Qe(c).mod(s)));var u=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new Qe(e).sub(c).div(s).toNumber()),h=u+d+1;return h>r?WP(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:s,tickMin:c.sub(new Qe(u).mul(s)),tickMax:c.add(new Qe(d).mul(s))})}function P8(t){var e=Bl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=FP([r,n]),d=Bl(u,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Q0(Y0(0,a-1).map(function(){return 1/0}))):[].concat(Q0(Y0(0,a-1).map(function(){return-1/0})),[p]);return r>n?J0(m):m}if(h===p)return A8(h,a,s);var v=WP(h,p,c,s),b=v.step,j=v.tickMin,w=v.tickMax,y=zf.rangeStep(j,w.add(new Qe(.1).mul(b)),b);return r>n?J0(y):y}function C8(t,e){var r=Bl(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=FP([n,a]),u=Bl(c,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var p=Math.max(e,2),m=zP(new Qe(h).sub(d).div(p-1),s,0),v=[].concat(Q0(zf.rangeStep(new Qe(d),new Qe(h).sub(new Qe(.99).mul(m)),m)),[h]);return n>a?J0(v):v}var T8=qP(P8),M8=qP(C8),$8="Invariant failed";function Oi(t,e){throw new Error($8)}var R8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}function I8(t,e){return q8(t)||B8(t,e)||L8(t,e)||D8()}function D8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function q8(t){if(Array.isArray(t))return t}function U8(t,e){if(t==null)return{};var r=F8(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KP(n.key),n)}}function H8(t,e,r){return e&&W8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V8(t,e,r){return e=zd(e),K8(t,HP()?Reflect.construct(e,r||[],zd(t).constructor):e.apply(t,r))}function K8(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G8(t)}function G8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(t)}function X8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ex(t,e)}function VP(t,e,r){return e=KP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KP(t){var e=Y8(t,"string");return Bs(e)=="symbol"?e:e+""}function Y8(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wf=(function(t){function e(){return z8(this,e),V8(this,e,arguments)}return X8(e,t),H8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,c=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=U8(n,R8),b=Le(v,!1);this.props.direction==="x"&&p.type!=="number"&&Oi();var j=d.map(function(w){var y=h(w,u),O=y.x,E=y.y,N=y.value,A=y.errorVal;if(!A)return null;var _=[],k,C;if(Array.isArray(A)){var P=I8(A,2);k=P[0],C=P[1]}else k=C=A;if(s==="vertical"){var R=p.scale,B=E+a,I=B+c,F=B-c,L=R(N-k),X=R(N+C);_.push({x1:X,y1:I,x2:X,y2:F}),_.push({x1:L,y1:B,x2:X,y2:B}),_.push({x1:L,y1:I,x2:L,y2:F})}else if(s==="horizontal"){var q=m.scale,z=O+a,ee=z-c,K=z+c,W=q(N-k),J=q(N+C);_.push({x1:ee,y1:J,x2:K,y2:J}),_.push({x1:z,y1:W,x2:z,y2:J}),_.push({x1:ee,y1:W,x2:K,y2:W})}return Y.createElement(mt,Fd({className:"recharts-errorBar",key:"bar-".concat(_.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},b),_.map(function($){return Y.createElement("line",Fd({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return Y.createElement(mt,{className:"recharts-errorBars"},j)}}])})(Y.Component);VP(Wf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VP(Wf,"displayName","ErrorBar");function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){J8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J8(t,e,r){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8(t){var e=Z8(t,"string");return ql(e)=="symbol"?e:e+""}function Z8(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GP=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,c=_r(r,Ns);if(!c)return null;var u=Ns.defaultProps,d=u!==void 0?ai(ai({},u),c.props):{},h;return c.props&&c.props.payload?h=c.props&&c.props.payload:s==="children"?h=(n||[]).reduce(function(p,m){var v=m.item,b=m.props,j=b.sectors||b.data||[];return p.concat(j.map(function(w){return{type:c.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,b=v!==void 0?ai(ai({},v),m.props):{},j=b.dataKey,w=b.name,y=b.legendType,O=b.hide;return{inactive:O,dataKey:j,type:d.iconType||y||"square",color:Gb(m),value:w||j,payload:b}}),ai(ai(ai({},d),Ns.getWithHeight(c,a)),{},{payload:h,item:c})};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Qk(t){return nB(t)||rB(t)||tB(t)||eB()}function eB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tB(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function rB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nB(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){Os(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Os(t,e,r){return e=aB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aB(t){var e=iB(t,"string");return Ul(e)=="symbol"?e:e+""}function iB(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,r){return Be(t)||Be(e)?r:Mt(e)?Br(t,e,r):De(e)?e(t):r}function yl(t,e,r,n){var a=n8(t,function(u){return Or(u,e)});if(r==="number"){var s=a.filter(function(u){return me(u)||parseFloat(u)});return s.length?[Uf(s),Ea(s)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!Be(u)}):a;return c.map(function(u){return Mt(u)||u instanceof Date?u:""})}var sB=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<u;h++){var p=h>0?a[h-1].coordinate:a[u-1].coordinate,m=a[h].coordinate,v=h>=u-1?a[0].coordinate:a[h+1].coordinate,b=void 0;if(nn(m-p)!==nn(v-m)){var j=[];if(nn(v-m)===nn(d[1]-d[0])){b=v;var w=m+d[1]-d[0];j[0]=Math.min(w,(w+p)/2),j[1]=Math.max(w,(w+p)/2)}else{b=p;var y=v+d[1]-d[0];j[0]=Math.min(m,(y+m)/2),j[1]=Math.max(m,(y+m)/2)}var O=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>O[0]&&e<=O[1]||e>=j[0]&&e<=j[1]){c=a[h].index;break}}else{var E=Math.min(p,v),N=Math.max(p,v);if(e>(E+m)/2&&e<=(N+m)/2){c=a[h].index;break}}}else for(var A=0;A<u;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){c=n[A].index;break}return c},Gb=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,c=s.stroke,u=s.fill,d;switch(a){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},oB=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var c={},u=Object.keys(s),d=0,h=u.length;d<h;d++)for(var p=s[u[d]].stackGroups,m=Object.keys(p),v=0,b=m.length;v<b;v++){var j=p[m[v]],w=j.items,y=j.cateAxisId,O=w.filter(function(C){return Wn(C.type).indexOf("Bar")>=0});if(O&&O.length){var E=O[0].type.defaultProps,N=E!==void 0?bt(bt({},E),O[0].props):O[0].props,A=N.barSize,_=N[y];c[_]||(c[_]=[]);var k=Be(A)?r:A;c[_].push({item:O[0],stackList:O.slice(1),barSize:Be(k)?void 0:Ni(k,n,0)})}}return c},lB=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,u=e.maxBarSize,d=c.length;if(d<1)return null;var h=Ni(r,a,0,!0),p,m=[];if(c[0].barSize===+c[0].barSize){var v=!1,b=a/d,j=c.reduce(function(A,_){return A+_.barSize||0},0);j+=(d-1)*h,j>=a&&(j-=(d-1)*h,h=0),j>=a&&b>0&&(v=!0,b*=.9,j=d*b);var w=(a-j)/2>>0,y={offset:w-h,size:0};p=c.reduce(function(A,_){var k={item:_.item,position:{offset:y.offset+y.size+h,size:v?b:_.barSize}},C=[].concat(Qk(A),[k]);return y=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(P){C.push({item:P,position:y})}),C},m)}else{var O=Ni(n,a,0,!0);a-2*O-(d-1)*h<=0&&(h=0);var E=(a-2*O-(d-1)*h)/d;E>1&&(E>>=0);var N=u===+u?Math.min(E,u):E;p=c.reduce(function(A,_,k){var C=[].concat(Qk(A),[{item:_.item,position:{offset:O+(E+h)*k+(E-N)/2,size:N}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},m)}return p},cB=function(e,r,n,a){var s=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),h=GP({children:s,legendWidth:d});if(h){var p=a||{},m=p.width,v=p.height,b=h.align,j=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&b!=="center"&&me(e[b]))return bt(bt({},e),{},Os({},b,e[b]+(m||0)));if((w==="horizontal"||w==="vertical"&&b==="center")&&j!=="middle"&&me(e[j]))return bt(bt({},e),{},Os({},j,e[j]+(v||0)))}return e},uB=function(e,r,n){return Be(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XP=function(e,r,n,a,s){var c=r.props.children,u=on(c,Wf).filter(function(h){return uB(a,s,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Or(p,n);if(Be(m))return h;var v=Array.isArray(m)?[Uf(m),Ea(m)]:[m,m],b=d.reduce(function(j,w){var y=Or(p,w,0),O=v[0]-Math.abs(Array.isArray(y)?y[0]:y),E=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(O,j[0]),Math.max(E,j[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},dB=function(e,r,n,a,s){var c=r.map(function(u){return XP(e,u,n,s,a)}).filter(function(u){return!Be(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},YP=function(e,r,n,a,s){var c=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&XP(e,d,h,a)||yl(e,h,n,s)});if(n==="number")return c.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)u[h[p]]||(u[h[p]]=!0,d.push(h[p]));return d},[])},JP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gi=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,c=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?nn(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:a(v)+h,value:m,offset:h}});return p.filter(function(m){return!no(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+h,value:m,index:v,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+h,value:m,offset:h}}):a.domain().map(function(m,v){return{coordinate:a(m)+h,value:s?s[m]:m,index:v,offset:h}})},wy=new WeakMap,Bu=function(e,r){if(typeof r!="function")return e;wy.has(e)||wy.set(e,new WeakMap);var n=wy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},fB=function(e,r,n){var a=e.scale,s=e.type,c=e.layout,u=e.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Tl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Dd(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vl(),realScaleType:"point"}:s==="category"?{scale:Tl(),realScaleType:"band"}:{scale:Dd(),realScaleType:"linear"};if(Si(a)){var d="scale".concat(Ef(a));return{scale:(Lk[d]||vl)(),realScaleType:Lk[d]?d:"point"}}return De(a)?{scale:a}:{scale:vl(),realScaleType:"point"}},eO=1e-4,hB=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-eO,c=Math.max(a[0],a[1])+eO,u=e(r[0]),d=e(r[n-1]);(u<s||u>c||d<s||d>c)&&e.domain([r[0],r[n-1]])}},pB=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},mB=function(e,r){if(!r||r.length!==2||!me(r[0])||!me(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!me(e[0])||e[0]<n)&&(s[0]=n),(!me(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},gB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0,u=0;u<r;++u){var d=no(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+d,c=e[u][n][1])}},vB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0;c<r;++c){var u=no(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},yB={sign:gB,expand:eI,none:Cs,silhouette:tI,wiggle:rI,positive:vB},xB=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),s=yB[n],c=ZR().keys(a).value(function(u,d){return+Or(u,d,0)}).order(C0).offset(s);return c(e)},bB=function(e,r,n,a,s,c){if(!e)return null;var u=c?r.reverse():r,d={},h=u.reduce(function(m,v){var b,j=(b=v.type)!==null&&b!==void 0&&b.defaultProps?bt(bt({},v.type.defaultProps),v.props):v.props,w=j.stackId,y=j.hide;if(y)return m;var O=j[n],E=m[O]||{hasStack:!1,stackGroups:{}};if(Mt(w)){var N=E.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(v),E.hasStack=!0,E.stackGroups[w]=N}else E.stackGroups[pc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return bt(bt({},m),{},Os({},O,E))},d),p={};return Object.keys(h).reduce(function(m,v){var b=h[v];if(b.hasStack){var j={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(w,y){var O=b.stackGroups[y];return bt(bt({},w),{},Os({},y,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:xB(e,O.items,s)}))},j)}return bt(bt({},m),{},Os({},v,b))},p)},wB=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=T8(h,s,u);return e.domain([Uf(p),Ea(p)]),{niceTicks:p}}if(s&&a==="number"){var m=e.domain(),v=M8(m,s,u);return{niceTicks:v}}return null};function tO(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,c=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Be(a[e.dataKey])){var u=vd(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Or(a,Be(c)?e.dataKey:c);return Be(d)?null:e.scale(d)}var rO=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,c=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=Or(c,r.dataKey,r.domain[u]);return Be(d)?null:r.scale(d)-s/2+a},jB=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},_B=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Mt(s)){var c=r[s];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null},SB=function(e){return e.reduce(function(r,n){return[Uf(n.concat([r[0]]).filter(me)),Ea(n.concat([r[1]]).filter(me))]},[1/0,-1/0])},QP=function(e,r,n){return Object.keys(e).reduce(function(a,s){var c=e[s],u=c.stackedData,d=u.reduce(function(h,p){var m=SB(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},nO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rx=function(e,r,n){if(De(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(me(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(nO.test(e[0])){var s=+nO.exec(e[0])[1];a[0]=r[0]-s}else De(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(me(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(aO.test(e[1])){var c=+aO.exec(e[1])[1];a[1]=r[1]+c}else De(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Wd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=jb(r,function(m){return m.coordinate}),c=1/0,u=1,d=s.length;u<d;u++){var h=s[u],p=s[u-1];c=Math.min((h.coordinate||0)-(p.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},iO=function(e,r,n){return!e||!e.length||Dl(e,Br(n,"type.defaultProps.domain"))?r:e},ZP=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return bt(bt({},Le(e,!1)),{},{dataKey:a,unit:c,formatter:u,name:s||a,color:Gb(e),value:Or(r,a),type:d,payload:r,chartType:h,hide:p})};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NB(t,e,r){return e=kB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kB(t){var e=OB(t,"string");return Fl(e)=="symbol"?e:e+""}function OB(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hd=Math.PI/180,EB=function(e){return e*180/Math.PI},Gt=function(e,r,n,a){return{x:e+Math.cos(-Hd*a)*n,y:r+Math.sin(-Hd*a)*n}},AB=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-c,2))},PB=function(e,r){var n=e.x,a=e.y,s=r.cx,c=r.cy,u=AB({x:n,y:a},{x:s,y:c});if(u<=0)return{radius:u};var d=(n-s)/u,h=Math.acos(d);return a>c&&(h=2*Math.PI-h),{radius:u,angle:EB(h),angleInRadian:h}},CB=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return{startAngle:r-c*360,endAngle:n-c*360}},TB=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(s,c);return e+u*360},lO=function(e,r){var n=e.x,a=e.y,s=PB({x:n,y:a},r),c=s.radius,u=s.angle,d=r.innerRadius,h=r.outerRadius;if(c<d||c>h)return!1;if(c===0)return!0;var p=CB(r),m=p.startAngle,v=p.endAngle,b=u,j;if(m<=v){for(;b>v;)b-=360;for(;b<m;)b+=360;j=b>=m&&b<=v}else{for(;b>m;)b-=360;for(;b<v;)b+=360;j=b>=v&&b<=m}return j?oO(oO({},r),{},{radius:c,angle:TB(b,r)}):null};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}var MB=["offset"];function $B(t){return LB(t)||DB(t)||IB(t)||RB()}function RB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(t,e){if(t){if(typeof t=="string")return nx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(t,e)}}function DB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LB(t){if(Array.isArray(t))return nx(t)}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BB(t,e){if(t==null)return{};var r=qB(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){UB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UB(t,e,r){return e=FB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FB(t){var e=zB(t,"string");return zl(e)=="symbol"?e:e+""}function zB(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}var WB=function(e){var r=e.value,n=e.formatter,a=Be(e.children)?r:e.children;return De(n)?n(a):a},HB=function(e,r){var n=nn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},VB=function(e,r,n){var a=e.position,s=e.viewBox,c=e.offset,u=e.className,d=s,h=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,b=d.startAngle,j=d.endAngle,w=d.clockWise,y=(m+v)/2,O=HB(b,j),E=O>=0?1:-1,N,A;a==="insideStart"?(N=b+E*c,A=w):a==="insideEnd"?(N=j-E*c,A=!w):a==="end"&&(N=j+E*c,A=w),A=O<=0?A:!A;var _=Gt(h,p,y,N),k=Gt(h,p,y,N+(A?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),P=Be(e.id)?pc("recharts-radial-line-"):e.id;return Y.createElement("text",Wl({},n,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",u)}),Y.createElement("defs",null,Y.createElement("path",{id:P,d:C})),Y.createElement("textPath",{xlinkHref:"#".concat(P)},r))},KB=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,c=s.cx,u=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(a==="outside"){var b=Gt(c,u,h+n,v),j=b.x,w=b.y;return{x:j,y:w,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+h)/2,O=Gt(c,u,y,v),E=O.x,N=O.y;return{x:E,y:N,textAnchor:"middle",verticalAnchor:"middle"}},GB=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,c=r,u=c.x,d=c.y,h=c.width,p=c.height,m=p>=0?1:-1,v=m*a,b=m>0?"end":"start",j=m>0?"start":"end",w=h>=0?1:-1,y=w*a,O=w>0?"end":"start",E=w>0?"start":"end";if(s==="top"){var N={x:u+h/2,y:d-m*a,textAnchor:"middle",verticalAnchor:b};return Ct(Ct({},N),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var A={x:u+h/2,y:d+p+v,textAnchor:"middle",verticalAnchor:j};return Ct(Ct({},A),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(s==="left"){var _={x:u-y,y:d+p/2,textAnchor:O,verticalAnchor:"middle"};return Ct(Ct({},_),n?{width:Math.max(_.x-n.x,0),height:p}:{})}if(s==="right"){var k={x:u+h+y,y:d+p/2,textAnchor:E,verticalAnchor:"middle"};return Ct(Ct({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:p}:{})}var C=n?{width:h,height:p}:{};return s==="insideLeft"?Ct({x:u+y,y:d+p/2,textAnchor:E,verticalAnchor:"middle"},C):s==="insideRight"?Ct({x:u+h-y,y:d+p/2,textAnchor:O,verticalAnchor:"middle"},C):s==="insideTop"?Ct({x:u+h/2,y:d+v,textAnchor:"middle",verticalAnchor:j},C):s==="insideBottom"?Ct({x:u+h/2,y:d+p-v,textAnchor:"middle",verticalAnchor:b},C):s==="insideTopLeft"?Ct({x:u+y,y:d+v,textAnchor:E,verticalAnchor:j},C):s==="insideTopRight"?Ct({x:u+h-y,y:d+v,textAnchor:O,verticalAnchor:j},C):s==="insideBottomLeft"?Ct({x:u+y,y:d+p-v,textAnchor:E,verticalAnchor:b},C):s==="insideBottomRight"?Ct({x:u+h-y,y:d+p-v,textAnchor:O,verticalAnchor:b},C):ro(s)&&(me(s.x)||hi(s.x))&&(me(s.y)||hi(s.y))?Ct({x:u+Ni(s.x,h),y:d+Ni(s.y,p),textAnchor:"end",verticalAnchor:"end"},C):Ct({x:u+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},C)},XB=function(e){return"cx"in e&&me(e.cx)};function er(t){var e=t.offset,r=e===void 0?5:e,n=BB(t,MB),a=Ct({offset:r},n),s=a.viewBox,c=a.position,u=a.value,d=a.children,h=a.content,p=a.className,m=p===void 0?"":p,v=a.textBreakAll;if(!s||Be(u)&&Be(d)&&!M.isValidElement(h)&&!De(h))return null;if(M.isValidElement(h))return M.cloneElement(h,a);var b;if(De(h)){if(b=M.createElement(h,a),M.isValidElement(b))return b}else b=WB(a);var j=XB(s),w=Le(a,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return VB(a,b,w);var y=j?KB(a):GB(a);return Y.createElement(Pd,Wl({className:Fe("recharts-label",m)},w,y,{breakAll:v}),b)}er.displayName="Label";var eC=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,c=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,b=e.top,j=e.left,w=e.width,y=e.height,O=e.clockWise,E=e.labelViewBox;if(E)return E;if(me(w)&&me(y)){if(me(m)&&me(v))return{x:m,y:v,width:w,height:y};if(me(b)&&me(j))return{x:b,y:j,width:w,height:y}}return me(m)&&me(v)?{x:m,y:v,width:0,height:0}:me(r)&&me(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:c||a||0,innerRadius:h||0,outerRadius:p||d||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},YB=function(e,r){return e?e===!0?Y.createElement(er,{key:"label-implicit",viewBox:r}):Mt(e)?Y.createElement(er,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===er?M.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(er,{key:"label-implicit",content:e,viewBox:r}):De(e)?Y.createElement(er,{key:"label-implicit",content:e,viewBox:r}):ro(e)?Y.createElement(er,Wl({viewBox:r},e,{key:"label-implicit"})):null:null},JB=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=eC(e),c=on(a,er).map(function(d,h){return M.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return c;var u=YB(e.label,r||s);return[u].concat($B(c))};er.parseViewBox=eC;er.renderCallByParent=JB;var jy,uO;function QB(){if(uO)return jy;uO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return jy=t,jy}var ZB=QB();const eq=Ze(ZB);function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var tq=["valueAccessor"],rq=["data","dataKey","clockWise","id","textBreakAll"];function nq(t){return oq(t)||sq(t)||iq(t)||aq()}function aq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(t,e){if(t){if(typeof t=="string")return ax(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(t,e)}}function sq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oq(t){if(Array.isArray(t))return ax(t)}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(this,arguments)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){lq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lq(t,e,r){return e=cq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cq(t){var e=uq(t,"string");return Hl(e)=="symbol"?e:e+""}function uq(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hO(t,e){if(t==null)return{};var r=dq(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fq=function(e){return Array.isArray(e.value)?eq(e.value):e.value};function Ma(t){var e=t.valueAccessor,r=e===void 0?fq:e,n=hO(t,tq),a=n.data,s=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,h=hO(n,rq);return!a||!a.length?null:Y.createElement(mt,{className:"recharts-label-list"},a.map(function(p,m){var v=Be(s)?r(p,m):Or(p&&p.payload,s),b=Be(u)?{}:{id:"".concat(u,"-").concat(m)};return Y.createElement(er,Vd({},Le(p,!0),h,b,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:er.parseViewBox(Be(c)?p:fO(fO({},p),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}Ma.displayName="LabelList";function hq(t,e){return t?t===!0?Y.createElement(Ma,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||De(t)?Y.createElement(Ma,{key:"labelList-implicit",data:e,content:t}):ro(t)?Y.createElement(Ma,Vd({data:e},t,{key:"labelList-implicit"})):null:null}function pq(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=on(n,Ma).map(function(c,u){return M.cloneElement(c,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var s=hq(t.label,e);return[s].concat(nq(a))}Ma.renderCallByParent=pq;function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){mq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mq(t,e,r){return e=gq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gq(t){var e=vq(t,"string");return Vl(e)=="symbol"?e:e+""}function vq(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yq=function(e,r){var n=nn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},qu=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,c=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(u?1:-1)+a,m=Math.asin(d/p)/Hd,v=h?s:s+c*m,b=Gt(r,n,p,v),j=Gt(r,n,a,v),w=h?s-c*m:s,y=Gt(r,n,p*Math.cos(m*Hd),w);return{center:b,circleTangency:j,lineTangency:y,theta:m}},tC=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.startAngle,u=e.endAngle,d=yq(c,u),h=c+d,p=Gt(r,n,s,c),m=Gt(r,n,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var b=Gt(r,n,a,c),j=Gt(r,n,a,h);v+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},xq=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=nn(p-h),v=qu({cx:r,cy:n,radius:s,angle:h,sign:m,cornerRadius:c,cornerIsExternal:d}),b=v.circleTangency,j=v.lineTangency,w=v.theta,y=qu({cx:r,cy:n,radius:s,angle:p,sign:-m,cornerRadius:c,cornerIsExternal:d}),O=y.circleTangency,E=y.lineTangency,N=y.theta,A=d?Math.abs(h-p):Math.abs(h-p)-w-N;if(A<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):tC({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p});var _="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(a>0){var k=qu({cx:r,cy:n,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),C=k.circleTangency,P=k.lineTangency,R=k.theta,B=qu({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=B.circleTangency,F=B.lineTangency,L=B.theta,X=d?Math.abs(h-p):Math.abs(h-p)-R-L;if(X<0&&c===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(F.x,",").concat(F.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(X>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},bq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rC=function(e){var r=mO(mO({},bq),e),n=r.cx,a=r.cy,s=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(c<s||p===m)return null;var b=Fe("recharts-sector",v),j=c-s,w=Ni(u,j,0,!0),y;return w>0&&Math.abs(p-m)<360?y=xq({cx:n,cy:a,innerRadius:s,outerRadius:c,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):y=tC({cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:p,endAngle:m}),Y.createElement("path",ix({},Le(r,!0),{className:b,d:y,role:"img"}))};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){wq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wq(t,e,r){return e=jq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jq(t){var e=_q(t,"string");return Kl(e)=="symbol"?e:e+""}function _q(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yO={curveBasisClosed:FR,curveBasisOpen:zR,curveBasis:UR,curveBumpX:OR,curveBumpY:ER,curveLinearClosed:WR,curveLinear:Pf,curveMonotoneX:HR,curveMonotoneY:VR,curveNatural:KR,curveStep:GR,curveStepAfter:YR,curveStepBefore:XR},Uu=function(e){return e.x===+e.x&&e.y===+e.y},tl=function(e){return e.x},rl=function(e){return e.y},Sq=function(e,r){if(De(e))return e;var n="curve".concat(Ef(e));return(n==="curveMonotone"||n==="curveBump")&&r?yO["".concat(n).concat(r==="vertical"?"Y":"X")]:yO[n]||Pf},Nq=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,c=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=Sq(n,u),m=h?s.filter(function(w){return Uu(w)}):s,v;if(Array.isArray(c)){var b=h?c.filter(function(w){return Uu(w)}):c,j=m.map(function(w,y){return vO(vO({},w),{},{base:b[y]})});return u==="vertical"?v=Tu().y(rl).x1(tl).x0(function(w){return w.base.x}):v=Tu().x(tl).y1(rl).y0(function(w){return w.base.y}),v.defined(Uu).curve(p),v(j)}return u==="vertical"&&me(c)?v=Tu().y(rl).x1(tl).x0(c):me(c)?v=Tu().x(tl).y1(rl).y0(c):v=o5().x(tl).y(rl),v.defined(Uu).curve(p),v(m)},xl=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?Nq(e):a;return M.createElement("path",sx({},Le(e,!1),yd(e),{className:Fe("recharts-curve",r),d:c,ref:s}))},_y={exports:{}},Sy,xO;function kq(){if(xO)return Sy;xO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sy=t,Sy}var Ny,bO;function Oq(){if(bO)return Ny;bO=1;var t=kq();function e(){}function r(){}return r.resetWarningCache=e,Ny=function(){function n(c,u,d,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},Ny}var wO;function Eq(){return wO||(wO=1,_y.exports=Oq()()),_y.exports}var Aq=Eq();const Xe=Ze(Aq),{getOwnPropertyNames:Pq,getOwnPropertySymbols:Cq}=Object,{hasOwnProperty:Tq}=Object.prototype;function ky(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Fu(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:s}=a,c=s.get(r),u=s.get(n);if(c&&u)return c===n&&u===r;s.set(r,n),s.set(n,r);const d=t(r,n,a);return s.delete(r),s.delete(n),d}}function Mq(t){return t?.[Symbol.toStringTag]}function jO(t){return Pq(t).concat(Cq(t))}const $q=Object.hasOwn||((t,e)=>Tq.call(t,e));function Ci(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Rq="__v",Iq="__o",Dq="_owner",{getOwnPropertyDescriptor:_O,keys:SO}=Object;function Lq(t,e){return t.byteLength===e.byteLength&&Kd(new Uint8Array(t),new Uint8Array(e))}function Bq(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qq(t,e){return t.byteLength===e.byteLength&&Kd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Uq(t,e){return Ci(t.getTime(),e.getTime())}function Fq(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zq(t,e){return t===e}function NO(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.entries();let c,u,d=0;for(;(c=s.next())&&!c.done;){const h=e.entries();let p=!1,m=0;for(;(u=h.next())&&!u.done;){if(a[m]){m++;continue}const v=c.value,b=u.value;if(r.equals(v[0],b[0],d,m,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}const Wq=Ci;function Hq(t,e,r){const n=SO(t);let a=n.length;if(SO(e).length!==a)return!1;for(;a-- >0;)if(!nC(t,e,r,n[a]))return!1;return!0}function nl(t,e,r){const n=jO(t);let a=n.length;if(jO(e).length!==a)return!1;let s,c,u;for(;a-- >0;)if(s=n[a],!nC(t,e,r,s)||(c=_O(t,s),u=_O(e,s),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function Vq(t,e){return Ci(t.valueOf(),e.valueOf())}function Kq(t,e){return t.source===e.source&&t.flags===e.flags}function kO(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.values();let c,u;for(;(c=s.next())&&!c.done;){const d=e.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(c.value,u.value,c.value,u.value,t,e,r)){h=a[p]=!0;break}p++}if(!h)return!1}return!0}function Kd(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Gq(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function nC(t,e,r,n){return(n===Dq||n===Iq||n===Rq)&&(t.$$typeof||e.$$typeof)?!0:$q(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Xq="[object ArrayBuffer]",Yq="[object Arguments]",Jq="[object Boolean]",Qq="[object DataView]",Zq="[object Date]",eU="[object Error]",tU="[object Map]",rU="[object Number]",nU="[object Object]",aU="[object RegExp]",iU="[object Set]",sU="[object String]",oU={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lU="[object URL]",cU=Object.prototype.toString;function uU({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:b,unknownTagComparators:j}){return function(y,O,E){if(y===O)return!0;if(y==null||O==null)return!1;const N=typeof y;if(N!==typeof O)return!1;if(N!=="object")return N==="number"?u(y,O,E):N==="function"?s(y,O,E):!1;const A=y.constructor;if(A!==O.constructor)return!1;if(A===Object)return d(y,O,E);if(Array.isArray(y))return e(y,O,E);if(A===Date)return n(y,O,E);if(A===RegExp)return p(y,O,E);if(A===Map)return c(y,O,E);if(A===Set)return m(y,O,E);const _=cU.call(y);if(_===Zq)return n(y,O,E);if(_===aU)return p(y,O,E);if(_===tU)return c(y,O,E);if(_===iU)return m(y,O,E);if(_===nU)return typeof y.then!="function"&&typeof O.then!="function"&&d(y,O,E);if(_===lU)return b(y,O,E);if(_===eU)return a(y,O,E);if(_===Yq)return d(y,O,E);if(oU[_])return v(y,O,E);if(_===Xq)return t(y,O,E);if(_===Qq)return r(y,O,E);if(_===Jq||_===rU||_===sU)return h(y,O,E);if(j){let k=j[_];if(!k){const C=Mq(y);C&&(k=j[C])}if(k)return k(y,O,E)}return!1}}function dU({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Lq,areArraysEqual:r?nl:Bq,areDataViewsEqual:qq,areDatesEqual:Uq,areErrorsEqual:Fq,areFunctionsEqual:zq,areMapsEqual:r?ky(NO,nl):NO,areNumbersEqual:Wq,areObjectsEqual:r?nl:Hq,arePrimitiveWrappersEqual:Vq,areRegExpsEqual:Kq,areSetsEqual:r?ky(kO,nl):kO,areTypedArraysEqual:r?ky(Kd,nl):Kd,areUrlsEqual:Gq,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=Fu(n.areArraysEqual),s=Fu(n.areMapsEqual),c=Fu(n.areObjectsEqual),u=Fu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:u})}return n}function fU(t){return function(e,r,n,a,s,c,u){return t(e,r,u)}}function hU({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:p}=r();return e(u,d,{cache:h,equals:n,meta:p,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,s)}}const pU=qa();qa({strict:!0});qa({circular:!0});qa({circular:!0,strict:!0});qa({createInternalComparator:()=>Ci});qa({strict:!0,createInternalComparator:()=>Ci});qa({circular:!0,createInternalComparator:()=>Ci});qa({circular:!0,createInternalComparator:()=>Ci,strict:!0});function qa(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,s=dU(t),c=uU(s),u=r?r(c):fU(c);return hU({circular:e,comparator:c,createState:n,equals:u,strict:a})}function mU(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function OO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):mU(a)};requestAnimationFrame(n)}function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function gU(t){return bU(t)||xU(t)||yU(t)||vU()}function vU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(t,e){if(t){if(typeof t=="string")return EO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(t,e)}}function EO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bU(t){if(Array.isArray(t))return t}function wU(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,u=gU(c),d=u[0],h=u.slice(1);if(typeof d=="number"){OO(a.bind(null,h),d);return}a(d),OO(a.bind(null,h));return}ox(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){aC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aC(t,e,r){return e=jU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jU(t){var e=_U(t,"string");return Gl(e)==="symbol"?e:String(e)}function _U(t,e){if(Gl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SU=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},NU=function(e){return e},kU=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bl=function(e,r){return Object.keys(r).reduce(function(n,a){return PO(PO({},n),{},aC({},a,e(a,r[a])))},{})},CO=function(e,r,n){return e.map(function(a){return"".concat(kU(a)," ").concat(r,"ms ").concat(n)}).join(",")};function OU(t,e){return PU(t)||AU(t,e)||iC(t,e)||EU()}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function PU(t){if(Array.isArray(t))return t}function CU(t){return $U(t)||MU(t)||iC(t)||TU()}function TU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iC(t,e){if(t){if(typeof t=="string")return lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(t,e)}}function MU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $U(t){if(Array.isArray(t))return lx(t)}function lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Gd=1e-4,sC=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},oC=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},TO=function(e,r){return function(n){var a=sC(e,r);return oC(a,n)}},RU=function(e,r){return function(n){var a=sC(e,r),s=[].concat(CU(a.map(function(c,u){return c*u}).slice(1)),[0]);return oC(s,n)}},MO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,c=1,u=1;break;case"ease":a=.25,s=.1,c=.25,u=1;break;case"ease-in":a=.42,s=0,c=1,u=1;break;case"ease-out":a=.42,s=0,c=.58,u=1;break;case"ease-in-out":a=0,s=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=OU(h,4);a=p[0],s=p[1],c=p[2],u=p[3]}}}var m=TO(a,c),v=TO(s,u),b=RU(a,c),j=function(O){return O>1?1:O<0?0:O},w=function(O){for(var E=O>1?1:O,N=E,A=0;A<8;++A){var _=m(N)-E,k=b(N);if(Math.abs(_-E)<Gd||k<Gd)return v(N);N=j(N-_/k)}return v(N)};return w.isStepper=!1,w},IU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,c=e.dt,u=c===void 0?17:c,d=function(p,m,v){var b=-(p-m)*n,j=v*s,w=v+(b-j)*u/1e3,y=v*u/1e3+p;return Math.abs(y-m)<Gd&&Math.abs(w)<Gd?[m,0]:[y,w]};return d.isStepper=!0,d.dt=u,d},DU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MO(a);case"spring":return IU();default:if(a.split("(")[0]==="cubic-bezier")return MO(a)}return typeof a=="function"?a:null};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function $O(t){return qU(t)||BU(t)||lC(t)||LU()}function LU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qU(t){if(Array.isArray(t))return ux(t)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){cx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cx(t,e,r){return e=UU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UU(t){var e=FU(t,"string");return Xl(e)==="symbol"?e:String(e)}function FU(t,e){if(Xl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zU(t,e){return VU(t)||HU(t,e)||lC(t,e)||WU()}function WU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lC(t,e){if(t){if(typeof t=="string")return ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(t,e)}}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function VU(t){if(Array.isArray(t))return t}var Xd=function(e,r,n){return e+(r-e)*n},dx=function(e){var r=e.from,n=e.to;return r!==n},KU=function t(e,r,n){var a=bl(function(s,c){if(dx(c)){var u=e(c.from,c.to,c.velocity),d=zU(u,2),h=d[0],p=d[1];return Kt(Kt({},c),{},{from:h,velocity:p})}return c},r);return n<1?bl(function(s,c){return dx(c)?Kt(Kt({},c),{},{velocity:Xd(c.velocity,a[s].velocity,n),from:Xd(c.from,a[s].from,n)}):c},r):t(e,a,n-1)};const GU=(function(t,e,r,n,a){var s=SU(t,e),c=s.reduce(function(y,O){return Kt(Kt({},y),{},cx({},O,[t[O],e[O]]))},{}),u=s.reduce(function(y,O){return Kt(Kt({},y),{},cx({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,h,p,m=function(){return null},v=function(){return bl(function(O,E){return E.from},u)},b=function(){return!Object.values(u).filter(dx).length},j=function(O){h||(h=O);var E=O-h,N=E/r.dt;u=KU(r,u,N),a(Kt(Kt(Kt({},t),e),v())),h=O,b()||(d=requestAnimationFrame(m))},w=function(O){p||(p=O);var E=(O-p)/n,N=bl(function(_,k){return Xd.apply(void 0,$O(k).concat([r(E)]))},c);if(a(Kt(Kt(Kt({},t),e),N)),E<1)d=requestAnimationFrame(m);else{var A=bl(function(_,k){return Xd.apply(void 0,$O(k).concat([r(1)]))},c);a(Kt(Kt(Kt({},t),e),A))}};return m=r.isStepper?j:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}var XU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YU(t,e){if(t==null)return{};var r=JU(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JU(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Oy(t){return tF(t)||eF(t)||ZU(t)||QU()}function QU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZU(t,e){if(t){if(typeof t=="string")return fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(t,e)}}function eF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tF(t){if(Array.isArray(t))return fx(t)}function fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){hl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hl(t,e,r){return e=cC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function aF(t,e,r){return e&&nF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cC(t){var e=iF(t,"string");return qs(e)==="symbol"?e:String(e)}function iF(t,e){if(qs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(t,e)}function oF(t){var e=lF();return function(){var n=Yd(t),a;if(e){var s=Yd(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return px(this,a)}}function px(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mx(t)}function mx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}var Yn=(function(t){sF(r,t);var e=oF(r);function r(n,a){var s;rF(this,r),s=e.call(this,n,a);var c=s.props,u=c.isActive,d=c.attributeName,h=c.from,p=c.to,m=c.steps,v=c.children,b=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(mx(s)),s.changeStyle=s.changeStyle.bind(mx(s)),!u||b<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),px(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},px(s);s.state={style:d?hl({},d,h):h}}else s.state={style:{}};return s}return aF(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,c=a.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,c=s.isActive,u=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(u){if(!c){var b={style:d?hl({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(b);return}if(!(pU(a.to,p)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||h?m:a.to;if(this.state&&v){var y={style:d?hl({},d,w):w};(d&&v[d]!==w||!d&&v!==w)&&this.setState(y)}this.runAnimation(Yr(Yr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,c=a.from,u=a.to,d=a.duration,h=a.easing,p=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,b=GU(c,u,DU(h),d,this.changeStyle),j=function(){s.stopJSAnimation=b()};this.manager.start([v,p,j,d,m])}},{key:"runStepAnimation",value:function(a){var s=this,c=a.steps,u=a.begin,d=a.onAnimationStart,h=c[0],p=h.style,m=h.duration,v=m===void 0?0:m,b=function(w,y,O){if(O===0)return w;var E=y.duration,N=y.easing,A=N===void 0?"ease":N,_=y.style,k=y.properties,C=y.onAnimationEnd,P=O>0?c[O-1]:y,R=k||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(Oy(w),[s.runJSAnimation.bind(s,{from:P.style,to:_,duration:E,easing:A}),E]);var B=CO(R,E,A),I=Yr(Yr(Yr({},P.style),_),{},{transition:B});return[].concat(Oy(w),[I,E,C]).filter(NU)};return this.manager.start([d].concat(Oy(c.reduce(b,[p,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wU());var s=a.begin,c=a.duration,u=a.attributeName,d=a.to,h=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,b=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var w=u?hl({},u,d):d,y=CO(Object.keys(w),c,h);j.start([p,s,Yr(Yr({},w),{},{transition:y}),c,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=YU(a,XU),h=M.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||h===0||c<=0)return s;var m=function(b){var j=b.props,w=j.style,y=w===void 0?{}:w,O=j.className,E=M.cloneElement(b,Yr(Yr({},d),{},{style:Yr(Yr({},y),p),className:O}));return E};return h===1?m(M.Children.only(s)):Y.createElement("div",null,M.Children.map(s,function(v){return m(v)}))}}]),r})(M.PureComponent);Yn.displayName="Animate";Yn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yn.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};var cF=TA();const uF=Ze(cF);function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}function dF(t,e){return mF(t)||pF(t,e)||hF(t,e)||fF()}function fF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hF(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function mF(t){if(Array.isArray(t))return t}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){gF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gF(t,e,r){return e=vF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vF(t){var e=yF(t,"string");return Yl(e)=="symbol"?e:e+""}function yF(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qO=function(e,r,n,a,s){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,p;if(c>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,b=4;v<b;v++)m[v]=s[v]>c?c:s[v];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+a-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-u*m[3])),p+="Z"}else if(c>0&&s===+s&&s>0){var j=Math.min(c,s);p="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e,",").concat(r+a-u*j," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},xF=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(s,s+u),p=Math.max(s,s+u),m=Math.min(c,c+d),v=Math.max(c,c+d);return n>=h&&n<=p&&a>=m&&a<=v}return!1},bF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xb=function(e){var r=BO(BO({},bF),e),n=M.useRef(),a=M.useState(-1),s=dF(a,2),c=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,v=r.radius,b=r.className,j=r.animationEasing,w=r.animationDuration,y=r.animationBegin,O=r.isAnimationActive,E=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var N=Fe("recharts-rectangle",b);return E?Y.createElement(Yn,{canBegin:c>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:w,animationEasing:j,isActive:E},function(A){var _=A.width,k=A.height,C=A.x,P=A.y;return Y.createElement(Yn,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:O,easing:j},Y.createElement("path",Jd({},Le(r,!0),{className:N,d:qO(C,P,_,k,v),ref:n})))}):Y.createElement("path",Jd({},Le(r,!0),{className:N,d:qO(d,h,p,m,v)}))};function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}var Yb=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,c=Fe("recharts-dot",s);return r===+r&&n===+n&&a===+a?M.createElement("circle",gx({},Le(e,!1),yd(e),{className:c,cx:r,cy:n,r:a})):null};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var wF=["x","y","top","left","width","height","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){_F(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _F(t,e,r){return e=SF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SF(t){var e=NF(t,"string");return Jl(e)=="symbol"?e:e+""}function NF(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kF(t,e){if(t==null)return{};var r=OF(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EF=function(e,r,n,a,s,c){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},AF=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.top,u=c===void 0?0:c,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,b=v===void 0?0:v,j=e.className,w=kF(e,wF),y=jF({x:n,y:s,top:u,left:h,width:m,height:b},w);return!me(n)||!me(s)||!me(m)||!me(b)||!me(u)||!me(h)?null:Y.createElement("path",vx({},Le(y,!0),{className:Fe("recharts-cross",j),d:EF(n,s,m,b,u,h)}))},Ey,FO;function PF(){if(FO)return Ey;FO=1;var t=P5(),e=t(Object.getPrototypeOf,Object);return Ey=e,Ey}var Ay,zO;function CF(){if(zO)return Ay;zO=1;var t=Qn(),e=PF(),r=Zn(),n="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,d=c.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&c.call(v)==d}return Ay=h,Ay}var TF=CF();const MF=Ze(TF);var Py,WO;function $F(){if(WO)return Py;WO=1;var t=Qn(),e=Zn(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Py=n,Py}var RF=$F();const IF=Ze(RF);function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function DF(t,e){return UF(t)||qF(t,e)||BF(t,e)||LF()}function LF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BF(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function UF(t){if(Array.isArray(t))return t}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){FF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FF(t,e,r){return e=zF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zF(t){var e=WF(t,"string");return Ql(e)=="symbol"?e:e+""}function WF(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GO=function(e,r,n,a,s){var c=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-c/2,",").concat(r+s),u+="L ".concat(e+n-c/2-a,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},HF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VF=function(e){var r=KO(KO({},HF),e),n=M.useRef(),a=M.useState(-1),s=DF(a,2),c=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,b=r.className,j=r.animationEasing,w=r.animationDuration,y=r.animationBegin,O=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var E=Fe("recharts-trapezoid",b);return O?Y.createElement(Yn,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:h},duration:w,animationEasing:j,isActive:O},function(N){var A=N.upperWidth,_=N.lowerWidth,k=N.height,C=N.x,P=N.y;return Y.createElement(Yn,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:j},Y.createElement("path",Qd({},Le(r,!0),{className:E,d:GO(C,P,A,_,k),ref:n})))}):Y.createElement("g",null,Y.createElement("path",Qd({},Le(r,!0),{className:E,d:GO(d,h,p,m,v)})))},KF=["option","shapeType","propTransformer","activeClassName","isActive"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function GF(t,e){if(t==null)return{};var r=XF(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){YF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YF(t,e,r){return e=JF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JF(t){var e=QF(t,"string");return Zl(e)=="symbol"?e:e+""}function QF(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZF(t,e){return Zd(Zd({},e),t)}function ez(t,e){return t==="symbols"}function YO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(Xb,r);case"trapezoid":return Y.createElement(VF,r);case"sector":return Y.createElement(rC,r);case"symbols":if(ez(e))return Y.createElement(pb,r);break;default:return null}}function tz(t){return M.isValidElement(t)?t.props:t}function rz(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?ZF:n,s=t.activeClassName,c=s===void 0?"recharts-active-shape":s,u=t.isActive,d=GF(t,KF),h;if(M.isValidElement(e))h=M.cloneElement(e,Zd(Zd({},d),tz(e)));else if(De(e))h=e(d);else if(MF(e)&&!IF(e)){var p=a(e,d);h=Y.createElement(YO,{shapeType:r,elementProps:p})}else{var m=d;h=Y.createElement(YO,{shapeType:r,elementProps:m})}return u?Y.createElement(mt,{className:c},h):h}function Hf(t,e){return e!=null&&"trapezoids"in t.props}function Vf(t,e){return e!=null&&"sectors"in t.props}function ec(t,e){return e!=null&&"points"in t.props}function nz(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function az(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function iz(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function sz(t,e){var r;return Hf(t,e)?r=nz:Vf(t,e)?r=az:ec(t,e)&&(r=iz),r}function oz(t,e){var r;return Hf(t,e)?r="trapezoids":Vf(t,e)?r="sectors":ec(t,e)&&(r="points"),r}function lz(t,e){if(Hf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ec(t,e)?e.payload:{}}function cz(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=oz(r,e),s=lz(r,e),c=n.filter(function(d,h){var p=Dl(s,d),m=r.props[a].filter(function(j){var w=sz(r,e);return w(j,e)}),v=r.props[a].indexOf(m[m.length-1]),b=h===v;return p&&b}),u=n.indexOf(c[c.length-1]);return u}var Cy,JO;function uz(){if(JO)return Cy;JO=1;var t=Math.ceil,e=Math.max;function r(n,a,s,c){for(var u=-1,d=e(t((a-n)/(s||1)),0),h=Array(d);d--;)h[c?d:++u]=n,n+=s;return h}return Cy=r,Cy}var Ty,QO;function uC(){if(QO)return Ty;QO=1;var t=V5(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return Ty=n,Ty}var My,ZO;function dz(){if(ZO)return My;ZO=1;var t=uz(),e=$f(),r=uC();function n(a){return function(s,c,u){return u&&typeof u!="number"&&e(s,c,u)&&(c=u=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),u=u===void 0?s<c?1:-1:r(u),t(s,c,u,a)}}return My=n,My}var $y,eE;function fz(){if(eE)return $y;eE=1;var t=dz(),e=t();return $y=e,$y}var hz=fz();const ef=Ze(hz);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){dC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dC(t,e,r){return e=pz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pz(t){var e=mz(t,"string");return tc(e)=="symbol"?e:e+""}function mz(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gz=["Webkit","Moz","O","ms"],vz=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=gz.reduce(function(s,c){return rE(rE({},s),{},dC({},c+n,r))},{});return a[e]=r,a};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tf.apply(this,arguments)}function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hC(n.key),n)}}function xz(t,e,r){return e&&aE(t.prototype,e),r&&aE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bz(t,e,r){return e=rf(e),wz(t,fC()?Reflect.construct(e,r||[],rf(t).constructor):e.apply(t,r))}function wz(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jz(t)}function jz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!t})()}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(t)}function _z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yx(t,e)}function jr(t,e,r){return e=hC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hC(t){var e=Sz(t,"string");return Us(e)=="symbol"?e:e+""}function Sz(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nz=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,c=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=vl().domain(ef(0,d)).range([s,s+c-u]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:p}},iE=function(e){return e.changedTouches&&!!e.changedTouches.length},Fs=(function(t){function e(r){var n;return yz(this,e),n=bz(this,e,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var s=iE(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _z(e,t),xz(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,p=h.length-1,m=Math.min(a,s),v=Math.max(a,s),b=e.getIndexInRange(c,m),j=e.getIndexInRange(c,v);return{startIndex:b-b%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,c=a.tickFormatter,u=a.dataKey,d=Or(s[n],u,n);return De(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,c=a.startX,u=a.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,b=d.endIndex,j=d.onChange,w=n.pageX-s;w>0?w=Math.min(w,h+p-m-u,h+p-m-c):w<0&&(w=Math.max(w,h-c,h-u));var y=this.getIndex({startX:c+w,endX:u+w});(y.startIndex!==v||y.endIndex!==b)&&j&&j(y),this.setState({startX:c+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=iE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,d=a.startX,h=this.state[c],p=this.props,m=p.x,v=p.width,b=p.travellerWidth,j=p.onChange,w=p.gap,y=p.data,O={startX:this.state.startX,endX:this.state.endX},E=n.pageX-s;E>0?E=Math.min(E,m+v-b-h):E<0&&(E=Math.max(E,m-h)),O[c]=h+E;var N=this.getIndex(O),A=N.startIndex,_=N.endIndex,k=function(){var P=y.length-1;return c==="startX"&&(u>d?A%w===0:_%w===0)||u<d&&_===P||c==="endX"&&(u>d?_%w===0:A%w===0)||u>d&&_===P};this.setState(jr(jr({},c,h+E),"brushMoveStartX",n.pageX),function(){j&&k()&&j(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,c=this.state,u=c.scaleValues,d=c.startX,h=c.endX,p=this.state[a],m=u.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var b=u[v];a==="startX"&&b>=h||a==="endX"&&b<=d||this.setState(jr({},a,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.fill,h=n.stroke;return Y.createElement("rect",{stroke:h,fill:d,x:a,y:s,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.data,h=n.children,p=n.padding,m=M.Children.only(h);return m?Y.cloneElement(m,{x:a,y:s,width:c,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,c,u=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,v=d.traveller,b=d.ariaLabel,j=d.data,w=d.startIndex,y=d.endIndex,O=Math.max(n,this.props.x),E=Ry(Ry({},Le(this.props,!1)),{},{x:O,y:h,width:p,height:m}),N=b||"Min value: ".concat((s=j[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=j[y])===null||c===void 0?void 0:c.name);return Y.createElement(mt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,E))}},{key:"renderSlide",value:function(n,a){var s=this.props,c=s.y,u=s.height,d=s.stroke,h=s.travellerWidth,p=Math.min(n,a)+h,m=Math.max(Math.abs(a-n)-h,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:c,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,v=p.endX,b=5,j={pointerEvents:"none",fill:h};return Y.createElement(mt,{className:"recharts-brush-texts"},Y.createElement(Pd,tf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-b,y:c+u/2},j),this.getTextOfTick(a)),Y.createElement(Pd,tf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+b,y:c+u/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,c=n.children,u=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,v=this.state,b=v.startX,j=v.endX,w=v.isTextActive,y=v.isSlideMoving,O=v.isTravellerMoving,E=v.isTravellerFocused;if(!a||!a.length||!me(u)||!me(d)||!me(h)||!me(p)||h<=0||p<=0)return null;var N=Fe("recharts-brush",s),A=Y.Children.count(c)===1,_=vz("userSelect","none");return Y.createElement(mt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(b,j),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(j,"endX"),(w||y||O||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,c=n.width,u=n.height,d=n.stroke,h=Math.floor(s+u/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:a,y:s,width:c,height:u,fill:d,stroke:"none"}),Y.createElement("line",{x1:a+1,y1:h,x2:a+c-1,y2:h,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:a+1,y1:h+2,x2:a+c-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return Y.isValidElement(n)?s=Y.cloneElement(n,a):De(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,c=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(s!==a.prevData||h!==a.prevUpdateId)return Ry({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:c},s&&s.length?Nz({data:s,width:c,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+c-d]);var v=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,c=0,u=s-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>a?u=d:c=d}return a>=n[u]?u:c}}])})(M.PureComponent);jr(Fs,"displayName","Brush");jr(Fs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Iy,sE;function kz(){if(sE)return Iy;sE=1;var t=wb();function e(r,n){var a;return t(r,function(s,c,u){return a=n(s,c,u),!a}),!!a}return Iy=e,Iy}var Dy,oE;function Oz(){if(oE)return Dy;oE=1;var t=_5(),e=Da(),r=kz(),n=mr(),a=$f();function s(c,u,d){var h=n(c)?t:r;return d&&a(c,u,d)&&(u=void 0),h(c,e(u,3))}return Dy=s,Dy}var Ez=Oz();const Az=Ze(Ez);var Nn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Ly,lE;function Pz(){if(lE)return Ly;lE=1;var t=U5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Ly=e,Ly}var By,cE;function Cz(){if(cE)return By;cE=1;var t=Pz(),e=B5(),r=Da();function n(a,s){var c={};return s=r(s,3),e(a,function(u,d,h){t(c,d,s(u,d,h))}),c}return By=n,By}var Tz=Cz();const Mz=Ze(Tz);var qy,uE;function $z(){if(uE)return qy;uE=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return qy=t,qy}var Uy,dE;function Rz(){if(dE)return Uy;dE=1;var t=wb();function e(r,n){var a=!0;return t(r,function(s,c,u){return a=!!n(s,c,u),a}),a}return Uy=e,Uy}var Fy,fE;function Iz(){if(fE)return Fy;fE=1;var t=$z(),e=Rz(),r=Da(),n=mr(),a=$f();function s(c,u,d){var h=n(c)?t:e;return d&&a(c,u,d)&&(u=void 0),h(c,r(u,3))}return Fy=s,Fy}var Dz=Iz();const Lz=Ze(Dz);var Bz=["x","y"];function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xx.apply(this,arguments)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){qz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qz(t,e,r){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uz(t){var e=Fz(t,"string");return rc(e)=="symbol"?e:e+""}function Fz(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zz(t,e){if(t==null)return{};var r=Wz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hz(t,e){var r=t.x,n=t.y,a=zz(t,Bz),s="".concat(r),c=parseInt(s,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||a.height),p=parseInt(h,10),m="".concat(e.width||a.width),v=parseInt(m,10);return al(al(al(al(al({},e),a),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function pE(t){return Y.createElement(rz,xx({shapeType:"rectangle",propTransformer:Hz,activeClassName:"recharts-active-bar"},t))}var Vz=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=me(n)||G$(n);return s?e(n,a):(s||Oi(),r)}},Kz=["value","background"],pC;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function Gz(t,e){if(t==null)return{};var r=Xz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nf.apply(this,arguments)}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){Aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gC(n.key),n)}}function Jz(t,e,r){return e&&gE(t.prototype,e),r&&gE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qz(t,e,r){return e=af(e),Zz(t,mC()?Reflect.construct(e,r||[],af(t).constructor):e.apply(t,r))}function Zz(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e9(t)}function e9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(t)}function t9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bx(t,e)}function Aa(t,e,r){return e=gC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gC(t){var e=r9(t,"string");return zs(e)=="symbol"?e:e+""}function r9(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bc=(function(t){function e(){var r;Yz(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Qz(this,e,[].concat(a)),Aa(r,"state",{isAnimationFinished:!1}),Aa(r,"id",pc("recharts-bar-")),Aa(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),Aa(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return t9(e,t),Jz(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.dataKey,d=s.activeIndex,h=s.activeBar,p=Le(this.props,!1);return n&&n.map(function(m,v){var b=v===d,j=b?h:c,w=St(St(St({},p),m),{},{isActive:b,option:j,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Y.createElement(mt,nf({className:"recharts-bar-rectangle"},xd(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),Y.createElement(pE,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,c=a.layout,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,v=this.state.prevData;return Y.createElement(Yn,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var j=b.t,w=s.map(function(y,O){var E=v&&v[O];if(E){var N=Dr(E.x,y.x),A=Dr(E.y,y.y),_=Dr(E.width,y.width),k=Dr(E.height,y.height);return St(St({},y),{},{x:N(j),y:A(j),width:_(j),height:k(j)})}if(c==="horizontal"){var C=Dr(0,y.height),P=C(j);return St(St({},y),{},{y:y.y+y.height-P,height:P})}var R=Dr(0,y.width),B=R(j);return St(St({},y),{},{width:B})});return Y.createElement(mt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&a&&a.length&&(!c||!Dl(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,c=a.dataKey,u=a.activeIndex,d=Le(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=Gz(h,Kz);if(!m)return null;var b=St(St(St(St(St({},v),{},{fill:"#eee"},m),d),xd(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:p,className:"recharts-bar-background-rectangle"});return Y.createElement(pE,nf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},b))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,u=s.xAxis,d=s.yAxis,h=s.layout,p=s.children,m=on(p,Wf);if(!m)return null;var v=h==="vertical"?c[0].height/2:c[0].width/2,b=function(y,O){var E=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:E,errorVal:Or(y,O)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Y.createElement(mt,j,m.map(function(w){return Y.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:c,xAxis:u,yAxis:d,layout:h,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,c=n.className,u=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,v=n.height,b=n.isAnimationActive,j=n.background,w=n.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,O=Fe("recharts-bar",c),E=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,A=E||N,_=Be(w)?this.id:w;return Y.createElement(mt,{className:O},E||N?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(_)},Y.createElement("rect",{x:E?h:h-m/2,y:N?p:p-v/2,width:E?m:m*2,height:N?v:v*2}))):null,Y.createElement(mt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!b||y)&&Ma.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(M.PureComponent);pC=bc;Aa(bc,"displayName","Bar");Aa(bc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Aa(bc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,c=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,b=pB(n,r);if(!b)return null;var j=e.layout,w=r.type.defaultProps,y=w!==void 0?St(St({},w),r.props):r.props,O=y.dataKey,E=y.children,N=y.minPointSize,A=j==="horizontal"?c:s,_=h?A.scale.domain():null,k=jB({numericAxis:A}),C=on(E,G5),P=m.map(function(R,B){var I,F,L,X,q,z;h?I=mB(h[p+B],_):(I=Or(R,O),Array.isArray(I)||(I=[k,I]));var ee=Vz(N,pC.defaultProps.minPointSize)(I[1],B);if(j==="horizontal"){var K,W=[c.scale(I[0]),c.scale(I[1])],J=W[0],$=W[1];F=rO({axis:s,ticks:u,bandSize:a,offset:b.offset,entry:R,index:B}),L=(K=$??J)!==null&&K!==void 0?K:void 0,X=b.size;var U=J-$;if(q=Number.isNaN(U)?0:U,z={x:F,y:c.y,width:X,height:c.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var ae=nn(q||ee)*(Math.abs(ee)-Math.abs(q));L-=ae,q+=ae}}else{var se=[s.scale(I[0]),s.scale(I[1])],ie=se[0],he=se[1];if(F=ie,L=rO({axis:c,ticks:d,bandSize:a,offset:b.offset,entry:R,index:B}),X=he-ie,q=b.size,z={x:s.x,y:L,width:s.width,height:q},Math.abs(ee)>0&&Math.abs(X)<Math.abs(ee)){var ke=nn(X||ee)*(Math.abs(ee)-Math.abs(X));X+=ke}}return St(St(St({},R),{},{x:F,y:L,width:X,height:q,value:h?I:I[1],payload:R,background:z},C&&C[B]&&C[B].props),{},{tooltipPayload:[ZP(r,R)],tooltipPosition:{x:F+X/2,y:L+q/2}})});return St({data:P,layout:j},v)});function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function n9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vC(n.key),n)}}function a9(t,e,r){return e&&vE(t.prototype,e),r&&vE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Kf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kf(t,e,r){return e=vC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vC(t){var e=i9(t,"string");return nc(e)=="symbol"?e:e+""}function i9(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s9=function(e,r,n,a,s){var c=e.width,u=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!_r(h,bc);return p.reduce(function(b,j){var w=r[j],y=w.orientation,O=w.domain,E=w.padding,N=E===void 0?{}:E,A=w.mirror,_=w.reversed,k="".concat(y).concat(A?"Mirror":""),C,P,R,B,I;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=O[1]-O[0],L=1/0,X=w.categoricalDomain.sort(J$);if(X.forEach(function(se,ie){ie>0&&(L=Math.min((se||0)-(X[ie-1]||0),L))}),Number.isFinite(L)){var q=L/F,z=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(C=q*z/2),w.padding==="no-gap"){var ee=Ni(e.barCategoryGap,q*z),K=q*z/2;C=K-ee-(K-ee)/z*ee}}}a==="xAxis"?P=[n.left+(N.left||0)+(C||0),n.left+n.width-(N.right||0)-(C||0)]:a==="yAxis"?P=d==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(C||0),n.top+n.height-(N.bottom||0)-(C||0)]:P=w.range,_&&(P=[P[1],P[0]]);var W=fB(w,s,v),J=W.scale,$=W.realScaleType;J.domain(O).range(P),hB(J);var U=wB(J,Zr(Zr({},w),{},{realScaleType:$}));a==="xAxis"?(I=y==="top"&&!A||y==="bottom"&&A,R=n.left,B=m[k]-I*w.height):a==="yAxis"&&(I=y==="left"&&!A||y==="right"&&A,R=m[k]-I*w.width,B=n.top);var ae=Zr(Zr(Zr({},w),U),{},{realScaleType:$,x:R,y:B,scale:J,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return ae.bandSize=Wd(ae,U),!w.hide&&a==="xAxis"?m[k]+=(I?-1:1)*ae.height:w.hide||(m[k]+=(I?-1:1)*ae.width),Zr(Zr({},b),{},Kf({},j,ae))},{})},yC=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(a,c),width:Math.abs(s-n),height:Math.abs(c-a)}},o9=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return yC({x:r,y:n},{x:a,y:s})},xC=(function(){function t(e){n9(this,t),this.scale=e}return a9(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Kf(xC,"EPS",1e-4);var Jb=function(e){var r=Object.keys(e).reduce(function(n,a){return Zr(Zr({},n),{},Kf({},a,xC.create(e[a])))},{});return Zr(Zr({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,u=s.position;return Mz(a,function(d,h){return r[h].apply(d,{bandAware:c,position:u})})},isInRange:function(a){return Lz(a,function(s,c){return r[c].isInRange(s)})}})};function l9(t){return(t%180+180)%180}var c9=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=l9(a),c=s*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},zy,xE;function u9(){if(xE)return zy;xE=1;var t=Da(),e=mc(),r=Tf();function n(a){return function(s,c,u){var d=Object(s);if(!e(s)){var h=t(c,3);s=r(s),c=function(m){return h(d[m],m,d)}}var p=a(s,c,u);return p>-1?d[h?s[p]:p]:void 0}}return zy=n,zy}var Wy,bE;function d9(){if(bE)return Wy;bE=1;var t=uC();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Wy=e,Wy}var Hy,wE;function f9(){if(wE)return Hy;wE=1;var t=$5(),e=Da(),r=d9(),n=Math.max;function a(s,c,u){var d=s==null?0:s.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(s,e(c,3),h)}return Hy=a,Hy}var Vy,jE;function h9(){if(jE)return Vy;jE=1;var t=u9(),e=f9(),r=t(e);return Vy=r,Vy}h9();var p9=YA();const m9=Ze(p9);var g9=m9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bC=M.createContext(void 0),wC=M.createContext(void 0),jC=M.createContext(void 0),v9=M.createContext({}),_C=M.createContext(void 0),SC=M.createContext(0),NC=M.createContext(0),_E=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,c=e.clipPathId,u=e.children,d=e.width,h=e.height,p=g9(s);return Y.createElement(bC.Provider,{value:n},Y.createElement(wC.Provider,{value:a},Y.createElement(v9.Provider,{value:s},Y.createElement(jC.Provider,{value:p},Y.createElement(_C.Provider,{value:c},Y.createElement(SC.Provider,{value:h},Y.createElement(NC.Provider,{value:d},u)))))))},y9=function(){return M.useContext(_C)},kC=function(e){var r=M.useContext(bC);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},OC=function(e){var r=M.useContext(wC);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},x9=function(){var e=M.useContext(jC);return e},EC=function(){return M.useContext(NC)},AC=function(){return M.useContext(SC)};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function b9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CC(n.key),n)}}function j9(t,e,r){return e&&w9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _9(t,e,r){return e=sf(e),S9(t,PC()?Reflect.construct(e,r||[],sf(t).constructor):e.apply(t,r))}function S9(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N9(t)}function N9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PC=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(t)}function k9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(t,e)}function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){Qb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qb(t,e,r){return e=CC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CC(t){var e=O9(t,"string");return Ws(e)=="symbol"?e:e+""}function O9(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function E9(t,e){return T9(t)||C9(t,e)||P9(t,e)||A9()}function A9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(t,e){if(t){if(typeof t=="string")return kE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(t,e)}}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function T9(t){if(Array.isArray(t))return t}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}var M9=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):De(e)?n=e(r):n=Y.createElement("line",jx({},r,{className:"recharts-reference-line-line"})),n},$9=function(e,r,n,a,s,c,u,d,h){var p=s.x,m=s.y,v=s.width,b=s.height;if(n){var j=h.y,w=e.y.apply(j,{position:c});if(Nn(h,"discard")&&!e.y.isInRange(w))return null;var y=[{x:p+v,y:w},{x:p,y:w}];return d==="left"?y.reverse():y}if(r){var O=h.x,E=e.x.apply(O,{position:c});if(Nn(h,"discard")&&!e.x.isInRange(E))return null;var N=[{x:E,y:m+b},{x:E,y:m}];return u==="top"?N.reverse():N}if(a){var A=h.segment,_=A.map(function(k){return e.apply(k,{position:c})});return Nn(h,"discard")&&Az(_,function(k){return!e.isInRange(k)})?null:_}return null};function R9(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,c=t.shape,u=t.className,d=t.alwaysShow,h=y9(),p=kC(a),m=OC(s),v=x9();if(!h||!v)return null;bi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Jb({x:p.scale,y:m.scale}),j=Mt(e),w=Mt(r),y=n&&n.length===2,O=$9(b,j,w,y,v,t.position,p.orientation,m.orientation,t);if(!O)return null;var E=E9(O,2),N=E[0],A=N.x,_=N.y,k=E[1],C=k.x,P=k.y,R=Nn(t,"hidden")?"url(#".concat(h,")"):void 0,B=NE(NE({clipPath:R},Le(t,!0)),{},{x1:A,y1:_,x2:C,y2:P});return Y.createElement(mt,{className:Fe("recharts-reference-line",u)},M9(c,B),er.renderCallByParent(t,o9({x1:A,y1:_,x2:C,y2:P})))}var Zb=(function(t){function e(){return b9(this,e),_9(this,e,arguments)}return k9(e,t),j9(e,[{key:"render",value:function(){return Y.createElement(R9,this.props)}}])})(Y.Component);Qb(Zb,"displayName","ReferenceLine");Qb(Zb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){Gf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MC(n.key),n)}}function L9(t,e,r){return e&&D9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B9(t,e,r){return e=of(e),q9(t,TC()?Reflect.construct(e,r||[],of(t).constructor):e.apply(t,r))}function q9(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U9(t)}function U9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TC=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(t)}function F9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sx(t,e)}function Gf(t,e,r){return e=MC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MC(t){var e=z9(t,"string");return Hs(e)=="symbol"?e:e+""}function z9(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W9=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,c=Jb({x:a.scale,y:s.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return Nn(e,"discard")&&!c.isInRange(u)?null:u},Xf=(function(t){function e(){return I9(this,e),B9(this,e,arguments)}return F9(e,t),L9(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,h=Mt(a),p=Mt(s);if(bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=W9(this.props);if(!m)return null;var v=m.x,b=m.y,j=this.props,w=j.shape,y=j.className,O=Nn(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=EE(EE({clipPath:O},Le(this.props,!0)),{},{cx:v,cy:b});return Y.createElement(mt,{className:Fe("recharts-reference-dot",y)},e.renderDot(w,E),er.renderCallByParent(this.props,{x:v-c,y:b-c,width:2*c,height:2*c}))}}])})(Y.Component);Gf(Xf,"displayName","ReferenceDot");Gf(Xf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gf(Xf,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):De(t)?r=t(e):r=Y.createElement(Yb,_x({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){Yf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RC(n.key),n)}}function K9(t,e,r){return e&&V9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G9(t,e,r){return e=lf(e),X9(t,$C()?Reflect.construct(e,r||[],lf(t).constructor):e.apply(t,r))}function X9(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y9(t)}function Y9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(t)}function J9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kx(t,e)}function Yf(t,e,r){return e=RC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RC(t){var e=Q9(t,"string");return Vs(e)=="symbol"?e:e+""}function Q9(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z9=function(e,r,n,a,s){var c=s.x1,u=s.x2,d=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=Jb({x:p.scale,y:m.scale}),b={x:e?v.x.apply(c,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},j={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Nn(s,"discard")&&(!v.isInRange(b)||!v.isInRange(j))?null:yC(b,j)},Jf=(function(t){function e(){return H9(this,e),G9(this,e,arguments)}return J9(e,t),K9(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,c=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;bi(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Mt(a),v=Mt(s),b=Mt(c),j=Mt(u),w=this.props.shape;if(!m&&!v&&!b&&!j&&!w)return null;var y=Z9(m,v,b,j,this.props);if(!y&&!w)return null;var O=Nn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Y.createElement(mt,{className:Fe("recharts-reference-area",d)},e.renderRect(w,PE(PE({clipPath:O},Le(this.props,!0)),y)),er.renderCallByParent(this.props,y))}}])})(Y.Component);Yf(Jf,"displayName","ReferenceArea");Yf(Jf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yf(Jf,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):De(t)?r=t(e):r=Y.createElement(Xb,Nx({},e,{className:"recharts-reference-area-rect"})),r});function IC(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function eW(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return c9(n,r)}function tW(t,e,r){var n=r==="width",a=t.x,s=t.y,c=t.width,u=t.height;return e===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function cf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function rW(t,e){return IC(t,e+1)}function nW(t,e,r,n,a){for(var s=(n||[]).slice(),c=e.start,u=e.end,d=0,h=1,p=c,m=function(){var j=n?.[d];if(j===void 0)return{v:IC(n,h)};var w=d,y,O=function(){return y===void 0&&(y=r(j,w)),y},E=j.coordinate,N=d===0||cf(t,E,O,p,u);N||(d=0,p=c,h+=1),N&&(p=E+t*(O()/2+a),d+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){aW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aW(t,e,r){return e=iW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iW(t){var e=sW(t,"string");return ac(e)=="symbol"?e:e+""}function sW(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oW(t,e,r,n,a){for(var s=(n||[]).slice(),c=s.length,u=e.start,d=e.end,h=function(v){var b=s[v],j,w=function(){return j===void 0&&(j=r(b,v)),j};if(v===c-1){var y=t*(b.coordinate+t*w()/2-d);s[v]=b=Zt(Zt({},b),{},{tickCoord:y>0?b.coordinate-y*t:b.coordinate})}else s[v]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var O=cf(t,b.tickCoord,w,u,d);O&&(d=b.tickCoord-t*(w()/2+a),s[v]=Zt(Zt({},b),{},{isShow:!0}))},p=c-1;p>=0;p--)h(p);return s}function lW(t,e,r,n,a,s){var c=(n||[]).slice(),u=c.length,d=e.start,h=e.end;if(s){var p=n[u-1],m=r(p,u-1),v=t*(p.coordinate+t*m/2-h);c[u-1]=p=Zt(Zt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var b=cf(t,p.tickCoord,function(){return m},d,h);b&&(h=p.tickCoord-t*(m/2+a),c[u-1]=Zt(Zt({},p),{},{isShow:!0}))}for(var j=s?u-1:u,w=function(E){var N=c[E],A,_=function(){return A===void 0&&(A=r(N,E)),A};if(E===0){var k=t*(N.coordinate-t*_()/2-d);c[E]=N=Zt(Zt({},N),{},{tickCoord:k<0?N.coordinate-k*t:N.coordinate})}else c[E]=N=Zt(Zt({},N),{},{tickCoord:N.coordinate});var C=cf(t,N.tickCoord,_,d,h);C&&(d=N.tickCoord+t*(_()/2+a),c[E]=Zt(Zt({},N),{},{isShow:!0}))},y=0;y<j;y++)w(y);return c}function cW(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,c=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(me(d)||io.isSsr)return rW(a,typeof d=="number"&&me(d)?d:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",j=p&&b==="width"?gl(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(N,A){var _=De(h)?h(N.value,A):N.value;return b==="width"?eW(gl(_,{fontSize:e,letterSpacing:r}),j,m):gl(_,{fontSize:e,letterSpacing:r})[b]},y=a.length>=2?nn(a[1].coordinate-a[0].coordinate):1,O=tW(s,y,b);return d==="equidistantPreserveStart"?nW(y,O,w,a,c):(d==="preserveStart"||d==="preserveStartEnd"?v=lW(y,O,w,a,c,d==="preserveStartEnd"):v=oW(y,O,w,a,c),v.filter(function(E){return E.isShow}))}var uW=["viewBox"],dW=["viewBox"],fW=["ticks"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xs.apply(this,arguments)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ky(t,e){if(t==null)return{};var r=hW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ME(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LC(n.key),n)}}function mW(t,e,r){return e&&ME(t.prototype,e),r&&ME(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gW(t,e,r){return e=uf(e),vW(t,DC()?Reflect.construct(e,r||[],uf(t).constructor):e.apply(t,r))}function vW(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yW(t)}function yW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DC=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(t)}function xW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ox(t,e)}function ew(t,e,r){return e=LC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LC(t){var e=bW(t,"string");return Ks(e)=="symbol"?e:e+""}function bW(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qf=(function(t){function e(r){var n;return pW(this,e),n=gW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return xW(e,t),mW(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,c=Ky(n,uW),u=this.props,d=u.viewBox,h=Ky(u,dW);return!Ss(s,d)||!Ss(c,h)||!Ss(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,c=a.y,u=a.width,d=a.height,h=a.orientation,p=a.tickSize,m=a.mirror,v=a.tickMargin,b,j,w,y,O,E,N=m?-1:1,A=n.tickSize||p,_=me(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":b=j=n.coordinate,y=c+ +!m*d,w=y-N*A,E=w-N*v,O=_;break;case"left":w=y=n.coordinate,j=s+ +!m*u,b=j-N*A,O=b-N*v,E=_;break;case"right":w=y=n.coordinate,j=s+ +m*u,b=j+N*A,O=b+N*v,E=_;break;default:b=j=n.coordinate,y=c+ +m*d,w=y+N*A,E=w+N*v,O=_;break}return{line:{x1:b,y1:w,x2:j,y2:y},tick:{x:O,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c;switch(a){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=Pt(Pt(Pt({},Le(this.props,!1)),Le(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!h||d==="bottom"&&h);m=Pt(Pt({},m),{},{x1:a,y1:s+v*u,x2:a+c,y2:s+v*u})}else{var b=+(d==="left"&&!h||d==="right"&&h);m=Pt(Pt({},m),{},{x1:a+b*c,y1:s,x2:a+b*c,y2:s+u})}return Y.createElement("line",xs({},m,{className:Fe("recharts-cartesian-axis-line",Br(p,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var c=this,u=this.props,d=u.tickLine,h=u.stroke,p=u.tick,m=u.tickFormatter,v=u.unit,b=cW(Pt(Pt({},this.props),{},{ticks:n}),a,s),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Le(this.props,!1),O=Le(p,!1),E=Pt(Pt({},y),{},{fill:"none"},Le(d,!1)),N=b.map(function(A,_){var k=c.getTickLineCoord(A),C=k.line,P=k.tick,R=Pt(Pt(Pt(Pt({textAnchor:j,verticalAnchor:w},y),{},{stroke:"none",fill:h},O),P),{},{index:_,payload:A,visibleTicksCount:b.length,tickFormatter:m});return Y.createElement(mt,xs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},xd(c.props,A,_)),d&&Y.createElement("line",xs({},E,C,{className:Fe("recharts-cartesian-axis-tick-line",Br(d,"className"))})),p&&e.renderTickItem(p,R,"".concat(De(m)?m(A.value,_):A.value).concat(v||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,c=a.width,u=a.height,d=a.ticksGenerator,h=a.className,p=a.hide;if(p)return null;var m=this.props,v=m.ticks,b=Ky(m,fW),j=v;return De(d)&&(j=v&&v.length>0?d(this.props):d(b)),c<=0||u<=0||!j||!j.length?null:Y.createElement(mt,{className:Fe("recharts-cartesian-axis",h),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var c,u=Fe(a.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?c=Y.cloneElement(n,Pt(Pt({},a),{},{className:u})):De(n)?c=n(Pt(Pt({},a),{},{className:u})):c=Y.createElement(Pd,xs({},a,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(M.Component);ew(Qf,"displayName","CartesianAxis");ew(Qf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wW=["layout","type","stroke","connectNulls","isRange","ref"],jW=["key"],BC;function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function qC(t,e){if(t==null)return{};var r=_W(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _W(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FC(n.key),n)}}function NW(t,e,r){return e&&RE(t.prototype,e),r&&RE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kW(t,e,r){return e=df(e),OW(t,UC()?Reflect.construct(e,r||[],df(t).constructor):e.apply(t,r))}function OW(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EW(t)}function EW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(t)}function AW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ex(t,e)}function Ex(t,e){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ex(t,e)}function wn(t,e,r){return e=FC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FC(t){var e=PW(t,"string");return Gs(e)=="symbol"?e:e+""}function PW(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ua=(function(t){function e(){var r;SW(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=kW(this,e,[].concat(a)),wn(r,"state",{isAnimationFinished:!0}),wn(r,"id",pc("recharts-area-")),wn(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(c)&&c()}),wn(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(c)&&c()}),r}return AW(e,t),NW(e,[{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,h=d.dot,p=d.points,m=d.dataKey,v=Le(this.props,!1),b=Le(h,!0),j=p.map(function(y,O){var E=Sa(Sa(Sa({key:"dot-".concat(O),r:3},v),b),{},{index:O,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:p});return e.renderDotItem(h,E)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Y.createElement(mt,vi({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].x,h=c[c.length-1].x,p=n*Math.abs(d-h),m=Ea(c.map(function(v){return v.y||0}));return me(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Ea(s.map(function(v){return v.y||0})),m)),me(m)?Y.createElement("rect",{x:d<h?d:d-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].y,h=c[c.length-1].y,p=n*Math.abs(d-h),m=Ea(c.map(function(v){return v.x||0}));return me(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Ea(s.map(function(v){return v.x||0})),m)),me(m)?Y.createElement("rect",{x:0,y:d<h?d:d-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,c){var u=this.props,d=u.layout,h=u.type,p=u.stroke,m=u.connectNulls,v=u.isRange;u.ref;var b=qC(u,wW);return Y.createElement(mt,{clipPath:s?"url(#clipPath-".concat(c,")"):null},Y.createElement(xl,vi({},Le(b,!0),{points:n,connectNulls:m,type:h,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&Y.createElement(xl,vi({},Le(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:m,fill:"none",points:n})),p!=="none"&&v&&Y.createElement(xl,vi({},Le(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,d=c.baseLine,h=c.isAnimationActive,p=c.animationBegin,m=c.animationDuration,v=c.animationEasing,b=c.animationId,j=this.state,w=j.prevPoints,y=j.prevBaseLine;return Y.createElement(Yn,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var E=O.t;if(w){var N=w.length/u.length,A=u.map(function(P,R){var B=Math.floor(R*N);if(w[B]){var I=w[B],F=Dr(I.x,P.x),L=Dr(I.y,P.y);return Sa(Sa({},P),{},{x:F(E),y:L(E)})}return P}),_;if(me(d)&&typeof d=="number"){var k=Dr(y,d);_=k(E)}else if(Be(d)||no(d)){var C=Dr(y,0);_=C(E)}else _=d.map(function(P,R){var B=Math.floor(R*N);if(y[B]){var I=y[B],F=Dr(I.x,P.x),L=Dr(I.y,P.y);return Sa(Sa({},P),{},{x:F(E),y:L(E)})}return P});return s.renderAreaStatically(A,_,n,a)}return Y.createElement(mt,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(E))),Y.createElement(mt,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,c=s.points,u=s.baseLine,d=s.isAnimationActive,h=this.state,p=h.prevPoints,m=h.prevBaseLine,v=h.totalLength;return d&&c&&c.length&&(!p&&v>0||!Dl(p,c)||!Dl(m,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,d=a.className,h=a.top,p=a.left,m=a.xAxis,v=a.yAxis,b=a.width,j=a.height,w=a.isAnimationActive,y=a.id;if(s||!u||!u.length)return null;var O=this.state.isAnimationFinished,E=u.length===1,N=Fe("recharts-area",d),A=m&&m.allowDataOverflow,_=v&&v.allowDataOverflow,k=A||_,C=Be(y)?this.id:y,P=(n=Le(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=P.r,B=R===void 0?3:R,I=P.strokeWidth,F=I===void 0?2:I,L=sR(c)?c:{},X=L.clipDot,q=X===void 0?!0:X,z=B*2+F;return Y.createElement(mt,{className:N},A||_?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:A?p:p-b/2,y:_?h:h-j/2,width:A?b:b*2,height:_?j:j*2})),!q&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Y.createElement("rect",{x:p-z/2,y:h-z/2,width:b+z,height:j+z}))):null,E?null:this.renderArea(k,C),(c||E)&&this.renderDots(k,q,C),(!w||O)&&Ma.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);BC=Ua;wn(Ua,"displayName","Area");wn(Ua,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!io.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wn(Ua,"getBaseValue",function(t,e,r,n){var a=t.layout,s=t.baseValue,c=e.props.baseValue,u=c??s;if(me(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var p=Math.max(h[0],h[1]),m=Math.min(h[0],h[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});wn(Ua,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,d=t.dataKey,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,b=e.layout,j=h&&h.length,w=BC.getBaseValue(e,r,n,a),y=b==="horizontal",O=!1,E=m.map(function(A,_){var k;j?k=h[p+_]:(k=Or(A,d),Array.isArray(k)?O=!0:k=[w,k]);var C=k[1]==null||j&&Or(A,d)==null;return y?{x:tO({axis:n,ticks:s,bandSize:u,entry:A,index:_}),y:C?null:a.scale(k[1]),value:k,payload:A}:{x:C?null:n.scale(k[1]),y:tO({axis:a,ticks:c,bandSize:u,entry:A,index:_}),value:k,payload:A}}),N;return j||O?N=E.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:_!=null&&A.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:A.y}}):N=y?a.scale(w):n.scale(w),Sa({points:E,baseLine:N,layout:b,isRange:O},v)});wn(Ua,"renderDotItem",function(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(De(t))r=t(e);else{var n=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=qC(e,jW);r=Y.createElement(Yb,vi({},s,{key:a,className:n}))}return r});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function CW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HC(n.key),n)}}function MW(t,e,r){return e&&TW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $W(t,e,r){return e=ff(e),RW(t,zC()?Reflect.construct(e,r||[],ff(t).constructor):e.apply(t,r))}function RW(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IW(t)}function IW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zC=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(t)}function DW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ax(t,e)}function WC(t,e,r){return e=HC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HC(t){var e=LW(t,"string");return Xs(e)=="symbol"?e:e+""}function LW(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Px.apply(this,arguments)}function BW(t){var e=t.xAxisId,r=EC(),n=AC(),a=kC(e);return a==null?null:M.createElement(Qf,Px({},a,{className:Fe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return gi(c,!0)}}))}var Zf=(function(t){function e(){return CW(this,e),$W(this,e,arguments)}return DW(e,t),MW(e,[{key:"render",value:function(){return M.createElement(BW,this.props)}}])})(M.Component);WC(Zf,"displayName","XAxis");WC(Zf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GC(n.key),n)}}function FW(t,e,r){return e&&UW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zW(t,e,r){return e=hf(e),WW(t,VC()?Reflect.construct(e,r||[],hf(t).constructor):e.apply(t,r))}function WW(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HW(t)}function HW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VC=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(t)}function VW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cx(t,e)}function Cx(t,e){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cx(t,e)}function KC(t,e,r){return e=GC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GC(t){var e=KW(t,"string");return Ys(e)=="symbol"?e:e+""}function KW(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}var GW=function(e){var r=e.yAxisId,n=EC(),a=AC(),s=OC(r);return s==null?null:M.createElement(Qf,Tx({},s,{className:Fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return gi(u,!0)}}))},eh=(function(t){function e(){return qW(this,e),zW(this,e,arguments)}return VW(e,t),FW(e,[{key:"render",value:function(){return M.createElement(GW,this.props)}}])})(M.Component);KC(eh,"displayName","YAxis");KC(eh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IE(t){return QW(t)||JW(t)||YW(t)||XW()}function XW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(t,e){if(t){if(typeof t=="string")return Mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mx(t,e)}}function JW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QW(t){if(Array.isArray(t))return Mx(t)}function Mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $x=function(e,r,n,a,s){var c=on(e,Zb),u=on(e,Xf),d=[].concat(IE(c),IE(u)),h=on(e,Jf),p="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(w,y){if(y.props[p]===n&&Nn(y.props,"extendDomain")&&me(y.props[m])){var O=y.props[m];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},v)),h.length){var b="".concat(m,"1"),j="".concat(m,"2");v=h.reduce(function(w,y){if(y.props[p]===n&&Nn(y.props,"extendDomain")&&me(y.props[b])&&me(y.props[j])){var O=y.props[b],E=y.props[j];return[Math.min(w[0],O,E),Math.max(w[1],O,E)]}return w},v)}return s&&s.length&&(v=s.reduce(function(w,y){return me(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},v)),v},Gy={exports:{}},DE;function ZW(){return DE||(DE=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,m||d,v),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],b]:d._events[j].push(b):(d._events[j]=b,d._eventsCount++),d}function c(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,j=new Array(b);v<b;v++)j[v]=m[v].fn;return j},u.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,v,b,j){var w=r?r+h:h;if(!this._events[w])return!1;var y=this._events[w],O=arguments.length,E,N;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),O){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,v),!0;case 5:return y.fn.call(y.context,p,m,v,b),!0;case 6:return y.fn.call(y.context,p,m,v,b,j),!0}for(N=1,E=new Array(O-1);N<O;N++)E[N-1]=arguments[N];y.fn.apply(y.context,E)}else{var A=y.length,_;for(N=0;N<A;N++)switch(y[N].once&&this.removeListener(h,y[N].fn,void 0,!0),O){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,p);break;case 3:y[N].fn.call(y[N].context,p,m);break;case 4:y[N].fn.call(y[N].context,p,m,v);break;default:if(!E)for(_=1,E=new Array(O-1);_<O;_++)E[_-1]=arguments[_];y[N].fn.apply(y[N].context,E)}}return!0},u.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,v){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var j=this._events[b];if(j.fn)j.fn===p&&(!v||j.once)&&(!m||j.context===m)&&c(this,b);else{for(var w=0,y=[],O=j.length;w<O;w++)(j[w].fn!==p||v&&!j[w].once||m&&j[w].context!==m)&&y.push(j[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Gy)),Gy.exports}var eH=ZW();const tH=Ze(eH);var Xy=new tH,Yy="recharts.syncMouseEvents";function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function rH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XC(n.key),n)}}function aH(t,e,r){return e&&nH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jy(t,e,r){return e=XC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XC(t){var e=iH(t,"string");return ic(e)=="symbol"?e:e+""}function iH(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sH=(function(){function t(){rH(this,t),Jy(this,"activeIndex",0),Jy(this,"coordinateList",[]),Jy(this,"layout","horizontal")}return aH(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,c=r.container,u=c===void 0?null:c,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,c=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+d+h,v=c+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function oH(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&me(n)&&me(a))return!0}return!1}function lH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function YC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,c=Gt(e,r,n,a),u=Gt(e,r,n,s);return{points:[c,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function cH(t,e,r){var n,a,s,c;if(t==="horizontal")n=e.x,s=n,a=r.top,c=r.top+r.height;else if(t==="vertical")a=e.y,c=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=Gt(u,d,h,m),b=Gt(u,d,p,m);n=v.x,a=v.y,s=b.x,c=b.y}else return YC(e);return[{x:n,y:a},{x:s,y:c}]}function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){uH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uH(t,e,r){return e=dH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dH(t){var e=fH(t,"string");return sc(e)=="symbol"?e:e+""}function fH(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hH(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,c=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!c||v!=="ScatterChart"&&a!=="axis")return null;var j,w=xl;if(v==="ScatterChart")j=c,w=AF;else if(v==="BarChart")j=lH(m,c,d,p),w=Xb;else if(m==="radial"){var y=YC(c),O=y.cx,E=y.cy,N=y.radius,A=y.startAngle,_=y.endAngle;j={cx:O,cy:E,startAngle:A,endAngle:_,innerRadius:N,outerRadius:N},w=rC}else j={points:cH(m,c,d)},w=xl;var k=zu(zu(zu(zu({stroke:"#ccc",pointerEvents:"none"},d),j),Le(b,!1)),{},{payload:u,payloadIndex:h,className:Fe("recharts-tooltip-cursor",b.className)});return M.isValidElement(b)?M.cloneElement(b,k):M.createElement(w,k)}var pH=["item"],mH=["children","className","width","height","style","compact","title","desc"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bs.apply(this,arguments)}function BE(t,e){return yH(t)||vH(t,e)||QC(t,e)||gH()}function gH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function yH(t){if(Array.isArray(t))return t}function qE(t,e){if(t==null)return{};var r=xH(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZC(n.key),n)}}function jH(t,e,r){return e&&wH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _H(t,e,r){return e=pf(e),SH(t,JC()?Reflect.construct(e,r||[],pf(t).constructor):e.apply(t,r))}function SH(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NH(t)}function NH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(t)}function kH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rx(t,e)}function Rx(t,e){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rx(t,e)}function Qs(t){return AH(t)||EH(t)||QC(t)||OH()}function OH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QC(t,e){if(t){if(typeof t=="string")return Ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(t,e)}}function EH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AH(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(r),!0).forEach(function(n){Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ce(t,e,r){return e=ZC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZC(t){var e=PH(t,"string");return Js(e)=="symbol"?e:e+""}function PH(t,e){if(Js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CH={xAxis:["bottom","top"],yAxis:["left","right"]},TH={width:"100%",height:"100%"},eT={x:0,y:0};function Wu(t){return t}var MH=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$H=function(e,r,n,a){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,u=a.radius;return ne(ne(ne({},a),Gt(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var d=s.coordinate,h=a.angle;return ne(ne(ne({},a),Gt(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return eT},th=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Qs(u),Qs(h)):u},[]);return c.length>0?c:e&&e.length&&me(a)&&me(s)?e.slice(a,s+1):[]};function tT(t){return t==="number"?[0,"auto"]:void 0}var Dx=function(e,r,n,a){var s=e.graphicalItems,c=e.tooltipAxis,u=th(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(c.dataKey&&!c.allowDuplicatedCategory){var b=m===void 0?u:m;v=vd(b,c.dataKey,a)}else v=m&&m[n]||u[n];return v?[].concat(Qs(d),[ZP(h,v)]):d},[])},FE=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},c=MH(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=sB(c,u,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,v=Dx(e,r,p,m),b=$H(n,u,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:b}}return null},RH=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,b=JP(p,s);return n.reduce(function(j,w){var y,O=w.type.defaultProps!==void 0?ne(ne({},w.type.defaultProps),w.props):w.props,E=O.type,N=O.dataKey,A=O.allowDataOverflow,_=O.allowDuplicatedCategory,k=O.scale,C=O.ticks,P=O.includeHidden,R=O[c];if(j[R])return j;var B=th(e.data,{graphicalItems:a.filter(function(U){var ae,se=c in U.props?U.props[c]:(ae=U.type.defaultProps)===null||ae===void 0?void 0:ae[c];return se===R}),dataStartIndex:d,dataEndIndex:h}),I=B.length,F,L,X;oH(O.domain,A,E)&&(F=rx(O.domain,null,A),b&&(E==="number"||k!=="auto")&&(X=yl(B,N,"category")));var q=tT(E);if(!F||F.length===0){var z,ee=(z=O.domain)!==null&&z!==void 0?z:q;if(N){if(F=yl(B,N,E),E==="category"&&b){var K=Y$(F);_&&K?(L=F,F=ef(0,I)):_||(F=iO(ee,F,w).reduce(function(U,ae){return U.indexOf(ae)>=0?U:[].concat(Qs(U),[ae])},[]))}else if(E==="category")_?F=F.filter(function(U){return U!==""&&!Be(U)}):F=iO(ee,F,w).reduce(function(U,ae){return U.indexOf(ae)>=0||ae===""||Be(ae)?U:[].concat(Qs(U),[ae])},[]);else if(E==="number"){var W=dB(B,a.filter(function(U){var ae,se,ie=c in U.props?U.props[c]:(ae=U.type.defaultProps)===null||ae===void 0?void 0:ae[c],he="hide"in U.props?U.props.hide:(se=U.type.defaultProps)===null||se===void 0?void 0:se.hide;return ie===R&&(P||!he)}),N,s,p);W&&(F=W)}b&&(E==="number"||k!=="auto")&&(X=yl(B,N,"category"))}else b?F=ef(0,I):u&&u[R]&&u[R].hasStack&&E==="number"?F=v==="expand"?[0,1]:QP(u[R].stackGroups,d,h):F=YP(B,a.filter(function(U){var ae=c in U.props?U.props[c]:U.type.defaultProps[c],se="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return ae===R&&(P||!se)}),E,p,!0);if(E==="number")F=$x(m,F,R,s,C),ee&&(F=rx(ee,F,A));else if(E==="category"&&ee){var J=ee,$=F.every(function(U){return J.indexOf(U)>=0});$&&(F=J)}}return ne(ne({},j),{},Ce({},R,ne(ne({},O),{},{axisType:s,domain:F,categoricalDomain:X,duplicateDomain:L,originalDomain:(y=O.domain)!==null&&y!==void 0?y:q,isCategorical:b,layout:p})))},{})},IH=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=th(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),b=v.length,j=JP(p,s),w=-1;return n.reduce(function(y,O){var E=O.type.defaultProps!==void 0?ne(ne({},O.type.defaultProps),O.props):O.props,N=E[c],A=tT("number");if(!y[N]){w++;var _;return j?_=ef(0,b):u&&u[N]&&u[N].hasStack?(_=QP(u[N].stackGroups,d,h),_=$x(m,_,N,s)):(_=rx(A,YP(v,n.filter(function(k){var C,P,R=c in k.props?k.props[c]:(C=k.type.defaultProps)===null||C===void 0?void 0:C[c],B="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===N&&!B}),"number",p),a.defaultProps.allowDataOverflow),_=$x(m,_,N,s)),ne(ne({},y),{},Ce({},N,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:Br(CH,"".concat(s,".").concat(w%2),null),domain:_,originalDomain:A,isCategorical:j,layout:p})))}return y},{})},DH=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),v=on(p,s),b={};return v&&v.length?b=RH(e,{axes:v,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):c&&c.length&&(b=IH(e,{Axis:s,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),b},LH=function(e){var r=hs(e),n=gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Wd(r,n)}},zE=function(e){var r=e.children,n=e.defaultShowTooltip,a=_r(r,Fs),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},BH=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wn(r&&r.type);return n&&n.indexOf("Bar")>=0})},WE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qH=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,p=n.height,m=n.children,v=n.margin||{},b=_r(m,Fs),j=_r(m,Ns),w=Object.keys(d).reduce(function(_,k){var C=d[k],P=C.orientation;return!C.mirror&&!C.hide?ne(ne({},_),{},Ce({},P,_[P]+C.width)):_},{left:v.left||0,right:v.right||0}),y=Object.keys(c).reduce(function(_,k){var C=c[k],P=C.orientation;return!C.mirror&&!C.hide?ne(ne({},_),{},Ce({},P,Br(_,"".concat(P))+C.height)):_},{top:v.top||0,bottom:v.bottom||0}),O=ne(ne({},y),w),E=O.bottom;b&&(O.bottom+=b.props.height||Fs.defaultProps.height),j&&r&&(O=cB(O,a,n,r));var N=h-O.left-O.right,A=p-O.top-O.bottom;return ne(ne({brushBottom:E},O),{},{width:Math.max(N,0),height:Math.max(A,0)})},UH=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},FH=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,c=e.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(O,E){var N=E.graphicalItems,A=E.stackGroups,_=E.offset,k=E.updateId,C=E.dataStartIndex,P=E.dataEndIndex,R=O.barSize,B=O.layout,I=O.barGap,F=O.barCategoryGap,L=O.maxBarSize,X=WE(B),q=X.numericAxisName,z=X.cateAxisName,ee=BH(N),K=[];return N.forEach(function(W,J){var $=th(O.data,{graphicalItems:[W],dataStartIndex:C,dataEndIndex:P}),U=W.type.defaultProps!==void 0?ne(ne({},W.type.defaultProps),W.props):W.props,ae=U.dataKey,se=U.maxBarSize,ie=U["".concat(q,"Id")],he=U["".concat(z,"Id")],ke={},ge=d.reduce(function(vt,Ft){var Fr=E["".concat(Ft.axisType,"Map")],dn=U["".concat(Ft.axisType,"Id")];Fr&&Fr[dn]||Ft.axisType==="zAxis"||Oi();var An=Fr[dn];return ne(ne({},vt),{},Ce(Ce({},Ft.axisType,An),"".concat(Ft.axisType,"Ticks"),gi(An)))},ke),oe=ge[z],ye=ge["".concat(z,"Ticks")],Oe=A&&A[ie]&&A[ie].hasStack&&_B(W,A[ie].stackGroups),Q=Wn(W.type).indexOf("Bar")>=0,je=Wd(oe,ye),Re=[],He=ee&&oB({barSize:R,stackGroups:A,totalSize:UH(ge,z)});if(Q){var Ye,gt,Rt=Be(se)?L:se,or=(Ye=(gt=Wd(oe,ye,!0))!==null&&gt!==void 0?gt:Rt)!==null&&Ye!==void 0?Ye:0;Re=lB({barGap:I,barCategoryGap:F,bandSize:or!==je?or:je,sizeList:He[he],maxBarSize:Rt}),or!==je&&(Re=Re.map(function(vt){return ne(ne({},vt),{},{position:ne(ne({},vt.position),{},{offset:vt.position.offset-or/2})})}))}var Ot=W&&W.type&&W.type.getComposedData;Ot&&K.push({props:ne(ne({},Ot(ne(ne({},ge),{},{displayedData:$,props:O,dataKey:ae,item:W,bandSize:je,barPosition:Re,offset:_,stackedData:Oe,layout:B,dataStartIndex:C,dataEndIndex:P}))),{},Ce(Ce(Ce({key:W.key||"item-".concat(J)},q,ge[q]),z,ge[z]),"animationId",k)),childIndex:cR(W,O.children),item:W})}),K},b=function(O,E){var N=O.props,A=O.dataStartIndex,_=O.dataEndIndex,k=O.updateId;if(!xS({props:N}))return null;var C=N.children,P=N.layout,R=N.stackOffset,B=N.data,I=N.reverseStackOrder,F=WE(P),L=F.numericAxisName,X=F.cateAxisName,q=on(C,n),z=bB(B,q,"".concat(L,"Id"),"".concat(X,"Id"),R,I),ee=d.reduce(function(U,ae){var se="".concat(ae.axisType,"Map");return ne(ne({},U),{},Ce({},se,DH(N,ne(ne({},ae),{},{graphicalItems:q,stackGroups:ae.axisType===L&&z,dataStartIndex:A,dataEndIndex:_}))))},{}),K=qH(ne(ne({},ee),{},{props:N,graphicalItems:q}),E?.legendBBox);Object.keys(ee).forEach(function(U){ee[U]=p(N,ee[U],K,U.replace("Map",""),r)});var W=ee["".concat(X,"Map")],J=LH(W),$=v(N,ne(ne({},ee),{},{dataStartIndex:A,dataEndIndex:_,updateId:k,graphicalItems:q,stackGroups:z,offset:K}));return ne(ne({formattedGraphicalItems:$,graphicalItems:q,offset:K,stackGroups:z},J),ee)},j=(function(y){function O(E){var N,A,_;return bH(this,O),_=_H(this,O,[E]),Ce(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(_,"accessibilityManager",new sH),Ce(_,"handleLegendBBoxUpdate",function(k){if(k){var C=_.state,P=C.dataStartIndex,R=C.dataEndIndex,B=C.updateId;_.setState(ne({legendBBox:k},b({props:_.props,dataStartIndex:P,dataEndIndex:R,updateId:B},ne(ne({},_.state),{},{legendBBox:k}))))}}),Ce(_,"handleReceiveSyncEvent",function(k,C,P){if(_.props.syncId===k){if(P===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(C)}}),Ce(_,"handleBrushChange",function(k){var C=k.startIndex,P=k.endIndex;if(C!==_.state.dataStartIndex||P!==_.state.dataEndIndex){var R=_.state.updateId;_.setState(function(){return ne({dataStartIndex:C,dataEndIndex:P},b({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:R},_.state))}),_.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Ce(_,"handleMouseEnter",function(k){var C=_.getMouseInfo(k);if(C){var P=ne(ne({},C),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var R=_.props.onMouseEnter;De(R)&&R(P,k)}}),Ce(_,"triggeredAfterMouseMove",function(k){var C=_.getMouseInfo(k),P=C?ne(ne({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var R=_.props.onMouseMove;De(R)&&R(P,k)}),Ce(_,"handleItemMouseEnter",function(k){_.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ce(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ce(_,"handleMouseMove",function(k){k.persist(),_.throttleTriggeredAfterMouseMove(k)}),Ce(_,"handleMouseLeave",function(k){_.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseLeave;De(P)&&P(C,k)}),Ce(_,"handleOuterEvent",function(k){var C=lR(k),P=Br(_.props,"".concat(C));if(C&&De(P)){var R,B;/.*touch.*/i.test(C)?B=_.getMouseInfo(k.changedTouches[0]):B=_.getMouseInfo(k),P((R=B)!==null&&R!==void 0?R:{},k)}}),Ce(_,"handleClick",function(k){var C=_.getMouseInfo(k);if(C){var P=ne(ne({},C),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var R=_.props.onClick;De(R)&&R(P,k)}}),Ce(_,"handleMouseDown",function(k){var C=_.props.onMouseDown;if(De(C)){var P=_.getMouseInfo(k);C(P,k)}}),Ce(_,"handleMouseUp",function(k){var C=_.props.onMouseUp;if(De(C)){var P=_.getMouseInfo(k);C(P,k)}}),Ce(_,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ce(_,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseDown(k.changedTouches[0])}),Ce(_,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseUp(k.changedTouches[0])}),Ce(_,"handleDoubleClick",function(k){var C=_.props.onDoubleClick;if(De(C)){var P=_.getMouseInfo(k);C(P,k)}}),Ce(_,"handleContextMenu",function(k){var C=_.props.onContextMenu;if(De(C)){var P=_.getMouseInfo(k);C(P,k)}}),Ce(_,"triggerSyncEvent",function(k){_.props.syncId!==void 0&&Xy.emit(Yy,_.props.syncId,k,_.eventEmitterSymbol)}),Ce(_,"applySyncEvent",function(k){var C=_.props,P=C.layout,R=C.syncMethod,B=_.state.updateId,I=k.dataStartIndex,F=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)_.setState(ne({dataStartIndex:I,dataEndIndex:F},b({props:_.props,dataStartIndex:I,dataEndIndex:F,updateId:B},_.state)));else if(k.activeTooltipIndex!==void 0){var L=k.chartX,X=k.chartY,q=k.activeTooltipIndex,z=_.state,ee=z.offset,K=z.tooltipTicks;if(!ee)return;if(typeof R=="function")q=R(K,k);else if(R==="value"){q=-1;for(var W=0;W<K.length;W++)if(K[W].value===k.activeLabel){q=W;break}}var J=ne(ne({},ee),{},{x:ee.left,y:ee.top}),$=Math.min(L,J.x+J.width),U=Math.min(X,J.y+J.height),ae=K[q]&&K[q].value,se=Dx(_.state,_.props.data,q),ie=K[q]?{x:P==="horizontal"?K[q].coordinate:$,y:P==="horizontal"?U:K[q].coordinate}:eT;_.setState(ne(ne({},k),{},{activeLabel:ae,activeCoordinate:ie,activePayload:se,activeTooltipIndex:q}))}else _.setState(k)}),Ce(_,"renderCursor",function(k){var C,P=_.state,R=P.isTooltipActive,B=P.activeCoordinate,I=P.activePayload,F=P.offset,L=P.activeTooltipIndex,X=P.tooltipAxisBandSize,q=_.getTooltipEventType(),z=(C=k.props.active)!==null&&C!==void 0?C:R,ee=_.props.layout,K=k.key||"_recharts-cursor";return Y.createElement(hH,{key:K,activeCoordinate:B,activePayload:I,activeTooltipIndex:L,chartName:r,element:k,isActive:z,layout:ee,offset:F,tooltipAxisBandSize:X,tooltipEventType:q})}),Ce(_,"renderPolarAxis",function(k,C,P){var R=Br(k,"type.axisType"),B=Br(_.state,"".concat(R,"Map")),I=k.type.defaultProps,F=I!==void 0?ne(ne({},I),k.props):k.props,L=B&&B[F["".concat(R,"Id")]];return M.cloneElement(k,ne(ne({},L),{},{className:Fe(R,L.className),key:k.key||"".concat(C,"-").concat(P),ticks:gi(L,!0)}))}),Ce(_,"renderPolarGrid",function(k){var C=k.props,P=C.radialLines,R=C.polarAngles,B=C.polarRadius,I=_.state,F=I.radiusAxisMap,L=I.angleAxisMap,X=hs(F),q=hs(L),z=q.cx,ee=q.cy,K=q.innerRadius,W=q.outerRadius;return M.cloneElement(k,{polarAngles:Array.isArray(R)?R:gi(q,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(B)?B:gi(X,!0).map(function(J){return J.coordinate}),cx:z,cy:ee,innerRadius:K,outerRadius:W,key:k.key||"polar-grid",radialLines:P})}),Ce(_,"renderLegend",function(){var k=_.state.formattedGraphicalItems,C=_.props,P=C.children,R=C.width,B=C.height,I=_.props.margin||{},F=R-(I.left||0)-(I.right||0),L=GP({children:P,formattedGraphicalItems:k,legendWidth:F,legendContent:h});if(!L)return null;var X=L.item,q=qE(L,pH);return M.cloneElement(X,ne(ne({},q),{},{chartWidth:R,chartHeight:B,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ce(_,"renderTooltip",function(){var k,C=_.props,P=C.children,R=C.accessibilityLayer,B=_r(P,xn);if(!B)return null;var I=_.state,F=I.isTooltipActive,L=I.activeCoordinate,X=I.activePayload,q=I.activeLabel,z=I.offset,ee=(k=B.props.active)!==null&&k!==void 0?k:F;return M.cloneElement(B,{viewBox:ne(ne({},z),{},{x:z.left,y:z.top}),active:ee,label:q,payload:ee?X:[],coordinate:L,accessibilityLayer:R})}),Ce(_,"renderBrush",function(k){var C=_.props,P=C.margin,R=C.data,B=_.state,I=B.offset,F=B.dataStartIndex,L=B.dataEndIndex,X=B.updateId;return M.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Bu(_.handleBrushChange,k.props.onChange),data:R,x:me(k.props.x)?k.props.x:I.left,y:me(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:me(k.props.width)?k.props.width:I.width,startIndex:F,endIndex:L,updateId:"brush-".concat(X)})}),Ce(_,"renderReferenceElement",function(k,C,P){if(!k)return null;var R=_,B=R.clipPathId,I=_.state,F=I.xAxisMap,L=I.yAxisMap,X=I.offset,q=k.type.defaultProps||{},z=k.props,ee=z.xAxisId,K=ee===void 0?q.xAxisId:ee,W=z.yAxisId,J=W===void 0?q.yAxisId:W;return M.cloneElement(k,{key:k.key||"".concat(C,"-").concat(P),xAxis:F[K],yAxis:L[J],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:B})}),Ce(_,"renderActivePoints",function(k){var C=k.item,P=k.activePoint,R=k.basePoint,B=k.childIndex,I=k.isRange,F=[],L=C.props.key,X=C.item.type.defaultProps!==void 0?ne(ne({},C.item.type.defaultProps),C.item.props):C.item.props,q=X.activeDot,z=X.dataKey,ee=ne(ne({index:B,dataKey:z,cx:P.x,cy:P.y,r:4,fill:Gb(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Le(q,!1)),yd(q));return F.push(O.renderActiveDot(q,ee,"".concat(L,"-activePoint-").concat(B))),R?F.push(O.renderActiveDot(q,ne(ne({},ee),{},{cx:R.x,cy:R.y}),"".concat(L,"-basePoint-").concat(B))):I&&F.push(null),F}),Ce(_,"renderGraphicChild",function(k,C,P){var R=_.filterFormatItem(k,C,P);if(!R)return null;var B=_.getTooltipEventType(),I=_.state,F=I.isTooltipActive,L=I.tooltipAxis,X=I.activeTooltipIndex,q=I.activeLabel,z=_.props.children,ee=_r(z,xn),K=R.props,W=K.points,J=K.isRange,$=K.baseLine,U=R.item.type.defaultProps!==void 0?ne(ne({},R.item.type.defaultProps),R.item.props):R.item.props,ae=U.activeDot,se=U.hide,ie=U.activeBar,he=U.activeShape,ke=!!(!se&&F&&ee&&(ae||ie||he)),ge={};B!=="axis"&&ee&&ee.props.trigger==="click"?ge={onClick:Bu(_.handleItemMouseEnter,k.props.onClick)}:B!=="axis"&&(ge={onMouseLeave:Bu(_.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Bu(_.handleItemMouseEnter,k.props.onMouseEnter)});var oe=M.cloneElement(k,ne(ne({},R.props),ge));function ye(Ft){return typeof L.dataKey=="function"?L.dataKey(Ft.payload):null}if(ke)if(X>=0){var Oe,Q;if(L.dataKey&&!L.allowDuplicatedCategory){var je=typeof L.dataKey=="function"?ye:"payload.".concat(L.dataKey.toString());Oe=vd(W,je,q),Q=J&&$&&vd($,je,q)}else Oe=W?.[X],Q=J&&$&&$[X];if(he||ie){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:X;return[M.cloneElement(k,ne(ne(ne({},R.props),ge),{},{activeIndex:Re})),null,null]}if(!Be(Oe))return[oe].concat(Qs(_.renderActivePoints({item:R,activePoint:Oe,basePoint:Q,childIndex:X,isRange:J})))}else{var He,Ye=(He=_.getItemByXY(_.state.activeCoordinate))!==null&&He!==void 0?He:{graphicalItem:oe},gt=Ye.graphicalItem,Rt=gt.item,or=Rt===void 0?k:Rt,Ot=gt.childIndex,vt=ne(ne(ne({},R.props),ge),{},{activeIndex:Ot});return[M.cloneElement(or,vt),null,null]}return J?[oe,null,null]:[oe,null]}),Ce(_,"renderCustomized",function(k,C,P){return M.cloneElement(k,ne(ne({key:"recharts-customized-".concat(P)},_.props),_.state))}),Ce(_,"renderMap",{CartesianGrid:{handler:Wu,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Wu},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Wu},YAxis:{handler:Wu},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((N=E.id)!==null&&N!==void 0?N:pc("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=K5(_.triggeredAfterMouseMove,(A=E.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return kH(O,y),jH(O,[{key:"componentDidMount",value:function(){var N,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,A=N.children,_=N.data,k=N.height,C=N.layout,P=_r(A,xn);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,I=Dx(this.state,_,R,B),F=this.state.tooltipTicks[R].coordinate,L=(this.state.offset.top+k)/2,X=C==="horizontal",q=X?{x:F,y:L}:{y:F,x:L},z=this.state.formattedGraphicalItems.find(function(K){var W=K.item;return W.type.name==="Scatter"});z&&(q=ne(ne({},q),z.props.points[R].tooltipPosition),I=z.props.points[R].tooltipPayload);var ee={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:B,activePayload:I,activeCoordinate:q};this.setState(ee),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var _,k;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(N){S0([_r(N.children,xn)],[_r(this.props.children,xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=_r(this.props.children,xn);if(N&&typeof N.props.shared=="boolean"){var A=N.props.shared?"axis":"item";return u.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),k=YD(_),C={chartX:Math.round(N.pageX-k.left),chartY:Math.round(N.pageY-k.top)},P=_.width/A.offsetWidth||1,R=this.inRange(C.chartX,C.chartY,P);if(!R)return null;var B=this.state,I=B.xAxisMap,F=B.yAxisMap,L=this.getTooltipEventType(),X=FE(this.state,this.props.data,this.props.layout,R);if(L!=="axis"&&I&&F){var q=hs(I).scale,z=hs(F).scale,ee=q&&q.invert?q.invert(C.chartX):null,K=z&&z.invert?z.invert(C.chartY):null;return ne(ne({},C),{},{xValue:ee,yValue:K},X)}return X?ne(ne({},C),X):null}},{key:"inRange",value:function(N,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,C=N/_,P=A/_;if(k==="horizontal"||k==="vertical"){var R=this.state.offset,B=C>=R.left&&C<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return B?{x:C,y:P}:null}var I=this.state,F=I.angleAxisMap,L=I.radiusAxisMap;if(F&&L){var X=hs(F);return lO({x:C,y:P},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,A=this.getTooltipEventType(),_=_r(N,xn),k={};_&&A==="axis"&&(_.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=yd(this.props,this.handleOuterEvent);return ne(ne({},C),k)}},{key:"addListener",value:function(){Xy.on(Yy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xy.removeListener(Yy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,A,_){for(var k=this.state.formattedGraphicalItems,C=0,P=k.length;C<P;C++){var R=k[C];if(R.item===N||R.props.key===N.key||A===Wn(R.item.type)&&_===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,A=this.state.offset,_=A.left,k=A.top,C=A.height,P=A.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:N},Y.createElement("rect",{x:_,y:k,height:C,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(A,_){var k=BE(_,2),C=k[0],P=k[1];return ne(ne({},A),{},Ce({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(A,_){var k=BE(_,2),C=k[0],P=k[1];return ne(ne({},A),{},Ce({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(N){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(N){var A=this.state,_=A.formattedGraphicalItems,k=A.activeItem;if(_&&_.length)for(var C=0,P=_.length;C<P;C++){var R=_[C],B=R.props,I=R.item,F=I.type.defaultProps!==void 0?ne(ne({},I.type.defaultProps),I.props):I.props,L=Wn(I.type);if(L==="Bar"){var X=(B.data||[]).find(function(K){return xF(N,K)});if(X)return{graphicalItem:R,payload:X}}else if(L==="RadialBar"){var q=(B.data||[]).find(function(K){return lO(N,K)});if(q)return{graphicalItem:R,payload:q}}else if(Hf(R,k)||Vf(R,k)||ec(R,k)){var z=cz({graphicalItem:R,activeTooltipItem:k,itemData:F.data}),ee=F.activeIndex===void 0?z:F.activeIndex;return{graphicalItem:ne(ne({},R),{},{childIndex:ee}),payload:ec(R,k)?F.data[z]:R.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!xS(this))return null;var A=this.props,_=A.children,k=A.className,C=A.width,P=A.height,R=A.style,B=A.compact,I=A.title,F=A.desc,L=qE(A,mH),X=Le(L,!1);if(B)return Y.createElement(_E,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(k0,bs({},X,{width:C,height:P,title:I,desc:F}),this.renderClipPath(),wS(_,this.renderMap)));if(this.props.accessibilityLayer){var q,z;X.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,X.role=(z=this.props.role)!==null&&z!==void 0?z:"application",X.onKeyDown=function(K){N.accessibilityManager.keyboardEvent(K)},X.onFocus=function(){N.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Y.createElement(_E,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",bs({className:Fe("recharts-wrapper",k),style:ne({position:"relative",cursor:"default",width:C,height:P},R)},ee,{ref:function(W){N.container=W}}),Y.createElement(k0,bs({},X,{width:C,height:P,title:I,desc:F,style:TH}),this.renderClipPath(),wS(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Ce(j,"displayName",r),Ce(j,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ce(j,"getDerivedStateFromProps",function(y,O){var E=y.dataKey,N=y.data,A=y.children,_=y.width,k=y.height,C=y.layout,P=y.stackOffset,R=y.margin,B=O.dataStartIndex,I=O.dataEndIndex;if(O.updateId===void 0){var F=zE(y);return ne(ne(ne({},F),{},{updateId:0},b(ne(ne({props:y},F),{},{updateId:0}),O)),{},{prevDataKey:E,prevData:N,prevWidth:_,prevHeight:k,prevLayout:C,prevStackOffset:P,prevMargin:R,prevChildren:A})}if(E!==O.prevDataKey||N!==O.prevData||_!==O.prevWidth||k!==O.prevHeight||C!==O.prevLayout||P!==O.prevStackOffset||!Ss(R,O.prevMargin)){var L=zE(y),X={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},q=ne(ne({},FE(O,N,C)),{},{updateId:O.updateId+1}),z=ne(ne(ne({},L),X),q);return ne(ne(ne({},z),b(ne({props:y},z),O)),{},{prevDataKey:E,prevData:N,prevWidth:_,prevHeight:k,prevLayout:C,prevStackOffset:P,prevMargin:R,prevChildren:A})}if(!S0(A,O.prevChildren)){var ee,K,W,J,$=_r(A,Fs),U=$&&(ee=(K=$.props)===null||K===void 0?void 0:K.startIndex)!==null&&ee!==void 0?ee:B,ae=$&&(W=(J=$.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:I,se=U!==B||ae!==I,ie=!Be(N),he=ie&&!se?O.updateId:O.updateId+1;return ne(ne({updateId:he},b(ne(ne({props:y},O),{},{updateId:he,dataStartIndex:U,dataEndIndex:ae}),O)),{},{prevChildren:A,dataStartIndex:U,dataEndIndex:ae})}return null}),Ce(j,"renderActiveDot",function(y,O,E){var N;return M.isValidElement(y)?N=M.cloneElement(y,O):De(y)?N=y(O):N=Y.createElement(Yb,O),Y.createElement(mt,{className:"recharts-active-dot",key:E},N)});var w=M.forwardRef(function(O,E){return Y.createElement(j,bs({},O,{ref:E}))});return w.displayName=j.displayName,w},zH=FH({chartName:"AreaChart",GraphicalChild:Ua,axisComponents:[{axisType:"xAxis",AxisComp:Zf},{axisType:"yAxis",AxisComp:eh}],formatAxisMap:s9});const WH=[{key:"curioso",label:"Curiosos",icon:Jn,color:"bg-blue-500"},{key:"ctico",label:"Cticos",icon:wf,color:"bg-fuchsia-500"},{key:"sensvel_preo",label:"Preo",icon:Zs,color:"bg-cyan-500"},{key:"empolgado",label:"Empolgados",icon:Sl,color:"bg-emerald-500"},{key:"pronto",label:"Prontos",icon:an,color:"bg-orange-500"}];function HH({demoMode:t,stats:e,conversations:r,leads:n,onOpenSuggestions:a,onOpenInsights:s,onActivateAI:c,onGoToAnalysis:u,onOpenEvents:d}){const h=r||[],p=n||[],m=!t&&(h.length>0||p.length>0),v=M.useMemo(()=>{const N=e?.conversations_total??h.length,A=e?.leads_total??p.length,_=p.filter(F=>(F.stage||"").toLowerCase()==="pronto"),k=p.filter(F=>["high","critical"].includes((F.urgency_level||"").toLowerCase())),C=p.filter(F=>{const L=F.health_score??50,X=(F.urgency_level||"").toLowerCase();return L<=45&&["high","critical"].includes(X)}),P=p.length>0?Math.round(p.reduce((F,L)=>F+(L.health_score??50),0)/p.length):0,R=p.length>0?Math.round(p.reduce((F,L)=>F+(L.conversion_probability??.3)*100,0)/p.length):0,B=e?.avg_response_time_seconds??0,I={};return p.forEach(F=>{const L=(F.stage||"curioso").toLowerCase();I[L]=(I[L]||0)+1}),{totalConvs:N,totalLeads:A,leadsProonto:_,leadsQuentes:k,leadsEmRisco:C,avgHealth:P,avgConversion:R,avgTime:B,stageCounts:I}},[e,h,p]),b=M.useMemo(()=>{if(e?.activity_last_7_days?.length)return e.activity_last_7_days;const N=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],A={};return N.forEach(_=>A[_]=0),h.forEach(_=>{if(_.updated_at){const k=new Date(_.updated_at),C=N[k.getDay()];A[C]=(A[C]||0)+1}}),N.map(_=>({name:_,value:A[_]||0}))},[e,h]),j=M.useMemo(()=>{const N=[];return[...p].sort((_,k)=>(k.updated_at||"").localeCompare(_.updated_at||"")).slice(0,2).forEach(_=>{const k=_.health_score??50;N.push({title:_.name||HE(_.phone||""),desc:`Health ${k}  ${_.stage||"curioso"}`,time:VH(_.updated_at),icon:k>=70?an:k>=40?sn:nr,tone:k>=70?"orange":k>=40?"cyan":"red"})}),(h.length>0||p.length>0)&&N.push({title:"Sistema operacional",desc:`${h.length} conversas  ${p.length} leads`,time:"agora",icon:_s,tone:"green"}),v.leadsEmRisco.length>0&&N.push({title:`${v.leadsEmRisco.length} leads esfriando`,desc:"Precisam de ateno urgente",time:"ao",icon:nr,tone:"red"}),N.slice(0,4)},[h,p,v]),w=[{name:"Seg",value:12},{name:"Ter",value:18},{name:"Qua",value:16},{name:"Qui",value:25},{name:"Sex",value:21},{name:"Sb",value:14},{name:"Dom",value:9}],y=[{title:"Novo lead qualificado",desc:"Health Score 78/100",time:"h 2 min",icon:ir,tone:"orange"},{title:"Objeo detectada",desc:"Preo em 3 conversas",time:"h 12 min",icon:nr,tone:"red"},{title:"Sistema estvel",desc:"Webhooks OK",time:"h 31 min",icon:_s,tone:"green"},{title:"Performance",desc:"Tempo mdio: 18s",time:"hoje",icon:ln,tone:"cyan"}],O=t?w:b,E=t?y:j;return!t&&!m?o.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-10",children:o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:[o.jsx(fd,{className:"w-4 h-4 text-[#f57f17]"}),"Produo"]}),o.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Aguardando dados"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Assim que chegarem conversas via webhook, o dashboard ser preenchido automaticamente."}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Qy,{icon:sr,title:"1. Envie mensagens",desc:"Use o WhatsApp conectado"}),o.jsx(Qy,{icon:_s,title:"2. Verifique webhook",desc:"Endpoint /api respondendo"}),o.jsx(Qy,{icon:r_,title:"3. Aguarde",desc:"Dados aparecem em segundos"})]}),o.jsxs("button",{onClick:u,className:"mt-6 h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center gap-2",children:[o.jsx(ln,{className:"w-4 h-4"}),"Ir para Anlise IA",o.jsx(RA,{className:"w-4 h-4"})]})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"xl:col-span-8 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 relative overflow-hidden",children:[o.jsx("div",{className:"pointer-events-none absolute -top-20 -right-40 h-[320px] w-[320px] rounded-full bg-[#f57f17]/20 blur-3xl"}),o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap relative",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[o.jsx(r_,{className:"w-4 h-4"}),t?"Demo":"Realtime"]}),o.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Central de Comando"}),o.jsx("p",{className:"text-gray-400 mt-2 max-w-xl",children:"Viso executiva: volume, qualidade, inteno e performance em tempo real."}),o.jsxs("div",{className:"mt-5 flex items-center gap-3 flex-wrap",children:[o.jsxs("button",{onClick:s,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[o.jsx(Ra,{className:"w-4 h-4"}),"Ver Funil",o.jsx(x0,{className:"w-4 h-4"})]}),o.jsxs("button",{onClick:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-semibold text-gray-200 flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-[#f57f17]"}),"Sugestes IA"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(Zy,{label:"Health",value:t?"72":String(v.avgHealth),suffix:"%",color:"text-emerald-400"}),o.jsx(Zy,{label:"Converso",value:t?"34":String(v.avgConversion),suffix:"%",color:"text-cyan-400"}),o.jsx(Zy,{label:"Tempo",value:t?"18":v.avgTime>0?String(Math.round(v.avgTime)):"",suffix:"s",color:"text-orange-400"})]})]}),o.jsxs("div",{className:"mt-6 h-[200px] rounded-2xl border border-white/10 bg-black/30 p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Atividade  ltimos 7 dias"}),o.jsx(zD,{width:"100%",height:"100%",children:o.jsxs(zH,{data:O,margin:{top:5,right:5,left:-20,bottom:0},children:[o.jsx(Zf,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),o.jsx(eh,{stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),o.jsx(xn,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),o.jsx(Ua,{type:"monotone",dataKey:"value",stroke:"#f57f17",fill:"rgba(245,127,23,0.2)",strokeWidth:2})]})})]})]}),o.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-orange-500/20 bg-gradient-to-br from-orange-500/10 to-transparent backdrop-blur-xl p-6 relative overflow-hidden",children:[o.jsx("div",{className:"pointer-events-none absolute -bottom-10 -right-10 h-40 w-40 rounded-full bg-orange-500/20 blur-3xl"}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center",children:o.jsx(an,{className:"w-5 h-5 text-orange-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Leads Quentes"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Prontos para fechar"})]})]}),o.jsx("span",{className:"text-3xl font-black text-orange-400",children:t?"6":v.leadsProonto.length})]}),o.jsx("div",{className:"space-y-2 mb-4",children:(t?[{name:"Joo Silva",health:85},{name:"Maria Santos",health:78},{name:"Pedro Costa",health:72}]:v.leadsProonto.slice(0,3).map(N=>({name:N.name||HE(N.phone||""),health:N.health_score||50}))).map((N,A)=>o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl bg-black/20 border border-white/5",children:[o.jsx("span",{className:"text-sm text-gray-300 truncate",children:N.name}),o.jsx("span",{className:"text-xs font-bold text-orange-400",children:N.health})]},A))}),o.jsxs("button",{onClick:u,className:"w-full h-10 rounded-xl border border-orange-500/30 bg-orange-500/10 hover:bg-orange-500/20 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),"Executar Follow-ups"]}),v.leadsEmRisco.length>0&&!t&&o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-400",children:[o.jsx(nr,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[v.leadsEmRisco.length," leads esfriando"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Hu,{icon:sr,label:"Conversas",value:t?"87":String(v.totalConvs),delta:t?"+12%":"",color:"orange"}),o.jsx(Hu,{icon:sn,label:"Leads",value:t?"34":String(v.totalLeads),delta:t?"+9%":"",color:"cyan"}),o.jsx(Hu,{icon:an,label:"Quentes",value:t?"12":String(v.leadsQuentes.length),delta:t?"+4%":"",color:"orange"}),o.jsx(Hu,{icon:md,label:"Health Mdio",value:t?"68":String(v.avgHealth),delta:t?"+5%":"",color:"green"})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Pipeline Emocional"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Distribuio por estgio"})]}),o.jsxs("button",{onClick:s,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:["Ver completo ",o.jsx(x0,{className:"w-3 h-3"})]})]}),o.jsx("div",{className:"space-y-3",children:WH.map(N=>{const A=t?Math.floor(Math.random()*15)+2:v.stageCounts[N.key]||0,_=t?50:v.totalLeads||1,k=Math.round(A/_*100),C=N.icon;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-9 w-9 rounded-lg ${N.color} flex items-center justify-center flex-shrink-0`,children:o.jsx(C,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-gray-300",children:N.label}),o.jsx("span",{className:"text-sm font-bold text-white",children:A})]}),o.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${N.color} rounded-full transition-all`,style:{width:`${Math.max(k,3)}%`}})})]})]},N.key)})})]}),o.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Atividade"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Eventos recentes"})]}),o.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-[10px] font-bold",children:"LIVE"})]}),o.jsx("div",{className:"space-y-3",children:E.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Nenhum evento recente"}):E.map((N,A)=>o.jsxs("div",{className:"flex items-start gap-3 px-3 py-3 rounded-xl bg-black/20 border border-white/5",children:[o.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center flex-shrink-0 ${N.tone==="green"?"bg-emerald-500/20":N.tone==="red"?"bg-red-500/20":N.tone==="cyan"?"bg-cyan-500/20":"bg-orange-500/20"}`,children:o.jsx(N.icon,{className:`w-4 h-4 ${N.tone==="green"?"text-emerald-400":N.tone==="red"?"text-red-400":N.tone==="cyan"?"text-cyan-400":"text-orange-400"}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-white font-medium truncate",children:N.title}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.desc})]}),o.jsx("span",{className:"text-[10px] text-gray-600 flex-shrink-0",children:N.time})]},A))}),o.jsx("button",{onClick:d,className:"mt-4 w-full h-9 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs font-medium text-gray-300",children:"Ver todos os eventos"})]})]}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Aes Recomendadas"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O que fazer agora para aumentar converso"})]}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-bold",children:"DOCA IA"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Vu,{icon:$a,title:"Atacar prontos",desc:"Follow-up imediato com CTA de call",color:"green"}),o.jsx(Vu,{icon:wf,title:"Destravar cticos",desc:"Prova social e cases de sucesso",color:"orange"}),o.jsx(Vu,{icon:Zs,title:"Sensveis a preo",desc:"2 opes: parcela vs  vista + ROI",color:"cyan"}),o.jsx(Vu,{icon:Sl,title:"Frustrados",desc:"Mensagem emptica antes de ofertar",color:"red"})]}),o.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-black/20 border border-white/5 flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white font-medium",children:"Prximo passo"}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Conectar mdulo Anlise IA para relatrios automticos"})]}),o.jsxs("button",{onClick:c,className:"h-9 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4"}),"Ativar Anlise IA"]})]})]})]})}function Qy({icon:t,title:e,desc:r}){return o.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-4",children:[o.jsx("div",{className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center mb-3",children:o.jsx(t,{className:"w-4 h-4 text-[#f57f17]"})}),o.jsx("p",{className:"text-sm text-white font-medium",children:e}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function Zy({label:t,value:e,suffix:r,color:n}){return o.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 px-4 py-3 text-center",children:[o.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),o.jsxs("p",{className:`text-2xl font-bold ${n} mt-1`,children:[e,o.jsx("span",{className:"text-sm opacity-60",children:r})]})]})}function Hu({icon:t,label:e,value:r,delta:n,color:a}){const c={orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400",delta:"bg-orange-500/20 text-orange-300"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400",delta:"bg-cyan-500/20 text-cyan-300"},green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400",delta:"bg-emerald-500/20 text-emerald-300"}}[a];return o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e}),o.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:r})]}),o.jsx("div",{className:`h-10 w-10 rounded-xl ${c.bg} ${c.border} border flex items-center justify-center`,children:o.jsx(t,{className:`w-5 h-5 ${c.icon}`})})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Variao"}),o.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${c.delta}`,children:n})]})]})}function Vu({icon:t,title:e,desc:r,color:n}){const s={green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400"},red:{bg:"bg-red-500/10",border:"border-red-500/20",icon:"text-red-400"}}[n];return o.jsxs("div",{className:`rounded-xl border ${s.border} ${s.bg} p-4 hover:opacity-80 transition cursor-pointer`,children:[o.jsx("div",{className:`h-9 w-9 rounded-lg ${s.bg} border ${s.border} flex items-center justify-center mb-3`,children:o.jsx(t,{className:`w-4 h-4 ${s.icon}`})}),o.jsx("p",{className:"text-sm text-white font-medium",children:e}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function HE(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function VH(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime(),n=e-r,a=Math.floor(n/6e4);if(a<1)return"agora";if(a<60)return`h ${a}min`;const s=Math.floor(a/60);if(s<24)return`h ${s}h`;const c=Math.floor(s/24);return c===1?"ontem":`h ${c}d`}function mf({title:t,subtitle:e,right:r,children:n,className:a=""}){return o.jsxs("div",{className:["rounded-2xl border border-white/10","bg-gradient-to-b from-white/[0.07] to-white/[0.03]","backdrop-blur-xl","shadow-[0_20px_50px_rgba(0,0,0,0.35)]","hover:border-white/20 transition-colors",a].join(" "),children:[(t||e||r)&&o.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-white/5",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[t&&o.jsx("h3",{className:"text-white font-semibold text-base leading-tight",children:t}),e&&o.jsx("p",{className:"text-slate-400 text-sm mt-1 leading-snug",children:e})]}),r&&o.jsx("div",{className:"shrink-0",children:r})]})}),o.jsx("div",{className:"px-6 pb-6 pt-5",children:n})]})}function Ku(){return new Date().toISOString()}function il(t,e){return Math.floor(Math.random()*(e-t+1))+t}function sl(t,e,r){return Math.max(e,Math.min(r,t))}function VE(t){return t[Math.floor(Math.random()*t.length)]}function cd(t){let e=2166136261;for(let r=0;r<t.length;r++)e^=t.charCodeAt(r),e=Math.imul(e,16777619);return Math.abs(e)}function KH(t){let e=cd(t)||123456789;return()=>(e^=e<<13,e^=e>>17,e^=e<<5,(e>>>0)/4294967296)}function rT(t){const e=t.niche||"default",r=t.seedKey||`${e}-${t.businessName||"demo"}`,n=KH(r),a=t.businessName||"Cliente Demo",s=t.city||"So Paulo",c=t.instagram||"",u=t.website||"",d=t.offer||"",h=t.mainPain||"",p=t.objections||"",m=sl(Number(t.leadsPerMonth??120),10,1e4),v=sl(Number(t.conversationsCount??60),5,600),b={conversations_last_7d:Math.round(v*.7),leads_last_7d:Math.round(m/4*(.8+n()*.4)),qualified_last_7d:Math.round(m/12*(.7+n()*.6)),avg_response_time_s:Math.round(10+n()*30),updated_at:Ku(),business:{name:a,city:s,instagram:c,website:u,offer:d,mainPain:h,objections:p,niche:e}},j=sl(Math.round(v*(.45+n()*.25)),8,220),w=["curioso","ctico","sensvel_preo","empolgado","pronto","frustrado"],y=Array.from({length:j}).map((N,A)=>{const _=`lead-${cd(`${r}-lead-${A}`)}-${A}`,k=`55${il(11,99)}9${il(1e3,9999)}${il(1e3,9999)}`,C=sl(Math.round(40+n()*55),0,100),P=sl(.15+n()*.75,0,1),B=VE([...["low","normal","high","critical"]]),I=VE([...w]);return{id:_,phone:k,name:null,health_score:C,stage:I,urgency_level:B,conversion_probability:P,tags:[],updated_at:Ku(),created_at:Ku()}}),O=[],E=[];for(let N=0;N<v;N++){const A=y[Math.floor(n()*y.length)],_=`conv-${cd(`${r}-conv-${N}`)}-${N}`,k=[{from:"lead",text:`Oi! Vi sobre ${a}. Como funciona?`},{from:"agent",text:"Oi!  Funciona assim: a gente automatiza atendimento + qualificao + follow-up no WhatsApp. Quer que eu te explique rapidinho?"},{from:"lead",text:"Sim, tenho dvida sobre preo e como instala."},{from:"agent",text:"Show! Te explico os planos e a implementao  bem rpida (em minutos). Me diz seu volume de leads/ms?"}],C=new Date(Date.now()-il(1,7)*864e5).toISOString(),P=k.length>0?String(k[k.length-1]?.text||""):"";O.push({id:_,phone:A.phone,name:A.name,status:"active",last_message:P,current_emotion:A.stage,created_at:C,updated_at:Ku(),lead_id:A.id,tags:[]}),k.forEach((R,B)=>{E.push({id:`msg-${cd(`${r}-msg-${N}-${B}`)}-${N}-${B}`,conversation_id:_,from:R.from,text:String(R.text||""),created_at:new Date(Date.now()-il(1,7)*864e5+B*12e4).toISOString()})})}return{stats:b,leads:y,conversations:O,messages:E,emotion_events:[]}}const tw="doca:demo:list",rw=t=>`doca:demo:${t}`;function nT(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}function rh(){return(nT(localStorage.getItem(tw))||[]).sort((e,r)=>r.createdAt-e.createdAt)}function aT(t,e,r){localStorage.setItem(rw(t),JSON.stringify(e));const n=rh(),a=[{key:t,label:r.label||t,niche:r.niche,createdAt:Date.now()},...n.filter(s=>s.key!==t)];localStorage.setItem(tw,JSON.stringify(a.slice(0,50)))}function iT(t){return nT(localStorage.getItem(rw(t)))}function GH(t){localStorage.removeItem(rw(t));const e=rh().filter(r=>r.key!==t);localStorage.setItem(tw,JSON.stringify(e))}function nw(){return"".trim().toLowerCase()}function aw(){try{return(new URL(window.location.href).searchParams.get("demo")||"").toString().trim().toLowerCase()}catch{return""}}function co(){return!!(aw()||nw())}function sT(){const t=(aw()||nw()||"").toString().trim().toLowerCase();if(!t)return"";if(iT(t))return t;try{const r=rT({niche:"restaurante",seedKey:t,businessName:t,city:"So Paulo",instagram:"@docaperformance",website:"docaperformance.com.br",offer:"DOCA Multi Agentes (WhatsApp + IA + Dashboard)",mainPain:"Muitos leads e pouco atendimento",objections:"Medo de parecer rob / preo / integrao",leadsPerMonth:120,conversationsCount:36});return aT(t,r,{label:`Demo  ${t}`,niche:"restaurante"}),t}catch(r){return console.error("[demo] Failed to auto-generate demo:",r),""}}function XH(){const t=rh().map(r=>({key:r.key,label:r.label,source:"generated"})),e=(aw()||nw()||"").toString().trim().toLowerCase();return e&&!t.some(r=>r.key===e)&&t.unshift({key:e,label:`Demo  ${e}`,source:"generated"}),t.length===0?[{key:"",label:"(sem demos geradas)",source:"generated"}]:t}function uo(){const t=sT();if(t){const e=iT(t);if(e)return e}return ZH()}function YH(t){const e=rT({niche:t.niche,seedKey:t.key,businessName:t.businessName,city:t.city,instagram:t.instagram,website:t.website,offer:t.offer,mainPain:t.mainPain,objections:t.objections,leadsPerMonth:t.leadsPerMonth,conversationsCount:t.conversationsCount});return aT(t.key,e,{label:t.businessName||t.key,niche:t.niche}),{key:t.key}}function JH(){return rh()}function QH(t){return GH(t)}function ZH(){return{stats:{conversations_last_7d:0,leads_last_7d:0,qualified_last_7d:0,avg_response_time_s:0,updated_at:new Date().toISOString()},conversations:[],leads:[],messages:[],emotion_events:[]}}function eV(t){const e=t.status==="closed"?"closed":"open";return{...t,status:e}}function KE(t){return{id:t.id,conversation_id:t.conversation_id,from:t.role==="assistant"||t.from==="agent"?"agent":"lead",text:t.content||t.text||"",created_at:t.created_at||t.timestamp||"",emotion:t.emotion||t.detected_emotion||null}}const tV="/api/messages?conversation_id=",GE={anxious:{label:"Ansioso",icon:nr,color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30"},skeptical:{label:"Ctico",icon:LA,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},frustrated:{label:"Frustrado",icon:qA,color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30"},excited:{label:"Empolgado",icon:ln,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},price_sensitive:{label:"Sensvel a Preo",icon:Zs,color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30"},ready:{label:"Pronto",icon:$a,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},curious:{label:"Curioso",icon:md,color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30"},neutral:{label:"Neutro",icon:WM,color:"text-gray-400",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/30"}};function e0(t){if(!t)return null;const e=t.toLowerCase().replace(/\s+/g,"_");return GE[e]||GE.neutral}function rV(t){const e=t.phone||"";return!(e.includes("broadcast")||e.startsWith("landing:")||e.startsWith("web_sess")||e.includes("@lid")&&e.replace("@lid","").replace(/\D/g,"").length>14)}function t0(t){let e=(t||"").replace("@c.us","").replace("@lid","").replace("@g.us","").replace(/\D/g,"");if(!e)return t;if(e.startsWith("55")&&e.length>=12){const r=e.slice(2,4),n=e.slice(4,9),a=e.slice(9,13);return`+55 (${r}) ${n}-${a}`}return e.length>=10?`+${e}`:e||t}function XE(t){if(t==null||t==="")return"";if(t instanceof Date)return Number.isNaN(t.getTime())?"":t.toLocaleString("pt-BR");if(typeof t=="number"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleString("pt-BR")}if(typeof t!="string")return"";const e=t.trim().replace(" ","T").replace(/\+00:00$/,"Z").replace(/(\.\d{3})\d+Z$/,"$1Z"),r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function YE(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html"))throw await e.text(),new Error(`Endpoint retornou HTML. URL: ${t}`);if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function nV({initialSelectedId:t,tenantId:e}){const r=M.useMemo(()=>co()?uo():null,[]),n=!!r,[a,s]=M.useState([]),[c,u]=M.useState(!0),[d,h]=M.useState(null),[p,m]=M.useState(""),[v,b]=M.useState(null),[j,w]=M.useState([]),[y,O]=M.useState(!1),[E,N]=M.useState(null);M.useEffect(()=>{let P=!0;async function R(){try{if(u(!0),h(null),n&&r){const F=[...r.conversations].sort((L,X)=>L.updated_at>X.updated_at?-1:1);if(!P)return;s(F);return}const B=e?`/api/conversations?limit=200&tenant_id=${e}`:"/api/conversations?limit=200",I=await YE(B);if(!P)return;s((I||[]).map(eV))}catch(B){if(!P)return;h(B?.message||"Erro ao carregar conversas")}finally{if(!P)return;u(!1)}}return R(),()=>{P=!1}},[n,r,e]),M.useEffect(()=>{if(!t)return;a.some(R=>R.id===t)&&b(t)},[t,a]),M.useEffect(()=>{if(!v){w([]);return}let P=!0;async function R(){try{if(O(!0),N(null),n&&r){const I=(r.messages||[]).filter(F=>F.conversation_id===v).sort((F,L)=>F.created_at>L.created_at?1:-1);if(!P)return;w(I.map(KE));return}const B=await YE(`${tV}${v}`);if(!P)return;w((B||[]).map(KE))}catch(B){if(!P)return;N(B?.message||"Erro ao carregar mensagens")}finally{if(!P)return;O(!1)}}return R(),()=>{P=!1}},[v,n,r]);const A=M.useMemo(()=>{const P=a.filter(rV);if(!p.trim())return P;const R=p.toLowerCase();return P.filter(B=>{const I=(B.name||"").toLowerCase(),F=(B.phone||"").toLowerCase(),L=(B.last_message||"").toLowerCase();return I.includes(R)||F.includes(R)||L.includes(R)})},[a,p]),_=v&&a.find(P=>P.id===v)||null,k=M.useMemo(()=>{const P={},R=Date.now();return a.forEach(B=>{const I=new Date(B.updated_at).getTime();P[B.id]=R-I<300*1e3}),P},[a]),C=_?e0(_.current_emotion):null;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(sr,{className:"w-6 h-6 text-[#f57f17]"}),"Conversas"]}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["Mensagens e atendimentos em tempo real",n?" (DEMO)":""]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-6",children:[o.jsx(mf,{title:"Conversas",subtitle:"Fila de atendimento",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"w-4 h-4 text-gray-500"}),o.jsx("input",{value:p,onChange:P=>m(P.target.value),placeholder:"Buscar...",className:"w-full bg-black/30 border border-gray-800 rounded-2xl px-4 py-3 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30"})]}),c?o.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Carregando conversas..."}):d?o.jsx("div",{className:"text-red-400 text-sm py-6",children:d}):A.length===0?o.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Nenhuma conversa encontrada."}):o.jsx("div",{className:"divide-y divide-gray-800/70 max-h-[600px] overflow-y-auto",children:A.map(P=>{const R=v===P.id,B=k[P.id],I=e0(P.current_emotion);return o.jsx("button",{onClick:()=>b(P.id),className:["w-full text-left px-4 py-4 transition-all",R?"bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl":"hover:bg-white/5 rounded-2xl"].join(" "),children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:P.name||t0(P.phone)}),I&&o.jsxs("span",{className:`flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full ${I.bgColor} ${I.color} border ${I.borderColor}`,children:[o.jsx(I.icon,{className:"w-3 h-3"}),I.label]})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1 truncate",children:XE(P.updated_at)}),P.last_message?o.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:P.last_message}):o.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Sem mensagens ainda"})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[o.jsx("div",{className:["h-2.5 w-2.5 rounded-full",B?"bg-emerald-400":"bg-gray-600"].join(" "),title:B?"Ativo":"Inativo"}),o.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border",P.status==="open"?"bg-emerald-500/10 text-emerald-200 border-emerald-500/20":"bg-gray-500/10 text-gray-300 border-gray-500/20"].join(" "),children:P.status==="open"?"ABERTO":"FECHADO"}),(()=>{const F=P.paused_until&&new Date(P.paused_until)>new Date;return o.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border font-medium",F?"bg-red-500/20 text-red-300 border-red-500/30":"bg-[#f57f17]/20 text-[#f57f17] border-[#f57f17]/30"].join(" "),children:F?"BOT OFF":"BOT ON"})})()]})]})},P.id)})})]})}),o.jsx(mf,{title:_?_.name||t0(_.phone):"Chat",subtitle:_?t0(_.phone):"Selecione uma conversa",right:_?o.jsxs("div",{className:"flex items-center gap-3",children:[C&&o.jsxs("span",{className:`flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full ${C.bgColor} ${C.color} border ${C.borderColor}`,children:[o.jsx(C.icon,{className:"w-4 h-4"}),C.label]}),o.jsx("span",{className:"text-xs text-gray-400",children:_.status==="open"?"Atendimento":"Histrico"}),(()=>{const P=_.paused_until&&new Date(_.paused_until)>new Date;return o.jsx("button",{onClick:async()=>{try{const R=P?"/api/conversations/resume":"/api/conversations/pause",B=_.chat_id||`${_.phone}@c.us`;(await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P?{chatId:B}:{chatId:B,ttlMinutes:1440,by:"dashboard"})})).ok&&s(L=>L.map(X=>X.id===_.id?{...X,paused_until:P?null:new Date(Date.now()+1440*60*1e3).toISOString()}:X))}catch(R){console.error("Erro ao alternar pause:",R)}},className:["text-xs px-3 py-1.5 rounded-full border font-medium transition-all",P?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/30":"bg-red-500/20 text-red-300 border-red-500/30 hover:bg-red-500/30"].join(" "),children:P?"Reativar Bot":"Pausar Bot"})})()]}):o.jsx("span",{className:"text-xs text-gray-500",children:""}),children:_?y?o.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-400",children:"Carregando mensagens..."}):E?o.jsx("div",{className:"h-[520px] flex items-center justify-center text-red-400",children:E}):j.length===0?o.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:"Sem mensagens nessa conversa."}):o.jsx("div",{className:"h-[520px] overflow-y-auto pr-2 space-y-3",children:j.map((P,R)=>{const B=P.from==="agent",I=B?null:e0(P.emotion||_?.current_emotion);return o.jsxs("div",{className:["max-w-[85%] rounded-2xl px-4 py-3 border relative",B?"ml-auto bg-[#f57f17]/10 border-[#f57f17]/20 text-gray-100":`mr-auto bg-black/40 text-gray-100 ${I?I.borderColor:"border-gray-800"}`].join(" "),children:[!B&&I&&o.jsx("div",{className:`absolute -top-2 -left-2 h-6 w-6 rounded-full ${I.bgColor} border ${I.borderColor} flex items-center justify-center`,children:o.jsx(I.icon,{className:`w-3 h-3 ${I.color}`})}),o.jsx("p",{className:"text-sm leading-relaxed",children:P.text}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx("p",{className:"text-[11px] text-gray-500",children:XE(P.created_at)}),!B&&I&&o.jsx("span",{className:`text-[10px] ${I.color}`,children:I.label})]})]},P.id)})}):o.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(sr,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),o.jsx("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]})}const JE={pronto:{title:"Lead PRONTO para fechar!",suggestions:["Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?","E a, pronto pra comear? Tenho um horrio agora pra gente acertar os detalhes!","S falta um passo! Quer que eu te mande o link pra fechar?"]},empolgado:{title:"Lead EMPOLGADO - mantenha a energia!",suggestions:["Que bom que curtiu! Quer ver um exemplo real funcionando?","E a, tudo certo? Quer que eu te explique os prximos passos?","Massa! Vou te mandar um case de sucesso parecido com o seu cenrio."]},curioso:{title:"Lead CURIOSO - tire as dvidas!",suggestions:["Oi! Ficou alguma dvida? T aqui pra te ajudar!","E a, o que achou? Posso explicar melhor alguma parte?","Tem mais alguma coisa que voc gostaria de saber?"]},sensvel_preo:{title:"Lead SENSVEL A PREO - mostre valor!",suggestions:["Oi! Consegui uma condio especial pra voc. Quer saber mais?","Entendo a preocupao com investimento. Posso te mostrar o ROI tpico?","Temos opes flexveis de pagamento. Posso te explicar?"]},ctico:{title:"Lead CTICO - prove com resultados!",suggestions:["Oi! Entendo suas dvidas. Posso te mostrar alguns cases de sucesso?","Normal ter dvidas! Quer ver depoimentos de clientes parecidos com voc?","Que tal uma demonstrao prtica? Assim voc v funcionando."]},frustrado:{title:"Lead FRUSTRADO - seja emptico!",suggestions:["Oi! Vi que teve algumas dificuldades. Como posso te ajudar?","Entendi seu ponto. Vamos resolver isso juntos?","Desculpa pelo inconveniente. O que posso fazer pra melhorar sua experincia?"]}};function aV(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function ud(t){const e=t.replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),s=r.slice(7,11);return`+55 (${n}) ${a}-${s}`}function oT(t,e,r){return Math.max(e,Math.min(r,t))}function iV(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime();if(isNaN(r))return"";const n=e-r,a=Math.floor(n/6e4),s=Math.floor(a/60),c=Math.floor(s/24);return a<1?"agora":a<60?`h ${a}min`:s<24?`h ${s}h`:c===1?"ontem":c<7?`h ${c} dias`:`h ${Math.floor(c/7)} sem`}function pl(t){const e=(t||"curioso").toLowerCase(),r={ctico:{label:"CTICO",bg:"bg-fuchsia-500/10",border:"border-fuchsia-400/25",text:"text-fuchsia-200",glow:"shadow-[0_0_0_1px_rgba(217,70,239,0.25)]"},frustrado:{label:"FRUSTRADO",bg:"bg-orange-500/10",border:"border-orange-400/25",text:"text-orange-200",glow:"shadow-[0_0_0_1px_rgba(251,146,60,0.25)]"},curioso:{label:"CURIOSO",bg:"bg-blue-500/10",border:"border-blue-400/25",text:"text-blue-200",glow:"shadow-[0_0_0_1px_rgba(96,165,250,0.25)]"},sensvel_preo:{label:"SENSVEL A PREO",bg:"bg-cyan-500/10",border:"border-cyan-400/25",text:"text-cyan-200",glow:"shadow-[0_0_0_1px_rgba(34,211,238,0.25)]"},empolgado:{label:"EMPOLGADO",bg:"bg-emerald-500/10",border:"border-emerald-400/25",text:"text-emerald-200",glow:"shadow-[0_0_0_1px_rgba(52,211,153,0.25)]"},pronto:{label:"PRONTO",bg:"bg-green-500/10",border:"border-green-400/25",text:"text-green-200",glow:"shadow-[0_0_0_1px_rgba(74,222,128,0.25)]"}};return r[e]||r.curioso}function dd(t){const e=(t||"normal").toLowerCase(),r={low:{label:"Baixa",dot:"bg-gray-400",text:"text-gray-300",bg:"bg-white/5"},normal:{label:"Normal",dot:"bg-sky-400",text:"text-sky-200",bg:"bg-sky-500/10"},high:{label:"Alta",dot:"bg-yellow-400",text:"text-yellow-200",bg:"bg-yellow-500/10"},critical:{label:"Crtica",dot:"bg-red-400",text:"text-red-200",bg:"bg-red-500/10"}};return r[e]||r.normal}function sV(t){const e=t||"active",r={new:{label:"Novo",bg:"bg-white/5",text:"text-gray-200",dot:"bg-sky-400"},active:{label:"Ativo",bg:"bg-emerald-500/10",text:"text-emerald-200",dot:"bg-emerald-400"},won:{label:"Ganho",bg:"bg-green-500/10",text:"text-green-200",dot:"bg-green-400"},lost:{label:"Perdido",bg:"bg-red-500/10",text:"text-red-200",dot:"bg-red-400"}};return r[e]||r.active}function oV({value:t}){const e=oT(t,0,100),r=e>=70,n=e>=45&&e<70;return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-400",children:[o.jsx("span",{children:"Health"}),o.jsx("span",{className:"text-gray-200 font-semibold",children:e})]}),o.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/5 border border-white/10 overflow-hidden",children:o.jsx("div",{style:{width:`${e}%`},className:["h-full transition-all rounded-full",r?"bg-gradient-to-r from-emerald-500 to-emerald-400":n?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"].join(" ")})})]})}function lV({lead:t,onClose:e,onSend:r}){const n=(t.stage||"curioso").toLowerCase(),a=JE[n]||JE.curioso,[s,c]=M.useState(a.suggestions[0]),[u,d]=M.useState(!1),[h,p]=M.useState(!1);async function m(){s.trim()&&(d(!0),await new Promise(b=>setTimeout(b,500)),r(s),d(!1),e())}async function v(){p(!0),await new Promise(j=>setTimeout(j,800));const b=[`Oi ${t.name?.split(" ")[0]||""}! ${s}`,`${s} O que acha?`,`${s} T disponvel agora se quiser conversar!`];c(b[Math.floor(Math.random()*b.length)]),p(!1)}return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-xl rounded-[28px] border border-white/10 bg-[#0a0a0a] overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:o.jsx(Pa,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Follow-up Inteligente"}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Para: ",t.name||ud(t.phone)]})]})]}),o.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:o.jsx(cn,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"rounded-xl bg-[#f57f17]/5 border border-[#f57f17]/20 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ir,{className:"w-4 h-4 text-[#f57f17]"}),o.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:a.title})]}),o.jsx("p",{className:"text-xs text-gray-400",children:"Sugestes baseadas no estgio atual do lead"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Sugestes da IA"}),o.jsx("div",{className:"space-y-2",children:a.suggestions.map((b,j)=>o.jsx("button",{onClick:()=>c(b),className:`w-full text-left p-3 rounded-xl border transition text-sm ${s===b?"border-[#f57f17]/50 bg-[#f57f17]/10 text-white":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"}`,children:b},j))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem personalizada"}),o.jsxs("button",{onClick:v,disabled:h,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[h?o.jsx(ut,{className:"w-3 h-3 animate-spin"}):o.jsx(zn,{className:"w-3 h-3"}),"Gerar variao"]})]}),o.jsx("textarea",{value:s,onChange:b=>c(b.target.value),rows:3,className:"w-full p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none focus:border-[#f57f17]/30",placeholder:"Digite sua mensagem..."}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.length," caracteres"]})]}),o.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contexto do lead"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full ${pl(t.stage).bg} ${pl(t.stage).text} border ${pl(t.stage).border}`,children:pl(t.stage).label}),o.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-full ${dd(t.urgency_level).bg} ${dd(t.urgency_level).text} border border-white/10`,children:["Urgncia: ",dd(t.urgency_level).label]}),o.jsxs("span",{className:"text-[10px] px-2 py-1 rounded-full bg-white/5 text-gray-300 border border-white/10",children:["Health: ",t.health_score??50]})]}),t.last_message&&o.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-black/30 border border-white/5",children:[o.jsx("p",{className:"text-[10px] text-gray-500 mb-1",children:"ltima msg do lead:"}),o.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.last_message})]})]})]}),o.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[o.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10",children:"Cancelar"}),o.jsxs("button",{onClick:m,disabled:u||!s.trim(),className:"h-10 px-6 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[u?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(js,{className:"w-4 h-4"}),"Enviar Follow-up"]})]})]})})}function cV({leads:t,conversations:e,onOpenConversation:r,onSendFollowUp:n,onMarkAsWon:a}){const[s,c]=M.useState(""),[u,d]=M.useState(null),[h,p]=M.useState(null),m=M.useMemo(()=>{const w=new Map(e.map(y=>[y.lead_id,y]));return t.map(y=>{const O=w.get(y.id);return{...y,last_message:y.last_message||O?.last_message||null,conversation_id:y.conversation_id||O?.id||null}})},[t,e]),v=M.useMemo(()=>{let w=m;if(s.trim()){const y=s.toLowerCase();w=w.filter(O=>{const E=(O.name||"").toLowerCase(),N=(O.phone||"").toLowerCase(),A=(O.last_message||"").toLowerCase();return E.includes(y)||N.includes(y)||A.includes(y)})}return[...w].sort((y,O)=>{const E=(y.health_score??50)+(y.conversion_probability??0)*50;return(O.health_score??50)+(O.conversion_probability??0)*50-E})},[m,s]);function b(w){p(w)}function j(w){h&&n&&n(h,w)}return o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.02] overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(ln,{className:"w-5 h-5 text-[#f57f17]"}),"Leads Prioritrios"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ordenados por temperatura (health + converso)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"w-4 h-4 text-gray-500"}),o.jsx("input",{value:s,onChange:w=>c(w.target.value),placeholder:"Buscar lead...",className:"bg-black/30 border border-white/10 rounded-2xl px-4 py-2 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30 w-60"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[380px_1fr]",children:[o.jsxs("div",{className:"border-r border-white/10 max-h-[700px] overflow-y-auto",children:[v.map((w,y)=>{const O=pl(w.stage),E=sV(w.status),N=dd(w.urgency_level),A=oT(Math.round((w.health_score??50)+(w.conversion_probability??0)*50),0,100),_=iV(w.updated_at);return o.jsx("button",{onClick:()=>d(w),className:["w-full text-left p-4 border-b border-white/5 transition",u?.id===w.id?"bg-[#f57f17]/10 border-l-2 border-l-[#f57f17]":"hover:bg-white/5"].join(" "),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:["h-12 w-12 rounded-2xl flex items-center justify-center text-lg font-bold border",A>=70?"bg-orange-500/20 border-orange-400/30 text-orange-200":A>=50?"bg-yellow-500/20 border-yellow-400/30 text-yellow-200":"bg-gray-500/20 border-gray-400/30 text-gray-300"].join(" "),children:aV(w.name,w.phone)}),y<3&&o.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:y+1})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:w.name||ud(w.phone)}),o.jsx("span",{className:["text-[10px] font-bold px-1.5 py-0.5 rounded",A>=80?"bg-orange-500/30 text-orange-200":A>=60?"bg-yellow-500/30 text-yellow-200":A>=40?"bg-blue-500/30 text-blue-200":"bg-gray-500/30 text-gray-300"].join(" "),children:A})]}),o.jsxs("p",{className:"text-gray-500 text-xs truncate flex items-center gap-2",children:[o.jsx("span",{children:w.name?ud(w.phone):"Contato sem nome"}),_&&o.jsxs("span",{className:"text-gray-600",children:[" ",_]})]})]}),o.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${E.bg} border border-white/10`,children:[o.jsx("span",{className:`h-2 w-2 rounded-full ${E.dot}`}),o.jsx("span",{className:`text-xs font-semibold ${E.text}`,children:E.label})]})]}),o.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:w.last_message||"Sem mensagens ainda  lead recm-criado."}),o.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[o.jsx("span",{className:["text-[11px] font-bold px-2.5 py-1 rounded-full border",O.bg,O.border,O.text,O.glow].join(" "),children:O.label}),o.jsxs("span",{className:["text-[11px] font-semibold px-2.5 py-1 rounded-full border border-white/10",N.bg,N.text].join(" "),children:[o.jsx("span",{className:`inline-block h-2 w-2 rounded-full mr-2 ${N.dot}`}),N.label]}),o.jsxs("span",{className:"text-[11px] font-semibold px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-gray-200",children:[Math.round((w.conversion_probability||0)*100),"% converso"]})]})]})]})},w.id)}),v.length===0&&o.jsx("div",{className:"p-6 text-gray-400 text-sm",children:"Nenhum lead encontrado."})]}),o.jsx("div",{className:"p-6",children:u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-2xl",children:u.name||"Contato sem nome"}),o.jsxs("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),ud(u.phone)]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm",children:["Score: ",o.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),o.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[o.jsx(an,{className:"w-4 h-4 text-[#f57f17]"}),"Temp: ",o.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),o.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[o.jsx(_s,{className:"w-4 h-4 text-emerald-300"}),Math.round((u.conversion_probability||0)*100),"%"]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),o.jsx("p",{className:"text-white leading-relaxed",children:u.last_message||"Sem mensagens ainda  lead criado agora."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:o.jsx(oV,{value:u.health_score??50})}),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Prxima ao sugerida"}),o.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:o.jsx($A,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"Follow-up inteligente"}),o.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Priorize este lead com mensagem de valor + CTA. Estgio: ",u.stage,"."]})]})]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4 text-yellow-300"}),"Sinais detectados"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(u.tags||[]).length===0?o.jsx("span",{className:"text-gray-500 text-sm",children:"Sem tags ainda"}):u.tags?.map(w=>o.jsx("span",{className:"text-xs text-gray-200 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:w},w))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsx("button",{onClick:()=>u&&r?.(u),className:"rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition px-4 py-3 text-white font-semibold",children:"Abrir conversa"}),o.jsxs("button",{onClick:()=>b(u),className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition px-4 py-3 text-white font-semibold flex items-center justify-center gap-2",children:[o.jsx(Pa,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up IA"]}),o.jsx("button",{onClick:()=>u&&a?.(u),className:"rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition px-4 py-3 text-white font-semibold",children:"Marcar como ganho"})]})]}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Selecione um lead"})})]}),h&&o.jsx(lV,{lead:h,onClose:()=>p(null),onSend:j})]})}function uV(t){const e=Array.isArray(t?.leads)?t.leads:[],r=Array.isArray(t?.conversations)?t.conversations:[];return o.jsx("div",{className:"space-y-6",children:o.jsx(cV,{leads:e,conversations:r,onOpenConversation:t?.onOpenConversation,onSendFollowUp:t?.onSendFollowUp,onMarkAsWon:t?.onMarkAsWon})})}function rn(t,e,r){return Math.max(e,Math.min(r,t))}function dV(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),s=r.slice(7,11);return`+55 (${n}) ${a}-${s}`}function fV(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function hV(t){if(!t)return"";const e=new Date(t).getTime();if(Number.isNaN(e))return"";const r=Math.round((Date.now()-e)/6e4);return r<1?"agora":r<60?`${r} min`:`${Math.round(r/60)}h`}function pV(t){const e=(t||"normal").toLowerCase();return e==="critical"?.95:e==="high"?.75:e==="low"?.25:.45}function QE(t){const e=pV(t.urgency_level),r=rn(t.health_score??50,0,100),n=rn((65-r)/65,0,1),a=t.last_touch_at?new Date(t.last_touch_at).getTime():Date.now(),s=rn(Math.round(Math.abs(Date.now()-a)/6e4),0,240),c=rn(s/60,0,1);return rn(.55*e+.25*c+.2*n,0,1)}function ZE(t){if(typeof t.conversion_probability=="number")return rn(t.conversion_probability,0,1);const e=(t.stage||"").toLowerCase();return e==="pronto"?.9:e==="empolgado"?.75:e==="sensvel_preo"?.55:e==="ctico"?.35:.45}function mV(t,e){const r=t>=.55,n=e>=.55;return r&&!n?{title:"FECHAR AGORA",hint:"Alta inteno  Baixo risco"}:r&&n?{title:"SALVAR (URGENTE)",hint:"Alta inteno  Alto risco"}:!r&&n?{title:"NUTRIR COM PROVA",hint:"Baixa inteno  Alto risco"}:{title:"AUTOMATIZAR",hint:"Baixa inteno  Baixo risco"}}function gV(t,e){const r=rn(t*.6+e*.4,0,1);return r>.75?"bg-[#f57f17] shadow-[0_0_0_12px_rgba(245,127,23,0.16)]":r>.55?"bg-emerald-400 shadow-[0_0_0_12px_rgba(52,211,153,0.16)]":r>.35?"bg-sky-400 shadow-[0_0_0_12px_rgba(56,189,248,0.16)]":"bg-white/60 shadow-[0_0_0_12px_rgba(255,255,255,0.12)]"}function vV(t){const{anchorX:e,anchorY:r,vw:n,vh:a,cardW:s,cardH:c,pad:u}=t,d=[{x:e+16,y:r-c-16},{x:e-s-16,y:r-c-16},{x:e+16,y:r+16},{x:e-s-16,y:r+16},{x:e+16,y:r-c/2},{x:e-s-16,y:r-c/2}];for(const h of d){const p=h.x>=u&&h.x+s<=n-u,m=h.y>=u&&h.y+c<=a-u;if(p&&m)return h}return{x:rn(e-s/2,u,n-s-u),y:rn(r-c/2,u,a-c-u)}}function yV({leads:t,height:e=420,highlightLeadIds:r=[],onClearHighlights:n,onOpenConversation:a,onSendFollowUp:s,onMarkAsWon:c}){const u=M.useRef(null),[d,h]=M.useState(null),[p,m]=M.useState(null),v=M.useMemo(()=>new Set(r),[r]),b=M.useMemo(()=>t.map(y=>{const O=ZE(y),E=QE(y);return{lead:y,intent:O,risk:E,x:O,y:E}}),[t]);function j(y,O,E){h(y);const k=vV({anchorX:O,anchorY:E,vw:window.innerWidth,vh:window.innerHeight,cardW:380,cardH:380,pad:12});m(k)}const w=()=>{h(null),m(null)};return o.jsxs("div",{className:"relative rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:"DOCA Emotion Map"}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Inteno  Risco  clique em um ponto para aes e sugesto IA."})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs text-gray-200",children:[b.length," leads"]}),o.jsx("span",{className:"px-3 py-1.5 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-xs text-[#f57f17] font-semibold",children:"Assinatura visual DOCA"}),r.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-[#8b5cf6]/30 bg-[#8b5cf6]/15 text-xs text-white font-semibold flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-[#8b5cf6]"}),"Plano do dia: ",r.length," destacados"]}),o.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs text-gray-200 font-semibold",children:"Limpar destaque"})]})]})]}),o.jsxs("div",{ref:u,className:"relative rounded-b-[28px] overflow-hidden",style:{height:e},children:[o.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[1]",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(245,127,23,0.10),transparent_55%)]"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:48px_48px]"})]}),o.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[2]",children:[o.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/10"}),o.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/10"})]}),o.jsxs("div",{className:"pointer-events-none absolute inset-0 p-6 z-[3]",children:[o.jsxs("div",{className:"absolute left-6 top-6 text-xs text-gray-400",children:[o.jsx("div",{className:"font-semibold text-gray-200",children:"SALVAR (URGENTE)"}),o.jsx("div",{children:"Alta inteno  Alto risco"})]}),o.jsxs("div",{className:"absolute right-6 top-6 text-xs text-gray-400 text-right",children:[o.jsx("div",{className:"font-semibold text-gray-200",children:"FECHAR AGORA"}),o.jsx("div",{children:"Alta inteno  Baixo risco"})]}),o.jsxs("div",{className:"absolute left-6 bottom-6 text-xs text-gray-400",children:[o.jsx("div",{className:"font-semibold text-gray-200",children:"NUTRIR COM PROVA"}),o.jsx("div",{children:"Baixa inteno  Alto risco"})]}),o.jsxs("div",{className:"absolute right-6 bottom-6 text-xs text-gray-400 text-right",children:[o.jsx("div",{className:"font-semibold text-gray-200",children:"AUTOMATIZAR"}),o.jsx("div",{children:"Baixa inteno  Baixo risco"})]})]}),o.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[4]",children:[o.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[11px] text-gray-500 rotate-[-90deg] origin-left",children:"RISCO "}),o.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 text-[11px] text-gray-500",children:"INTENO "})]}),o.jsx("div",{className:"absolute inset-0 z-[10]",children:b.map(y=>{const O=rn(y.x,.04,.96)*100,E=rn(1-y.y,.04,.96)*100,N=v.has(y.lead.id),A=N?"bg-[#8b5cf6] shadow-[0_0_0_16px_rgba(139,92,246,0.22)]":gV(y.intent,y.risk);return o.jsx("button",{onClick:_=>{_.stopPropagation(),j(y.lead,_.clientX,_.clientY)},className:["absolute group",N?"z-[60]":"z-[10]"].join(" "),style:{left:`${O}%`,top:`${E}%`},title:y.lead.name||y.lead.phone,children:o.jsxs("div",{className:"relative",children:[N&&o.jsx("div",{className:"absolute inset-[-22px] rounded-full bg-[#8b5cf6]/14 blur-2xl animate-pulse"}),o.jsx("div",{className:["relative rounded-full border border-black/40 transition-all",A,"group-hover:scale-[1.25]",N?"h-6 w-6":"h-4 w-4",N?"ring-4 ring-[#8b5cf6]/60":""].join(" ")}),N&&o.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-8 px-2 py-0.5 rounded-full text-[10px] font-bold border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] whitespace-nowrap",children:"PLANO"})]})},y.lead.id)})})]}),d&&p?uF.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"fixed inset-0 z-[9998] cursor-default",style:{background:"transparent"},onClick:w,"aria-label":"Fechar"}),o.jsxs("div",{className:"fixed z-[9999] w-[380px] max-w-[calc(100vw-24px)] rounded-[24px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl animate-[fadeIn_140ms_ease-out]",style:{left:p.x,top:p.y},onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:fV(d.name,d.phone)}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:d.name||"Contato sem nome"}),o.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-2 mt-0.5",children:[o.jsx(Vn,{className:"w-4 h-4"}),dV(d.phone)]}),v.has(d.id)&&o.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] text-xs font-semibold",children:[o.jsx(ir,{className:"w-4 h-4 text-[#8b5cf6]"}),"Afetado pelo plano do dia"]})]})]}),o.jsx("button",{onClick:w,className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition flex items-center justify-center",title:"Fechar",children:o.jsx(cn,{className:"w-4 h-4 text-gray-200"})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[(()=>{const y=ZE(d),O=QE(d),E=mV(y,O);return o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Quadrante"}),o.jsx("p",{className:"text-white font-bold mt-1",children:E.title}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:E.hint}),o.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(y*100),"% inteno"]}),o.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(O*100),"% risco"]}),o.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["health ",d.health_score??50]}),o.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["last ",hV(d.last_touch_at)]})]})]})})(),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),o.jsx("p",{className:"text-white text-sm leading-relaxed",children:d.last_message||"Sem mensagens ainda."})]}),o.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-[#f57f17]",children:[o.jsx(an,{className:"w-4 h-4"}),o.jsx("p",{className:"text-sm font-semibold",children:"Sugesto IA"})]}),o.jsxs("p",{className:"text-gray-200 text-sm mt-2 leading-relaxed",children:["Mensagem curta com prova social + CTA direto. Ex:"," ",o.jsx("span",{className:"text-white font-semibold",children:"Consigo te colocar em funcionamento hoje. Quer que eu te mande os planos?"})]}),o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-300",children:[o.jsx(_s,{className:"w-4 h-4 text-emerald-300"}),"Alta chance de resposta em 1020 min"]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("button",{onClick:()=>a?.(d),className:"h-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Abrir"}),o.jsxs("button",{onClick:()=>s?.(d),className:"h-10 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[o.jsx($A,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up"]}),o.jsx("button",{onClick:()=>c?.(d),className:"h-10 rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition text-sm font-semibold text-white",children:"Ganho"})]}),o.jsx("div",{className:"text-[11px] text-gray-500",children:"*MVP: inteno/risco por heurstica (depois plugamos no motor real)."})]})]}),o.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(6px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `})]}),document.body):null]})}const xV="/api/dashboard";async function bV(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html")){const n=await e.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${t}. Exemplo: ${n.slice(0,60)}...`)}if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function wV(){const[t,e]=M.useState(null),[r,n]=M.useState(!0),[a,s]=M.useState(null),c=M.useMemo(()=>co(),[]);return M.useEffect(()=>{let u=!0;async function d(){try{if(n(!0),s(null),c){const m=uo()?.stats;u&&e(m);return}const h=await bV(`${xV}/metrics`);u&&e(h)}catch(h){u&&s(h?.message||"Erro desconhecido")}finally{u&&n(!1)}}return d(),()=>{u=!1}},[c]),{data:t,loading:r,error:a}}function jV(t,e,r){return Math.max(e,Math.min(r,t))}function yi(t,e){if(t.length<=e)return t;const r=[...t],n=[];for(;n.length<e&&r.length>0;){const a=Math.floor(Math.random()*r.length);n.push(r.splice(a,1)[0])}return n}function _V(t){if(!Array.isArray(t)||t.length===0)return[];const e=t.filter(c=>String(c.stage||"").toLowerCase()==="pronto"),r=t.filter(c=>["high","critical"].includes(String(c.urgency_level||"").toLowerCase())),n=t.filter(c=>{const u=Number(c.health_score??50),d=String(c.urgency_level||"").toLowerCase();return u<=45&&(d==="high"||d==="critical")}),a=[...yi(e,4),...yi(r,3),...yi(n,2)],s=Array.from(new Set(a.map(c=>String(c.id)).filter(Boolean)));if(s.length<5){const c=yi(t,8).map(u=>String(u.id));return Array.from(new Set([...s,...c])).slice(0,10)}return s.slice(0,10)}function eA(t){return t.reduce((e,r)=>e+r,0)}function SV(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}const NV=[{key:"curioso",label:"Curiosos",icon:Jn,gradient:"from-blue-500 to-blue-600"},{key:"ctico",label:"Cticos",icon:wf,gradient:"from-fuchsia-500 to-fuchsia-600"},{key:"sensvel_preo",label:"Preo",icon:Zs,gradient:"from-cyan-500 to-cyan-600"},{key:"empolgado",label:"Empolgados",icon:Sl,gradient:"from-emerald-500 to-emerald-600"},{key:"pronto",label:"Prontos",icon:an,gradient:"from-orange-500 to-red-500"}];function kV(t){wV();const e=M.useMemo(()=>co()?uo():null,[]),r=!!e,[n,a]=M.useState(!1),s=M.useMemo(()=>{if(Array.isArray(t?.leads)&&t.leads.length)return t.leads.map(P=>({id:String(P.id),phone:String(P.phone||""),name:P.name??null,stage:P.stage,urgency_level:P.urgency_level,health_score:P.health_score??P.score??50,conversion_probability:P.conversion_probability,tags:Array.isArray(P.tags)?P.tags:[],last_message:P.last_message??P.lastMessage,last_touch_at:P.last_touch_at??P.lastTouchAt??P.updated_at}));if(r&&e?.leads?.length){const P=new Map;return Array.isArray(e.conversations)&&e.conversations.forEach(R=>{R?.phone&&R?.last_message&&P.set(R.phone,R.last_message)}),(e.leads||[]).map(R=>({id:String(R.id),phone:String(R.phone||""),name:R.name??null,stage:R.stage,urgency_level:R.urgency_level,health_score:R.health_score??50,conversion_probability:R.conversion_probability,tags:Array.isArray(R.tags)?R.tags:[],last_message:P.get(R.phone)||"",last_touch_at:R.updated_at}))}return[]},[t?.leads,r,e]),[c,u]=M.useState([]),d=s.length,h=M.useMemo(()=>s.filter(P=>String(P.stage||"").toLowerCase()==="pronto"),[s]),p=M.useMemo(()=>s.filter(P=>["high","critical"].includes(String(P.urgency_level||"").toLowerCase())),[s]),m=M.useMemo(()=>s.filter(P=>{const R=Number(P.health_score??50),B=String(P.urgency_level||"").toLowerCase();return R<=45&&(B==="high"||B==="critical")}),[s]),v=M.useMemo(()=>s.length?Math.round(eA(s.map(P=>Number(P.health_score??50)))/s.length):0,[s]),b=M.useMemo(()=>{const P=s.length?p.length/s.length:0;return jV(140+Math.round(P*80),60,260)},[s.length,p.length]),j=M.useMemo(()=>{const P=s.length?eA(s.map(R=>Number(R.conversion_probability??.35)))/s.length:.35;return Math.round(h.length*1497*P*1.1)},[s,h.length]),w=M.useMemo(()=>{const P={};return s.forEach(R=>{const B=(R.stage||"curioso").toLowerCase();P[B]=(P[B]||0)+1}),P},[s]),y=M.useMemo(()=>c.length===0?[]:s.filter(P=>c.includes(P.id)),[s,c]),O=M.useMemo(()=>_V(s),[s]),E=()=>{u(O),a(!0)},N=()=>{u([]),a(!1)},A=P=>{const R=s.filter(B=>(B.stage||"curioso").toLowerCase()===P);u(R.map(B=>B.id)),a(!0)},_=h.length||c.length||0,k=h.length>0?`${p.length} leads quentes e ${m.length} em risco. Execute o plano para aumentar converso.`:"A IA analisou inteno, urgncia e health. Gere um plano para destacar oportunidades.",C=M.useMemo(()=>[{id:"attack-ready",title:"Atacar leads prontos",desc:`Follow-up para ${Math.min(h.length||4,6)} leads PRONTO`,count:Math.min(h.length||4,6),action:()=>{u(yi(h.map(P=>P.id),6)),a(!0)}},{id:"save-risk",title:"Salvar esfriando",desc:`Priorizar ${Math.min(m.length||3,5)} leads em risco`,count:Math.min(m.length||3,5),action:()=>{u(yi(m.map(P=>P.id),5)),a(!0)}},{id:"price-objection",title:"Destravar preo",desc:`Responder ${Math.min(3,s.length)} sensveis a preo`,count:Math.min(3,s.length),action:()=>{const P=s.filter(R=>String(R.stage||"").toLowerCase()==="sensvel_preo");u(yi((P.length?P:s).map(R=>R.id),6)),a(!0)}}],[s,h,m]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(Ra,{className:"w-6 h-6 text-[#f57f17]"}),"Funil & Emoes"]}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["War Room: deciso + execuo",r?" (DEMO)":""]})]})}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-white/10",children:o.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:o.jsx(ln,{className:"w-4 h-4 text-[#f57f17]"})}),o.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"PLANO DO DIA"})]}),o.jsxs("div",{className:"text-3xl font-extrabold text-white",children:[_," leads prontos"]}),o.jsx("p",{className:"text-gray-500 text-sm max-w-xl",children:k}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-1",children:[o.jsxs("button",{onClick:E,className:"h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 transition text-white font-semibold flex items-center gap-2 shadow-lg shadow-[#f57f17]/20",children:[o.jsx(ln,{className:"w-4 h-4"}),"Executar plano"]}),c.length>0&&o.jsx("button",{onClick:N,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-white font-semibold",children:"Limpar"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[o.jsx(Gu,{title:"Ativos",value:d,color:"text-white"}),o.jsx(Gu,{title:"Quentes",value:p.length,color:"text-orange-400"}),o.jsx(Gu,{title:"Health",value:v,color:"text-emerald-400"}),o.jsx(Gu,{title:"SLA",value:`${b}m`,color:"text-cyan-400"})]})]})}),o.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(P=>o.jsxs("button",{onClick:P.action,className:"group text-left rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/30 hover:bg-[#f57f17]/5 transition-all",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("p",{className:"text-white font-semibold group-hover:text-[#f57f17] transition",children:P.title}),o.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-white/5 text-gray-400",children:P.count})]}),o.jsx("p",{className:"text-gray-500 text-sm",children:P.desc})]},P.id))}),j>0&&o.jsx("div",{className:"px-6 pb-6",children:o.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/5 p-4 flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 border border-emerald-500/25 flex items-center justify-center",children:o.jsx($a,{className:"w-5 h-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-emerald-300 text-sm font-medium",children:"Receita esperada"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",j.toLocaleString("pt-BR")]})]})]}),m.length>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-400",children:[o.jsx(nr,{className:"w-4 h-4"}),o.jsxs("span",{children:[m.length," leads esfriando"]})]})]})})]}),n&&y.length>0&&o.jsxs("div",{className:"rounded-[28px] border border-[#f57f17]/30 bg-gradient-to-br from-[#f57f17]/10 to-transparent backdrop-blur-xl overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-[#f57f17]/20 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:o.jsx(sn,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Leads Selecionados"}),o.jsxs("p",{className:"text-gray-400 text-xs",children:[y.length," para ao"]})]})]}),o.jsx("button",{onClick:()=>a(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),o.jsx("div",{className:"max-h-[280px] overflow-y-auto divide-y divide-white/5",children:y.map(P=>{const R=P.health_score||50;return o.jsxs("div",{className:"px-4 py-3 hover:bg-white/[0.02] transition flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("div",{className:["h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0",R>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":R>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"].join(" "),children:R}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-white font-medium truncate",children:P.name||SV(P.phone)}),o.jsx("p",{className:"text-gray-500 text-xs",children:P.stage||"curioso"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>t?.onOpenConversation?.(P),className:"h-8 px-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-white flex items-center gap-1.5",children:[o.jsx(sr,{className:"w-3.5 h-3.5"})," Chat"]}),o.jsxs("button",{onClick:()=>t?.onSendFollowUp?.(P),className:"h-8 px-3 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs text-white flex items-center gap-1.5",children:[o.jsx(Vn,{className:"w-3.5 h-3.5 text-[#f57f17]"})," FUP"]}),o.jsxs("button",{onClick:()=>t?.onMarkAsWon?.(P),className:"h-8 px-3 rounded-lg border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 text-xs text-white flex items-center gap-1.5",children:[o.jsx(ZM,{className:"w-3.5 h-3.5 text-emerald-400"})," Won"]})]})]},P.id)})})]}),o.jsx(yV,{leads:s,height:460,highlightLeadIds:c,onClearHighlights:N,onOpenConversation:P=>t?.onOpenConversation?.(P),onSendFollowUp:P=>t?.onSendFollowUp?.(P),onMarkAsWon:P=>t?.onMarkAsWon?.(P)}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"Pipeline"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Distribuio por estgio emocional"})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"text-white font-semibold",children:d})," leads"]})]}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"space-y-4",children:NV.map(P=>{const R=w[P.key]||0,B=d>0?R/d*100:0,I=P.icon;return o.jsx("button",{onClick:()=>A(P.key),className:"w-full group",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`h-10 w-10 rounded-xl bg-gradient-to-br ${P.gradient} flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-105 transition`,children:o.jsx(I,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[o.jsx("span",{className:"text-sm text-gray-300 font-medium group-hover:text-white transition",children:P.label}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg font-bold text-white",children:R}),o.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(B),"%"]})]})]}),o.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full bg-gradient-to-r ${P.gradient} rounded-full transition-all duration-500 group-hover:opacity-80`,style:{width:`${Math.max(B,2)}%`}})})]}),o.jsx(x0,{className:"w-5 h-5 text-gray-700 group-hover:text-[#f57f17] group-hover:translate-x-1 transition-all flex-shrink-0"})]})},P.key)})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(mf,{title:"Insights",subtitle:"O que est acontecendo",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(r0,{label:"Oportunidade",value:h.length>0?`${h.length} leads prontos para fechar`:"Sem leads prontos",good:h.length>0}),o.jsx(r0,{label:"Urgncia",value:p.length>0?`${p.length} leads com alta urgncia`:"Sem urgncias",good:!1}),o.jsx(r0,{label:"Sade",value:v>=60?"Funil saudvel":v>=40?"Funil mdio":"Funil precisa ateno",good:v>=60})]})}),o.jsx(mf,{title:"Aes Recomendadas",subtitle:"Prximos passos",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(n0,{title:"Foco em prontos",desc:"Follow-up imediato com CTA de call"}),o.jsx(n0,{title:"Destravar cticos",desc:"Prova social e cases de sucesso"}),o.jsx(n0,{title:"Sensveis a preo",desc:"Mostrar ROI e opes de pagamento"})]})})]})]})}function Gu({title:t,value:e,color:r}){return o.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:t}),o.jsx("p",{className:`text-xl font-bold ${r}`,children:e})]})}function r0({label:t,value:e,good:r}){return o.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 rounded-xl border border-white/5 bg-black/20",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:t}),o.jsx("span",{className:`text-sm font-medium ${r?"text-emerald-400":"text-gray-300"}`,children:e})]})}function n0({title:t,desc:e}){return o.jsxs("div",{className:"px-4 py-3 rounded-xl border border-white/5 bg-black/20 hover:border-[#f57f17]/20 transition",children:[o.jsx("p",{className:"text-white font-medium text-sm",children:t}),o.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:e})]})}const OV="modulepreload",EV=function(t){return"/"+t},tA={},rA=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=d(r.map(h=>{if(h=EV(h),h in tA)return;tA[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":OV,p||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};async function AV(t,e={}){if(!t)throw new Error("exportElementToPdf: element is required.");const{filename:r="DOCA-Relatorio.pdf",backgroundColor:n="#0b0f19",scale:a=2,marginMm:s=8,orientation:c="p"}=e,[{default:u},{jsPDF:d}]=await Promise.all([rA(()=>import("./html2canvas.esm-DXEQVQnt.js"),[]),rA(()=>import("./jspdf.es.min-DKNqsyjV.js").then(P=>P.j),[])]),p=await(u||u)(t,{scale:Number(a)||2,backgroundColor:n,useCORS:!0,logging:!1,removeContainer:!0}),m=p.toDataURL("image/png",1),v=new d({orientation:c,unit:"mm",format:"a4"}),b=v.internal.pageSize.getWidth(),j=v.internal.pageSize.getHeight(),w=b-s*2,y=j-s*2,O=p.width,E=p.height,N=O/E;let A=w,_=A/N;_>y&&(_=y,A=_*N);const k=(b-A)/2,C=s;v.addImage(m,"PNG",k,C,A,_,void 0,"FAST"),v.save(r)}const a0=[{key:"today",label:"Hoje"},{key:"7d",label:"7 dias"},{key:"30d",label:"30 dias"},{key:"90d",label:"90 dias"}];function PV({leads:t,conversations:e,onGoToFunnel:r}){const n=co(),a=M.useMemo(()=>n?uo():null,[n]),s=M.useMemo(()=>t&&t.length>0?t:n&&a?.leads?a.leads:[],[t,n,a]),c=M.useMemo(()=>e&&e.length>0?e:n&&a?.conversations?a.conversations:[],[e,n,a]),u=M.useRef(null),[d,h]=M.useState("7d"),[p,m]=M.useState(!1),[v,b]=M.useState(!1),j=M.useMemo(()=>{const _=s.length,k=c.length,C=s.map(Q=>Q.health_score??Q.score??50).filter(Boolean),P=C.length>0?Math.round(C.reduce((Q,je)=>Q+je,0)/C.length):0,R=s.map(Q=>Q.conversion_probability??.4),B=R.length>0?Math.round(R.reduce((Q,je)=>Q+je,0)/R.length*100):0,I={};s.forEach(Q=>{const je=Q.stage||"curioso";I[je]=(I[je]||0)+1});const F=s.filter(Q=>Q.urgency_level==="high"||Q.urgency_level==="critical").length,L=s.filter(Q=>Q.urgency_level==="critical").length,X=s.filter(Q=>Q.urgency_level==="normal"||!Q.urgency_level).length,q=s.filter(Q=>Q.urgency_level==="low").length,z=s.filter(Q=>(Q.stage||"").toLowerCase()==="pronto").length,ee=s.filter(Q=>(Q.stage||"").toLowerCase()==="empolgado").length,K=s.filter(Q=>(Q.stage||"").toLowerCase()==="curioso").length,W=s.filter(Q=>(Q.stage||"").toLowerCase()==="ctico").length,J=s.filter(Q=>(Q.stage||"").toLowerCase().includes("preo")).length,$=_>0?Math.round(z/_*100):0,U=s.filter(Q=>Q.status==="new").length,ae=s.filter(Q=>Q.status==="contacted").length,se=s.filter(Q=>Q.status==="qualified").length,ie=s.filter(Q=>Q.status==="won").length,he=s.filter(Q=>Q.status==="lost").length,ke=s.filter(Q=>(Q.health_score??50)<=40&&(Q.urgency_level==="high"||Q.urgency_level==="critical")).length,ge=s.filter(Q=>(Q.health_score??50)>=70).length,oe=s.filter(Q=>(Q.health_score??50)<=30).length,ye={};s.forEach(Q=>{(Q.tags||[]).forEach(je=>{ye[je]=(ye[je]||0)+1})});const Oe=Object.entries(ye).sort((Q,je)=>je[1]-Q[1]).slice(0,5).map(([Q,je])=>({tag:Q,count:je}));return{totalLeads:_,totalConvs:k,avgHealth:P,avgConversion:B,stages:I,urgencyHigh:F,urgencyCritical:L,urgencyNormal:X,urgencyLow:q,prontos:z,empolgados:ee,curiosos:K,ceticos:W,preco:J,conversionRate:$,statusNew:U,statusContacted:ae,statusQualified:se,statusWon:ie,statusLost:he,emRisco:ke,quentes:ge,frios:oe,topTags:Oe}},[s,c]),w=M.useMemo(()=>{const _=[];return j.conversionRate>=20?_.push({type:"success",text:"Excelente! Seu funil est com alta converso."}):j.conversionRate>=10?_.push({type:"warning",text:"Bom potencial. Aumente follow-ups nos leads quentes."}):j.totalLeads>0&&_.push({type:"danger",text:"Converso baixa. Foco em remover objees e criar urgncia."}),j.avgHealth>=70?_.push({type:"success",text:"Health mdio alto! Leads engajados."}):j.avgHealth>=50?_.push({type:"warning",text:"Health mdio OK. Alguns leads podem esfriar."}):j.totalLeads>0&&_.push({type:"danger",text:"Health mdio baixo. Risco de perder leads."}),j.emRisco>0&&_.push({type:"danger",text:`${j.emRisco} lead(s) em risco crtico precisam de ateno.`}),j.urgencyHigh>0&&_.push({type:"warning",text:`${j.urgencyHigh} lead(s) com urgncia alta aguardando ao.`}),j.prontos>0&&_.push({type:"success",text:`${j.prontos} lead(s) prontos para fechar!`}),j.frios>0&&_.push({type:"warning",text:`${j.frios} lead(s) frios precisam de reativao.`}),_.length===0&&_.push({type:"warning",text:"Sem dados suficientes para gerar insights."}),_},[j]),y=M.useMemo(()=>{const _=["curioso","ctico","sensvel_preo","empolgado","pronto"],k={curioso:"Curiosos",ctico:"Cticos",sensvel_preo:"Sensveis a Preo",empolgado:"Empolgados",pronto:"Prontos"},C={curioso:"bg-blue-500",ctico:"bg-fuchsia-500",sensvel_preo:"bg-cyan-500",empolgado:"bg-emerald-500",pronto:"bg-orange-500"},P={curioso:Jn,ctico:wf,sensvel_preo:Zs,empolgado:Sl,pronto:an},R=s.length||1;return _.map(B=>({key:B,label:k[B]||B,count:j.stages[B]||0,pct:Math.round((j.stages[B]||0)/R*100),color:C[B]||"bg-gray-500",Icon:P[B]||sn}))},[s,j.stages]);async function O(){if(u.current){b(!0);try{const _=a0.find(P=>P.key===d)?.label||d,k=new Date().toLocaleDateString("pt-BR"),C=new Date().toLocaleTimeString("pt-BR");await AV(u.current,{filename:`Relatorio-DOCA-${_}-${k.replace(/\//g,"-")}.pdf`,scale:2,backgroundColor:"#0a0a0a",orientation:"p"})}catch(_){console.error("Erro ao exportar PDF:",_),alert("Erro ao exportar PDF: "+(_?.message||"Erro desconhecido"))}finally{b(!1)}}}const E=a0.find(_=>_.key===d)?.label||d,N=new Date().toLocaleDateString("pt-BR"),A=new Date().toLocaleTimeString("pt-BR");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(_i,{className:"w-6 h-6 text-[#f57f17]"}),"Relatrios"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Performance do funil, mtricas e insights"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"h-10 px-3 rounded-xl border border-white/10 bg-white/5 flex items-center gap-2",children:[o.jsx(RM,{className:"w-4 h-4 text-gray-400"}),o.jsx("select",{value:d,onChange:_=>h(_.target.value),className:"bg-transparent outline-none text-sm text-gray-200",children:a0.map(_=>o.jsx("option",{value:_.key,className:"bg-black",children:_.label},_.key))})]}),o.jsxs("button",{onClick:()=>m(!0),className:"h-10 px-4 rounded-xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm font-semibold text-white flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-[#f57f17]"}),"Insights IA"]}),o.jsx("button",{onClick:O,disabled:v,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center gap-2",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Ca,{className:"w-4 h-4 animate-spin"}),"Gerando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(eb,{className:"w-4 h-4"}),"Exportar PDF"]})}),o.jsxs("button",{onClick:r,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[o.jsx(Ra,{className:"w-4 h-4"}),"Ir para Funil"]})]})]}),o.jsxs("div",{ref:u,className:"space-y-6 bg-[#0a0a0a] p-6 rounded-[28px]",children:[o.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-12 w-12 rounded-2xl bg-[#f57f17]/20 border border-[#f57f17]/30 flex items-center justify-center",children:o.jsx(_l,{className:"w-6 h-6 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Relatrio DOCA AI"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Central de Comando - Anlise de Performance"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white font-semibold",children:["Perodo: ",E]}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["Gerado em ",N," s ",A]})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(IM,{className:"w-5 h-5 text-[#f57f17]"}),"Resumo Executivo"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Xu,{label:"Total de Leads",value:j.totalLeads,icon:sn,color:"text-blue-400"}),o.jsx(Xu,{label:"Conversas",value:j.totalConvs,icon:_i,color:"text-purple-400"}),o.jsx(Xu,{label:"Health Mdio",value:`${j.avgHealth}%`,icon:Sl,color:j.avgHealth>=70?"text-emerald-400":j.avgHealth>=50?"text-yellow-400":"text-red-400"}),o.jsx(Xu,{label:"Converso Mdia",value:`${j.avgConversion}%`,icon:$a,color:"text-cyan-400"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Ra,{className:"w-5 h-5 text-[#f57f17]"}),"Distribuio do Pipeline"]}),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[o.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:y.map(_=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`h-10 w-10 mx-auto rounded-xl ${_.color}/20 flex items-center justify-center mb-2`,children:o.jsx(_.Icon,{className:`w-5 h-5 ${_.color.replace("bg-","text-")}`})}),o.jsx("p",{className:"text-2xl font-bold text-white",children:_.count}),o.jsx("p",{className:"text-xs text-gray-500",children:_.label}),o.jsxs("p",{className:"text-xs text-gray-600",children:[_.pct,"%"]})]},_.key))}),o.jsx("div",{className:"space-y-2",children:y.map(_=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-gray-400 w-24",children:_.label}),o.jsx("div",{className:"flex-1 h-3 bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${_.color} rounded-full`,style:{width:`${_.pct}%`}})}),o.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[_.count," (",_.pct,"%)"]})]},_.key))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status dos Leads"}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(Bn,{label:"Novos",value:j.statusNew,total:j.totalLeads,color:"bg-blue-500"}),o.jsx(Bn,{label:"Contatados",value:j.statusContacted,total:j.totalLeads,color:"bg-yellow-500"}),o.jsx(Bn,{label:"Qualificados",value:j.statusQualified,total:j.totalLeads,color:"bg-purple-500"}),o.jsx(Bn,{label:"Ganhos",value:j.statusWon,total:j.totalLeads,color:"bg-emerald-500"}),o.jsx(Bn,{label:"Perdidos",value:j.statusLost,total:j.totalLeads,color:"bg-red-500"})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nvel de Urgncia"}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(Bn,{label:"Crtica",value:j.urgencyCritical,total:j.totalLeads,color:"bg-red-500"}),o.jsx(Bn,{label:"Alta",value:j.urgencyHigh-j.urgencyCritical,total:j.totalLeads,color:"bg-orange-500"}),o.jsx(Bn,{label:"Normal",value:j.urgencyNormal,total:j.totalLeads,color:"bg-gray-500"}),o.jsx(Bn,{label:"Baixa",value:j.urgencyLow,total:j.totalLeads,color:"bg-blue-500"})]})})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Sade dos Leads"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/10 p-5 text-center",children:[o.jsx(an,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-emerald-300",children:j.quentes}),o.jsx("p",{className:"text-sm text-emerald-400",children:"Leads Quentes"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Health  70"})]}),o.jsxs("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/10 p-5 text-center",children:[o.jsx(sn,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:j.totalLeads-j.quentes-j.frios}),o.jsx("p",{className:"text-sm text-yellow-400",children:"Leads Mornos"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Health 31-69"})]}),o.jsxs("div",{className:"rounded-2xl border border-blue-500/20 bg-blue-500/10 p-5 text-center",children:[o.jsx(nr,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-blue-300",children:j.frios}),o.jsx("p",{className:"text-sm text-blue-400",children:"Leads Frios"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Health  30"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Mtricas de Converso"}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[o.jsx(Yu,{label:"Taxa de Converso",value:`${j.conversionRate}%`,hint:"Prontos / Total",tone:j.conversionRate>=15?"good":j.conversionRate>=8?"mid":"bad"}),o.jsx(Yu,{label:"Leads Prontos",value:j.prontos,hint:"Estgio final",tone:"good"}),o.jsx(Yu,{label:"Em Risco",value:j.emRisco,hint:"Health baixo + Urgncia alta",tone:j.emRisco>0?"bad":"good"}),o.jsx(Yu,{label:"Aguardando Ao",value:j.urgencyHigh,hint:"Urgncia alta",tone:j.urgencyHigh>3?"bad":j.urgencyHigh>0?"mid":"good"})]})})]}),j.topTags.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tags Mais Frequentes"}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:j.topTags.map(({tag:_,count:k})=>o.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm text-gray-300",children:[_," ",o.jsxs("span",{className:"text-gray-500",children:["(",k,")"]})]},_))})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(ir,{className:"w-5 h-5 text-[#f57f17]"}),"Insights da IA"]}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 space-y-3",children:w.map((_,k)=>o.jsx("div",{className:`p-3 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:o.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?o.jsx(kn,{className:"w-4 h-4"}):o.jsx(nr,{className:"w-4 h-4"}),_.text]})},k))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Aes Recomendadas"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ju,{title:"1. Atacar leads prontos",desc:"CTA direto + agendamento. A janela  curta.",pill:`${j.prontos} leads`,priority:j.prontos>0}),o.jsx(Ju,{title:"2. Follow-up urgentes",desc:"Leads com urgncia alta precisam de resposta rpida.",pill:`${j.urgencyHigh} leads`,priority:j.urgencyHigh>0}),o.jsx(Ju,{title:"3. Recuperar em risco",desc:"Health baixo + urgncia alta = risco de perder.",pill:`${j.emRisco} leads`,priority:j.emRisco>0}),o.jsx(Ju,{title:"4. Reativar leads frios",desc:"Nutrio com contedo relevante para reaquecer.",pill:`${j.frios} leads`,priority:j.frios>0})]})]}),o.jsx("div",{className:"border-t border-white/10 pt-6 mt-6",children:o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"DOCA AI - Central de Comando"}),o.jsxs("span",{children:["Relatrio gerado automaticamente em ",N," s ",A]})]})})]}),p&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[o.jsx(ir,{className:"w-5 h-5 text-[#f57f17]"}),"Insights IA"]}),o.jsx("button",{onClick:()=>m(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),o.jsx("div",{className:"space-y-3",children:w.map((_,k)=>o.jsx("div",{className:`p-4 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:o.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?o.jsx(kn,{className:"w-4 h-4"}):o.jsx(nr,{className:"w-4 h-4"}),_.text]})},k))}),o.jsx("button",{onClick:()=>m(!1),className:"mt-6 w-full h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white",children:"Entendi"})]})})]})}function Xu({label:t,value:e,icon:r,color:n}){return o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(r,{className:`w-4 h-4 ${n}`}),o.jsx("span",{className:"text-xs text-gray-500",children:t})]}),o.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function Bn({label:t,value:e,total:r,color:n}){const a=r>0?Math.round(e/r*100):0;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-3 w-3 rounded-full ${n}`}),o.jsx("span",{className:"text-sm text-gray-300 w-24",children:t}),o.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${n} rounded-full`,style:{width:`${a}%`}})}),o.jsxs("span",{className:"text-xs text-gray-500 w-20 text-right",children:[e," (",a,"%)"]})]})}function Yu({label:t,value:e,hint:r,tone:n}){const a={good:"text-emerald-400",mid:"text-yellow-400",bad:"text-red-400"};return o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:`text-3xl font-bold ${a[n]}`,children:e}),o.jsx("p",{className:"text-sm text-white mt-1",children:t}),o.jsx("p",{className:"text-xs text-gray-500",children:r})]})}function Ju({title:t,desc:e,pill:r,priority:n}){return o.jsx("div",{className:`rounded-xl border p-4 ${n?"border-[#f57f17]/30 bg-[#f57f17]/5":"border-white/10 bg-white/5"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:t}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e})]}),o.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-semibold whitespace-nowrap ${n?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-[#f57f17]":"bg-white/5 border border-white/10 text-gray-400"}`,children:r})]})})}const CV=[{id:"vendas",name:"Vendas Consultivas",description:"Foco em entender necessidades e fechar com valor",tags:["vendas","consultivo"],prompt:`Voc  um especialista em vendas consultivas da DOCA AI.

OBJETIVO: Entender as necessidades do lead e gui-lo para uma deciso de compra.

REGRAS:
- Nunca seja agressivo ou pushy
- Faa perguntas para entender o contexto
- Apresente benefcios, no features
- Use prova social quando apropriado
- Crie urgncia genuna, no artificial

TOM DE VOZ:
- Profissional mas humano
- Emptico e consultivo
- Direto ao ponto
- Sem emojis excessivos

ESTRUTURA DE RESPOSTA:
1. Reconhea a dvida/necessidade
2. Responda de forma clara
3. Faa uma pergunta de qualificao OU apresente prximo passo`},{id:"suporte",name:"Suporte ao Cliente",description:"Resolver problemas com empatia e eficincia",tags:["suporte","atendimento"],prompt:`Voc  um especialista em suporte da DOCA AI.

OBJETIVO: Resolver problemas rapidamente mantendo o cliente satisfeito.

REGRAS:
- Priorize resolver o problema
- Se no souber, escale para humano
- Nunca invente informaes
- Documente o problema para melhoria

TOM DE VOZ:
- Emptico e paciente
- Tcnico quando necessrio
- Sempre oferea alternativas

ESTRUTURA:
1. Reconhea o problema
2. Apresente a soluo
3. Confirme se resolveu`},{id:"qualificacao",name:"Qualificao de Leads",description:"Identificar leads qualificados rapidamente",tags:["vendas","qualificao"],prompt:`Voc  um especialista em qualificao de leads da DOCA AI.

OBJETIVO: Identificar se o lead tem fit com nossa soluo.

CRITRIOS DE QUALIFICAO:
- Budget: Tem oramento para investir?
- Authority:  o decisor?
- Need: Tem uma dor real que resolvemos?
- Timeline: Precisa resolver em quanto tempo?

PERGUNTAS CHAVE:
- Qual seu maior desafio hoje em [rea]?
- Quantos leads/ms vocs recebem?
- Quem mais participa da deciso?
- Qual prazo ideal para implementar?

TOM: Curioso, consultivo, sem presso.`},{id:"reativacao",name:"Reativao de Leads",description:"Reengajar leads frios com valor",tags:["nutrio","reativao"],prompt:`Voc  especialista em reativao de leads da DOCA AI.

OBJETIVO: Reengajar leads que esfriaram oferecendo valor.

ESTRATGIAS:
- Compartilhe novidades relevantes
- Oferea contedo educativo
- Mencione cases de sucesso recentes
- Crie FOMO genuno

NUNCA:
- Seja invasivo ou repetitivo
- Pressione por resposta
- Ignore o contexto anterior

TOM: Amigvel, informativo, sem cobrana.`}];async function Fa(t,e){const r=await fetch(t,{headers:{Accept:"application/json",...e?.headers||{}},...e});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}async function TV(t){try{const e=t?`/api/settings?key=agent_prompt&tenant_id=${t}`:"/api/settings?key=agent_prompt";return(await Fa(e))?.value||""}catch{return""}}async function MV(t,e){await Fa("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_prompt",value:t,tenant_id:e})})}async function $V(t){try{const e=t?`/api/knowledge?tenant_id=${t}`:"/api/knowledge",r=await Fa(e);return Array.isArray(r)?r:[]}catch{return[]}}async function nA(t,e){await Fa("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,tenant_id:e})})}async function RV(t,e){await Fa("/api/knowledge",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,tenant_id:e})})}async function IV(t){try{const e=t?`/api/social-proofs?tenant_id=${t}`:"/api/social-proofs",r=await Fa(e);return Array.isArray(r)?r:[]}catch{return[]}}async function aA(t,e){await Fa("/api/social-proofs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,tenant_id:e})})}async function DV(t,e){await Fa("/api/social-proofs",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,tenant_id:e})})}function LV({tenantId:t}){const[e,r]=M.useState("prompt"),[n,a]=M.useState(null),[s,c]=M.useState(""),[u,d]=M.useState(""),[h,p]=M.useState(!0),[m,v]=M.useState(!1),[b,j]=M.useState(!1),[w,y]=M.useState([]),[O,E]=M.useState(!0),[N,A]=M.useState(""),[_,k]=M.useState("all"),[C,P]=M.useState(!1),[R,B]=M.useState(null),[I,F]=M.useState(!1),[L,X]=M.useState(!1),[q,z]=M.useState([]),[ee,K]=M.useState(!0),[W,J]=M.useState(!1),[$,U]=M.useState(null),[ae,se]=M.useState(!1),[ie,he]=M.useState("all"),[ke,ge]=M.useState(""),[oe,ye]=M.useState(!1),[Oe,Q]=M.useState([]),je=(G,Pe)=>{a({type:G,text:Pe}),setTimeout(()=>a(null),3e3)};M.useEffect(()=>{Re(),He(),Ye()},[t]);async function Re(){p(!0);const G=await TV(t);c(G),d(G),p(!1)}async function He(){E(!0);const G=await $V(t);y(G),E(!1)}async function Ye(){K(!0);const G=await IV(t);z(G),K(!1)}async function gt(){if(!s.trim()){je("error","Prompt vazio");return}v(!0);try{await MV(s,t),d(s),je("success","Prompt salvo!")}catch{je("error","Erro ao salvar")}v(!1)}function Rt(G){c(G.prompt),j(!1),je("success",`Template "${G.name}" aplicado`)}const or=M.useMemo(()=>{const G=new Set;return w.forEach(Pe=>Pe.category&&G.add(Pe.category)),["all",...Array.from(G).sort()]},[w]),Ot=M.useMemo(()=>{const G=N.toLowerCase();return w.filter(Pe=>_!=="all"&&Pe.category!==_?!1:G?`${Pe.question} ${Pe.answer} ${(Pe.tags||[]).join(" ")}`.toLowerCase().includes(G):!0)},[w,N,_]),vt=M.useMemo(()=>({total:w.length,categories:new Set(w.map(G=>G.category).filter(Boolean)).size,avgPriority:w.length>0?(w.reduce((G,Pe)=>G+(Pe.priority||3),0)/w.length).toFixed(1):"0"}),[w]);async function Ft(G){if(!G.question?.trim()||!G.answer?.trim()){je("error","Pergunta e resposta obrigatrias");return}F(!0);try{await nA(G,t),je("success",G.id?"Atualizado!":"Adicionado!"),P(!1),B(null),await He()}catch{je("error","Erro ao salvar")}F(!1)}async function Fr(G){if(confirm("Remover este item?"))try{await RV(G,t),je("success","Removido!"),await He()}catch{je("error","Erro ao remover")}}async function dn(G){try{await aA({...G,active:!G.active},t),await Ye()}catch{je("error","Erro ao atualizar")}}async function An(G){if(confirm("Remover este item?"))try{await DV(G,t),je("success","Removido!"),await Ye()}catch{je("error","Erro ao remover")}}async function ra(G){if(!G.title?.trim()||!G.content?.trim()){je("error","Ttulo e contedo obrigatrios");return}se(!0);try{await aA(G,t),je("success",G.id?"Atualizado!":"Adicionado!"),J(!1),U(null),await Ye()}catch{je("error","Erro ao salvar")}se(!1)}function za(){const G=w.map(({question:It,answer:et,category:qe,priority:Wa,tags:fo})=>({question:It,answer:et,category:qe,priority:Wa,tags:fo})),Pe=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),rt=URL.createObjectURL(Pe),Ke=document.createElement("a");Ke.href=rt,Ke.download=`knowledge-base-${new Date().toISOString().split("T")[0]}.json`,Ke.click(),je("success","Exportado!")}async function pe(G){const Pe=new FileReader;Pe.onload=async rt=>{try{const Ke=JSON.parse(rt.target?.result);if(!Array.isArray(Ke))throw new Error("Formato invlido");let It=0;for(const et of Ke)et.question&&et.answer&&(await nA({question:et.question,answer:et.answer,category:et.category||null,priority:et.priority||3,tags:et.tags||[]},t),It++);je("success",`${It} itens importados!`),await He(),X(!1)}catch{je("error","Erro ao importar arquivo")}},Pe.readAsText(G)}async function Ve(){if(!ke.trim())return;ye(!0),Q(Ke=>[...Ke,{role:"user",text:ke}]),await new Promise(Ke=>setTimeout(Ke,800));const G=ke.toLowerCase(),Pe=w.filter(Ke=>Ke.question.toLowerCase().includes(G)||Ke.answer.toLowerCase().includes(G)||(Ke.tags||[]).some(It=>It.toLowerCase().includes(G))).slice(0,2);let rt="";Pe.length>0?(rt=`Baseado na base de conhecimento:

${Pe[0].answer}`,Pe.length>1&&(rt+=`

Tambm relacionado: ${Pe[1].question}`)):rt="No encontrei uma resposta especfica na base de conhecimento. Considere adicionar esse tpico ao KB ou escalar para humano.",Q(Ke=>[...Ke,{role:"ai",text:rt}]),ge(""),ye(!1)}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(Pa,{className:"w-6 h-6 text-[#f57f17]"}),"Treinamento"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento e conhecimento do agente"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"prompt",label:"Prompt",icon:_i},{key:"knowledge",label:"Base de Conhecimento",icon:Yp},{key:"social",label:"Prova Social",icon:Jp},{key:"playground",label:"Playground",icon:u_}].map(G=>o.jsxs("button",{onClick:()=>r(G.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===G.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[o.jsx(G.icon,{className:"w-4 h-4"}),G.label]},G.key))})]}),e==="prompt"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(vn,{icon:_i,label:"Caracteres",value:s.length.toLocaleString()}),o.jsx(vn,{icon:$a,label:"Linhas",value:s.split(`
`).length}),o.jsx(vn,{icon:Ca,label:"Status",value:s===u?"Salvo":"Alterado",color:s===u?"text-emerald-400":"text-yellow-400"})]}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:"System Prompt"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Define personalidade, regras e tom de voz do agente"})]}),o.jsxs("button",{onClick:()=>j(!0),className:"h-9 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4"}),"Templates"]})]}),h?o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx(ut,{className:"w-6 h-6 text-gray-500 animate-spin"})}):o.jsx("textarea",{value:s,onChange:G=>c(G.target.value),className:"w-full h-80 bg-black/30 border border-white/10 rounded-xl p-4 text-gray-200 text-sm font-mono resize-none outline-none focus:border-[#f57f17]/50",placeholder:"Digite o system prompt do agente..."}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("p",{className:"text-xs text-gray-500",children:s!==u&&"Alteraes no salvas"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>c(u),disabled:s===u,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[o.jsx(HA,{className:"w-4 h-4"}),"Restaurar"]}),o.jsxs("button",{onClick:gt,disabled:m||s===u,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[m?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar"]})]})]})]})]}),e==="knowledge"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(vn,{icon:Yp,label:"Total de FAQs",value:vt.total}),o.jsx(vn,{icon:_l,label:"Categorias",value:vt.categories}),o.jsx(vn,{icon:$a,label:"Prioridade Mdia",value:vt.avgPriority})]}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),o.jsx("input",{value:N,onChange:G=>A(G.target.value),placeholder:"Buscar...",className:"h-10 pl-10 pr-4 w-64 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none"})]}),o.jsx("select",{value:_,onChange:G=>k(G.target.value),className:"h-10 px-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none",children:or.map(G=>o.jsx("option",{value:G,className:"bg-black",children:G==="all"?"Todas categorias":G},G))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>X(!0),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[o.jsx(w0,{className:"w-4 h-4"}),"Importar"]}),o.jsxs("button",{onClick:za,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[o.jsx(eb,{className:"w-4 h-4"}),"Exportar"]}),o.jsxs("button",{onClick:()=>{B(null),P(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[o.jsx(pd,{className:"w-4 h-4"}),"Adicionar"]})]})]}),o.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 overflow-hidden",children:O?o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx(ut,{className:"w-6 h-6 text-gray-500 animate-spin"})}):Ot.length===0?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500",children:[o.jsx(Yp,{className:"w-8 h-8 mb-2"}),o.jsx("p",{children:"Nenhum item encontrado"})]}):o.jsx("div",{className:"divide-y divide-white/5",children:Ot.map(G=>o.jsx("div",{className:"p-4 hover:bg-white/5 transition",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-medium",children:G.question}),o.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:G.answer}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[G.category&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#f57f17]/10 text-[#f57f17]",children:G.category}),G.priority&&o.jsxs("span",{className:"text-xs text-gray-500",children:["P",G.priority]}),(G.tags||[]).slice(0,3).map(Pe=>o.jsxs("span",{className:"text-xs text-gray-600",children:["#",Pe]},Pe))]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>{B(G),P(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(o_,{className:"w-4 h-4 text-gray-400"})}),o.jsx("button",{onClick:()=>G.id&&Fr(G.id),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:o.jsx(Ps,{className:"w-4 h-4 text-red-400"})})]})]})},G.id))})})]}),e==="social"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsx(vn,{icon:Jp,label:"Total",value:q.length}),o.jsx(vn,{icon:WA,label:"Depoimentos",value:q.filter(G=>G.type==="depoimento").length}),o.jsx(vn,{icon:IA,label:"Cases",value:q.filter(G=>G.type==="case").length}),o.jsx(vn,{icon:Ra,label:"Mtricas",value:q.filter(G=>G.type==="metrica").length})]}),o.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ir,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold",children:"Como funciona a Prova Social"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"O agente usa essas informaes para gerar confiana durante a conversa. Depoimentos, cases e mtricas so inseridos automaticamente quando relevante."})]})]})}),o.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2",children:["all","depoimento","case","metrica"].map(G=>o.jsx("button",{onClick:()=>he(G),className:`h-9 px-3 rounded-lg text-sm font-medium transition ${ie===G?"bg-[#f57f17]/20 text-white":"bg-white/5 text-gray-400 hover:text-white"}`,children:G==="all"?"Todos":G==="depoimento"?"Depoimentos":G==="case"?"Cases":"Mtricas"},G))}),o.jsxs("button",{onClick:()=>{U(null),J(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[o.jsx(pd,{className:"w-4 h-4"}),"Adicionar"]})]}),ee?o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx(ut,{className:"w-6 h-6 text-gray-500 animate-spin"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.filter(G=>ie==="all"||G.type===ie).map(G=>o.jsxs("div",{className:`rounded-[20px] border overflow-hidden transition ${G.active?"border-white/10 bg-white/5":"border-white/5 bg-white/[0.02] opacity-50"}`,children:[G.image&&G.type!=="depoimento"&&o.jsx("div",{className:"h-32 w-full overflow-hidden bg-black/20",children:o.jsx("img",{src:G.image,alt:G.title,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"p-5",children:o.jsxs("div",{className:"flex items-start gap-4",children:[G.type==="depoimento"&&o.jsx("div",{className:"flex-shrink-0",children:G.image?o.jsx("img",{src:G.image,alt:G.author||"Cliente",className:"w-14 h-14 rounded-full object-cover border-2 border-white/10"}):o.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-500/20 border-2 border-purple-500/30 flex items-center justify-center",children:o.jsx(ld,{className:"w-6 h-6 text-purple-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${G.type==="depoimento"?"bg-purple-500/20 text-purple-300":G.type==="case"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/20 text-blue-300"}`,children:G.type==="depoimento"?"Depoimento":G.type==="case"?"Case":"Mtrica"}),!G.active&&o.jsx("span",{className:"text-xs text-gray-500",children:"Inativo"})]}),o.jsx("h4",{className:"text-white font-semibold",children:G.title}),G.type==="depoimento"?o.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',G.content,'"']}):o.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:G.content}),(G.author||G.company)&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[G.author&&o.jsx("span",{className:"font-medium text-gray-400",children:G.author}),G.author&&G.company&&o.jsx("span",{children:"  "}),G.company&&o.jsx("span",{children:G.company})]}),G.result&&o.jsx("div",{className:"mt-3 inline-block px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:o.jsx("span",{className:"text-sm text-emerald-300 font-bold",children:G.result})})]}),o.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>dn(G),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",title:G.active?"Desativar":"Ativar",children:G.active?o.jsx(QM,{className:"w-4 h-4 text-emerald-400"}):o.jsx(JM,{className:"w-4 h-4 text-gray-500"})}),o.jsx("button",{onClick:()=>{U(G),J(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(o_,{className:"w-4 h-4 text-gray-400"})}),o.jsx("button",{onClick:()=>An(G.id),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:o.jsx(Ps,{className:"w-4 h-4 text-red-400"})})]})]})})]},G.id))}),q.filter(G=>ie==="all"||G.type===ie).length===0&&!ee&&o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Jp,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"Nenhuma prova social encontrada"})]})]}),e==="playground"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[o.jsxs("div",{className:"p-4 border-b border-white/10",children:[o.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[o.jsx(sr,{className:"w-5 h-5 text-[#f57f17]"}),"Testar Agente"]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Simule conversas para validar respostas"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Oe.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[o.jsx(u_,{className:"w-8 h-8 mb-2"}),o.jsx("p",{children:"Envie uma mensagem para testar"})]}):Oe.map((G,Pe)=>o.jsx("div",{className:`flex ${G.role==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${G.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.text})})},Pe)),oe&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:o.jsx(ut,{className:"w-4 h-4 text-gray-400 animate-spin"})})})]}),o.jsxs("div",{className:"p-4 border-t border-white/10",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:ke,onChange:G=>ge(G.target.value),onKeyDown:G=>G.key==="Enter"&&!G.shiftKey&&Ve(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),o.jsx("button",{onClick:Ve,disabled:oe||!ke.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:o.jsx(js,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:()=>Q([]),className:"mt-2 text-xs text-gray-500 hover:text-gray-400",children:"Limpar conversa"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:"Como funciona"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[o.jsx("p",{children:"1. O playground busca na Base de Conhecimento"}),o.jsx("p",{children:"2. Se encontrar match, usa a resposta cadastrada"}),o.jsx("p",{children:"3. Se no encontrar, sugere adicionar ao KB"}),o.jsx("p",{children:"4. Em produo, usa o prompt + Claude API"})]})]}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:"Sugestes de teste"}),o.jsx("div",{className:"space-y-2",children:["Quanto custa?","Como funciona?","Vocs tm suporte?","Qual o prazo?"].map(G=>o.jsx("button",{onClick:()=>ge(G),className:"w-full text-left px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-sm text-gray-300 transition",children:G},G))})]}),o.jsxs("div",{className:"rounded-[28px] border border-emerald-500/20 bg-emerald-500/5 p-6",children:[o.jsxs("h3",{className:"text-emerald-300 font-bold mb-2 flex items-center gap-2",children:[o.jsx(ln,{className:"w-5 h-5"}),"Dica"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Adicione perguntas frequentes ao KB para melhorar a qualidade das respostas automticas."})]})]})]}),b&&o.jsx(iA,{title:"Templates de Prompt",onClose:()=>j(!1),children:o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:CV.map(G=>o.jsx("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:G.name}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:G.description}),o.jsx("div",{className:"flex gap-1 mt-2",children:G.tags.map(Pe=>o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-gray-400",children:Pe},Pe))})]}),o.jsx("button",{onClick:()=>Rt(G),className:"h-8 px-3 rounded-lg bg-[#f57f17]/20 text-[#f57f17] text-sm font-medium",children:"Usar"})]})},G.id))})}),C&&o.jsx(BV,{item:R,saving:I,onClose:()=>{P(!1),B(null)},onSave:Ft}),L&&o.jsx(iA,{title:"Importar Base de Conhecimento",onClose:()=>X(!1),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Importe um arquivo JSON com array de objetos contendo: question, answer, category, priority, tags"}),o.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-8 text-center",children:[o.jsx("input",{type:"file",accept:".json",onChange:G=>G.target.files?.[0]&&pe(G.target.files[0]),className:"hidden",id:"import-file"}),o.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[o.jsx(w0,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-400",children:"Clique para selecionar arquivo"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:".json"})]})]})]})}),W&&o.jsx(qV,{item:$,saving:ae,onClose:()=>{J(!1),U(null)},onSave:ra}),n&&o.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 z-50 ${n.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[n.type==="success"?o.jsx(kn,{className:"w-4 h-4"}):o.jsx(Zx,{className:"w-4 h-4"}),n.text]})]})}function vn({icon:t,label:e,value:r,color:n}){return o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(t,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-xs text-gray-500",children:e})]}),o.jsx("p",{className:`text-xl font-bold ${n||"text-white"}`,children:r})]})}function iA({title:t,children:e,onClose:r}){return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:t}),o.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),e]})})}function BV({item:t,saving:e,onClose:r,onSave:n}){const[a,s]=M.useState(t?.question||""),[c,u]=M.useState(t?.answer||""),[d,h]=M.useState(t?.category||""),[p,m]=M.useState(t?.priority||3),[v,b]=M.useState((t?.tags||[]).join(", "));return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar FAQ":"Nova FAQ"}),o.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Pergunta"}),o.jsx("input",{value:a,onChange:j=>s(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Quanto custa o plano?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Resposta"}),o.jsx("textarea",{value:c,onChange:j=>u(j.target.value),className:"w-full h-32 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Ex: Temos planos a partir de R$ 297/ms..."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Categoria"}),o.jsx("input",{value:d,onChange:j=>h(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Preo"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Prioridade"}),o.jsx("select",{value:p,onChange:j=>m(Number(j.target.value)),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[1,2,3,4,5].map(j=>o.jsx("option",{value:j,className:"bg-black",children:j},j))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Tags (vrgula)"}),o.jsx("input",{value:v,onChange:j=>b(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"preo, plano"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),o.jsxs("button",{onClick:()=>n({id:t?.id,question:a,answer:c,category:d||null,priority:p,tags:v.split(",").map(j=>j.trim()).filter(Boolean)}),disabled:e,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar"]})]})]})})}function qV({item:t,saving:e,onClose:r,onSave:n}){const[a,s]=M.useState(t?.type||"depoimento"),[c,u]=M.useState(t?.title||""),[d,h]=M.useState(t?.content||""),[p,m]=M.useState(t?.author||""),[v,b]=M.useState(t?.company||""),[j,w]=M.useState(t?.result||""),[y,O]=M.useState(t?.image||""),[E,N]=M.useState(t?.active??!0);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar Prova Social":"Nova Prova Social"}),o.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Tipo"}),o.jsx("div",{className:"flex gap-2",children:[{key:"depoimento",label:"Depoimento",icon:WA},{key:"case",label:"Case de Sucesso",icon:IA},{key:"metrica",label:"Mtrica",icon:Ra}].map(A=>o.jsxs("button",{type:"button",onClick:()=>s(A.key),className:`flex-1 h-11 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${a===A.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[o.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.key))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:a==="depoimento"?"Foto do Cliente":"Imagem/Print"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{value:y,onChange:A=>O(A.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Cole a URL da imagem..."}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a==="depoimento"?"Foto do cliente para aparecer junto ao depoimento":"Print de resultado, grfico ou imagem ilustrativa"})]}),o.jsx("div",{className:`flex-shrink-0 ${a==="depoimento"?"w-16 h-16":"w-24 h-16"} rounded-xl border border-white/10 bg-black/30 overflow-hidden flex items-center justify-center`,children:y?o.jsx("img",{src:y,alt:"Preview",className:`w-full h-full object-cover ${a==="depoimento"?"rounded-full":""}`,onError:A=>{A.target.style.display="none"}}):o.jsx(qM,{className:"w-6 h-6 text-gray-600"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Ttulo"}),o.jsx("input",{value:c,onChange:A=>u(A.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Aumento de 40% em converses"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:a==="depoimento"?"Depoimento":a==="case"?"Descrio do Case":"Descrio da Mtrica"}),o.jsx("textarea",{value:d,onChange:A=>h(A.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:a==="depoimento"?"Ex: Depois que implementamos a DOCA, nosso atendimento nunca mais parou...":a==="case"?"Ex: Restaurante que triplicou pedidos pelo WhatsApp...":"Ex: Tempo mdio de resposta reduziu de 15min para 8 segundos"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a==="depoimento"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Autor"}),o.jsx("input",{value:p,onChange:A=>m(A.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Maria Silva"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Empresa"}),o.jsx("input",{value:v,onChange:A=>b(A.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Clnica Esttica"})]}),(a==="case"||a==="metrica")&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Resultado"}),o.jsx("input",{value:j,onChange:A=>w(A.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: +40% converso em 30 dias"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white font-medium",children:"Ativo"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Disponvel para o agente usar"})]}),o.jsx("button",{type:"button",onClick:()=>N(!E),className:`h-8 w-14 rounded-full transition ${E?"bg-emerald-500":"bg-gray-600"}`,children:o.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition transform ${E?"translate-x-7":"translate-x-1"}`})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),o.jsxs("button",{onClick:()=>n({id:t?.id||`sp-${Date.now()}`,type:a,title:c,content:d,author:p||void 0,company:v||void 0,result:j||void 0,image:y||void 0,active:E,created_at:t?.created_at||new Date().toISOString()}),disabled:e||!c.trim()||!d.trim(),className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar"]})]})]})})}function nh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function UV(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(p){try{h(n.next(p))}catch(m){c(m)}}function d(p){try{h(n.throw(p))}catch(m){c(m)}}function h(p){p.done?s(p.value):a(p.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const FV=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class iw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class zV extends iw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sA extends iw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oA extends iw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lx||(Lx={}));class WV{constructor(e,{headers:r={},customFetch:n,region:a=Lx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=FV(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return UV(this,arguments,void 0,function*(r,n={}){var a;let s,c;try{const{headers:u,method:d,body:h,signal:p,timeout:m}=n;let v={},{region:b}=n;b||(b=this.region);const j=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(v["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(v["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let y=p;m&&(c=new AbortController,s=setTimeout(()=>c.abort(),m),p?(y=c.signal,p.addEventListener("abort",()=>c.abort())):y=c.signal);const O=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:w,signal:y}).catch(_=>{throw new zV(_)}),E=O.headers.get("x-relay-error");if(E&&E==="true")throw new sA(O);if(!O.ok)throw new oA(O);let N=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return N==="application/json"?A=yield O.json():N==="application/octet-stream"||N==="application/pdf"?A=yield O.blob():N==="text/event-stream"?A=O:N==="multipart/form-data"?A=yield O.formData():A=yield O.text(),{data:A,error:null,response:O}}catch(u){return{data:null,error:u,response:u instanceof oA||u instanceof sA?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var HV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},VV=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let c=null,u=null,d=null,h=s.status,p=s.statusText;if(s.ok){var m,v;if(r.method!=="HEAD"){var b;const O=await s.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=O:u=JSON.parse(O))}const w=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),y=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");w&&y&&y.length>1&&(d=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var j;const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,p="OK")}catch{s.status===404&&w===""?(h=204,p="No Content"):c={message:w}}if(c&&r.isMaybeSingle&&(!(c==null||(j=c.details)===null||j===void 0)&&j.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&r.shouldThrowOnError)throw new HV(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var c;let u="";const d=s?.cause;if(d){var h,p,m,v;const j=(h=d?.message)!==null&&h!==void 0?h:"",w=(p=d?.code)!==null&&p!==void 0?p:"";u=`${(m=s?.name)!==null&&m!==void 0?m:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,w&&(u+=` (${w})`),d?.stack&&(u+=`
${d.stack}`)}else{var b;u=(b=s?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=s?.name)!==null&&c!==void 0?c:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},KV=class extends VV{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var c;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const lA=new RegExp("[,()]");var ps=class extends KV{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&lA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&lA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},GV=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let s=!1;const c=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new ps({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(s.length>0){const c=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ps({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new ps({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ps({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ps({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},XV=class lT{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GV(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lT(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:s}={}){var c;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(u="POST",h=r);const p=new Headers(this.headers);return s&&p.set("Prefer",`count=${s}`),new ps({method:u,url:d,headers:p,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class YV{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JV="2.89.0",QV=`realtime-js/${JV}`,cT="1.0.0",ZV="2.0.0",cA=cT,Bx=1e4,eK=1e3,tK=100;var ka;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ka||(ka={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var en;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(en||(en={}));var qx;(function(t){t.websocket="websocket"})(qx||(qx={}));var di;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(di||(di={}));class rK{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,n){var a,s;const c=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+h.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let j=new DataView(b),w=0;j.setUint8(w++,this.KINDS.userBroadcastPush),j.setUint8(w++,d.length),j.setUint8(w++,u.length),j.setUint8(w++,c.length),j.setUint8(w++,h.length),j.setUint8(w++,m.length),j.setUint8(w++,r),Array.from(d,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(u,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(c,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(h,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(m,O=>j.setUint8(w++,O.charCodeAt(0)));var y=new Uint8Array(b.byteLength+n.byteLength);return y.set(new Uint8Array(b),0),y.set(new Uint8Array(n),b.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,s,c,u,d]=n;return r({join_ref:a,ref:s,topic:c,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const p=n.decode(e.slice(d,d+s));d=d+s;const m=n.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,j={type:this.BROADCAST_EVENT,event:p,payload:b};return c>0&&(j.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class uT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const uA=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,c)=>(s[c]=nK(c,t,e,a),s),{}):{}},nK=(t,e,r,n)=>{const a=e.find(u=>u.name===t),s=a?.type,c=r[t];return s&&!n.includes(s)?dT(s,c):Ux(c)},dT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oK(e,r)}switch(t){case at.bool:return aK(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return iK(e);case at.json:case at.jsonb:return sK(e);case at.timestamp:return lK(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Ux(e);default:return Ux(e)}},Ux=t=>t,aK=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},oK=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const c=t.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(u=>dT(e,u))}return t},lK=t=>typeof t=="string"?t.replace(" ","T"):t,fT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class i0{constructor(e,r,n={},a=Bx){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dA||(dA={}));class wl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,a,s,c),this.pendingDiffs.forEach(d=>{this.state=wl.syncDiff(this.state,d,s,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wl.syncDiff(this.state,a,s,c),u())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),c=this.transformState(r),u={},d={};return this.map(s,(h,p)=>{c[h]||(d[h]=p)}),this.map(c,(h,p)=>{const m=s[h];if(m){const v=p.map(y=>y.presence_ref),b=m.map(y=>y.presence_ref),j=p.filter(y=>b.indexOf(y.presence_ref)<0),w=m.filter(y=>v.indexOf(y.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(d[h]=w)}else u[h]=p}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),p.length>0){const m=e[u].map(b=>b.presence_ref),v=p.filter(b=>m.indexOf(b.presence_ref)<0);e[u].unshift(...v)}n(u,p,d)}),this.map(c,(u,d)=>{let h=e[u];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fA||(fA={}));var jl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jl||(jl={}));var qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class ws{constructor(e,r={config:{}},n){var a,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new i0(this,en.join,this.params,this.timeout),this.rejoinTimer=new uT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(en.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new wl(this),this.broadcastEndpointURL=fT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[jl.PRESENCE]&&this.bindings[jl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(qn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(qn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(j=w?.length)!==null&&j!==void 0?j:0,O=[];for(let E=0;E<y;E++){const N=w[E],{filter:{event:A,schema:_,table:k,filter:C}}=N,P=b&&b[E];if(P&&P.event===A&&ws.isFilterValueEqual(P.schema,_)&&ws.isFilterValueEqual(P.table,k)&&ws.isFilterValueEqual(P.filter,C))O.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=Tt.errored,e?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(qn.SUBSCRIBED);return}}).receive("error",b=>{this.state=Tt.errored,e?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tt.joined&&e===jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(en.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new i0(this,en.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new i0(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=en;if(n&&[u,d,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var j,w,y;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((y=(w=b.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===c}).map(b=>b.callback(v,n)):(s=this.bindings[c])===null||s===void 0||s.filter(b=>{var j,w,y,O,E,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const A=b.id,_=(j=b.filter)===null||j===void 0?void 0:j.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(_==="*"||_?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const A=(E=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:w,table:y,commit_timestamp:O,type:E,errors:N}=j;v=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:O,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(j))}b.callback(v,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ws.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(en.close,{},e)}_onError(e){this._on(en.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uA(e.columns,e.old_record)),r}}const s0=()=>{},Qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cK=[1e3,2e3,5e3,1e4],uK=1e4,dK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fK{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.transport=null,this.heartbeatIntervalMs=Qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=s0,this.ref=0,this.reconnectTimer=null,this.vsn=cA,this.logger=s0,this.conn=null,this.sendBuffer=[],this.serializer=new rK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qx.websocket}`,this.httpEndpoint=fT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return di.Connecting;case ka.open:return di.Open;case ka.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new ws(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:c}=r,u=c?`(${c})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ka.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ka.open||this.conn.readyState===ka.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(en.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:QV};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(en.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,s,c,u,d,h,p,m,v,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Bx,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Qu.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:s0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:cA,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(j=>cK[j-1]||uK),this.vsn){case cT:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((j,w)=>w(JSON.stringify(j))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((j,w)=>w(JSON.parse(j)));break;case ZV:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var oc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hK(t,e,r){const n=new URL(e,t);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function pK(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function mK(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:c}){const u=hK(t.baseUrl,n,a),d=await pK(t.auth),h=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...c},body:s?JSON.stringify(s):void 0}),p=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!h.ok){const b=m?v:void 0,j=b?.error;throw new oc(j?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:j?.type,icebergCode:j?.code,details:b})}return{status:h.status,headers:h.headers,data:v}}}}function Zu(t){return t.join("")}var gK=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`}),!0}catch(e){if(e instanceof oc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof oc&&r.status===409)return;throw r}}};function as(t){return t.join("")}var vK=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof oc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof oc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},yK=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=mK({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new gK(this.client,e),this.tableOps=new vK(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ah=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var xK=class extends ah{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fx=class extends ah{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const sw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bK=()=>Response,zx=t=>{if(Array.isArray(t))return t.map(r=>zx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=zx(n)}),e},wK=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jK=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function _K(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SK(t){var e=_K(t,"string");return lc(e)=="symbol"?e:e+""}function NK(t,e,r){return(e=SK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){NK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const o0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kK=async(t,e,r)=>{t instanceof await bK()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,s=n?.statusCode||a+"";e(new xK(o0(n),a,s))}).catch(n=>{e(new Fx(o0(n),n))}):e(new Fx(o0(t),t))},OK=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(wK(n)?(a.headers=Me({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Me(Me({},a),r))};async function wc(t,e,r,n,a,s){return new Promise((c,u)=>{t(r,OK(e,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>kK(d,u,n))})}async function cc(t,e,r,n){return wc(t,"GET",e,r,n)}async function Qr(t,e,r,n,a){return wc(t,"POST",e,n,a,r)}async function Wx(t,e,r,n,a){return wc(t,"PUT",e,n,a,r)}async function EK(t,e,r,n){return wc(t,"HEAD",e,Me(Me({},r),{},{noResolveJson:!0}),n)}async function ow(t,e,r,n,a){return wc(t,"DELETE",e,n,a,r)}var AK=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};let hT;hT=Symbol.toStringTag;var PK=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[hT]="BlobDownloadBuilder",this.promise=null}asStream(){return new AK(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};const CK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var TK=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=sw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let s;const c=Me(Me({},pA),n);let u=Me(Me({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),d&&s.append("metadata",a.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),d&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),n?.headers&&(u=Me(Me({},u),n.headers));const h=a._removeEmptyFolders(e),p=a._getFinalPath(h),m=await(t=="PUT"?Wx:Qr)(a.fetch,`${a.url}/object/${p}`,s,Me({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const s=a._removeEmptyFolders(t),c=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${c}`);u.searchParams.set("token",e);try{let d;const h=Me({upsert:pA.upsert},n),p=Me(Me({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:s,fullPath:(await Wx(a.fetch,u.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(pt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Me({},r.headers);e?.upsert&&(a["x-upsert"]="true");const s=await Qr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(r.url+s.url),u=c.searchParams.get("token");if(!u)throw new ah("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Qr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await Qr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),s=await Qr(n.fetch,`${n.url}/object/sign/${a}`,Me({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await Qr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Me(Me({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",s=this._getFinalPath(t),c=()=>cc(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new PK(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:zx(await cc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await EK(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n)&&n instanceof Fx){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Me(Me(Me({},CK),e),{},{prefix:t||""});return{data:await Qr(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Me({},t);return{data:await Qr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const pT="2.89.0",mT={"X-Client-Info":`storage-js/${pT}`};var MK=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Me(Me({},mT),e),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await cc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await cc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Qr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Wx(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Qr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},$K=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},mT),e),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await cc(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!jK(t))throw new ah("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const c=a[s];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const lw={"X-Client-Info":`storage-js/${pT}`,"Content-Type":"application/json"};var gT=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var l0=class extends gT{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RK=class extends gT{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const cw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IK=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DK=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||n+"";e(new l0(mA(s),n,c))}).catch(()=>{const s=n+"";e(new l0(a.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new l0(a.statusText||`HTTP ${n} error`,n,s))}}else e(new RK(mA(t),t))},LK=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(IK(n)?(a.headers=Me({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Me(Me({},a),r)):a};async function BK(t,e,r,n,a,s){return new Promise((c,u)=>{t(r,LK(e,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>DK(d,u,n))})}async function kr(t,e,r,n,a){return BK(t,"POST",e,n,a,r)}var qK=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await kr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await kr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}},UK=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await kr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}},FK=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}},zK=class extends FK{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new WK(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},WK=class extends qK{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new HK(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},HK=class extends UK{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},VK=class extends MK{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new TK(this.url,this.headers,t,this.fetch)}get vectors(){return new zK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $K(this.url+"/iceberg",this.headers,this.fetch)}};const vT="2.89.0",ms=30*1e3,Hx=3,c0=Hx*ms,KK="http://localhost:9999",GK="supabase.auth.token",XK={"X-Client-Info":`gotrue-js/${vT}`},Vx="X-Supabase-Api-Version",yT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JK=600*1e3;class uc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class QK extends uc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZK(t){return Ne(t)&&t.name==="AuthApiError"}class fi extends uc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ta extends uc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class wr extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eG(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class is extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ed extends ta{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class td extends ta{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tG(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class gA extends ta{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rG extends ta{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kx extends ta{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function u0(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class vA extends ta{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gx extends ta{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yA=` 	
\r=`.split(""),nG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yA.length;e+=1)t[yA[e].charCodeAt(0)]=-2;for(let e=0;e<gf.length;e+=1)t[gf[e].charCodeAt(0)]=e;return t})();function xA(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(gf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(gf[n]),e.queuedBits-=6}}function xT(t,e,r){const n=nG[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bA(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{sG(c,n,r)};for(let c=0;c<t.length;c+=1)xT(t.charCodeAt(c),a,s);return e.join("")}function aG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iG(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}aG(n,e)}}function sG(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Es(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)xT(t.charCodeAt(a),r,n);return new Uint8Array(e)}function oG(t){const e=[];return iG(t,r=>e.push(r)),new Uint8Array(e)}function xi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>xA(a,r,n)),xA(null,r,n),e.join("")}function lG(t){return Math.round(Date.now()/1e3)+t}function cG(){return Symbol("auth-callback")}const Vt=()=>typeof window<"u"&&typeof document<"u",ii={tested:!1,writable:!1},bT=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ii.tested)return ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ii.tested=!0,ii.writable=!0}catch{ii.tested=!0,ii.writable=!1}return ii.writable};function uG(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const wT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},si=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ht=async(t,e)=>{await t.removeItem(e)};class ih{constructor(){this.promise=new ih.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ih.promiseConstructor=Promise;function d0(t){const e=t.split(".");if(e.length!==3)throw new Gx("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!YK.test(e[n]))throw new Gx("JWT not in base64url format");return{header:JSON.parse(bA(e[0])),payload:JSON.parse(bA(e[1])),signature:Es(e[2]),raw:{header:e[0],payload:e[1]}}}async function fG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hG(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await t(s);if(!e(s,null,c)){n(c);return}}catch(c){if(!e(s,c)){a(c);return}}})()})}function pG(t){return("0"+t.toString(16)).substr(-2)}function mG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,pG).join("")}async function gG(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function vG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await gG(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(t,e,r=!1){const n=mG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await gs(t,`${e}-code-verifier`,a);const s=await vG(n);return[s,n===s?"plain":"s256"]}const yG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xG(t){const e=t.headers.get(Vx);if(!e||!e.match(yG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wG(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function os(t){if(!jG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function f0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _G(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function wA(t){return JSON.parse(JSON.stringify(t))}const ui=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),SG=[502,503,504];async function jA(t){var e;if(!dG(t))throw new Kx(ui(t),0);if(SG.includes(t.status))throw new Kx(ui(t),t.status);let r;try{r=await t.json()}catch(s){throw new fi(ui(s),s)}let n;const a=xG(t);if(a&&a.getTime()>=yT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vA(ui(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new vA(ui(r),t.status,r.weak_password.reasons);throw new QK(ui(r),t.status||500,n)}const NG=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Te(t,e,r,n){var a;const s=Object.assign({},n?.headers);s[Vx]||(s[Vx]=yT["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await kG(t,e,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function kG(t,e,r,n,a,s){const c=NG(e,n,a,s);let u;try{u=await t(r,Object.assign({},c))}catch(d){throw console.error(d),new Kx(ui(d),0)}if(u.ok||await jA(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await jA(d)}}function Jr(t){var e;let r=null;AG(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=lG(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function _A(t){const e=Jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OG(t){return{data:t,error:null}}function EG(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,c=nh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function SA(t){return t}function AG(t){return t.access_token&&t.refresh_token&&t.expires_in}const h0=["global","local","others"];class PG{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=wT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=h0[0]){if(h0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h0.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=nh(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:EG,redirectTo:r?.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:SA});if(p.error)throw p.error;const m=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);h[`${y}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ne(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){os(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){os(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Oa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){os(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){os(e.userId);try{const{data:r,error:n}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){os(e.userId),os(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,s,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:SA});if(p.error)throw p.error;const m=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);h[`${y}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ne(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function NA(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ls={debug:!!(globalThis&&bT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CG extends jT{}async function TG(t,e,r){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new CG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ls.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function MG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _T(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $G(t){return parseInt(t,16)}function RG(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function IG(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:c,notBefore:u,requestId:d,resources:h,scheme:p,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=_T(t.address),j=p?`${p}://${n}`:n,w=t.statement?`${t.statement}
`:"",y=`${j} wants you to sign in with your Ethereum account:
${b}

${w}`;let O=`URI: ${m}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),d&&(O+=`
Request ID: ${d}`),h){let E=`
Resources:`;for(const N of h){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);E+=`
- ${N}`}O+=E}return`${y}
${O}`}class Nt extends Error{constructor({message:e,code:r,cause:n,name:a}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class vf extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function DG({error:t,options:e}){var r,n,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ST(c)){if(s.rp.id!==c)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function LG({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ST(n)){if(r.rpId!==n)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class BG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const qG=new BG;function UG(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=nh(t,["challenge","user","excludeCredentials"]),s=Es(e).buffer,c=Object.assign(Object.assign({},r),{id:Es(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Es(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function FG(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=nh(t,["challenge","allowCredentials"]),a=Es(e).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Es(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function zG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:xi(new Uint8Array(t.response.attestationObject)),clientDataJSON:xi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xi(new Uint8Array(a.authenticatorData)),clientDataJSON:xi(new Uint8Array(a.clientDataJSON)),signature:xi(new Uint8Array(a.signature)),userHandle:a.userHandle?xi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ST(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kA(){var t,e;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HG(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vf("Browser returned unexpected credential type",e)}:{data:null,error:new vf("Empty credential response",e)}}catch(e){return{data:null,error:DG({error:e,options:t})}}}async function VG(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vf("Browser returned unexpected credential type",e)}:{data:null,error:new vf("Empty credential response",e)}}catch(e){return{data:null,error:LG({error:e,options:t})}}}const KG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yf(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const s in a){const c=a[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(e(c)){const u=n[s];e(u)?n[s]=yf(u,c):n[s]=yf(c)}else n[s]=c}return n}function XG(t,e){return yf(KG,t,e||{})}function YG(t,e){return yf(GG,t,e||{})}class JG{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},s){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const d=a??qG.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=XG(c.webauthn.credential_options.publicKey,s?.create),{data:p,error:m}=await HG({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=YG(c.webauthn.credential_options.publicKey,s?.request),{data:p,error:m}=await VG(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new fi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn authentication")};try{if(!kA())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new fi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn registration")};try{if(!kA())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new fi("Unexpected error in register",c)}}}}MG();const QG={url:KK,storageKey:GK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function OA(t,e,r){return await r()}const cs={};class dc{get jwks(){var e,r;return(r=(e=cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},QG),e);if(this.storageKey=s.storageKey,this.instanceID=(r=dc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Vt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new PG({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wT(s.fetch),this.lock=s.lock||OA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Vt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=TG:this.lock=OA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:bT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=NA(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Vt()&&(r=uG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Vt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tG(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new fi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Jr}),{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:p,password:m,options:v}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await ss(this.storage,this.storageKey)),s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Jr})}else if("phone"in e){const{phone:p,password:m,options:v}=e;s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Jr})}else throw new ed("You must provide either an email or phone number and a password");const{data:c,error:u}=s;if(u||!c)return await Ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:c,options:u}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:_A})}else if("phone"in e){const{phone:s,password:c,options:u}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:_A})}else throw new ed("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new is;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,s,c,u,d,h,p,m,v;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:w,wallet:y,statement:O,options:E}=e;let N;if(Vt())if(typeof y=="object")N=y;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")N=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),_=await N.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=_T(_[0]);let C=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await N.request({method:"eth_chainId"});C=$G(R)}const P={domain:A.host,address:k,statement:O,uri:A.href,version:"1",chainId:C,nonce:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=IG(P),j=await N.request({method:"personal_sign",params:[RG(b),k]})}try{const{data:w,error:y}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Jr});if(y)throw y;if(!w||!w.session||!w.user){const O=new is;return this._returnResult({data:{user:null,session:null},error:O})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(Ne(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,a,s,c,u,d,h,p,m,v,b;let j,w;if("message"in e)j=e.message,w=e.signature;else{const{chain:y,wallet:O,statement:E,options:N}=e;let A;if(Vt())if(typeof O=="object")A=O;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=O}const _=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),E?{statement:E}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)j=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${_.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(p=N?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:y,error:O}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:xi(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Jr});if(O)throw O;if(!y||!y.session||!y.user){const E=new is;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:O})}catch(y){if(Ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await si(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new rG;const{data:s,error:c}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Jr});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const u=new is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:c})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:c}=e,u=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Jr}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new is;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,s,c;try{if("email"in e){const{email:u,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ss(this.storage,this.storageKey));const{error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new ed("You must provide either an email or phone number.")}catch(u){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Jr});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,s,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ss(this.storage,this.storageKey));const h=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:OG});return!((s=h.data)===null||s===void 0)&&s.url&&Vt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wr;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:c}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:c,error:u}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new ed("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<c0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await si(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=f0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=_G(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oa}):await this._useSession(async r=>{var n,a,s;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Oa})})}catch(r){if(Ne(r))return eG(r)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new wr;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await ss(this.storage,this.storageKey));const{data:h,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:Oa});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:c}=d0(e.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new wr;const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Vt())throw new td("No browser detected.");if(e.error||e.error_description||e.error_code)throw new td(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gA("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!c||!h)throw new td("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let v=p+m;d&&(v=parseInt(d));const b=v-p;b*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const j=v-m;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,p);const{data:w,error:y}=await this._getUser(s);if(y)throw y;const O={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:m,expires_at:v,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await si(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(ZK(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=cG(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ss(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var c,u,d,h,p;const{data:m,error:v}=s;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:h,nonce:p}=e,m=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jr}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new is}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)throw c;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hG(async a=>(a>0&&await fG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jr})),(a,s)=>{const c=200*Math.pow(2,a);return s&&u0(s)&&Date.now()+c-n<ms})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await si(this.storage,this.storageKey);if(a&&this.userStorage){let c=await si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await gs(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:f0()}else if(a&&!a.user&&!a.user){const c=await si(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Ht(this.storage,this.storageKey+"-user"),await gs(this.storage,this.storageKey,a)):a.user=f0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<c0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${c0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),u0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ih;const{data:s,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new wr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ne(s)){const c={data:null,error:s};return u0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ht(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=wA(a);await gs(this.storage,this.storageKey,s)}else{const a=wA(r);await gs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ms}ms, refresh threshold is ${Hx} ticks`),a<=Hx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await ss(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zG(e.webauthn.credential_response):WG(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:UG(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:FG(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=d0(n.access_token);let c=null;s.aal&&(c=s.aal);let u=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wr});const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new wr});const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wr})})}catch(e){if(Ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+JK>a)return n;const{data:s,error:c}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});n=b.session.access_token}const{header:a,payload:s,signature:c,raw:{header:u,payload:d}}=d0(n);r?.allowExpired||bG(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:a,signature:c},error:null}}const p=wG(a.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,c,oG(`${u}.${d}`)))throw new Gx("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}dc.nextInstanceID={};const ZG=dc,eX="2.89.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const tX={"X-Client-Info":`supabase-js-${ml}/${eX}`},rX={headers:tX},nX={schema:"public"},aX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iX={};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function sX(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oX(t){var e=sX(t,"string");return fc(e)=="symbol"?e:e+""}function lX(t,e,r){return(e=oX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){lX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const cX=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uX=()=>Headers,dX=(t,e,r)=>{const n=cX(r),a=uX();return async(s,c)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new a(c?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(s,xt(xt({},c),{},{headers:h}))}};function fX(t){return t.endsWith("/")?t:t+"/"}function hX(t,e){var r,n;const{db:a,auth:s,realtime:c,global:u}=t,{db:d,auth:h,realtime:p,global:m}=e,v={db:xt(xt({},d),a),auth:xt(xt({},h),s),realtime:xt(xt({},p),c),storage:{},global:xt(xt(xt({},m),u),{},{headers:xt(xt({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function pX(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fX(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mX=class extends ZG{constructor(t){super(t)}},gX=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const s=pX(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:nX,realtime:iX,auth:xt(xt({},aX),{},{storageKey:c}),global:rX},d=hX(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=dX(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new XV(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new VK(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new WV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:c,lock:u,debug:d,throwOnError:h},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mX({url:this.authUrl.href,headers:xt(xt({},v),p),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:c,lock:u,debug:d,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fK(this.realtimeUrl.href,xt(xt({},t),{},{params:xt(xt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vX=(t,e,r)=>new gX(t,e,r);function yX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xX="https://llfwrwyqaswehksgvcyr.supabase.co",bX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZndyd3lxYXN3ZWhrc2d2Y3lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1MjY5MTYsImV4cCI6MjA4MjEwMjkxNn0.A-kfpYPjYFvGqg83iVyLCJSq5BavQ8w9fSvNqHQ7DBY",ja=vX(xX,bX),NT=M.createContext(void 0);function wX({children:t}){const[e,r]=M.useState(null),[n,a]=M.useState(null),[s,c]=M.useState(null),[u,d]=M.useState(!0),[h,p]=M.useState(null),[m,v]=M.useState(null),[b,j]=M.useState([]),w=M.useRef(!0),y=M.useRef(!1),O=(n?.role==="super_admin"||n?.role==="admin")&&!n?.tenant_id;async function E(C){if(y.current){console.log(" Perfil j carregado"),d(!1);return}console.log(" Carregando perfil para:",C.email);const P=setTimeout(()=>{w.current&&!y.current&&(console.error(" Timeout ao carregar perfil"),p("Timeout ao carregar perfil. Tente novamente."),d(!1))},1e4);try{const{data:R,error:B}=await ja.from("user_profiles").select("*, tenant:tenants(*)").eq("auth_id",C.id).maybeSingle();if(clearTimeout(P),!w.current)return;if(console.log(" Query resultado:",{data:!!R,error:B?.message}),B)throw new Error(B.message);let I=R;if(!I&&C.email){console.log(" Tentando por email...");const{data:L,error:X}=await ja.from("user_profiles").select("*, tenant:tenants(*)").eq("email",C.email).maybeSingle();if(X)throw new Error(X.message);L&&(await ja.from("user_profiles").update({auth_id:C.id}).eq("id",L.id),I=L)}if(!I)throw new Error("Perfil no encontrado. Contate o administrador.");if(console.log(" Perfil carregado:",I.name),y.current=!0,a(I),v(I.tenant||null),p(null),(I.role==="super_admin"||I.role==="admin")&&!I.tenant_id){const{data:L}=await ja.from("tenants").select("*").eq("active",!0).order("name");j(L||[])}}catch(R){clearTimeout(P),console.error(" Erro:",R.message),w.current&&p(R.message)}finally{w.current&&d(!1)}}M.useEffect(()=>{w.current=!0,console.log(" AuthProvider iniciando...");const{data:{subscription:C}}=ja.auth.onAuthStateChange(async(P,R)=>{if(console.log(" Auth event:",P),P==="SIGNED_OUT"||!R){console.log(" Logout"),r(null),a(null),c(null),v(null),j([]),y.current=!1,d(!1);return}if(P==="TOKEN_REFRESHED"){c(R);return}c(R),r(R.user),y.current?d(!1):E(R.user)});return ja.auth.getSession().then(({data:{session:P}})=>{console.log(" Sesso inicial:",P?"sim":"no"),P||d(!1)}),()=>{w.current=!1,C.unsubscribe()}},[]);async function N(C,P){p(null),d(!0),y.current=!1;const{error:R}=await ja.auth.signInWithPassword({email:C,password:P});if(R)throw p(R.message),d(!1),R}async function A(){y.current=!1,r(null),a(null),c(null),v(null),j([]),p(null),Object.keys(localStorage).forEach(C=>{(C.startsWith("sb-")||C.includes("supabase"))&&localStorage.removeItem(C)}),await ja.auth.signOut()}function _(C){if(!O)return;const P=C?b.find(R=>R.id===C):null;v(P||null)}function k(C,P){if(!n)return!1;if(n.role==="super_admin"||n.role==="admin")return!0;const R=n.permissions?.[C];return R?R[P]===!0:!1}return o.jsx(NT.Provider,{value:{user:e,profile:n,session:s,loading:u,error:h,tenant:m,availableTenants:b,signIn:N,signOut:A,switchTenant:_,isSuperAdmin:O,canManage:k},children:t})}function jc(){const t=M.useContext(NT);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function jX({tenantId:t}){const{availableTenants:e}=jc(),[r,n]=M.useState(null),[a,s]=M.useState(null),[c,u]=M.useState(!1),d=t?e.find(k=>k.id===t):null,h=k=>{s(k),setTimeout(()=>s(null),3e3)},p=d?.agent_config||{},m=p.whatsapp_provider||"waha",v=[{id:"supabase",name:"Supabase",description:"Banco de dados e autenticao",icon:fd,status:"connected",category:"essencial",configurable:!0,docsUrl:"https://supabase.com/docs"},{id:"claude",name:"Claude API",description:"Inteligncia artificial para respostas",icon:Pa,status:"connected",category:"essencial",configurable:!0,docsUrl:"https://docs.anthropic.com/"},{id:"waha",name:"WAHA",description:"WhatsApp HTTP API (self-hosted)",icon:s_,status:m==="waha"?"connected":"disconnected",category:"whatsapp",configurable:!0,docsUrl:"https://waha.devlike.pro/docs/",active:m==="waha"},{id:"zapi",name:"Z-API",description:"WhatsApp API (cloud)",icon:Vn,status:m==="zapi"?"connected":"disconnected",category:"whatsapp",configurable:!0,docsUrl:"https://developer.z-api.io/",active:m==="zapi"},{id:"calendar",name:"Google Calendar",description:"Agendamento de reunies",icon:DA,status:p.calendar_id?"connected":"disconnected",category:"comunicacao",configurable:!0,docsUrl:"https://developers.google.com/calendar"},{id:"webhook",name:"Webhooks",description:"Notificaes em tempo real",icon:e$,status:"connected",category:"comunicacao",configurable:!0},{id:"email",name:"Email (SMTP)",description:"Envio de emails automticos",icon:hd,status:"disconnected",category:"futuro",configurable:!1}];async function b(){u(!0),await new Promise(k=>setTimeout(k,1e3)),u(!1),h("Integraes verificadas!")}async function j(k){h(`${k==="waha"?"WAHA":"Z-API"} definido como ativo`)}const w=v.filter(k=>k.category==="essencial"),y=v.filter(k=>k.category==="whatsapp"),O=v.filter(k=>k.category==="comunicacao"),E=v.filter(k=>k.category==="futuro"),N=v.filter(k=>k.status==="connected").length,A=w.filter(k=>k.status==="connected").length,_=y.find(k=>k.active&&k.status==="connected");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(b0,{className:"w-6 h-6 text-[#f57f17]"}),"Integraes"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:d?`Configuraes de ${d.name}`:"Gerencie conexes com servios externos"})]}),o.jsxs("button",{onClick:b,disabled:c,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[o.jsx(zn,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Verificar Tudo"]})]}),d&&o.jsxs("div",{className:"rounded-xl border border-[#f57f17]/20 bg-[#f57f17]/5 p-4 flex items-center gap-4",children:[o.jsx("img",{src:`/logos/${d.slug}.png`,alt:d.name,className:"h-12 w-12 rounded-xl object-contain bg-white/10 p-1",onError:k=>{const C=k.target;C.style.display="none"}}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:d.name}),o.jsxs("p",{className:"text-sm text-gray-400",children:["WhatsApp via ",o.jsx("span",{className:"text-[#f57f17] font-medium",children:m.toUpperCase()})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(p0,{label:"Conectadas",value:`${N}/${v.length}`,icon:b0,color:N>=4?"emerald":"yellow"}),o.jsx(p0,{label:"Essenciais",value:`${A}/${w.length}`,icon:ln,color:A===w.length?"emerald":"red"}),o.jsx(p0,{label:"WhatsApp",value:_?_.name:"Desconectado",icon:s_,color:_?"emerald":"red"})]}),o.jsx(rd,{title:"Essenciais",desc:"Banco de dados e IA",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(k=>o.jsx(nd,{integration:k,onConfigure:()=>n(k.id)},k.id))})}),o.jsx(rd,{title:"WhatsApp Provider",desc:"Escolha qual provedor usar para este cliente",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(k=>o.jsx(nd,{integration:k,onConfigure:()=>n(k.id),isActive:k.active,onSetActive:()=>j(k.id)},k.id))})}),o.jsx(rd,{title:"Comunicao e Agendamento",desc:"Calendrio e webhooks",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.map(k=>o.jsx(nd,{integration:k,onConfigure:()=>n(k.id)},k.id))})}),o.jsx(rd,{title:"Em Breve",desc:"Planejado para futuras verses",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(k=>o.jsx(nd,{integration:k,onConfigure:()=>{},disabled:!0},k.id))})}),r&&o.jsx(_X,{integration:v.find(k=>k.id===r),tenantConfig:p,onClose:()=>n(null),onSave:()=>{n(null),h("Configuraes salvas!")}}),a&&o.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2 z-50",children:[o.jsx(kn,{className:"w-4 h-4"}),a]})]})}function p0({label:t,value:e,icon:r,color:n}){const a={emerald:"text-emerald-400",yellow:"text-yellow-400",red:"text-red-400"};return o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(r,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-xs text-gray-500",children:t})]}),o.jsx("p",{className:`text-xl font-bold ${a[n]}`,children:e})]})}function rd({title:t,desc:e,children:r}){return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-white font-bold",children:t}),o.jsx("p",{className:"text-gray-500 text-sm",children:e})]}),r]})}function nd({integration:t,onConfigure:e,disabled:r,isActive:n,onSetActive:a}){const{name:s,description:c,icon:u,status:d,configurable:h,docsUrl:p,category:m}=t,v={connected:"text-emerald-400",disconnected:"text-gray-500",error:"text-red-400",checking:"text-yellow-400"},j={connected:kn,disconnected:Zx,error:nr,checking:ut}[d],w=m==="whatsapp";return o.jsxs("div",{className:`rounded-[28px] border ${n?"border-[#f57f17]/50 bg-[#f57f17]/5":"border-white/10 bg-white/5"} p-5 ${r?"opacity-50":""}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-xl ${n?"bg-[#f57f17]/20 border-[#f57f17]/30":"bg-[#f57f17]/10 border-[#f57f17]/20"} border flex items-center justify-center`,children:o.jsx(u,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"text-white font-semibold",children:s}),n&&o.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f57f17]/20 text-[#f57f17] font-medium",children:"ATIVO"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:c})]})]}),o.jsxs("div",{className:`flex items-center gap-1 ${v[d]}`,children:[o.jsx(j,{className:`w-4 h-4 ${d==="checking"?"animate-spin":""}`}),o.jsx("span",{className:"text-xs",children:d==="connected"?"OK":d==="disconnected"?"Off":d==="error"?"Erro":"..."})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!r&&o.jsxs(o.Fragment,{children:[h&&o.jsxs("button",{onClick:e,className:"flex-1 h-9 rounded-lg bg-[#f57f17]/10 border border-[#f57f17]/20 text-xs text-[#f57f17] hover:bg-[#f57f17]/20 flex items-center justify-center gap-1",children:[o.jsx(_n,{className:"w-3 h-3"}),"Configurar"]}),w&&a&&!n&&o.jsx("button",{onClick:a,className:"h-9 px-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-xs text-emerald-400 hover:bg-emerald-500/20",children:"Usar"})]}),r&&o.jsx("div",{className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-500 flex items-center justify-center",children:"Em breve"}),p&&!r&&o.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/10 flex items-center justify-center",children:o.jsx(BA,{className:"w-3 h-3"})})]})]})}function _X({integration:t,tenantConfig:e,onClose:r,onSave:n}){const[a,s]=M.useState(!1),[c,u]=M.useState(!1),[d,h]=M.useState({});M.useEffect(()=>{t.id==="waha"&&e?.waha?h({"API URL":e.waha.url||"","Session Name":e.waha.session||""}):t.id==="zapi"&&e?.zapi&&h({"Instance ID":e.zapi.instanceId||"",Token:e.zapi.token||""})},[t.id,e]);const m={waha:[{label:"API URL",placeholder:"http://localhost:3000"},{label:"Session Name",placeholder:"default"},{label:"API Key",placeholder:"sua-api-key",secret:!0}],zapi:[{label:"Instance ID",placeholder:"sua-instance-id"},{label:"Token",placeholder:"seu-token-zapi",secret:!0},{label:"Client Token",placeholder:"seu-client-token",secret:!0}],supabase:[{label:"Project URL",placeholder:"https://xxx.supabase.co"},{label:"Anon Key",placeholder:"eyJhbG...",secret:!0}],claude:[{label:"API Key",placeholder:"sk-ant-...",secret:!0},{label:"Model",placeholder:"claude-sonnet-4-20250514"}],calendar:[{label:"Calendar ID",placeholder:"primary"}],webhook:[{label:"Endpoint URL",placeholder:"https://seu-servidor/webhook"}]}[t.id]||[];async function v(){u(!0),await new Promise(b=>setTimeout(b,800)),u(!1),n()}return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:o.jsx(t.icon,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:t.name}),o.jsx("p",{className:"text-xs text-gray-500",children:"Configuraes"})]})]}),o.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:""})]}),o.jsx("div",{className:"space-y-4",children:m.map((b,j)=>o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:b.label}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx("input",{type:b.secret&&!a?"password":"text",placeholder:b.placeholder,value:d[b.label]||"",onChange:w=>h({...d,[b.label]:w.target.value}),className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none focus:border-[#f57f17]/50"}),b.secret&&o.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:a?o.jsx(tb,{className:"w-4 h-4"}):o.jsx(bf,{className:"w-4 h-4"})})]})]},j))}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10",children:"Cancelar"}),o.jsxs("button",{onClick:v,disabled:c,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[c?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(kn,{className:"w-4 h-4"}),"Salvar"]})]}),t.docsUrl&&o.jsxs("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[o.jsx(BA,{className:"w-3 h-3"}),"Ver documentao"]})]})})}const SX={companyName:"DOCA Agncia IA",ownerName:"Douglas",email:"contato@docaia.com.br",phone:"(19) 99154-7727",address:"Limeira, SP",businessHours:{enabled:!0,start:"08:00",end:"18:00",days:["seg","ter","qua","qui","sex"]},timezone:"America/Sao_Paulo",notifyNewLead:!0,notifyUrgent:!0,notifyDaily:!1,notifyEmail:!1,language:"pt-BR",theme:"dark",autoBackup:!0,agentName:"Assistente DOCA",welcomeMessage:"Oi! Como posso ajudar?",offlineMessage:"Estamos fora do horrio. Retornaremos em breve!"},NX=[{key:"seg",label:"Seg"},{key:"ter",label:"Ter"},{key:"qua",label:"Qua"},{key:"qui",label:"Qui"},{key:"sex",label:"Sex"},{key:"sab",label:"Sb"},{key:"dom",label:"Dom"}];function kX(){const[t,e]=M.useState("perfil"),[r,n]=M.useState(SX),[a,s]=M.useState(!1),[c,u]=M.useState(null),[d,h]=M.useState(!1),p=y=>{u(y),setTimeout(()=>u(null),3e3)};async function m(){s(!0),await new Promise(y=>setTimeout(y,800)),s(!1),p("Configuraes salvas!")}function v(y,O){n(E=>({...E,[y]:O}))}function b(y,O){n(E=>({...E,businessHours:{...E.businessHours,[y]:O}}))}function j(y){const O=r.businessHours.days,E=O.includes(y)?O.filter(N=>N!==y):[...O,y];b("days",E)}const w=[{key:"perfil",label:"Perfil",icon:jn},{key:"horario",label:"Horrio",icon:Ca},{key:"notificacoes",label:"Notificaes",icon:g0},{key:"sistema",label:"Sistema",icon:_n},{key:"agente",label:"Agente",icon:ld},{key:"dados",label:"Dados",icon:fd}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(_n,{className:"w-6 h-6 text-[#f57f17]"}),"Configuraes"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize o sistema conforme suas necessidades"})]}),o.jsxs("button",{onClick:m,disabled:a,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[a?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar Tudo"]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(y=>o.jsxs("button",{onClick:()=>e(y.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium whitespace-nowrap transition ${t===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[o.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))}),t==="perfil"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Empresa",icon:jn,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(us,{label:"Nome da Empresa",value:r.companyName,onChange:y=>v("companyName",y),icon:jn}),o.jsx(us,{label:"Responsvel",value:r.ownerName,onChange:y=>v("ownerName",y),icon:ld}),o.jsx(us,{label:"Endereo",value:r.address,onChange:y=>v("address",y),icon:UA})]})}),o.jsx(br,{title:"Contato",icon:Vn,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(us,{label:"Email",value:r.email,onChange:y=>v("email",y),icon:hd,type:"email"}),o.jsx(us,{label:"Telefone",value:r.phone,onChange:y=>v("phone",y),icon:Vn})]})})]}),t==="horario"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Horrio de Funcionamento",icon:Ca,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(ds,{label:"Respeitar horrio comercial",desc:"Fora do horrio, envia mensagem de ausncia",value:r.businessHours.enabled,onChange:y=>b("enabled",y)}),r.businessHours.enabled&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Incio"}),o.jsx("input",{type:"time",value:r.businessHours.start,onChange:y=>b("start",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Fim"}),o.jsx("input",{type:"time",value:r.businessHours.end,onChange:y=>b("end",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Dias de funcionamento"}),o.jsx("div",{className:"flex gap-2 mt-2",children:NX.map(y=>o.jsx("button",{onClick:()=>j(y.key),className:`h-10 w-10 rounded-lg text-xs font-medium transition ${r.businessHours.days.includes(y.key)?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-500"}`,children:y.label},y.key))})]})]})]})}),o.jsx(br,{title:"Fuso Horrio",icon:BM,children:o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Timezone"}),o.jsxs("select",{value:r.timezone,onChange:y=>v("timezone",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[o.jsx("option",{value:"America/Sao_Paulo",className:"bg-black",children:"So Paulo (GMT-3)"}),o.jsx("option",{value:"America/Manaus",className:"bg-black",children:"Manaus (GMT-4)"}),o.jsx("option",{value:"America/Fortaleza",className:"bg-black",children:"Fortaleza (GMT-3)"}),o.jsx("option",{value:"America/Recife",className:"bg-black",children:"Recife (GMT-3)"})]})]})})]}),t==="notificacoes"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Alertas no Sistema",icon:g0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(ds,{label:"Novo lead",desc:"Notificar quando chegar um lead novo",value:r.notifyNewLead,onChange:y=>v("notifyNewLead",y)}),o.jsx(ds,{label:"Leads urgentes",desc:"Notificar leads com urgncia alta/crtica",value:r.notifyUrgent,onChange:y=>v("notifyUrgent",y)}),o.jsx(ds,{label:"Resumo dirio",desc:"Receber resumo do dia s 18h",value:r.notifyDaily,onChange:y=>v("notifyDaily",y)})]})}),o.jsx(br,{title:"Notificaes Externas",icon:hd,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(ds,{label:"Email",desc:"Enviar cpia das notificaes por email",value:r.notifyEmail,onChange:y=>v("notifyEmail",y)}),o.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Email de notificao"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r.email})]})]})})]}),t==="sistema"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Aparncia",icon:VM,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Tema"}),o.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[{key:"dark",label:"Escuro",icon:HM},{key:"light",label:"Claro",icon:XM},{key:"auto",label:"Auto",icon:_n}].map(y=>o.jsxs("button",{onClick:()=>v("theme",y.key),className:`h-12 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${r.theme===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[o.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Idioma"}),o.jsxs("select",{value:r.language,onChange:y=>v("language",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[o.jsx("option",{value:"pt-BR",className:"bg-black",children:"Portugus (Brasil)"}),o.jsx("option",{value:"en-US",className:"bg-black",children:"English (US)"}),o.jsx("option",{value:"es",className:"bg-black",children:"Espaol"})]})]})]})}),o.jsx(br,{title:"Segurana",icon:VA,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"API Key do Sistema"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:d?"text":"password",value:"doca_sk_live_xxxxxxxxxxxxxxxx",readOnly:!0,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-400 outline-none"}),o.jsx("button",{onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d?o.jsx(tb,{className:"w-4 h-4"}):o.jsx(bf,{className:"w-4 h-4"})})]}),o.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:o.jsx(xf,{className:"w-4 h-4"})}),o.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:o.jsx(zn,{className:"w-4 h-4"})})]})]})})})]}),t==="agente"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Identidade do Agente",icon:ld,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(us,{label:"Nome do Agente",value:r.agentName,onChange:y=>v("agentName",y),placeholder:"Ex: Assistente DOCA"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem de Boas-vindas"}),o.jsx("textarea",{value:r.welcomeMessage,onChange:y=>v("welcomeMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem inicial do agente..."})]})]})}),o.jsx(br,{title:"Mensagens Automticas",icon:Ca,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem Fora do Horrio"}),o.jsx("textarea",{value:r.offlineMessage,onChange:y=>v("offlineMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem quando estiver offline..."})]})})})]}),t==="dados"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(br,{title:"Backup",icon:fd,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(ds,{label:"Backup automtico",desc:"Salvar dados automaticamente todo dia s 3h",value:r.autoBackup,onChange:y=>v("autoBackup",y)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[o.jsx(eb,{className:"w-4 h-4"}),"Exportar Dados"]}),o.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[o.jsx(w0,{className:"w-4 h-4"}),"Importar Dados"]})]})]})}),o.jsx(br,{title:"Zona de Perigo",icon:nr,danger:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:o.jsxs("p",{className:"text-red-300 text-sm flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4"}),"Aes irreversveis"]})}),o.jsxs("button",{className:"w-full h-11 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400 hover:bg-red-500/20 flex items-center justify-center gap-2",children:[o.jsx(Ps,{className:"w-4 h-4"}),"Limpar Todos os Dados"]})]})}),o.jsx(br,{title:"Sobre",icon:UM,className:"lg:col-span-2",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ad,{label:"Verso",value:"2.0.0"}),o.jsx(ad,{label:"Build",value:"2025.01.13"}),o.jsx(ad,{label:"Ambiente",value:"Produo"}),o.jsx(ad,{label:"Uptime",value:"99.9%"})]})})]}),c&&o.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[o.jsx(kn,{className:"w-4 h-4"}),c]})]})}function br({title:t,icon:e,children:r,className:n,danger:a}){return o.jsxs("div",{className:`rounded-[28px] border ${a?"border-red-500/20 bg-red-500/5":"border-white/10 bg-white/5"} p-6 ${n||""}`,children:[o.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-2 ${a?"text-red-400":"text-white"}`,children:[o.jsx(e,{className:`w-5 h-5 ${a?"text-red-400":"text-[#f57f17]"}`}),t]}),r]})}function us({label:t,value:e,onChange:r,icon:n,type:a,placeholder:s}){return o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:t}),o.jsxs("div",{className:"relative mt-1",children:[n&&o.jsx(n,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),o.jsx("input",{type:a||"text",value:e,onChange:c=>r(c.target.value),placeholder:s,className:`w-full h-11 ${n?"pl-11":"pl-4"} pr-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none`})]})]})}function ds({label:t,desc:e,value:r,onChange:n}){return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:t}),o.jsx("p",{className:"text-xs text-gray-500",children:e})]}),o.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:o.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function ad({label:t,value:e}){return o.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500",children:t}),o.jsx("p",{className:"text-white font-semibold mt-1",children:e})]})}function OX(t){if(!t)return"";const e=Date.now()-new Date(t).getTime(),r=Math.max(0,Math.floor(e/6e4));if(r<60)return`${r}m`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`}function ol(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function AA(t){return{pronto:"Pronto",empolgado:"Empolgado",curioso:"Curioso",sensvel_preo:"Preo",ctico:"Ctico",frustrado:"Frustrado"}[t||""]||t||""}function id(t,e,r){const n=t?.name||e?.name||"a",a=(t?.stage||e?.current_emotion||"curioso").toLowerCase(),s=t?.urgency_level||"normal",c=s==="high"||s==="critical",u=[`Oi ${n}!`,`Fala ${n}!`,`Ol ${n}!`,`E a ${n}!`],d=u[Math.floor(Math.random()*u.length)],h=[];return a.includes("pronto")||a.includes("ready")?(h.push({id:"fu-1",title:"Fechamento direto",goal:"Encaminhar contrato/pagamento",timing:"Agora",confidence:.92,stage:"fechamento",text:`${d} Perfeito! Pra fechar hoje, preciso de: 1) plano (mensal/anual) e 2) CNPJ ou CPF pro contrato. Te mando o link assim que confirmar.`}),h.push({id:"fu-2",title:"Onboarding rpido",goal:"Reduzir atrito ps-venda",timing:"Aps pagamento",confidence:.85,stage:"fechamento",text:`${d} Assim que confirmar, j te mando o checklist do onboarding (leva 15min) e ativamos a IA com seu tom de voz.`})):a.includes("ctico")||a.includes("skept")?(h.push({id:"fu-1",title:"Prova social + teste",goal:"Gerar confiana",timing:c?"Agora":"Em 4h",confidence:.88,stage:"objees",text:`${d} Totalmente justo ser p no cho. Pra no ficar no "achismo", te mostro 2 cases reais e fazemos um teste assistido. Qual seu maior receio: ficar robtico, errar info ou no converter?`}),h.push({id:"fu-2",title:"Demo rpida",goal:"Mostrar tom humano na prtica",timing:"Em 1 dia",confidence:.78,stage:"objees",text:`${d} Se topar, fao uma demo em 10min com um exemplo real seu (uma objeo comum do seu cliente) e voc v funcionando.`})):a.includes("preo")||a.includes("price")?(h.push({id:"fu-1",title:"Ancorar ROI",goal:"Converter objeo de preo em valor",timing:c?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Vi que voc est comparando preo. Pra ficar justo: com seu volume, a DOCA normalmente reduz tempo de resposta e aumenta converso. Quantos leads/ms e quantos atendentes hoje? Simulo o ROI rapidinho.`}),h.push({id:"fu-2",title:"2 opes de pagamento",goal:"Dar escolha e remover atrito",timing:"Em 1 dia",confidence:.8,stage:"valor",text:`${d} Pra facilitar: 1) mensal (flexvel) e 2) anual (com desconto). Quer que eu mande as duas opes?`})):a.includes("frustr")?h.push({id:"fu-1",title:"Reparao + prioridade",goal:"Desarmar tenso",timing:"Agora",confidence:.9,stage:"objees",text:`${d} Voc tem razo, isso no  experincia aceitvel. Vou priorizar seu caso agora. Me diz em 1 frase o que precisa resolver primeiro.`}):(h.push({id:"fu-1",title:"Qualificao rpida",goal:"Entender contexto",timing:c?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Pra te orientar certo: 1) qual seu tipo de negcio? 2) quantos leads/ms? 3) qual seu maior gargalo hoje?`}),h.push({id:"fu-2",title:"Agendamento",goal:"Mover para call",timing:"Em 1 dia",confidence:.75,stage:"fechamento",text:`${d} Se preferir, a gente resolve em uma call curta. Voc prefere s 09:30 ou 10:00?`})),h.push({id:"fu-nurt",title:"Reativao leve",goal:"Retomar contato",timing:"Em 2 dias",confidence:.72,stage:"nutrio",text:"Oi! Passando rapidinho pra saber se ficou alguma dvida. Se fizer sentido, te mando os prximos passos em 1 minuto."}),h}function EX(t){const e=co(),r=M.useMemo(()=>e?uo():null,[e]),n=t.tenantId,[a,s]=M.useState([]),[c,u]=M.useState([]),[d,h]=M.useState([]),[p,m]=M.useState(null),[v,b]=M.useState([]),[j,w]=M.useState(!0),[y,O]=M.useState(""),[E,N]=M.useState(null),[A,_]=M.useState(null),[k,C]=M.useState(!1),P=M.useMemo(()=>{if(!p)return null;const q=(p.phone||"").replace("@c.us","");return c.find(z=>z.phone.replace("@c.us","")===q||z.id===p.lead_id)||null},[p,c]);async function R(){w(!0);try{if(e&&r){s(r.conversations||[]),u(r.leads||[]);const se=r.conversations?.[0]||null;if(m(se),se){const ie=(r.messages||[]).filter(he=>he.conversation_id===se.id);h(ie),b(id(null,se,ie))}w(!1);return}const q=n?`/api/conversations?limit=100&tenant_id=${n}`:"/api/conversations?limit=100",K=(await(await fetch(q)).json()||[]).map(se=>({id:se.id,lead_id:se.lead_id,phone:se.phone||se.chat_id||"",name:se.name,status:se.status,updated_at:se.updated_at,created_at:se.created_at,last_message:se.last_message,current_emotion:se.current_emotion,temperature:se.temperature,tags:se.tags||[]}));s(K);const W=n?`/api/leads?limit=200&tenant_id=${n}`:"/api/leads?limit=200",U=(await(await fetch(W)).json()||[]).map(se=>({id:se.id,phone:(se.phone||"").replace("@c.us",""),name:se.name,health_score:se.health_score??se.score??50,stage:se.stage??"curioso",urgency_level:se.urgency_level??"normal",conversion_probability:se.conversion_probability??.4,tags:se.tags||[],updated_at:se.updated_at}));u(U);const ae=K[0]||null;m(ae),ae&&await B(ae),w(!1)}catch(q){console.error(q),w(!1)}}async function B(q){m(q),h([]),b([]);try{if(e&&r){const J=(r.messages||[]).filter(U=>U.conversation_id===q.id);h(J);const $=c.find(U=>U.id===q.lead_id)||null;b(id($,q,J));return}const K=(await(await fetch(`/api/messages?conversation_id=${encodeURIComponent(q.id)}&limit=50`)).json()||[]).map(J=>({id:J.id,conversation_id:J.conversation_id,from:J.role==="user"?"lead":J.role==="assistant"?"agent":J.from||"lead",text:J.content||J.text||"",created_at:J.timestamp||J.created_at||new Date().toISOString()}));h(K);const W=c.find(J=>J.phone.replace("@c.us","")===(q.phone||"").replace("@c.us",""))||null;b(id(W,q,K))}catch(z){console.error(z)}}M.useEffect(()=>{R()},[n]);const I=M.useMemo(()=>{const q=a.filter(ee=>{const K=(ee.phone||"").toLowerCase(),W=(ee.name||"").toLowerCase();return!(K.includes("@broadcast")||K.includes("@lid")||K.includes("@g.us")||K.includes("status@broadcast")||K.includes("landing:")||W.includes("landing:")||K.includes("sess_")||W.includes("sess_")||!K||K.length<8||K.replace(/\D/g,"").length<8)}),z=y.trim().toLowerCase();return z?q.filter(ee=>(ee.name||"").toLowerCase().includes(z)||(ee.phone||"").toLowerCase().includes(z)||(ee.last_message||"").toLowerCase().includes(z)):q},[a,y]);async function F(q,z){try{await navigator.clipboard.writeText(q),N(z),setTimeout(()=>N(null),1500)}catch{N(z),setTimeout(()=>N(null),1500)}}function L(q){P&&_({lead:P,message:q.text})}async function X(){if(A){C(!0);try{t.onSendFollowUp?t.onSendFollowUp(A.lead,A.message):await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:A.lead.phone,message:A.message})}),_(null)}catch(q){console.error(q)}finally{C(!1)}}}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(n_,{className:"w-6 h-6 text-[#f57f17]"}),"Anlise IA"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Follow-ups inteligentes baseados em estgio, emoo e urgncia"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-semibold flex items-center gap-1.5",children:[o.jsx(ir,{className:"w-3.5 h-3.5"}),"IA Ativa"]}),o.jsxs("button",{onClick:R,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[o.jsx(zn,{className:"w-4 h-4"}),"Atualizar"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-white/10 flex items-center justify-between gap-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sr,{className:"w-4 h-4 text-[#f57f17]"}),o.jsx("span",{className:"text-white font-semibold",children:"Conversas"}),o.jsx("span",{className:"text-xs text-gray-500",children:I.length})]})}),o.jsx("div",{className:"p-3 border-b border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jn,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),o.jsx("input",{value:y,onChange:q=>O(q.target.value),placeholder:"Buscar...",className:"w-full h-9 rounded-xl bg-black/30 border border-white/10 pl-9 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:border-[#f57f17]/50"})]})}),o.jsx("div",{className:"max-h-[520px] overflow-auto",children:j?o.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Carregando..."}):I.length===0?o.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Nenhuma conversa"}):o.jsx("div",{className:"divide-y divide-white/5",children:I.map(q=>{const z=p?.id===q.id,ee=c.find($=>$.id===q.lead_id||$.phone.replace("@c.us","")===(q.phone||"").replace("@c.us","")),K=ee?.health_score||50,W=q.name||ee?.name||null,J=ol((q.phone||"").replace("@c.us",""));return o.jsx("button",{onClick:()=>B(q),className:`w-full text-left px-4 py-3 transition-all ${z?"bg-[#f57f17]/10":"hover:bg-white/5"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0 ${K>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":K>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"}`,children:K}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-white font-medium truncate",children:W||J}),o.jsx("span",{className:"text-[10px] text-gray-600",children:OX(q.updated_at)})]}),W&&o.jsx("p",{className:"text-[11px] text-gray-500",children:J}),o.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:q.last_message||""}),o.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-gray-400",children:AA(ee?.stage)}),ee?.urgency_level==="high"||ee?.urgency_level==="critical"?o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300",children:"Urgente"}):null]})]})]})},q.id)})})})]}),o.jsx("div",{className:"xl:col-span-8 space-y-6",children:p?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-5",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`h-14 w-14 rounded-2xl border-2 flex items-center justify-center text-xl font-bold ${(P?.health_score||50)>=70?"bg-emerald-500/20 border-emerald-500 text-emerald-300":(P?.health_score||50)>=40?"bg-yellow-500/20 border-yellow-500 text-yellow-300":"bg-red-500/20 border-red-500 text-red-300"}`,children:P?.health_score||50}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:p.name||P?.name||ol(p.phone||"")}),o.jsx("p",{className:"text-gray-500 text-sm",children:ol(p.phone||"")})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Estgio"}),o.jsx("p",{className:"text-white font-semibold",children:AA(P?.stage)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Converso"}),o.jsxs("p",{className:"text-emerald-400 font-semibold",children:[Math.round((P?.conversion_probability||.4)*100),"%"]})]}),P&&o.jsxs("button",{onClick:()=>t.onOpenConversation?.(P),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm text-white flex items-center gap-2",children:[o.jsx(sr,{className:"w-4 h-4"}),"Abrir chat"]})]})]}),o.jsxs("div",{className:"mt-4 rounded-xl bg-black/20 border border-white/5 p-3 max-h-[140px] overflow-auto",children:[d.slice(-6).map(q=>o.jsxs("div",{className:`text-sm mb-2 px-3 py-2 rounded-xl ${q.from==="lead"?"bg-white/5 text-gray-300":"bg-[#f57f17]/10 text-white"}`,children:[o.jsx("span",{className:"text-[10px] text-gray-500 mr-2",children:q.from==="lead"?"Cliente":"Bot"}),q.text.slice(0,150),q.text.length>150?"...":""]},q.id)),d.length===0&&o.jsx("p",{className:"text-gray-600 text-sm",children:"Sem mensagens"})]})]}),o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[o.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gd,{className:"w-5 h-5 text-[#f57f17]"}),o.jsx("span",{className:"text-white font-bold",children:"Follow-ups Sugeridos"})]}),o.jsxs("button",{onClick:()=>b(id(P,p)),className:"h-9 px-3 rounded-xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs font-semibold text-[#f57f17] flex items-center gap-1.5",children:[o.jsx(zn,{className:"w-3.5 h-3.5"}),"Regenerar"]})]}),o.jsxs("div",{className:"p-5 space-y-3",children:[v.map(q=>o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/20 transition",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-white font-semibold",children:q.title}),o.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${q.confidence>=.85?"bg-emerald-500/20 text-emerald-300":q.confidence>=.75?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-400"}`,children:[Math.round(q.confidence*100),"%"]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.goal})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx(Ca,{className:"w-3.5 h-3.5"}),q.timing]})]}),o.jsx("div",{className:"rounded-xl bg-black/30 border border-white/5 p-3 mb-3",children:o.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:q.text})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-white/5 text-gray-500",children:q.stage}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>F(q.text,q.id),className:"h-8 px-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",title:"Copiar mensagem",children:[o.jsx(xf,{className:"w-3.5 h-3.5"}),E===q.id?"Copiado!":""]}),o.jsxs("button",{onClick:()=>L(q),disabled:!P,className:"h-8 px-4 rounded-lg bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-xs font-semibold text-white flex items-center gap-1.5",children:[o.jsx(js,{className:"w-3.5 h-3.5"}),"Enviar"]})]})]})]},q.id)),v.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-8",children:'Nenhum follow-up gerado. Clique em "Regenerar".'})]})]})]}):o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-12 text-center",children:[o.jsx(n_,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Selecione uma conversa para anlise"})]})})]}),A&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[o.jsx(js,{className:"w-5 h-5 text-[#f57f17]"}),"Confirmar Envio"]}),o.jsx("button",{onClick:()=>_(null),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(cn,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Para"}),o.jsx("p",{className:"text-white font-medium",children:A.lead.name||ol(A.lead.phone)}),o.jsx("p",{className:"text-gray-500 text-sm",children:ol(A.lead.phone)})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Mensagem"}),o.jsx("div",{className:"rounded-xl bg-black/40 border border-white/10 p-4 max-h-[200px] overflow-auto",children:o.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:A.message})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>_(null),className:"flex-1 h-11 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:X,disabled:k,className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center justify-center gap-2",children:k?o.jsxs(o.Fragment,{children:[o.jsx(zn,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(js,{className:"w-4 h-4"}),"Enviar Agora"]})})]})]})})]})}const AX=[{key:"default",label:"Padro DOCA",hint:"Geral / multi-negcio"},{key:"clinic",label:"Clnica",hint:"Sade / esttica / procedimentos"},{key:"realestate",label:"Imobiliria",hint:"Compra / venda / locao"},{key:"aesthetics",label:"Esttica",hint:"Studio / beleza / tratamentos"},{key:"law",label:"Advocacia",hint:"Consultoria / casos / contratos"},{key:"ecommerce",label:"E-commerce",hint:"Loja online / carrinho / ofertas"}];function PX(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}function CX(){const[t,e]=M.useState(""),[r,n]=M.useState("clinic"),[a,s]=M.useState("So Paulo"),[c,u]=M.useState(""),[d,h]=M.useState(""),[p,m]=M.useState(""),[v,b]=M.useState(""),[j,w]=M.useState("preo, confiana"),[y,O]=M.useState(120),[E,N]=M.useState(60),[A,_]=M.useState(null),[k,C]=M.useState(!1),P=M.useMemo(()=>JH(),[A]);function R(){const L=PX(t||"cliente"),X=new Date,q=X.getFullYear(),z=String(X.getMonth()+1).padStart(2,"0"),ee=String(X.getDate()).padStart(2,"0"),K=String(X.getHours()).padStart(2,"0"),W=String(X.getMinutes()).padStart(2,"0");return`${L}-${r}-${q}${z}${ee}-${K}${W}`.slice(0,80)}function B(){const L=R(),X=YH({key:L,niche:r,businessName:t||"Cliente",city:a,instagram:c,website:d,offer:p,mainPain:v,objections:j,leadsPerMonth:Number(y||0),conversationsCount:Number(E||0)});_(X.key)}async function I(){if(A)try{await navigator.clipboard.writeText(A),C(!0),setTimeout(()=>C(!1),1200)}catch{C(!1)}}function F(L){confirm(`Remover demo gerada "${L.label}" (${L.key})?`)&&(QH(L.key),_(q=>q===L.key?null:q))}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(gd,{className:"w-6 h-6 text-[#f57f17]"}),"Demo Generator"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gere demos completas para o DEV (conversas, leads, mensagens e stats) e faa elas aparecerem no dropdown automaticamente."})]}),A&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200",children:["ltima demo:"," ",o.jsx("span",{className:"text-white font-semibold",children:A})]}),o.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Copiar key",children:[k?o.jsx(As,{className:"w-4 h-4 text-emerald-400"}):o.jsx(xf,{className:"w-4 h-4 text-[#f57f17]"}),k?"Copiado":"Copiar key"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"Dados do cliente"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha o bsico. O gerador cria uma base realista e coerente."})]}),o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[o.jsx(ir,{className:"w-4 h-4"}),"DEV-only"]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yn,{label:"Nome do negcio",children:o.jsx("input",{value:t,onChange:L=>e(L.target.value),placeholder:"Ex: Clnica Capilar Lux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Nicho",children:o.jsx("select",{value:r,onChange:L=>n(L.target.value),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent",children:AX.map(L=>o.jsxs("option",{value:L.key,children:[L.label,"  ",L.hint]},L.key))})}),o.jsx(yn,{label:"Cidade",children:o.jsx("input",{value:a,onChange:L=>s(L.target.value),placeholder:"Ex: So Paulo",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Instagram (opcional)",children:o.jsx("input",{value:c,onChange:L=>u(L.target.value),placeholder:"Ex: @clinicacapilarlux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Site / LP (opcional)",children:o.jsx("input",{value:d,onChange:L=>h(L.target.value),placeholder:"Ex: https://site.com",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Oferta (opcional)",children:o.jsx("input",{value:p,onChange:L=>m(L.target.value),placeholder:"Ex: Avaliao grtis + plano de tratamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Dor principal (opcional)",full:!0,children:o.jsx("input",{value:v,onChange:L=>b(L.target.value),placeholder:"Ex: queda de cabelo + autoestima",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"Objees comuns (separe por vrgula)",full:!0,children:o.jsx("input",{value:j,onChange:L=>w(L.target.value),placeholder:"Ex: preo, confiana, tempo, parcelamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yn,{label:"Leads/ms (aprox.)",children:o.jsx("input",{type:"number",value:y,onChange:L=>O(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),o.jsx(yn,{label:"N de conversas (mock)",children:o.jsx("input",{type:"number",value:E,onChange:L=>N(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),o.jsxs("div",{className:"mt-7 flex items-center gap-3 flex-wrap",children:[o.jsxs("button",{onClick:B,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[o.jsx(gd,{className:"w-4 h-4 text-[#f57f17]"}),o.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Gerar demo"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"*Isso salva no localStorage do navegador (DEV). Depois a gente pluga no Supabase.*"})]})]}),o.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Demos geradas"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Essas aparecem no dropdown do DEV automaticamente."})]}),o.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:P.length})]}),o.jsx("div",{className:"mt-6 space-y-3",children:P.length===0?o.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma demo gerada ainda. Crie a primeira usando o formulrio."}):P.map(L=>o.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:L.label}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["key: ",o.jsx("span",{className:"text-gray-300 font-semibold",children:L.key})]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["niche: ",o.jsx("span",{className:"text-gray-400",children:L.niche})," "," ",o.jsx("span",{className:"text-gray-500",children:new Date(L.createdAt).toLocaleString("pt-BR")})]})]}),o.jsx("button",{onClick:()=>F(L),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Excluir demo",children:o.jsx(Ps,{className:"w-4 h-4 text-red-300"})})]})},L.key))}),o.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Dica: pra abrir uma demo gerada, selecione ela no dropdown do topo e recarregue a pgina (ou o sistema recarrega sozinho se voc j estiver em modo demo)."})]})]})]})}function yn({label:t,children:e,full:r}){return o.jsxs("div",{className:r?"md:col-span-2":"",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:t}),e]})}const Xx={enabled:!0,personality:"friendly",responseSpeed:"human",maxBubbles:2,maxEmojisPerBubble:1,useEmojis:!1,delayBase:450,delayPerChar:18,delayCap:1750,stageBehavior:{cold:{maxBubbles:2,requireQuestion:!0,ctaLevel:"soft"},warm:{maxBubbles:2,requireQuestion:!0,ctaLevel:"medium"},hot:{maxBubbles:2,requireQuestion:!1,ctaLevel:"hard"}},emotionMultipliers:{anxious:.6,skeptical:1.15,frustrated:1,excited:.9,price_sensitive:1.08,ready:.92,curious:1},escalateOnFrustration:!0,templates:{primeiro_contato:{bubble1:"Oi! Prazer, sou da DOCA.",bubble2:"Me conta: voc busca melhorar marketing, vendas ou operao?"},cliente_bravo:{bubble1:"Entendi. Sinto muito por isso.",bubble2:"Me diz o que aconteceu que eu resolvo pra voc agora."},orcamento:{bubble1:"Consigo sim! Pra eu te passar certinho:",bubble2:" pra voc ou pra equipe? E qual objetivo principal?"},agendamento:{bubble1:"Perfeito! Vamos marcar.",bubble2:"Qual melhor dia e horrio pra voc?"}}};function TX(){return"/api".replace(/\/$/,"")}const Yx=TX();async function MX(t){try{const e=t?`${Yx}/settings?key=agent_studio_config&tenant_id=${t}`:`${Yx}/settings?key=agent_studio_config`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();return n?.value?{...Xx,...n.value}:null}catch{return null}}async function $X(t,e){try{return(await fetch(`${Yx}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_studio_config",value:t,tenant_id:e})})).ok}catch{return!1}}function RX({tenantId:t}){const[e,r]=M.useState("basico"),[n,a]=M.useState(Xx),[s,c]=M.useState(Xx),[u,d]=M.useState(!0),[h,p]=M.useState(!1),[m,v]=M.useState(null),[b,j]=M.useState("warm"),[w,y]=M.useState("curious"),[O,E]=M.useState([]),[N,A]=M.useState(""),[_,k]=M.useState(!1),C=M.useRef(null);M.useEffect(()=>{MX(t).then($=>{$&&(a($),c($)),d(!1)})},[t]),M.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[O]);const P=M.useMemo(()=>JSON.stringify(n)!==JSON.stringify(s),[n,s]),R=($,U)=>{v({type:$,text:U}),setTimeout(()=>v(null),3e3)};async function B(){p(!0);const $=await $X(n,t);p(!1),$?(c(n),R("success","Configuraes salvas!")):R("error","Erro ao salvar")}function I(){a(s),R("success","Alteraes descartadas")}function F($,U){a(ae=>({...ae,[$]:U}))}function L($,U){a(ae=>({...ae,stageBehavior:{...ae.stageBehavior,[$]:U}}))}function X($,U){a(ae=>({...ae,emotionMultipliers:{...ae.emotionMultipliers,[$]:U}}))}function q($,U,ae){a(se=>({...se,templates:{...se.templates,[$]:{...se.templates[$],[U]:ae}}}))}function z($){const U=n.emotionMultipliers[w];return Math.min(Math.round((n.delayBase+n.delayPerChar*$.length)*U),n.delayCap)}function ee($){const U=$.toLowerCase();return U.includes("preo")||U.includes("valor")||U.includes("quanto custa")?"orcamento":U.includes("agendar")||U.includes("marcar")||U.includes("reunio")?"agendamento":U.includes("problema")||U.includes("no funciona")||U.includes("erro")?"cliente_bravo":"primeiro_contato"}async function K(){if(!N.trim()||_)return;const $=N.trim();A(""),E(he=>[...he,{role:"user",text:$}]),k(!0);const U=ee($),ae=n.templates[U],se=n.stageBehavior[b],ie=z(ae.bubble1);if(await new Promise(he=>setTimeout(he,ie)),E(he=>[...he,{role:"agent",text:ae.bubble1,delay:ie}]),se.maxBubbles>=2&&ae.bubble2){const he=z(ae.bubble2);await new Promise(ge=>setTimeout(ge,he));let ke=ae.bubble2;se.requireQuestion&&!ke.includes("?")&&(ke+={soft:" Me conta mais?",medium:" Quer ver um exemplo?",hard:" Bora marcar?"}[se.ctaLevel]),E(ge=>[...ge,{role:"agent",text:ke,delay:he}])}k(!1)}const W=M.useMemo(()=>Math.round(Math.min(n.delayBase*n.emotionMultipliers[w],n.delayCap)),[n,w]),J=[{key:"basico",label:"Bsico",icon:_n},{key:"estagio",label:"Por Estgio",icon:i_},{key:"emocao",label:"Por Emoo",icon:Pa},{key:"templates",label:"Templates",icon:_i},{key:"preview",label:"Preview",icon:l_}];return u?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx(ut,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(v0,{className:"w-6 h-6 text-[#f57f17]"}),"Agent Studio"]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento do agente IA"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:I,disabled:!P||h,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 flex items-center gap-2 disabled:opacity-50",children:[o.jsx(HA,{className:"w-4 h-4"}),"Descartar"]}),o.jsxs("button",{onClick:B,disabled:!P||h,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2 disabled:opacity-50",children:[h?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar"]})]})]}),o.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between ${n.enabled?"bg-emerald-500/10 border border-emerald-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${n.enabled?"bg-emerald-500/20":"bg-red-500/20"}`,children:o.jsx(zA,{className:`w-5 h-5 ${n.enabled?"text-emerald-400":"text-red-400"}`})}),o.jsxs("div",{children:[o.jsxs("p",{className:`font-semibold ${n.enabled?"text-emerald-300":"text-red-300"}`,children:["Agente ",n.enabled?"Ativo":"Desativado"]}),o.jsx("p",{className:"text-xs text-gray-500",children:n.enabled?"Respondendo automaticamente":"Apenas humanos respondem"})]})]}),o.jsx("button",{onClick:()=>F("enabled",!n.enabled),className:`h-10 px-4 rounded-xl text-sm font-medium transition ${n.enabled?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:n.enabled?"Desativar":"Ativar"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:J.map($=>o.jsxs("button",{onClick:()=>r($.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===$.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[o.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.key))}),e==="basico"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(_a,{title:"Personalidade",icon:v0,children:o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(fs,{selected:n.personality==="formal",onClick:()=>F("personality","formal"),title:"Formal",desc:"Corporativo"}),o.jsx(fs,{selected:n.personality==="casual",onClick:()=>F("personality","casual"),title:"Casual",desc:"Descontrado"}),o.jsx(fs,{selected:n.personality==="friendly",onClick:()=>F("personality","friendly"),title:"Amigvel",desc:"Acolhedor"})]})}),o.jsx(_a,{title:"Velocidade",icon:YM,children:o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(fs,{selected:n.responseSpeed==="fast",onClick:()=>F("responseSpeed","fast"),title:"Rpido",desc:"< 1s"}),o.jsx(fs,{selected:n.responseSpeed==="normal",onClick:()=>F("responseSpeed","normal"),title:"Normal",desc:"1-2s"}),o.jsx(fs,{selected:n.responseSpeed==="human",onClick:()=>F("responseSpeed","human"),title:"Humano",desc:"2-4s"})]})}),o.jsx(_a,{title:"Limites",icon:sr,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(vs,{label:"Mx. bolhas",value:n.maxBubbles,min:1,max:4,onChange:$=>F("maxBubbles",$)}),o.jsx(Jx,{label:"Usar emojis",desc:"Nas respostas",value:n.useEmojis,onChange:$=>F("useEmojis",$)}),n.useEmojis&&o.jsx(vs,{label:"Mx. emojis",value:n.maxEmojisPerBubble,min:0,max:3,onChange:$=>F("maxEmojisPerBubble",$)})]})}),o.jsx(_a,{title:"Delay",icon:Ca,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(vs,{label:"Base (ms)",value:n.delayBase,min:100,max:1e3,onChange:$=>F("delayBase",$)}),o.jsx(vs,{label:"Por char (ms)",value:n.delayPerChar,min:5,max:50,onChange:$=>F("delayPerChar",$)}),o.jsx(vs,{label:"Mximo (ms)",value:n.delayCap,min:500,max:5e3,onChange:$=>F("delayCap",$)})]})})]}),e==="estagio"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ir,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold",children:"Comportamento por Temperatura"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure o agente em cada fase do funil."})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(m0,{stage:"cold",icon:c_,color:"blue",title:"Frio",desc:"Primeiro contato",behavior:n.stageBehavior.cold,onChange:$=>L("cold",$)}),o.jsx(m0,{stage:"warm",icon:md,color:"yellow",title:"Morno",desc:"Engajado",behavior:n.stageBehavior.warm,onChange:$=>L("warm",$)}),o.jsx(m0,{stage:"hot",icon:an,color:"orange",title:"Quente",desc:"Pronto",behavior:n.stageBehavior.hot,onChange:$=>L("hot",$)})]})]}),e==="emocao"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Pa,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold",children:"Multiplicadores de Emoo"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ajuste o tempo baseado na emoo."})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(oi,{emotion:"anxious",icon:nr,label:"Ansioso",desc:"Urgente",value:n.emotionMultipliers.anxious,onChange:$=>X("anxious",$)}),o.jsx(oi,{emotion:"skeptical",icon:LA,label:"Ctico",desc:"Desconfiado",value:n.emotionMultipliers.skeptical,onChange:$=>X("skeptical",$)}),o.jsx(oi,{emotion:"frustrated",icon:qA,label:"Frustrado",desc:"Irritado",value:n.emotionMultipliers.frustrated,onChange:$=>X("frustrated",$)}),o.jsx(oi,{emotion:"excited",icon:GM,label:"Empolgado",desc:"Animado",value:n.emotionMultipliers.excited,onChange:$=>X("excited",$)}),o.jsx(oi,{emotion:"price_sensitive",icon:Zs,label:"Sensvel a Preo",desc:"Custo",value:n.emotionMultipliers.price_sensitive,onChange:$=>X("price_sensitive",$)}),o.jsx(oi,{emotion:"ready",icon:$a,label:"Pronto",desc:"Decidido",value:n.emotionMultipliers.ready,onChange:$=>X("ready",$)}),o.jsx(oi,{emotion:"curious",icon:bf,label:"Curioso",desc:"Explorando",value:n.emotionMultipliers.curious,onChange:$=>X("curious",$)})]}),o.jsx(Jx,{label:"Escalar em frustrao",desc:"Notificar humano",value:n.escalateOnFrustration,onChange:$=>F("escalateOnFrustration",$)})]}),e==="templates"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(_i,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold",children:"Templates por Inteno"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure as respostas padro."})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(sd,{intent:"primeiro_contato",title:"Primeiro Contato",desc:"Lead novo",template:n.templates.primeiro_contato,onChange:($,U)=>q("primeiro_contato",$,U)}),o.jsx(sd,{intent:"cliente_bravo",title:"Cliente Bravo",desc:"Reclamao",template:n.templates.cliente_bravo,onChange:($,U)=>q("cliente_bravo",$,U)}),o.jsx(sd,{intent:"orcamento",title:"Oramento",desc:"Preo",template:n.templates.orcamento,onChange:($,U)=>q("orcamento",$,U)}),o.jsx(sd,{intent:"agendamento",title:"Agendamento",desc:"Reunio",template:n.templates.agendamento,onChange:($,U)=>q("agendamento",$,U)})]})]}),e==="preview"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[o.jsx(l_,{className:"w-5 h-5 text-[#f57f17]"}),"Preview"]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Teste suas configuraes"})]}),o.jsxs("button",{onClick:()=>E([]),className:"h-8 px-3 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",children:[o.jsx(Ps,{className:"w-3 h-3"}),"Limpar"]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[O.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[o.jsx(sr,{className:"w-8 h-8 mb-2"}),o.jsx("p",{children:"Envie uma mensagem para testar"})]}):O.map(($,U)=>o.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${$.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:[o.jsx("p",{className:"text-sm",children:$.text}),$.delay&&o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[" ",$.delay,"ms"]})]})},U)),_&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),o.jsx("div",{ref:C})]}),o.jsx("div",{className:"p-4 border-t border-white/10",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:N,onChange:$=>A($.target.value),onKeyDown:$=>$.key==="Enter"&&!$.shiftKey&&K(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",disabled:_}),o.jsx("button",{onClick:K,disabled:_||!N.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:o.jsx(js,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(_a,{title:"Estgio Simulado",icon:i_,children:o.jsx("div",{className:"space-y-2",children:[{key:"cold",label:"Frio",icon:c_},{key:"warm",label:"Morno",icon:md},{key:"hot",label:"Quente",icon:an}].map($=>o.jsxs("button",{onClick:()=>j($.key),className:`w-full p-3 rounded-xl flex items-center gap-3 transition ${b===$.key?"bg-[#f57f17]/20 border border-[#f57f17]/30":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[o.jsx($.icon,{className:`w-4 h-4 ${b===$.key?"text-[#f57f17]":"text-gray-400"}`}),o.jsx("span",{className:b===$.key?"text-white":"text-gray-400",children:$.label})]},$.key))})}),o.jsxs(_a,{title:"Emoo Simulada",icon:Pa,children:[o.jsxs("select",{value:w,onChange:$=>y($.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[o.jsx("option",{value:"curious",className:"bg-black",children:"Curioso"}),o.jsx("option",{value:"anxious",className:"bg-black",children:"Ansioso"}),o.jsx("option",{value:"skeptical",className:"bg-black",children:"Ctico"}),o.jsx("option",{value:"frustrated",className:"bg-black",children:"Frustrado"}),o.jsx("option",{value:"excited",className:"bg-black",children:"Empolgado"}),o.jsx("option",{value:"price_sensitive",className:"bg-black",children:"Sensvel a Preo"}),o.jsx("option",{value:"ready",className:"bg-black",children:"Pronto"})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Multiplicador: ",o.jsxs("span",{className:"text-white font-semibold",children:[n.emotionMultipliers[w].toFixed(2),"x"]})]})]}),o.jsx(_a,{title:"Configurao Ativa",icon:LM,children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Delay base"}),o.jsxs("span",{className:"text-white",children:[W,"ms"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Max bolhas"}),o.jsx("span",{className:"text-white",children:n.stageBehavior[b].maxBubbles})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"CTA level"}),o.jsx("span",{className:"text-white capitalize",children:n.stageBehavior[b].ctaLevel})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Exige pergunta"}),o.jsx("span",{className:"text-white",children:n.stageBehavior[b].requireQuestion?"Sim":"No"})]})]})}),o.jsx(_a,{title:"Testes Rpidos",icon:ln,children:o.jsx("div",{className:"space-y-2",children:["Oi, quero saber mais","Quanto custa?","Quero agendar","No t funcionando!"].map($=>o.jsx("button",{onClick:()=>A($),className:"w-full text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-300 transition",children:$},$))})})]})]}),m&&o.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${m.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[m.type==="success"?o.jsx(kn,{className:"w-4 h-4"}):o.jsx(Zx,{className:"w-4 h-4"}),m.text]})]})}function _a({title:t,icon:e,children:r,className:n}){return o.jsxs("div",{className:`rounded-[28px] border border-white/10 bg-white/5 p-6 ${n||""}`,children:[t&&o.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e&&o.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),t]}),r]})}function fs({selected:t,onClick:e,title:r,desc:n}){return o.jsxs("button",{onClick:e,className:`p-4 rounded-xl border text-left transition ${t?"border-[#f57f17]/50 bg-[#f57f17]/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[o.jsx("p",{className:"text-white font-semibold",children:r}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})}function vs({label:t,value:e,min:r,max:n,onChange:a}){return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:t}),o.jsxs("p",{className:"text-xs text-gray-500",children:[r," - ",n]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:r,max:n,value:e,onChange:s=>a(Number(s.target.value)),className:"w-24 accent-[#f57f17]"}),o.jsx("span",{className:"text-white font-semibold w-12 text-right",children:e})]})]})}function Jx({label:t,desc:e,value:r,onChange:n}){return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:t}),o.jsx("p",{className:"text-xs text-gray-500",children:e})]}),o.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:o.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function m0({stage:t,icon:e,color:r,title:n,desc:a,behavior:s,onChange:c}){const u={blue:"border-blue-500/30 bg-blue-500/5",yellow:"border-yellow-500/30 bg-yellow-500/5",orange:"border-[#f57f17]/30 bg-[#f57f17]/5"},d={blue:"text-blue-400",yellow:"text-yellow-400",orange:"text-[#f57f17]"};return o.jsxs("div",{className:`rounded-[28px] border p-6 ${u[r]}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 flex items-center justify-center",children:o.jsx(e,{className:`w-5 h-5 ${d[r]}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold",children:n}),o.jsx("p",{className:"text-xs text-gray-500",children:a})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(vs,{label:"Mx bolhas",value:s.maxBubbles,min:1,max:4,onChange:h=>c({...s,maxBubbles:h})}),o.jsx(Jx,{label:"Exigir pergunta",desc:"Termina com pergunta",value:s.requireQuestion,onChange:h=>c({...s,requireQuestion:h})}),o.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[o.jsx("p",{className:"text-white font-medium mb-2",children:"Nvel do CTA"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["soft","medium","hard"].map(h=>o.jsx("button",{onClick:()=>c({...s,ctaLevel:h}),className:`h-9 rounded-lg text-xs font-medium capitalize transition ${s.ctaLevel===h?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:h},h))})]})]})]})}function oi({emotion:t,icon:e,label:r,desc:n,value:a,onChange:s}){return o.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:r}),o.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:a,onChange:c=>s(Number(c.target.value)),className:"flex-1 accent-[#f57f17]"}),o.jsxs("span",{className:"text-white font-semibold w-12 text-right",children:[a.toFixed(2),"x"]})]})]})}function sd({intent:t,title:e,desc:r,template:n,onChange:a}){return o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-white font-bold",children:e}),o.jsx("p",{className:"text-xs text-gray-500",children:r})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 1"}),o.jsx("textarea",{value:n.bubble1,onChange:s=>a("bubble1",s.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 2"}),o.jsx("textarea",{value:n.bubble2,onChange:s=>a("bubble2",s.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]})]})]})}const ll="/api",PA={admin:{label:"Admin",color:"text-red-400",bg:"bg-red-500/20"},manager:{label:"Gerente",color:"text-amber-400",bg:"bg-amber-500/20"},user:{label:"Usurio",color:"text-blue-400",bg:"bg-blue-500/20"}};function IX(){const[t,e]=M.useState([]),[r,n]=M.useState([]),[a,s]=M.useState(!0),[c,u]=M.useState(""),[d,h]=M.useState(null),[p,m]=M.useState(null),[v,b]=M.useState(!1),[j,w]=M.useState(null),[y,O]=M.useState(!1),[E,N]=M.useState(""),[A,_]=M.useState(""),[k,C]=M.useState("user"),[P,R]=M.useState("");M.useEffect(()=>{B()},[]);const B=async()=>{try{s(!0);const[z,ee]=await Promise.all([fetch(`${ll}/users`),fetch(`${ll}/tenants`)]),K=await z.json(),W=await ee.json();e(K||[]),n(W||[])}catch(z){console.error("Error loading data:",z)}finally{s(!1)}},I=()=>{w(null),N(""),_(""),C("user"),R(r[0]?.id||""),b(!0)},F=z=>{w(z),N(z.name),_(z.email),C(z.role),R(z.tenant_id),b(!0)},L=async()=>{if(!(!E||!A||!P))try{O(!0),j?await fetch(`${ll}/users?id=${j.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E,email:A,role:k,tenant_id:P})}):await fetch(`${ll}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E,email:A,role:k,tenant_id:P})}),b(!1),B()}catch(z){console.error("Error saving user:",z)}finally{O(!1)}},X=async z=>{if(confirm(`Deseja remover ${z.name}?`))try{await fetch(`${ll}/users?id=${z.id}`,{method:"DELETE"}),B()}catch(ee){console.error("Error deleting user:",ee)}},q=t.filter(z=>!(c&&!z.name.toLowerCase().includes(c.toLowerCase())&&!z.email.toLowerCase().includes(c.toLowerCase())||d&&z.tenant_id!==d||p&&z.role!==p));return a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ut,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(sn,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Usurios"]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," usurios cadastrados"]})]}),o.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[o.jsx(pd,{className:"w-4 h-4"}),"Novo Usurio"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[o.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),o.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:c,onChange:z=>u(z.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsxs("select",{value:d||"",onChange:z=>h(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[o.jsx("option",{value:"",children:"Todos os Clientes"}),r.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]}),o.jsxs("select",{value:p||"",onChange:z=>m(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[o.jsx("option",{value:"",children:"Todos os Roles"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"manager",children:"Gerente"}),o.jsx("option",{value:"user",children:"Usurio"})]})]}),o.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-white/10",children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Usurio"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Cliente"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Role"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-400 uppercase",children:"Aes"})]})}),o.jsx("tbody",{children:q.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum usurio encontrado"})}):q.map(z=>{const ee=PA[z.role]||PA.user;return o.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02]",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:o.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:z.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-white",children:z.name}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx(hd,{className:"w-3 h-3"}),z.email]})]})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-300",children:z.tenant?.name||""})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold ${ee.bg} ${ee.color}`,children:[o.jsx(VA,{className:"w-3 h-3"}),ee.label]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>F(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-all",title:"Editar",children:o.jsx(FA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>X(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/20 flex items-center justify-center text-gray-400 hover:text-red-400 transition-all",title:"Excluir",children:o.jsx(Ps,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),v&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>b(!1)}),o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:j?"Editar Usurio":"Novo Usurio"}),o.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-white",children:o.jsx(cn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome"}),o.jsx("input",{type:"text",value:E,onChange:z=>N(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Nome completo"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:A,onChange:z=>_(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"email@exemplo.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cliente"}),o.jsxs("select",{value:P,onChange:z=>R(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[o.jsx("option",{value:"",children:"Selecione..."}),r.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),o.jsxs("select",{value:k,onChange:z=>C(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[o.jsx("option",{value:"user",children:"Usurio"}),o.jsx("option",{value:"manager",children:"Gerente"}),o.jsx("option",{value:"admin",children:"Admin"})]})]})]}),o.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>b(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:L,disabled:y||!E||!A||!P,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(As,{className:"w-4 h-4"}),j?"Salvar":"Criar"]})]})]})})]})]})}const od="/api";function DX({onConfigure:t,selectedTenantId:e,onSelectTenant:r}){const[n,a]=M.useState([]),[s,c]=M.useState(!0),[u,d]=M.useState(""),[h,p]=M.useState(!1),[m,v]=M.useState(null),[b,j]=M.useState(!1),[w,y]=M.useState(""),[O,E]=M.useState(""),[N,A]=M.useState(""),[_,k]=M.useState(""),[C,P]=M.useState("");M.useEffect(()=>{R()},[]);const R=async()=>{try{c(!0);const J=await(await fetch(`${od}/tenants`)).json();a(J||[])}catch(W){console.error("Error loading tenants:",W)}finally{c(!1)}},B=W=>W.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),I=()=>{v(null),y(""),E(""),A(""),k(""),P(""),p(!0)},F=(W,J)=>{J.stopPropagation(),v(W),y(W.name),E(W.slug),A(W.phone||""),k(W.address||""),P(W.specialty||""),p(!0)},L=async()=>{if(!(!w||!O))try{j(!0),m?await fetch(`${od}/tenants?id=${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w,slug:O,phone:N||null,address:_||null,specialty:C||null})}):await fetch(`${od}/tenants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w,slug:O,phone:N||null,address:_||null,specialty:C||null})}),p(!1),R()}catch(W){console.error("Error saving tenant:",W)}finally{j(!1)}},X=async(W,J)=>{J.stopPropagation();try{await fetch(`${od}/tenants?id=${W.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!W.active})}),R()}catch($){console.error("Error toggling tenant:",$)}},q=W=>{W.active&&r&&(e===W.id?r(null):r(W.id))},z=(W,J)=>{J.stopPropagation(),t&&t(W)},ee=n.filter(W=>!(u&&!W.name.toLowerCase().includes(u.toLowerCase())&&!W.slug.toLowerCase().includes(u.toLowerCase()))),K=n.find(W=>W.id===e);return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ut,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(jn,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Clientes"]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," clientes cadastrados"]})]}),o.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[o.jsx(pd,{className:"w-4 h-4"}),"Novo Cliente"]})]}),r&&o.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border border-white/10 bg-white/[0.02]",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Cliente ativo:"}),K?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:o.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:K.name.substring(0,2).toUpperCase()})}),o.jsx("span",{className:"text-white font-semibold",children:K.name}),o.jsx("button",{onClick:()=>r(null),className:"ml-2 text-xs text-gray-500 hover:text-white px-2 py-1 rounded-lg bg-white/5 hover:bg-white/10",children:"Limpar filtro"})]}):o.jsx("span",{className:"text-gray-300",children:"Todos os clientes"}),o.jsx("div",{className:"ml-auto text-xs text-gray-500",children:"Clique em um card para filtrar os dados"})]}),o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),o.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:u,onChange:W=>d(W.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(W=>{const J=e===W.id;return o.jsxs("div",{onClick:()=>q(W),className:`rounded-2xl border bg-white/[0.02] p-5 transition-all ${J?"border-[#f57f17] ring-2 ring-[#f57f17]/30 bg-[#f57f17]/5":W.active?"border-white/10 hover:border-[#f57f17]/50 cursor-pointer":"border-red-500/30 opacity-60"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center ${J?"bg-[#f57f17]/30":"bg-[#f57f17]/20"}`,children:o.jsx("span",{className:"text-[#f57f17] font-bold",children:W.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-white",children:W.name}),J&&o.jsx(kn,{className:"w-4 h-4 text-[#f57f17]"})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["@",W.slug]})]})]}),o.jsx("button",{onClick:$=>X(W,$),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${W.active?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,title:W.active?"Desativar":"Ativar",children:o.jsx(zA,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[W.specialty&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx($M,{className:"w-4 h-4"}),o.jsx("span",{children:W.specialty})]}),W.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(Vn,{className:"w-4 h-4"}),o.jsx("span",{children:W.phone})]}),W.address&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(UA,{className:"w-4 h-4"}),o.jsx("span",{className:"truncate",children:W.address})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:$=>F(W,$),className:"flex-1 h-9 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-sm text-gray-300 flex items-center justify-center gap-2 transition-all",children:[o.jsx(FA,{className:"w-4 h-4"}),"Editar"]}),t&&o.jsxs("button",{onClick:$=>z(W.id,$),className:"flex-1 h-9 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm text-[#f57f17] flex items-center justify-center gap-2 transition-all",children:[o.jsx(_n,{className:"w-4 h-4"}),"Config"]})]})]},W.id)})}),h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>p(!1)}),o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:m?"Editar Cliente":"Novo Cliente"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-white",children:o.jsx(cn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome da Empresa"}),o.jsx("input",{type:"text",value:w,onChange:W=>{y(W.target.value),m||E(B(W.target.value))},className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Ex: Clnica Dr. Hair"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Slug"}),o.jsx("input",{type:"text",value:O,onChange:W=>E(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"clinica-dr-hair"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Especialidade"}),o.jsx("input",{type:"text",value:C,onChange:W=>P(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Transplante Capilar"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),o.jsx("input",{type:"text",value:N,onChange:W=>A(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"+55 31 99999-9999"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Endereo"}),o.jsx("input",{type:"text",value:_,onChange:W=>k(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Rua, nmero, cidade"})]})]}),o.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>p(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:L,disabled:b||!w||!O,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(As,{className:"w-4 h-4"}),m?"Salvar":"Criar"]})]})]})})]})]})}const LX={super_admin:["view_all_tenants","manage_users","manage_tenants","view_metrics","export_data","manage_settings"],admin:["view_all_tenants","manage_users","manage_tenants","view_metrics","export_data","manage_settings"],tenant_admin:["view_metrics","export_data","manage_settings"],manager:["view_metrics","export_data"],agent:[],viewer:[],user:[]};function BX(){const{profile:t,tenant:e,isSuperAdmin:r}=jc(),n=t?.role||"user",a=LX[n]||[],s=b=>a.includes(b),c=s("view_all_tenants"),u=s("manage_users"),d=s("manage_tenants"),h=s("view_metrics"),p=s("export_data"),m=s("manage_settings"),v=c?null:e?.id;return{role:n,permissions:a,hasPermission:s,canViewAllTenants:c,canManageUsers:u,canManageTenants:d,canViewMetrics:h,canExportData:p,canManageSettings:m,allowedTenantId:v,isAdmin:n==="super_admin"||n==="admin",isSuperAdmin:r,isTenantAdmin:n==="tenant_admin",isManager:n==="manager",isAgent:n==="agent",isViewer:n==="viewer",isUser:n==="user"}}const qX="/api";function cl({label:t,value:e,icon:r,color:n}){return o.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500 uppercase",children:t}),o.jsx(r,{className:`w-4 h-4 ${n}`})]}),o.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function UX(){const[t,e]=M.useState([]),[r,n]=M.useState(!0),[a,s]=M.useState(!1);M.useEffect(()=>{c()},[]);const c=async(d=!1)=>{try{d?s(!0):n(!0);const p=await(await fetch(`${qX}/tenants/metrics`)).json();e(Array.isArray(p)?p:[p])}catch(h){console.error("Error loading metrics:",h)}finally{n(!1),s(!1)}},u=t.reduce((d,h)=>({conversations:d.conversations+h.metrics.conversations,leads:d.leads+h.metrics.leads,qualified:d.qualified+h.metrics.qualified_leads,messages:d.messages+h.metrics.messages,tokens:d.tokens+h.metrics.tokens_used}),{conversations:0,leads:0,qualified:0,messages:0,tokens:0});return r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ut,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(_l,{className:"w-6 h-6 text-[#f57f17]"}),"Mtricas por Cliente"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consumo e performance de cada tenant"})]}),o.jsxs("button",{onClick:()=>c(!0),disabled:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-gray-300 font-medium flex items-center gap-2 disabled:opacity-50",children:[o.jsx(zn,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Atualizar"]})]}),o.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/5 p-5",children:[o.jsx("h3",{className:"text-sm font-semibold text-[#f57f17] mb-4",children:"TOTAIS GERAIS"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(cl,{label:"Conversas",value:u.conversations,icon:sr,color:"text-blue-400"}),o.jsx(cl,{label:"Leads",value:u.leads,icon:sn,color:"text-emerald-400"}),o.jsx(cl,{label:"Qualificados",value:u.qualified,icon:Ra,color:"text-amber-400"}),o.jsx(cl,{label:"Mensagens",value:u.messages,icon:sr,color:"text-cyan-400"}),o.jsx(cl,{label:"Tokens",value:u.tokens.toLocaleString(),icon:ln,color:"text-purple-400"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase",children:"Por Cliente"}),t.map(d=>o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:o.jsx(jn,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:d.tenant_name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["@",d.tenant_slug]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.conversations}),o.jsx("p",{className:"text-xs text-gray-500",children:"Conversas"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.leads}),o.jsx("p",{className:"text-xs text-gray-500",children:"Leads"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-emerald-400",children:d.metrics.qualified_leads}),o.jsx("p",{className:"text-xs text-gray-500",children:"Qualificados"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsxs("p",{className:"text-lg font-bold text-amber-400",children:[d.metrics.conversion_rate,"%"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Converso"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.messages}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mensagens"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-cyan-400",children:d.metrics.assistant_messages}),o.jsx("p",{className:"text-xs text-gray-500",children:"Respostas IA"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-purple-400",children:d.metrics.tokens_used.toLocaleString()}),o.jsx("p",{className:"text-xs text-gray-500",children:"Tokens"})]}),o.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[o.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.avg_messages_per_conversation}),o.jsx("p",{className:"text-xs text-gray-500",children:"Msgs/Conv"})]})]})]},d.tenant_id))]})]})}const CA="/api",FX=[{id:"mon",label:"Seg"},{id:"tue",label:"Ter"},{id:"wed",label:"Qua"},{id:"thu",label:"Qui"},{id:"fri",label:"Sex"},{id:"sat",label:"Sb"},{id:"sun",label:"Dom"}];function zX({tenantId:t,onBack:e}){const[r,n]=M.useState(null),[a,s]=M.useState(!0),[c,u]=M.useState(!1),[d,h]=M.useState("agent"),[p,m]=M.useState(""),[v,b]=M.useState(""),[j,w]=M.useState(""),[y,O]=M.useState(!0),[E,N]=M.useState("friendly"),[A,_]=M.useState(!0),[k,C]=M.useState(2),[P,R]=M.useState(450),[B,I]=M.useState(18),[F,L]=M.useState(1750),[X,q]=M.useState(["mon","tue","wed","thu","fri"]),[z,ee]=M.useState("09:00"),[K,W]=M.useState("18:00"),[J,$]=M.useState("");M.useEffect(()=>{t&&U(t)},[t]);const U=async ie=>{try{s(!0);const ge=(await(await fetch(`${CA}/tenants`)).json()).find(oe=>oe.id===ie);ge&&(n(ge),m(ge.zapi_config?.instance_id||""),b(ge.zapi_config?.token||""),w(ge.zapi_config?.clientToken||""),O(ge.agent_config?.enabled??!0),N(ge.agent_config?.personality||"friendly"),_(ge.agent_config?.useEmojis??!0),C(ge.agent_config?.maxBubbles??2),R(ge.agent_config?.delays?.base??450),I(ge.agent_config?.delays?.perChar??18),L(ge.agent_config?.delays?.cap??1750),q(ge.business_hours?.days||["mon","tue","wed","thu","fri"]),ee(ge.business_hours?.open||"09:00"),W(ge.business_hours?.close||"18:00"),$(ge.prompt||""))}catch(he){console.error("Error loading tenant:",he)}finally{s(!1)}},ae=async()=>{if(r)try{u(!0);const ie={};d==="zapi"?ie.zapi_config={instance_id:p||null,token:v||null,clientToken:j||null}:d==="agent"?ie.agent_config={enabled:y,personality:E,useEmojis:A,maxBubbles:k,delays:{base:P,perChar:B,cap:F}}:d==="hours"?ie.business_hours={days:X,open:z,close:K}:d==="prompt"&&(ie.prompt=J),await fetch(`${CA}/tenants?id=${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),alert("Configuraes salvas!")}catch(ie){console.error("Error saving:",ie),alert("Erro ao salvar")}finally{u(!1)}},se=ie=>{q(he=>he.includes(ie)?he.filter(ke=>ke!==ie):[...he,ie])};return a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ut,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[e&&o.jsx("button",{onClick:e,className:"h-10 w-10 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:o.jsx(MM,{className:"w-5 h-5 text-gray-400"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(_n,{className:"w-6 h-6 text-[#f57f17]"}),"Configurar: ",r.name]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["@",r.slug]})]})]}),o.jsx("div",{className:"flex gap-2 border-b border-white/10 pb-2",children:[{id:"agent",label:"Agente IA",icon:v0},{id:"zapi",label:"Z-API",icon:Vn},{id:"hours",label:"Horrios",icon:Ca},{id:"prompt",label:"Prompt",icon:sr}].map(ie=>o.jsxs("button",{onClick:()=>h(ie.id),className:`px-4 py-2 rounded-xl flex items-center gap-2 text-sm font-medium transition-all ${d===ie.id?"bg-[#f57f17]/20 text-[#f57f17] border border-[#f57f17]/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[o.jsx(ie.icon,{className:"w-4 h-4"}),ie.label]},ie.id))}),o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-6",children:[d==="zapi"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao Z-API"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instance ID"}),o.jsx("input",{type:"text",value:p,onChange:ie=>m(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"3E9D7E00D9E221F57F51AAEE8857FDA1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Token"}),o.jsx("input",{type:"password",value:v,onChange:ie=>b(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Client Token"}),o.jsx("input",{type:"password",value:j,onChange:ie=>w(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]})]}),d==="agent"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao do Agente"}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:"Agente Ativo"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Ativar/desativar respostas automticas"})]}),o.jsx("button",{onClick:()=>O(!y),className:`h-8 w-14 rounded-full transition-all ${y?"bg-[#f57f17]":"bg-white/20"}`,children:o.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${y?"ml-7":"ml-1"}`})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Personalidade"}),o.jsxs("select",{value:E,onChange:ie=>N(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[o.jsx("option",{value:"friendly",children:"Amigvel"}),o.jsx("option",{value:"professional",children:"Profissional"}),o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"formal",children:"Formal"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:"Usar Emojis"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Incluir emojis nas respostas"})]}),o.jsx("button",{onClick:()=>_(!A),className:`h-8 w-14 rounded-full transition-all ${A?"bg-[#f57f17]":"bg-white/20"}`,children:o.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${A?"ml-7":"ml-1"}`})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Mx. Bolhas por Resposta"}),o.jsx("input",{type:"number",value:k,onChange:ie=>C(parseInt(ie.target.value)||2),min:1,max:5,className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Base (ms)"}),o.jsx("input",{type:"number",value:P,onChange:ie=>R(parseInt(ie.target.value)||450),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay/Char (ms)"}),o.jsx("input",{type:"number",value:B,onChange:ie=>I(parseInt(ie.target.value)||18),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Mx (ms)"}),o.jsx("input",{type:"number",value:F,onChange:ie=>L(parseInt(ie.target.value)||1750),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="hours"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Horrio de Funcionamento"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Dias Ativos"}),o.jsx("div",{className:"flex gap-2",children:FX.map(ie=>o.jsx("button",{onClick:()=>se(ie.id),className:`h-10 w-12 rounded-lg text-sm font-medium transition-all ${X.includes(ie.id)?"bg-[#f57f17] text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:ie.label},ie.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Abre s"}),o.jsx("input",{type:"time",value:z,onChange:ie=>ee(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fecha s"}),o.jsx("input",{type:"time",value:K,onChange:ie=>W(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="prompt"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Prompt do Agente"}),o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Instrues personalizadas para o agente deste cliente"}),o.jsx("textarea",{value:J,onChange:ie=>$(ie.target.value),rows:12,className:"w-full px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50 resize-none font-mono text-sm",placeholder:"Voc  um assistente especializado em..."})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:ae,disabled:c,className:"h-10 px-6 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50",children:[c?o.jsx(ut,{className:"w-4 h-4 animate-spin"}):o.jsx(eo,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]}):o.jsx("div",{className:"text-center text-gray-500 py-12",children:"Selecione um cliente para configurar"})}function WX({open:t,onClose:e,title:r,subtitle:n,children:a,maxWidthClass:s="max-w-3xl"}){return M.useEffect(()=>{if(!t)return;const c=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,e]),t?o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:["w-full",s,"rounded-[28px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl"].join(" "),children:[o.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[r&&o.jsx("h3",{className:"text-lg font-bold text-white truncate",children:r}),n&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),o.jsx("button",{onClick:e,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Fechar",children:o.jsx(cn,{className:"w-4 h-4 text-gray-300"})})]}),o.jsx("div",{className:"p-6",children:a})]})})]}):null}function HX(t){return t==="alto"?"border-emerald-500/25 bg-emerald-500/10 text-emerald-300":t==="mdio"?"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]":"border-white/10 bg-white/5 text-gray-300"}function VX(t){return t==="green"?"text-emerald-400":t==="cyan"?"text-cyan-400":t==="red"?"text-red-400":"text-[#f57f17]"}function KX(t){return t==="green"?"border-emerald-500/30 bg-emerald-500/10":t==="cyan"?"border-cyan-500/30 bg-cyan-500/10":t==="red"?"border-red-500/30 bg-red-500/10":"border-[#f57f17]/25 bg-[#f57f17]/10"}function GX({open:t,onClose:e,onGoToAnalysis:r}){const[n,a]=M.useState(null),s=M.useMemo(()=>[{id:"s1",title:"Fila de follow-up (Prontos  agendar)",reason:"Voc tem leads com alta inteno. Se voc chamar agora, aumenta muito a chance de agendar.",impact:"alto",actionLabel:"Copiar mensagem",messageToCopy:"Oi! Vi que voc ficou com interesse  consigo te ajudar a agendar uma avaliao rpida. Qual melhor horrio hoje ou amanh?",icon:DA,tone:"green"},{id:"s2",title:"Responder objeo de preo com ROI e prova social",reason:"Quando preo aparece, a melhor rota  reduzir risco: mostrar resultado + comparao + garantia.",impact:"alto",actionLabel:"Copiar argumento",messageToCopy:"Entendo total sobre o preo. Pra ficar claro: o objetivo  gerar resultado e se pagar. Posso te mostrar cases e como funciona na prtica  e a voc decide com segurana.",icon:_s,tone:"orange"},{id:"s3",title:"Qualificao rpida (curioso  pronto)",reason:"Muita gente fica no curioso por falta de clareza. Faa 2 perguntas e j direciona pra oferta certa.",impact:"mdio",actionLabel:"Copiar roteiro",messageToCopy:"Pra eu te orientar certinho: 1) qual seu objetivo principal agora? 2) voc quer algo mais rpido (resultado em curto prazo) ou algo mais definitivo?",icon:$a,tone:"cyan"},{id:"s4",title:"Atalho: mandar udio humano + CTA simples",reason:"Quando o lead est ctico/frustrado, uma mensagem humana reduz resistncia e acelera resposta.",impact:"mdio",actionLabel:"Copiar texto",messageToCopy:"Vou ser bem direto e humano: eu entendi seu caso. Se voc topar, eu te explico o melhor caminho em 2 minutos e te digo se vale a pena pra voc. Pode ser?",icon:sr,tone:"red"}],[]);async function c(u,d){try{await navigator.clipboard.writeText(u),a(d),setTimeout(()=>a(null),1200)}catch{a(null)}}return o.jsxs(WX,{open:t,onClose:e,title:"Sugestes IA",subtitle:"Aes prontas para aumentar converso (copie e aplique em 1 clique).",maxWidthClass:"max-w-4xl",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl border border-[#f57f17]/25 bg-[#f57f17]/10 flex items-center justify-center",children:o.jsx(ir,{className:"w-5 h-5 text-[#f57f17]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:"Sugestes geradas automaticamente"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hoje isso  mock. Amanh a IA vai puxar das conversas e do funil."})]})]}),r&&o.jsxs("button",{onClick:()=>{e(),r()},className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[o.jsx(ln,{className:"w-4 h-4 text-[#f57f17]"}),o.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),o.jsx(RA,{className:"w-4 h-4 text-[#f57f17]"})]})]}),o.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:s.map(u=>o.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-black/50 p-5 hover:bg-black/60 transition-all",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[o.jsx("div",{className:["h-11 w-11 rounded-2xl border flex items-center justify-center shrink-0",KX(u.tone)].join(" "),children:o.jsx(u.icon,{className:["w-5 h-5",VX(u.tone)].join(" ")})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:u.title}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.reason})]})]}),o.jsxs("span",{className:["shrink-0 text-[11px] font-semibold rounded-full border px-2.5 py-1",HX(u.impact)].join(" "),children:["Impacto ",u.impact]})]}),o.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Mensagem pronta"}),o.jsx("p",{className:"text-sm text-gray-200 mt-2 leading-relaxed",children:u.messageToCopy}),o.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>c(u.messageToCopy,u.id),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[n===u.id?o.jsx(As,{className:"w-4 h-4 text-emerald-400"}):o.jsx(xf,{className:"w-4 h-4 text-[#f57f17]"}),n===u.id?"Copiado":u.actionLabel]}),o.jsx("span",{className:"text-xs text-gray-500",children:"Cole no WhatsApp e mande."})]})]})]},u.id))}),o.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 flex-wrap",children:[o.jsx("p",{className:"text-xs text-gray-600",children:"Prximo upgrade: a IA vai gerar sugestes por conversa, estgio do funil e objees detectadas."}),o.jsx("button",{onClick:e,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Fechar"})]})]})}function XX(){return"/api".replace(/\/$/,"")}const kT=XX();async function YX(){const t=await fetch(`${kT}/agent/status`);if(!t.ok)throw new Error(await t.text());return t.json()}async function JX(t){const e=await fetch(`${kT}/agent/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(!e.ok)throw new Error(await e.text());return e.json()}function QX(){const[t,e]=M.useState(null),[r,n]=M.useState(!1);M.useEffect(()=>{YX().then(e).catch(()=>e({enabled:!1,updated_at:null}))},[]);const a=async()=>{if(t){n(!0);try{const c=await JX(!t.enabled);e(c)}finally{n(!1)}}},s=!!t?.enabled;return o.jsxs("button",{onClick:a,disabled:r,className:["h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",s?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-red-500/30 bg-red-500/10 text-red-200",r?"opacity-70 cursor-not-allowed":"hover:opacity-90"].join(" "),title:"Liga/desliga o agente globalmente",children:[o.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s?"#34d399":"#ef4444"}}),"Agente: ",s?"ON":"OFF"]})}function ZX({value:t,onChange:e}){const[r,n]=M.useState([]),[a,s]=M.useState(!1),[c,u]=M.useState(!0);M.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await i$();n(m||[])}catch(m){console.error("Failed to load tenants:",m)}finally{u(!1)}},h=r.find(m=>m.id===t),p=h?h.name:"Todos os Clientes";return c?o.jsxs("div",{className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(jn,{className:"w-4 h-4 animate-pulse"}),o.jsx("span",{children:"Carregando..."})]}):o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(m=>!m),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[o.jsx(jn,{className:"w-4 h-4 text-[#f57f17]"}),o.jsx("span",{className:"max-w-[160px] truncate",children:p}),o.jsx(y0,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[o.jsx("h3",{className:"text-sm font-semibold text-white",children:"Selecionar Cliente"}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filtrar dados por cliente"})]}),o.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[o.jsxs("button",{onClick:()=>{e(null),s(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t?"":"bg-[#f57f17]/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-white/10 flex items-center justify-center",children:o.jsx(jn,{className:"w-4 h-4 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white font-medium",children:"Todos os Clientes"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Viso geral"})]})]}),!t&&o.jsx(As,{className:"w-4 h-4 text-[#f57f17]"})]}),r.map(m=>o.jsxs("button",{onClick:()=>{e(m.id),s(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t===m.id?"bg-[#f57f17]/10":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:o.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:m.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white font-medium truncate",children:m.name}),o.jsx("p",{className:"text-xs text-gray-500",children:m.specialty||m.slug})]})]}),t===m.id&&o.jsx(As,{className:"w-4 h-4 text-[#f57f17]"})]},m.id))]})]})]})]})}function eY({tenantName:t,tenantSlug:e,steps:r,progress:n}){const a=e?`/logos/${e}.png`:null,s=t.charAt(0).toUpperCase();return o.jsx("div",{className:"fixed inset-0 z-[100] bg-[#0a0a0a] flex items-center justify-center",children:o.jsxs("div",{className:"w-full max-w-sm px-6",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"h-24 w-24 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden",children:[a?o.jsx("img",{src:a,alt:t,className:"h-16 w-16 object-contain",onError:c=>{c.target.style.display="none";const u=document.getElementById("tenant-logo-fallback");u&&(u.style.display="flex")}}):null,o.jsx("div",{id:"tenant-logo-fallback",className:`h-16 w-16 rounded-xl bg-gradient-to-br from-[#f57f17] to-[#ff9800] items-center justify-center ${a?"hidden":"flex"}`,children:o.jsx("span",{className:"text-3xl font-bold text-white",children:s})})]}),o.jsxs("svg",{className:"absolute -inset-2 w-28 h-28",viewBox:"0 0 100 100",children:[o.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"3"}),o.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"url(#loaderGradient)",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${n*2.89} 289`,transform:"rotate(-90 50 50)",className:"transition-all duration-300"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"loaderGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#f57f17"}),o.jsx("stop",{offset:"100%",stopColor:"#ff9800"})]})})]})]})}),o.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-1",children:t}),o.jsx("p",{className:"text-gray-500 text-sm text-center mb-8",children:"Preparando ambiente..."}),o.jsx("div",{className:"space-y-3 mb-8",children:r.map(c=>o.jsxs("div",{className:`flex items-center gap-3 transition-opacity ${c.status==="pending"?"opacity-40":"opacity-100"}`,children:[c.status==="pending"&&o.jsx(a_,{className:"w-5 h-5 text-gray-600"}),c.status==="loading"&&o.jsx(ut,{className:"w-5 h-5 text-[#f57f17] animate-spin"}),c.status==="done"&&o.jsx(kn,{className:"w-5 h-5 text-emerald-400"}),c.status==="error"&&o.jsx(a_,{className:"w-5 h-5 text-red-400"}),o.jsx("span",{className:`text-sm ${c.status==="done"?"text-gray-400":c.status==="loading"?"text-white font-medium":c.status==="error"?"text-red-400":"text-gray-600"}`,children:c.label})]},c.id))}),o.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-[#f57f17] to-[#ff9800] transition-all duration-300",style:{width:`${n}%`}})}),o.jsxs("p",{className:"text-center text-xs text-gray-600 mt-2",children:[n,"%"]})]})})}function ul(...t){return t.filter(Boolean).join(" ")}function tY(t){const r=new Date().getTime()-t.getTime(),n=Math.floor(r/6e4),a=Math.floor(n/60),s=Math.floor(a/24);return n<1?"Agora":n<60?`${n}min atrs`:a<24?`${a}h atrs`:`${s}d atrs`}function rY(){const[t,e]=M.useState("dashboard"),[r,n]=M.useState(null),[a,s]=M.useState([]),[c,u]=M.useState([]),[d,h]=M.useState(null),[p,m]=M.useState(()=>typeof window<"u"&&localStorage.getItem("selectedTenantId")||null),[v,b]=M.useState(null);M.useEffect(()=>{p?localStorage.setItem("selectedTenantId",p):localStorage.removeItem("selectedTenantId")},[p]);const[j,w]=M.useState(!1),[y,O]=M.useState([]),[E,N]=M.useState(!0),[A,_]=M.useState(new Date),[k,C]=M.useState(!1),[P,R]=M.useState(!1),[B,I]=M.useState(!1),[F,L]=M.useState(!1),[X,q]=M.useState([]),[z,ee]=M.useState(null),[K,W]=M.useState(!1),[J,$]=M.useState([{id:"config",label:"Configuraes",status:"pending"},{id:"integrations",label:"Integraes",status:"pending"},{id:"knowledge",label:"Base de Conhecimento",status:"pending"},{id:"social",label:"Prova Social",status:"pending"},{id:"stats",label:"Estatsticas",status:"pending"}]),[U,ae]=M.useState(0),se=M.useRef(typeof window<"u"?localStorage.getItem("selectedTenantId"):null),ie=M.useRef(!1),he=co(),{isAdmin:ke}=BX(),{profile:ge,tenant:oe,availableTenants:ye}=jc();M.useEffect(()=>{!ke&&oe?.id&&!p&&m(oe.id)},[ke,oe,p]),M.useEffect(()=>{if(ke&&!p&&ye?.length>0){const pe=ye.find(Ve=>Ve.slug==="doca");m(pe?pe.id:ye[0].id)}},[ke,p,ye]),M.useEffect(()=>{if(!ie.current){ie.current=!0,se.current=p;return}if(se.current===p)return;const pe=se.current;if(se.current=p,!pe||!p)return;W(!0),ae(0),$([{id:"config",label:"Configuraes",status:"pending"},{id:"integrations",label:"Integraes",status:"pending"},{id:"knowledge",label:"Base de Conhecimento",status:"pending"},{id:"social",label:"Prova Social",status:"pending"},{id:"stats",label:"Estatsticas",status:"pending"}]);const Ve=["config","integrations","knowledge","social","stats"];let G=0;const Pe=setInterval(()=>{G<Ve.length?($(rt=>rt.map((Ke,It)=>({...Ke,status:It<G?"done":It===G?"loading":"pending"}))),ae((G+1)*20),G++):($(rt=>rt.map(Ke=>({...Ke,status:"done"}))),ae(100),clearInterval(Pe),setTimeout(()=>W(!1),300))},400);return()=>clearInterval(Pe)},[p]);const Oe=he?sT():"default",Q=he?uo():null,je=M.useMemo(()=>he?XH():[],[he]),Re=M.useMemo(()=>{const pe=[{id:"dashboard",label:"Dashboard",icon:FM},{id:"conversations",label:"Conversas",icon:sr},{id:"leads",label:"Leads",icon:sn},{id:"funnel",label:"Funil",icon:Ra},{id:"analysis",label:"Anlise IA",icon:_l},{id:"reports",label:"Relatrios",icon:_i},{id:"training",label:"Treinamento",icon:Pa},{id:"integrations",label:"Integraes",icon:b0},{id:"agent-studio",label:"Agent Studio",icon:KM},{id:"settings",label:"Configuraes",icon:_n}];return he&&pe.splice(5,0,{id:"demo-generator",label:"Demo Generator",icon:gd}),pe},[he]),He=X.filter(pe=>!pe.read).length,Ye=pe=>{q(Ve=>Ve.map(G=>G.id===pe?{...G,read:!0}:G))},gt=()=>{q(pe=>pe.map(Ve=>({...Ve,read:!0})))};M.useEffect(()=>{if(Rt(!0),he)return;const pe=setInterval(()=>{_(new Date),Rt(!1,p)},3e4);return()=>clearInterval(pe)},[]),M.useEffect(()=>{he||Rt(!1,p)},[p]);const Rt=async(pe=!1,Ve)=>{const G=Ve!==void 0?Ve:p;try{if(pe&&N(!0),C(!0),he&&Q){n(Q.stats);const It=(Q.conversations||[]).map(qe=>({id:qe.id,chat_id:qe.phone,phone:qe.phone,name:qe.name,last_message:qe.last_message,status:qe.status,updated_at:qe.updated_at,created_at:qe.created_at??qe.updated_at,current_emotion:qe.current_emotion,lead_id:qe.lead_id,tags:qe.tags||[]})),et=(Q.leads||[]).map(qe=>({id:qe.id,name:qe.name,phone:qe.phone,status:qe.status??"new",score:qe.score,tags:qe.tags||[],stage:qe.stage,urgency_level:qe.urgency_level,health_score:qe.health_score,conversion_probability:qe.conversion_probability,created_at:qe.created_at,updated_at:qe.updated_at}));s(It),u(et),_(new Date),N(!1),C(!1);return}const[Pe,rt,Ke]=await Promise.all([a$(G||void 0),s$(50,G||void 0),o$(50,G||void 0)]);n(Pe),s(rt||[]),u(Ke||[]),_(new Date)}catch(Pe){console.error("Error loading data:",Pe)}finally{N(!1),C(!1)}},or=async pe=>{if(h(pe),he&&Q){const Ve=(Q.messages||[]).filter(G=>G.conversation_id===pe.id).sort((G,Pe)=>G.created_at>Pe.created_at?1:-1).map(G=>({id:G.id,conversation_id:G.conversation_id,sender:G.from,content:G.text,text:G.text,created_at:G.created_at}));O(Ve);return}O([])},Ot=(pe,Ve)=>{ee({type:pe,message:Ve}),setTimeout(()=>ee(null),4e3)},vt=pe=>{const Ve=a.find(G=>G?.lead_id===pe?.id)||a.find(G=>G?.phone===pe?.phone)||null;e("conversations"),Ve&&(h(Ve),or(Ve))},Ft=async(pe,Ve)=>{const G=pe.phone?.replace("@c.us","").replace(/\D/g,"");if(!G){Ot("error","Lead sem telefone vlido");return}let Pe=Ve;if(!Pe){const rt={pronto:"Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?",empolgado:"E a, tudo certo? Quer que eu te explique os prximos passos?",curioso:"Oi! Ficou alguma dvida? T aqui pra te ajudar!",sensvel_preo:"Oi! Consegui uma condio especial pra voc. Quer saber mais?",ctico:"Oi! Entendo suas dvidas. Posso te mostrar alguns casos de sucesso?",frustrado:"Oi! Vi que teve algumas dificuldades. Como posso te ajudar?"},Ke=(pe.stage||"curioso").toLowerCase();Pe=rt[Ke]||"Oi! Tudo bem? Posso te ajudar com algo?"}try{if(!(await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:G.startsWith("55")?G:`55${G}`,message:Pe})})).ok)throw new Error("Falha ao enviar");const Ke=new Date().toISOString();u(It=>It.map(et=>{if(et.id!==pe.id)return et;const qe=Array.from(new Set([...et.tags||[],"followup_sent"])),Wa=Math.min(100,(et.health_score??50)+6);return{...et,tags:qe,health_score:Wa,updated_at:Ke,status:et.status==="new"?"contacted":et.status}})),s(It=>It.map(et=>et?.lead_id===pe?.id||et?.phone&&et.phone===pe?.phone?{...et,last_message:Pe,updated_at:Ke}:et)),Ot("success",`Follow-up enviado para ${pe.name||G}`)}catch(rt){console.error("Erro ao enviar follow-up:",rt),Ot("error","Erro ao enviar follow-up")}},Fr=async pe=>{try{const Ve=await fetch(`/api/leads?id=${pe.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"won"})}),G=new Date().toISOString();u(Pe=>Pe.map(rt=>rt.id!==pe.id?rt:{...rt,status:"won",updated_at:G,tags:Array.from(new Set([...rt.tags||[],"won"]))})),Ot("success",`${pe.name||"Lead"} marcado como GANHO!`)}catch(Ve){console.error("Erro ao marcar como ganho:",Ve),Ot("error","Erro ao marcar como ganho")}},dn=Re.find(pe=>pe.id===t)?.label??"Dashboard",An=t==="dashboard"?"Viso executiva e insights em tempo real":t==="conversations"?"Mensagens e atendimentos em tempo real":t==="leads"?"Pipeline e leads qualificados":t==="funnel"?"War Room: decises + aes + previso":t==="analysis"?"Follow-ups inteligentes, insights e automaes":t==="reports"?"Performance do funil, exportaes e relatrios por perodo":t==="training"?"Configure prompt, base de conhecimento e prova social":t==="integrations"?"Conecte WhatsApp, banco e ferramentas":t==="settings"?"Preferncias e ajustes do sistema":t==="agent-studio"?"Controle total do comportamento do agente":t==="demo-generator"?"Crie demos realistas":"Viso geral do sistema",ra=ye.find(pe=>pe.id===p);if(E)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative mx-auto mb-5 w-14 h-14",children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-[#f57f17]/15 blur-xl"}),o.jsx("div",{className:"relative w-14 h-14 rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:o.jsx(zn,{className:"w-7 h-7 text-[#f57f17] animate-spin"})})]}),o.jsx("p",{className:"text-gray-300 font-medium",children:"Carregando DOCA AI"}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Central de Comando"})]})});const za=je.find(pe=>pe.key===Oe)?.label||(Oe?String(Oe):"Demo");return o.jsxs(o.Fragment,{children:[K&&ra&&o.jsx(eY,{tenantName:ra.name,tenantSlug:ra.slug,steps:J,progress:U}),o.jsxs("div",{className:"min-h-screen text-white bg-black",children:[o.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[o.jsx("div",{className:"absolute -top-32 left-[-140px] h-[520px] w-[520px] rounded-full bg-[#f57f17]/18 blur-3xl"}),o.jsx("div",{className:"absolute top-12 right-[-220px] h-[560px] w-[560px] rounded-full bg-cyan-500/12 blur-3xl"}),o.jsx("div",{className:"absolute bottom-[-260px] left-[18%] h-[620px] w-[620px] rounded-full bg-emerald-500/10 blur-3xl"})]}),o.jsxs("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/45 backdrop-blur-xl",children:[o.jsxs("div",{className:"px-6 py-3 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"leading-tight",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA AI"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Central de Comando"})]}),o.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-[#f57f17]/10 text-[#f57f17] border border-[#f57f17]/20",children:"BETA"}),he&&o.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-white/5 text-gray-200 border border-white/10",children:"DEMO"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!he&&ke&&o.jsx(ZX,{value:p,onChange:m}),he&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>R(pe=>!pe),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[o.jsx("span",{className:"hidden sm:inline",children:za}),o.jsx(y0,{className:"w-4 h-4 text-gray-400"})]}),P&&o.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:je.map(pe=>o.jsx("a",{href:`/?demo=${pe.key}`,className:"block px-4 py-3 text-sm text-gray-200 hover:bg-white/5",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"truncate",children:pe.label}),o.jsx("span",{className:"text-[11px] rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-gray-400",children:pe.source==="generated"?"GERADA":"FIXA"})]})},pe.key))})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>L(pe=>!pe),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center relative",title:"Notificaes",children:[o.jsx(g0,{className:"w-4 h-4 text-gray-300"}),He>0&&o.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:He})]}),F&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>L(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notificaes"}),He>0&&o.jsx("button",{onClick:gt,className:"text-xs text-[#f57f17] hover:underline",children:"Marcar todas como lidas"})]}),o.jsx("div",{className:"max-h-80 overflow-y-auto",children:X.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Nenhuma notificao"}):X.map(pe=>o.jsx("button",{onClick:()=>Ye(pe.id),className:ul("w-full px-4 py-3 text-left hover:bg-white/5 border-b border-white/5 last:border-0",!pe.read&&"bg-white/5"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:ul("h-8 w-8 rounded-lg flex items-center justify-center flex-shrink-0",pe.type==="urgent"&&"bg-red-500/20 text-red-400",pe.type==="lead"&&"bg-emerald-500/20 text-emerald-400",pe.type==="system"&&"bg-white/10 text-gray-400"),children:[pe.type==="urgent"&&o.jsx(nr,{className:"w-4 h-4"}),pe.type==="lead"&&o.jsx(sn,{className:"w-4 h-4"}),pe.type==="system"&&o.jsx(_n,{className:"w-4 h-4"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("p",{className:"text-sm font-medium text-white truncate",children:pe.title}),!pe.read&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f57f17] flex-shrink-0"})]}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:pe.message}),o.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:tY(pe.time)})]})]})},pe.id))}),o.jsx("div",{className:"px-4 py-2 border-t border-white/10",children:o.jsx("button",{onClick:()=>{L(!1),e("settings")},className:"w-full h-9 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400",children:"Configurar notificaes"})})]})]})]}),!he&&o.jsx(QX,{}),o.jsxs("button",{onClick:()=>Rt(!1),disabled:k,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200 disabled:opacity-50",title:"Atualizar",children:[o.jsx(zn,{className:ul("w-4 h-4 text-[#f57f17]",k&&"animate-spin")}),o.jsx("span",{className:"hidden sm:inline",children:k?"Atualizando...":"Atualizar"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>w(!j),className:"h-10 px-3 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center gap-3 transition-all",children:[o.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:o.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:"D"})}),o.jsxs("div",{className:"leading-tight hidden sm:block",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]}),o.jsx(y0,{className:`w-4 h-4 text-gray-400 transition-transform ${j?"rotate-180":""}`})]}),j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-white/10 bg-black/95 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA Agncia IA"}),o.jsx("p",{className:"text-xs text-gray-500",children:"admin@docaperformance.com.br"})]}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>{e("users"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[o.jsx(sn,{className:"w-4 h-4"}),"Usurios"]}),o.jsxs("button",{onClick:()=>{e("tenants"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[o.jsx(jn,{className:"w-4 h-4"}),"Clientes"]}),o.jsxs("button",{onClick:()=>{e("metrics"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[o.jsx(_l,{className:"w-4 h-4"}),"Mtricas"]})]}),o.jsx("div",{className:"py-2 border-t border-white/10",children:o.jsxs("button",{onClick:()=>{e("settings"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[o.jsx(_n,{className:"w-4 h-4"}),"Configuraes"]})})]})]})]})]})]}),o.jsx("div",{className:"px-6 py-2 border-t border-white/5",children:o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Re.map(pe=>{const Ve=t===pe.id;return o.jsxs("button",{onClick:()=>e(pe.id),className:ul("h-9 px-3 rounded-xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",Ve?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[o.jsx(pe.icon,{className:"w-4 h-4 text-[#f57f17]"}),pe.label]},pe.id)})})}),o.jsxs("div",{className:"px-6 pb-4 flex items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-gray-500",children:["DOCA AI ",o.jsx("span",{className:"mx-2 text-gray-700",children:""})," ",o.jsx("span",{className:"text-gray-300 font-semibold",children:dn})]}),o.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-1",children:dn}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:An})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-500 mt-1",children:[o.jsxs("div",{children:["Status:"," ",o.jsx("span",{className:"text-[#f57f17] font-semibold",children:he?"DEMO":"Online"})]}),o.jsxs("div",{children:["Atualizado: ",A.toLocaleTimeString("pt-BR")]})]})]})]}),o.jsxs("main",{className:"px-6 py-6",children:[o.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:o.jsxs("div",{className:"p-8",children:[t==="dashboard"&&o.jsx(HH,{demoMode:he,stats:r,conversations:a,leads:c,onOpenSuggestions:()=>I(!0),onOpenInsights:()=>e("analysis"),onActivateAI:()=>e("analysis"),onGoToAnalysis:()=>e("analysis"),onOpenEvents:()=>e("reports")}),t==="conversations"&&o.jsx(nV,{tenantId:p}),t==="leads"&&o.jsx(uV,{leads:c,conversations:a,onOpenConversation:vt,onSendFollowUp:Ft,onMarkAsWon:Fr}),t==="funnel"&&o.jsx(kV,{leads:c,conversations:a,onOpenConversation:vt,onSendFollowUp:Ft,onMarkAsWon:Fr}),t==="analysis"&&o.jsx(EX,{tenantId:p,conversations:a,leads:c,onSendFollowUp:Ft,onOpenConversation:vt}),t==="reports"&&o.jsx(PV,{leads:c,conversations:a,onGoToFunnel:()=>e("funnel")}),t==="training"&&o.jsx(LV,{tenantId:p}),t==="integrations"&&o.jsx(jX,{tenantId:p}),t==="agent-studio"&&o.jsx(RX,{tenantId:p}),t==="settings"&&o.jsx(kX,{}),t==="users"&&o.jsx(IX,{}),t==="tenants"&&o.jsx(DX,{selectedTenantId:p,onSelectTenant:pe=>{m(pe)},onConfigure:pe=>{b(pe),e("tenant-config")}}),t==="metrics"&&o.jsx(UX,{}),t==="tenant-config"&&v&&o.jsx(zX,{tenantId:v,onBack:()=>e("tenants")}),t==="demo-generator"&&o.jsx(CX,{})]})}),o.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500",children:[o.jsxs("span",{children:[" ",new Date().getFullYear()," DOCA AI"]}),o.jsxs("span",{className:"text-gray-500",children:["Status:"," ",o.jsx("span",{className:"text-[#f57f17] font-semibold",children:he?"DEMO":"Online"})]})]})]}),o.jsx(GX,{open:B,onClose:()=>I(!1),onGoToAnalysis:()=>e("analysis")}),z&&o.jsx("div",{className:ul("fixed bottom-6 right-6 z-50 px-5 py-3 rounded-2xl border shadow-xl backdrop-blur-xl transition-all animate-in slide-in-from-bottom-4",z.type==="success"?"bg-emerald-500/20 border-emerald-400/30 text-emerald-200":"bg-red-500/20 border-red-400/30 text-red-200"),children:o.jsx("p",{className:"text-sm font-medium",children:z.message})})]})]})}function nY(){const{signIn:t,loading:e,error:r}=jc(),[n,a]=M.useState(""),[s,c]=M.useState(""),[u,d]=M.useState(!1),[h,p]=M.useState("");async function m(v){if(v.preventDefault(),p(""),!n||!s){p("Preencha todos os campos");return}try{await t(n,s)}catch(b){p(b.message||"Erro ao fazer login")}}return o.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-[#f57f17] to-[#ff9800] mb-4 shadow-lg shadow-[#f57f17]/20",children:o.jsx("span",{className:"text-3xl font-bold text-white",children:"D"})}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"MCP Dashboard"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Entre para continuar"})]}),o.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 backdrop-blur-sm p-8",children:o.jsxs("form",{onSubmit:m,className:"space-y-5",children:[(r||h)&&o.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:[o.jsx(DM,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-400",children:r||h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:n,onChange:v=>a(v.target.value),className:"w-full h-12 px-4 rounded-xl bg-black/30 border border-white/10 text-white placeholder-gray-500 outline-none focus:border-[#f57f17]/50 transition",placeholder:"seu@email.com",disabled:e})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:s,onChange:v=>c(v.target.value),className:"w-full h-12 px-4 pr-12 rounded-xl bg-black/30 border border-white/10 text-white placeholder-gray-500 outline-none focus:border-[#f57f17]/50 transition",placeholder:"",disabled:e}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:u?o.jsx(tb,{className:"w-5 h-5"}):o.jsx(bf,{className:"w-5 h-5"})})]})]}),o.jsx("button",{type:"submit",disabled:e,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition hover:shadow-lg hover:shadow-[#f57f17]/20",children:e?o.jsx(ut,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(zM,{className:"w-5 h-5"}),"Entrar"]})})]})}),o.jsxs("p",{className:"text-center text-gray-600 text-sm mt-8",children:["DOCA Agncia IA  ",new Date().getFullYear()]})]})})}function aY(){const{user:t,profile:e,loading:r}=jc();return r?o.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col items-center justify-center gap-4",children:[o.jsx(ut,{className:"w-10 h-10 text-[#f57f17] animate-spin"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando..."})]}):!t||!e?o.jsx(nY,{}):o.jsx(rY,{})}AM.createRoot(document.getElementById("root")).render(o.jsx(Y.StrictMode,{children:o.jsx(wX,{children:o.jsx(aY,{})})}));export{rA as _,Pu as c,Ze as g};
