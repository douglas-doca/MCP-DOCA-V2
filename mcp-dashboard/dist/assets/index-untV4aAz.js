(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var um={exports:{}},Qo={},dm={exports:{}},De={};var N_;function SM(){if(N_)return De;N_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function y($,H,ie){this.props=$,this.context=H,this.refs=j,this.updater=ie||b}y.prototype.isReactComponent={},y.prototype.setState=function($,H){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,H,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function O(){}O.prototype=y.prototype;function k($,H,ie){this.props=$,this.context=H,this.refs=j,this.updater=ie||b}var S=k.prototype=new O;S.constructor=k,w(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P($,H,ie){var he,ae={},ve=null,Pe=null;if(H!=null)for(he in H.ref!==void 0&&(Pe=H.ref),H.key!==void 0&&(ve=""+H.key),H)_.call(H,he)&&!T.hasOwnProperty(he)&&(ae[he]=H[he]);var ge=arguments.length-2;if(ge===1)ae.children=ie;else if(1<ge){for(var se=Array(ge),be=0;be<ge;be++)se[be]=arguments[be+2];ae.children=se}if($&&$.defaultProps)for(he in ge=$.defaultProps,ge)ae[he]===void 0&&(ae[he]=ge[he]);return{$$typeof:t,type:$,key:ve,ref:Pe,props:ae,_owner:A.current}}function M($,H){return{$$typeof:t,type:$.type,key:H,ref:$.ref,props:$.props,_owner:$._owner}}function U($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function D($){var H={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ie){return H[ie]})}var W=/\/+/g;function B($,H){return typeof $=="object"&&$!==null&&$.key!=null?D(""+$.key):H.toString(36)}function I($,H,ie,he,ae){var ve=typeof $;(ve==="undefined"||ve==="boolean")&&($=null);var Pe=!1;if($===null)Pe=!0;else switch(ve){case"string":case"number":Pe=!0;break;case"object":switch($.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=$,ae=ae(Pe),$=he===""?"."+B(Pe,0):he,E(ae)?(ie="",$!=null&&(ie=$.replace(W,"$&/")+"/"),I(ae,H,ie,"",function(be){return be})):ae!=null&&(U(ae)&&(ae=M(ae,ie+(!ae.key||Pe&&Pe.key===ae.key?"":(""+ae.key).replace(W,"$&/")+"/")+$)),H.push(ae)),1;if(Pe=0,he=he===""?".":he+":",E($))for(var ge=0;ge<$.length;ge++){ve=$[ge];var se=he+B(ve,ge);Pe+=I(ve,H,ie,se,ae)}else if(se=v($),typeof se=="function")for($=se.call($),ge=0;!(ve=$.next()).done;)ve=ve.value,se=he+B(ve,ge++),Pe+=I(ve,H,ie,se,ae);else if(ve==="object")throw H=String($),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Pe}function G($,H,ie){if($==null)return $;var he=[],ae=0;return I($,he,"","",function(ve){return H.call(ie,ve,ae++)}),he}function F($){if($._status===-1){var H=$._result;H=H(),H.then(function(ie){($._status===0||$._status===-1)&&($._status=1,$._result=ie)},function(ie){($._status===0||$._status===-1)&&($._status=2,$._result=ie)}),$._status===-1&&($._status=0,$._result=H)}if($._status===1)return $._result.default;throw $._result}var Z={current:null},K={transition:null},J={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:K,ReactCurrentOwner:A};function q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:G,forEach:function($,H,ie){G($,function(){H.apply(this,arguments)},ie)},count:function($){var H=0;return G($,function(){H++}),H},toArray:function($){return G($,function(H){return H})||[]},only:function($){if(!U($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=y,De.Fragment=r,De.Profiler=a,De.PureComponent=k,De.StrictMode=n,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,De.act=q,De.cloneElement=function($,H,ie){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var he=w({},$.props),ae=$.key,ve=$.ref,Pe=$._owner;if(H!=null){if(H.ref!==void 0&&(ve=H.ref,Pe=A.current),H.key!==void 0&&(ae=""+H.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(se in H)_.call(H,se)&&!T.hasOwnProperty(se)&&(he[se]=H[se]===void 0&&ge!==void 0?ge[se]:H[se])}var se=arguments.length-2;if(se===1)he.children=ie;else if(1<se){ge=Array(se);for(var be=0;be<se;be++)ge[be]=arguments[be+2];he.children=ge}return{$$typeof:t,type:$.type,key:ae,ref:ve,props:he,_owner:Pe}},De.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},De.createElement=P,De.createFactory=function($){var H=P.bind(null,$);return H.type=$,H},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:u,render:$}},De.isValidElement=U,De.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:F}},De.memo=function($,H){return{$$typeof:f,type:$,compare:H===void 0?null:H}},De.startTransition=function($){var H=K.transition;K.transition={};try{$()}finally{K.transition=H}},De.unstable_act=q,De.useCallback=function($,H){return Z.current.useCallback($,H)},De.useContext=function($){return Z.current.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($){return Z.current.useDeferredValue($)},De.useEffect=function($,H){return Z.current.useEffect($,H)},De.useId=function(){return Z.current.useId()},De.useImperativeHandle=function($,H,ie){return Z.current.useImperativeHandle($,H,ie)},De.useInsertionEffect=function($,H){return Z.current.useInsertionEffect($,H)},De.useLayoutEffect=function($,H){return Z.current.useLayoutEffect($,H)},De.useMemo=function($,H){return Z.current.useMemo($,H)},De.useReducer=function($,H,ie){return Z.current.useReducer($,H,ie)},De.useRef=function($){return Z.current.useRef($)},De.useState=function($){return Z.current.useState($)},De.useSyncExternalStore=function($,H,ie){return Z.current.useSyncExternalStore($,H,ie)},De.useTransition=function(){return Z.current.useTransition()},De.version="18.3.1",De}var k_;function jb(){return k_||(k_=1,dm.exports=SM()),dm.exports}var O_;function NM(){if(O_)return Qo;O_=1;var t=jb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var m,p={},v=null,b=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)n.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:e,type:u,key:v,ref:b,props:p,_owner:a.current}}return Qo.Fragment=r,Qo.jsx=o,Qo.jsxs=o,Qo}var E_;function kM(){return E_||(E_=1,um.exports=NM()),um.exports}var l=kM(),C=jb();const Y=tt(C);var qu={},fm={exports:{}},hr={},hm={exports:{}},pm={};var A_;function OM(){return A_||(A_=1,(function(t){function e(K,J){var q=K.length;K.push(J);e:for(;0<q;){var $=q-1>>>1,H=K[$];if(0<a(H,J))K[$]=J,K[q]=H,q=$;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],q=K.pop();if(q!==J){K[0]=q;e:for(var $=0,H=K.length,ie=H>>>1;$<ie;){var he=2*($+1)-1,ae=K[he],ve=he+1,Pe=K[ve];if(0>a(ae,q))ve<H&&0>a(Pe,ae)?(K[$]=Pe,K[ve]=q,$=ve):(K[$]=ae,K[he]=q,$=he);else if(ve<H&&0>a(Pe,q))K[$]=Pe,K[ve]=q,$=ve;else break e}}return J}function a(K,J){var q=K.sortIndex-J.sortIndex;return q!==0?q:K.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],m=1,p=null,v=3,b=!1,w=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=K)n(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function E(K){if(j=!1,S(K),!w)if(r(d)!==null)w=!0,F(_);else{var J=r(f);J!==null&&Z(E,J.startTime-K)}}function _(K,J){w=!1,j&&(j=!1,O(P),P=-1),b=!0;var q=v;try{for(S(J),p=r(d);p!==null&&(!(p.expirationTime>J)||K&&!D());){var $=p.callback;if(typeof $=="function"){p.callback=null,v=p.priorityLevel;var H=$(p.expirationTime<=J);J=t.unstable_now(),typeof H=="function"?p.callback=H:p===r(d)&&n(d),S(J)}else n(d);p=r(d)}if(p!==null)var ie=!0;else{var he=r(f);he!==null&&Z(E,he.startTime-J),ie=!1}return ie}finally{p=null,v=q,b=!1}}var A=!1,T=null,P=-1,M=5,U=-1;function D(){return!(t.unstable_now()-U<M)}function W(){if(T!==null){var K=t.unstable_now();U=K;var J=!0;try{J=T(!0,K)}finally{J?B():(A=!1,T=null)}}else A=!1}var B;if(typeof k=="function")B=function(){k(W)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=W,B=function(){G.postMessage(null)}}else B=function(){y(W,0)};function F(K){T=K,A||(A=!0,B())}function Z(K,J){P=y(function(){K(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,F(_))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var q=v;v=J;try{return K()}finally{v=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var q=v;v=K;try{return J()}finally{v=q}},t.unstable_scheduleCallback=function(K,J,q){var $=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,K={id:m++,callback:J,priorityLevel:K,startTime:q,expirationTime:H,sortIndex:-1},q>$?(K.sortIndex=q,e(f,K),r(d)===null&&K===r(f)&&(j?(O(P),P=-1):j=!0,Z(E,q-$))):(K.sortIndex=H,e(d,K),w||b||(w=!0,F(_))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var J=v;return function(){var q=v;v=J;try{return K.apply(this,arguments)}finally{v=q}}}})(pm)),pm}var C_;function EM(){return C_||(C_=1,hm.exports=OM()),hm.exports}var P_;function AM(){if(P_)return hr;P_=1;var t=jb(),e=EM();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,c){o(s,c),o(s+"Capture",c)}function o(s,c){for(a[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function v(s){return d.call(p,s)?!0:d.call(m,s)?!1:f.test(s)?p[s]=!0:(m[s]=!0,!1)}function b(s,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,c,h,g){if(c===null||typeof c>"u"||b(s,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(s,c,h,g,x,N,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=s,this.type=c,this.sanitizeURL=N,this.removeEmptyString=R}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new j(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(O,k);y[c]=new j(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(O,k);y[c]=new j(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(O,k);y[c]=new j(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,h,g){var x=y.hasOwnProperty(c)?y[c]:null;(x!==null?x.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,x,g)&&(h=null),g||x===null?v(c)&&(h===null?s.removeAttribute(c):s.setAttribute(c,""+h)):x.mustUseProperty?s[x.propertyName]=h===null?x.type===3?!1:"":h:(c=x.attributeName,g=x.attributeNamespace,h===null?s.removeAttribute(c):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?s.setAttributeNS(g,c,h):s.setAttribute(c,h))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),D=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),K=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,$;function H(s){if($===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+s}var ie=!1;function he(s,c){if(!s||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var g=re}Reflect.construct(s,[],c)}else{try{c.call()}catch(re){g=re}s.call(c.prototype)}else{try{throw Error()}catch(re){g=re}s()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),N=g.stack.split(`
`),R=x.length-1,L=N.length-1;1<=R&&0<=L&&x[R]!==N[L];)L--;for(;1<=R&&0<=L;R--,L--)if(x[R]!==N[L]){if(R!==1||L!==1)do if(R--,L--,0>L||x[R]!==N[L]){var z=`
`+x[R].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=R&&0<=L);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?H(s):""}function ae(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case A:return"Portal";case M:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case I:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case W:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return c=s.displayName||null,c!==null?c:ve(s.type)||"Memo";case F:c=s._payload,s=s._init;try{return ve(s(c))}catch{}}return null}function Pe(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(c);case 8:return c===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function se(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function be(s){var c=se(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,N=h.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return x.call(this)},set:function(R){g=""+R,N.call(this,R)}}),Object.defineProperty(s,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ne(s){s._valueTracker||(s._valueTracker=be(s))}function X(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return s&&(g=se(s)?s.checked?"true":"false":s.value),s=g,s!==h?(c.setValue(s),!0):!1}function $e(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Te(s,c){var h=c.checked;return q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Qe(s,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=ge(c.value!=null?c.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ze(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function ft(s,c){Ze(s,c);var h=ge(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?Gt(s,c.type,h):c.hasOwnProperty("defaultValue")&&Gt(s,c.type,ge(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function qt(s,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,h||c===s.value||(s.value=c),s.defaultValue=c}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Gt(s,c,h){(c!=="number"||$e(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var or=Array.isArray;function fe(s,c,h,g){if(s=s.options,c){c={};for(var x=0;x<h.length;x++)c["$"+h[x]]=!0;for(h=0;h<s.length;h++)x=c.hasOwnProperty("$"+s[h].value),s[h].selected!==x&&(s[h].selected=x),x&&g&&(s[h].defaultSelected=!0)}else{for(h=""+ge(h),c=null,x=0;x<s.length;x++){if(s[x].value===h){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}c!==null||s[x].disabled||(c=s[x])}c!==null&&(c.selected=!0)}}function ze(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ie(s,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(or(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}s._wrapperState={initialValue:ge(h)}}function wt(s,c){var h=ge(c.value),g=ge(c.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),c.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function ee(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function Re(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?Re(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Be,qe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,x){MSApp.execUnsafeLocalFunction(function(){return s(c,h,g,x)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Be.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Ut(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(s){wh.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Wa[c]=Wa[s]})});function Cc(s,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Wa.hasOwnProperty(s)&&Wa[s]?(""+c).trim():c+"px"}function Pc(s,c){s=s.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=Cc(h,c[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,x):s[h]=x}}var A4=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(s,c){if(c){if(A4[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function _h(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function Nh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kh=null,Ti=null,Ri=null;function Fw(s){if(s=Do(s)){if(typeof kh!="function")throw Error(r(280));var c=s.stateNode;c&&(c=eu(c),kh(s.stateNode,s.type,c))}}function zw(s){Ti?Ri?Ri.push(s):Ri=[s]:Ti=s}function Ww(){if(Ti){var s=Ti,c=Ri;if(Ri=Ti=null,Fw(s),c)for(s=0;s<c.length;s++)Fw(c[s])}}function Hw(s,c){return s(c)}function Vw(){}var Oh=!1;function Kw(s,c,h){if(Oh)return s(c,h);Oh=!0;try{return Hw(s,c,h)}finally{Oh=!1,(Ti!==null||Ri!==null)&&(Vw(),Ww())}}function go(s,c){var h=s.stateNode;if(h===null)return null;var g=eu(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Eh=!1;if(u)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Eh=!1}function C4(s,c,h,g,x,N,R,L,z){var re=Array.prototype.slice.call(arguments,3);try{c.apply(h,re)}catch(le){this.onError(le)}}var yo=!1,Tc=null,Rc=!1,Ah=null,P4={onError:function(s){yo=!0,Tc=s}};function T4(s,c,h,g,x,N,R,L,z){yo=!1,Tc=null,C4.apply(P4,arguments)}function R4(s,c,h,g,x,N,R,L,z){if(T4.apply(this,arguments),yo){if(yo){var re=Tc;yo=!1,Tc=null}else throw Error(r(198));Rc||(Rc=!0,Ah=re)}}function Ha(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function Gw(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Yw(s){if(Ha(s)!==s)throw Error(r(188))}function M4(s){var c=s.alternate;if(!c){if(c=Ha(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,g=c;;){var x=h.return;if(x===null)break;var N=x.alternate;if(N===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===h)return Yw(x),s;if(N===g)return Yw(x),c;N=N.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=N;else{for(var R=!1,L=x.child;L;){if(L===h){R=!0,h=x,g=N;break}if(L===g){R=!0,g=x,h=N;break}L=L.sibling}if(!R){for(L=N.child;L;){if(L===h){R=!0,h=N,g=x;break}if(L===g){R=!0,g=N,h=x;break}L=L.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function Xw(s){return s=M4(s),s!==null?Jw(s):null}function Jw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=Jw(s);if(c!==null)return c;s=s.sibling}return null}var Qw=e.unstable_scheduleCallback,Zw=e.unstable_cancelCallback,$4=e.unstable_shouldYield,I4=e.unstable_requestPaint,jt=e.unstable_now,D4=e.unstable_getCurrentPriorityLevel,Ch=e.unstable_ImmediatePriority,e1=e.unstable_UserBlockingPriority,Mc=e.unstable_NormalPriority,L4=e.unstable_LowPriority,t1=e.unstable_IdlePriority,$c=null,hn=null;function B4(s){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot($c,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:F4,q4=Math.log,U4=Math.LN2;function F4(s){return s>>>=0,s===0?32:31-(q4(s)/U4|0)|0}var Ic=64,Dc=4194304;function xo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Lc(s,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,x=s.suspendedLanes,N=s.pingedLanes,R=h&268435455;if(R!==0){var L=R&~x;L!==0?g=xo(L):(N&=R,N!==0&&(g=xo(N)))}else R=h&~x,R!==0?g=xo(R):N!==0&&(g=xo(N));if(g===0)return 0;if(c!==0&&c!==g&&(c&x)===0&&(x=g&-g,N=c&-c,x>=N||x===16&&(N&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)h=31-Hr(c),x=1<<h,g|=s[h],c&=~x;return g}function z4(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W4(s,c){for(var h=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,N=s.pendingLanes;0<N;){var R=31-Hr(N),L=1<<R,z=x[R];z===-1?((L&h)===0||(L&g)!==0)&&(x[R]=z4(L,c)):z<=c&&(s.expiredLanes|=L),N&=~L}}function Ph(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function r1(){var s=Ic;return Ic<<=1,(Ic&4194240)===0&&(Ic=64),s}function Th(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function bo(s,c,h){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-Hr(c),s[c]=h}function H4(s,c){var h=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var x=31-Hr(h),N=1<<x;c[x]=0,g[x]=-1,s[x]=-1,h&=~N}}function Rh(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var g=31-Hr(h),x=1<<g;x&c|s[g]&c&&(s[g]|=c),h&=~x}}var Je=0;function n1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var a1,Mh,i1,s1,o1,$h=!1,Bc=[],ia=null,sa=null,oa=null,wo=new Map,jo=new Map,la=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l1(s,c){switch(s){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":wo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(c.pointerId)}}function _o(s,c,h,g,x,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:N,targetContainers:[x]},c!==null&&(c=Do(c),c!==null&&Mh(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),s)}function K4(s,c,h,g,x){switch(c){case"focusin":return ia=_o(ia,s,c,h,g,x),!0;case"dragenter":return sa=_o(sa,s,c,h,g,x),!0;case"mouseover":return oa=_o(oa,s,c,h,g,x),!0;case"pointerover":var N=x.pointerId;return wo.set(N,_o(wo.get(N)||null,s,c,h,g,x)),!0;case"gotpointercapture":return N=x.pointerId,jo.set(N,_o(jo.get(N)||null,s,c,h,g,x)),!0}return!1}function c1(s){var c=Va(s.target);if(c!==null){var h=Ha(c);if(h!==null){if(c=h.tag,c===13){if(c=Gw(h),c!==null){s.blockedOn=c,o1(s.priority,function(){i1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qc(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=Dh(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Sh=g,h.target.dispatchEvent(g),Sh=null}else return c=Do(h),c!==null&&Mh(c),s.blockedOn=h,!1;c.shift()}return!0}function u1(s,c,h){qc(s)&&h.delete(c)}function G4(){$h=!1,ia!==null&&qc(ia)&&(ia=null),sa!==null&&qc(sa)&&(sa=null),oa!==null&&qc(oa)&&(oa=null),wo.forEach(u1),jo.forEach(u1)}function So(s,c){s.blockedOn===c&&(s.blockedOn=null,$h||($h=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G4)))}function No(s){function c(x){return So(x,s)}if(0<Bc.length){So(Bc[0],s);for(var h=1;h<Bc.length;h++){var g=Bc[h];g.blockedOn===s&&(g.blockedOn=null)}}for(ia!==null&&So(ia,s),sa!==null&&So(sa,s),oa!==null&&So(oa,s),wo.forEach(c),jo.forEach(c),h=0;h<la.length;h++)g=la[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<la.length&&(h=la[0],h.blockedOn===null);)c1(h),h.blockedOn===null&&la.shift()}var Mi=E.ReactCurrentBatchConfig,Uc=!0;function Y4(s,c,h,g){var x=Je,N=Mi.transition;Mi.transition=null;try{Je=1,Ih(s,c,h,g)}finally{Je=x,Mi.transition=N}}function X4(s,c,h,g){var x=Je,N=Mi.transition;Mi.transition=null;try{Je=4,Ih(s,c,h,g)}finally{Je=x,Mi.transition=N}}function Ih(s,c,h,g){if(Uc){var x=Dh(s,c,h,g);if(x===null)ep(s,c,g,Fc,h),l1(s,g);else if(K4(x,s,c,h,g))g.stopPropagation();else if(l1(s,g),c&4&&-1<V4.indexOf(s)){for(;x!==null;){var N=Do(x);if(N!==null&&a1(N),N=Dh(s,c,h,g),N===null&&ep(s,c,g,Fc,h),N===x)break;x=N}x!==null&&g.stopPropagation()}else ep(s,c,g,null,h)}}var Fc=null;function Dh(s,c,h,g){if(Fc=null,s=Nh(g),s=Va(s),s!==null)if(c=Ha(s),c===null)s=null;else if(h=c.tag,h===13){if(s=Gw(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Fc=s,null}function d1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D4()){case Ch:return 1;case e1:return 4;case Mc:case L4:return 16;case t1:return 536870912;default:return 16}default:return 16}}var ca=null,Lh=null,zc=null;function f1(){if(zc)return zc;var s,c=Lh,h=c.length,g,x="value"in ca?ca.value:ca.textContent,N=x.length;for(s=0;s<h&&c[s]===x[s];s++);var R=h-s;for(g=1;g<=R&&c[h-g]===x[N-g];g++);return zc=x.slice(s,1<g?1-g:void 0)}function Wc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Hc(){return!0}function h1(){return!1}function gr(s){function c(h,g,x,N,R){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(h=s[L],this[L]=h?h(N):N[L]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Hc:h1,this.isPropagationStopped=h1,this}return q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),c}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=gr($i),ko=q({},$i,{view:0,detail:0}),J4=gr(ko),qh,Uh,Oo,Vc=q({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oo&&(Oo&&s.type==="mousemove"?(qh=s.screenX-Oo.screenX,Uh=s.screenY-Oo.screenY):Uh=qh=0,Oo=s),qh)},movementY:function(s){return"movementY"in s?s.movementY:Uh}}),p1=gr(Vc),Q4=q({},Vc,{dataTransfer:0}),Z4=gr(Q4),eR=q({},ko,{relatedTarget:0}),Fh=gr(eR),tR=q({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=gr(tR),nR=q({},$i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),aR=gr(nR),iR=q({},$i,{data:0}),m1=gr(iR),sR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=lR[s])?!!c[s]:!1}function zh(){return cR}var uR=q({},ko,{key:function(s){if(s.key){var c=sR[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Wc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?oR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(s){return s.type==="keypress"?Wc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dR=gr(uR),fR=q({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g1=gr(fR),hR=q({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),pR=gr(hR),mR=q({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=gr(mR),vR=q({},Vc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=gr(vR),xR=[9,13,27,32],Wh=u&&"CompositionEvent"in window,Eo=null;u&&"documentMode"in document&&(Eo=document.documentMode);var bR=u&&"TextEvent"in window&&!Eo,v1=u&&(!Wh||Eo&&8<Eo&&11>=Eo),y1=" ",x1=!1;function b1(s,c){switch(s){case"keyup":return xR.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function wR(s,c){switch(s){case"compositionend":return w1(c);case"keypress":return c.which!==32?null:(x1=!0,y1);case"textInput":return s=c.data,s===y1&&x1?null:s;default:return null}}function jR(s,c){if(Ii)return s==="compositionend"||!Wh&&b1(s,c)?(s=f1(),zc=Lh=ca=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return v1&&c.locale!=="ko"?null:c.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j1(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!_R[s.type]:c==="textarea"}function _1(s,c,h,g){zw(g),c=Jc(c,"onChange"),0<c.length&&(h=new Bh("onChange","change",null,h,g),s.push({event:h,listeners:c}))}var Ao=null,Co=null;function SR(s){U1(s,0)}function Kc(s){var c=Ui(s);if(X(c))return s}function NR(s,c){if(s==="change")return c}var S1=!1;if(u){var Hh;if(u){var Vh="oninput"in document;if(!Vh){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Vh=typeof N1.oninput=="function"}Hh=Vh}else Hh=!1;S1=Hh&&(!document.documentMode||9<document.documentMode)}function k1(){Ao&&(Ao.detachEvent("onpropertychange",O1),Co=Ao=null)}function O1(s){if(s.propertyName==="value"&&Kc(Co)){var c=[];_1(c,Co,s,Nh(s)),Kw(SR,c)}}function kR(s,c,h){s==="focusin"?(k1(),Ao=c,Co=h,Ao.attachEvent("onpropertychange",O1)):s==="focusout"&&k1()}function OR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(Co)}function ER(s,c){if(s==="click")return Kc(c)}function AR(s,c){if(s==="input"||s==="change")return Kc(c)}function CR(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Vr=typeof Object.is=="function"?Object.is:CR;function Po(s,c){if(Vr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!d.call(c,x)||!Vr(s[x],c[x]))return!1}return!0}function E1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function A1(s,c){var h=E1(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=c&&g>=c)return{node:h,offset:c-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=E1(h)}}function C1(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?C1(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function P1(){for(var s=window,c=$e();c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=$e(s.document)}return c}function Kh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function PR(s){var c=P1(),h=s.focusedElem,g=s.selectionRange;if(c!==h&&h&&h.ownerDocument&&C1(h.ownerDocument.documentElement,h)){if(g!==null&&Kh(h)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(s,h.value.length);else if(s=(c=h.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var x=h.textContent.length,N=Math.min(g.start,x);g=g.end===void 0?N:Math.min(g.end,x),!s.extend&&N>g&&(x=g,g=N,N=x),x=A1(h,N);var R=A1(h,g);x&&R&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(x.node,x.offset),s.removeAllRanges(),N>g?(s.addRange(c),s.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),s.addRange(c)))}}for(c=[],s=h;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)s=c[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var TR=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Gh=null,To=null,Yh=!1;function T1(s,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yh||Di==null||Di!==$e(g)||(g=Di,"selectionStart"in g&&Kh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),To&&Po(To,g)||(To=g,g=Jc(Gh,"onSelect"),0<g.length&&(c=new Bh("onSelect","select",null,c,h),s.push({event:c,listeners:g}),c.target=Di)))}function Gc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var Li={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Xh={},R1={};u&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Yc(s){if(Xh[s])return Xh[s];if(!Li[s])return s;var c=Li[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in R1)return Xh[s]=c[h];return s}var M1=Yc("animationend"),$1=Yc("animationiteration"),I1=Yc("animationstart"),D1=Yc("transitionend"),L1=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(s,c){L1.set(s,c),i(c,[s])}for(var Jh=0;Jh<B1.length;Jh++){var Qh=B1[Jh],RR=Qh.toLowerCase(),MR=Qh[0].toUpperCase()+Qh.slice(1);ua(RR,"on"+MR)}ua(M1,"onAnimationEnd"),ua($1,"onAnimationIteration"),ua(I1,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(D1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function q1(s,c,h){var g=s.type||"unknown-event";s.currentTarget=h,R4(g,c,void 0,s),s.currentTarget=null}function U1(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],x=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var R=g.length-1;0<=R;R--){var L=g[R],z=L.instance,re=L.currentTarget;if(L=L.listener,z!==N&&x.isPropagationStopped())break e;q1(x,L,re),N=z}else for(R=0;R<g.length;R++){if(L=g[R],z=L.instance,re=L.currentTarget,L=L.listener,z!==N&&x.isPropagationStopped())break e;q1(x,L,re),N=z}}}if(Rc)throw s=Ah,Rc=!1,Ah=null,s}function st(s,c){var h=c[sp];h===void 0&&(h=c[sp]=new Set);var g=s+"__bubble";h.has(g)||(F1(c,s,2,!1),h.add(g))}function Zh(s,c,h){var g=0;c&&(g|=4),F1(h,s,g,c)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Mo(s){if(!s[Xc]){s[Xc]=!0,n.forEach(function(h){h!=="selectionchange"&&($R.has(h)||Zh(h,!1,s),Zh(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Xc]||(c[Xc]=!0,Zh("selectionchange",!1,c))}}function F1(s,c,h,g){switch(d1(c)){case 1:var x=Y4;break;case 4:x=X4;break;default:x=Ih}h=x.bind(null,c,h,s),x=void 0,!Eh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(c,h,{capture:!0,passive:x}):s.addEventListener(c,h,!0):x!==void 0?s.addEventListener(c,h,{passive:x}):s.addEventListener(c,h,!1)}function ep(s,c,h,g,x){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var L=g.stateNode.containerInfo;if(L===x||L.nodeType===8&&L.parentNode===x)break;if(R===4)for(R=g.return;R!==null;){var z=R.tag;if((z===3||z===4)&&(z=R.stateNode.containerInfo,z===x||z.nodeType===8&&z.parentNode===x))return;R=R.return}for(;L!==null;){if(R=Va(L),R===null)return;if(z=R.tag,z===5||z===6){g=N=R;continue e}L=L.parentNode}}g=g.return}Kw(function(){var re=N,le=Nh(h),ce=[];e:{var oe=L1.get(s);if(oe!==void 0){var me=Bh,we=s;switch(s){case"keypress":if(Wc(h)===0)break e;case"keydown":case"keyup":me=dR;break;case"focusin":we="focus",me=Fh;break;case"focusout":we="blur",me=Fh;break;case"beforeblur":case"afterblur":me=Fh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=p1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Z4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=pR;break;case M1:case $1:case I1:me=rR;break;case D1:me=gR;break;case"scroll":me=J4;break;case"wheel":me=yR;break;case"copy":case"cut":case"paste":me=aR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=g1}var je=(c&4)!==0,_t=!je&&s==="scroll",Q=je?oe!==null?oe+"Capture":null:oe;je=[];for(var V=re,te;V!==null;){te=V;var de=te.stateNode;if(te.tag===5&&de!==null&&(te=de,Q!==null&&(de=go(V,Q),de!=null&&je.push($o(V,de,te)))),_t)break;V=V.return}0<je.length&&(oe=new me(oe,we,null,h,le),ce.push({event:oe,listeners:je}))}}if((c&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",oe&&h!==Sh&&(we=h.relatedTarget||h.fromElement)&&(Va(we)||we[Cn]))break e;if((me||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,me?(we=h.relatedTarget||h.toElement,me=re,we=we?Va(we):null,we!==null&&(_t=Ha(we),we!==_t||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=re),me!==we)){if(je=p1,de="onMouseLeave",Q="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(je=g1,de="onPointerLeave",Q="onPointerEnter",V="pointer"),_t=me==null?oe:Ui(me),te=we==null?oe:Ui(we),oe=new je(de,V+"leave",me,h,le),oe.target=_t,oe.relatedTarget=te,de=null,Va(le)===re&&(je=new je(Q,V+"enter",we,h,le),je.target=te,je.relatedTarget=_t,de=je),_t=de,me&&we)t:{for(je=me,Q=we,V=0,te=je;te;te=Bi(te))V++;for(te=0,de=Q;de;de=Bi(de))te++;for(;0<V-te;)je=Bi(je),V--;for(;0<te-V;)Q=Bi(Q),te--;for(;V--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=Bi(je),Q=Bi(Q)}je=null}else je=null;me!==null&&z1(ce,oe,me,je,!1),we!==null&&_t!==null&&z1(ce,_t,we,je,!0)}}e:{if(oe=re?Ui(re):window,me=oe.nodeName&&oe.nodeName.toLowerCase(),me==="select"||me==="input"&&oe.type==="file")var _e=NR;else if(j1(oe))if(S1)_e=AR;else{_e=OR;var ke=kR}else(me=oe.nodeName)&&me.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(_e=ER);if(_e&&(_e=_e(s,re))){_1(ce,_e,h,le);break e}ke&&ke(s,oe,re),s==="focusout"&&(ke=oe._wrapperState)&&ke.controlled&&oe.type==="number"&&Gt(oe,"number",oe.value)}switch(ke=re?Ui(re):window,s){case"focusin":(j1(ke)||ke.contentEditable==="true")&&(Di=ke,Gh=re,To=null);break;case"focusout":To=Gh=Di=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,T1(ce,h,le);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":T1(ce,h,le)}var Oe;if(Wh)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ii?b1(s,h)&&(Me="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Me="onCompositionStart");Me&&(v1&&h.locale!=="ko"&&(Ii||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ii&&(Oe=f1()):(ca=le,Lh="value"in ca?ca.value:ca.textContent,Ii=!0)),ke=Jc(re,Me),0<ke.length&&(Me=new m1(Me,s,null,h,le),ce.push({event:Me,listeners:ke}),Oe?Me.data=Oe:(Oe=w1(h),Oe!==null&&(Me.data=Oe)))),(Oe=bR?wR(s,h):jR(s,h))&&(re=Jc(re,"onBeforeInput"),0<re.length&&(le=new m1("onBeforeInput","beforeinput",null,h,le),ce.push({event:le,listeners:re}),le.data=Oe))}U1(ce,c)})}function $o(s,c,h){return{instance:s,listener:c,currentTarget:h}}function Jc(s,c){for(var h=c+"Capture",g=[];s!==null;){var x=s,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=go(s,h),N!=null&&g.unshift($o(s,N,x)),N=go(s,c),N!=null&&g.push($o(s,N,x))),s=s.return}return g}function Bi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function z1(s,c,h,g,x){for(var N=c._reactName,R=[];h!==null&&h!==g;){var L=h,z=L.alternate,re=L.stateNode;if(z!==null&&z===g)break;L.tag===5&&re!==null&&(L=re,x?(z=go(h,N),z!=null&&R.unshift($o(h,z,L))):x||(z=go(h,N),z!=null&&R.push($o(h,z,L)))),h=h.return}R.length!==0&&s.push({event:c,listeners:R})}var IR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function W1(s){return(typeof s=="string"?s:""+s).replace(IR,`
`).replace(DR,"")}function Qc(s,c,h){if(c=W1(c),W1(s)!==c&&h)throw Error(r(425))}function Zc(){}var tp=null,rp=null;function np(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(s){return H1.resolve(null).then(s).catch(qR)}:ap;function qR(s){setTimeout(function(){throw s})}function ip(s,c){var h=c,g=0;do{var x=h.nextSibling;if(s.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){s.removeChild(x),No(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);No(c)}function da(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function V1(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return s;c--}else h==="/$"&&c++}s=s.previousSibling}return null}var qi=Math.random().toString(36).slice(2),pn="__reactFiber$"+qi,Io="__reactProps$"+qi,Cn="__reactContainer$"+qi,sp="__reactEvents$"+qi,UR="__reactListeners$"+qi,FR="__reactHandles$"+qi;function Va(s){var c=s[pn];if(c)return c;for(var h=s.parentNode;h;){if(c=h[Cn]||h[pn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=V1(s);s!==null;){if(h=s[pn])return h;s=V1(s)}return c}s=h,h=s.parentNode}return null}function Do(s){return s=s[pn]||s[Cn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ui(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function eu(s){return s[Io]||null}var op=[],Fi=-1;function fa(s){return{current:s}}function ot(s){0>Fi||(s.current=op[Fi],op[Fi]=null,Fi--)}function nt(s,c){Fi++,op[Fi]=s.current,s.current=c}var ha={},Yt=fa(ha),lr=fa(!1),Ka=ha;function zi(s,c){var h=s.type.contextTypes;if(!h)return ha;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in h)x[N]=c[N];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=x),x}function cr(s){return s=s.childContextTypes,s!=null}function tu(){ot(lr),ot(Yt)}function K1(s,c,h){if(Yt.current!==ha)throw Error(r(168));nt(Yt,c),nt(lr,h)}function G1(s,c,h){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in c))throw Error(r(108,Pe(s)||"Unknown",x));return q({},h,g)}function ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ha,Ka=Yt.current,nt(Yt,s),nt(lr,lr.current),!0}function Y1(s,c,h){var g=s.stateNode;if(!g)throw Error(r(169));h?(s=G1(s,c,Ka),g.__reactInternalMemoizedMergedChildContext=s,ot(lr),ot(Yt),nt(Yt,s)):ot(lr),nt(lr,h)}var Pn=null,nu=!1,lp=!1;function X1(s){Pn===null?Pn=[s]:Pn.push(s)}function zR(s){nu=!0,X1(s)}function pa(){if(!lp&&Pn!==null){lp=!0;var s=0,c=Je;try{var h=Pn;for(Je=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}Pn=null,nu=!1}catch(x){throw Pn!==null&&(Pn=Pn.slice(s+1)),Qw(Ch,pa),x}finally{Je=c,lp=!1}}return null}var Wi=[],Hi=0,au=null,iu=0,Ar=[],Cr=0,Ga=null,Tn=1,Rn="";function Ya(s,c){Wi[Hi++]=iu,Wi[Hi++]=au,au=s,iu=c}function J1(s,c,h){Ar[Cr++]=Tn,Ar[Cr++]=Rn,Ar[Cr++]=Ga,Ga=s;var g=Tn;s=Rn;var x=32-Hr(g)-1;g&=~(1<<x),h+=1;var N=32-Hr(c)+x;if(30<N){var R=x-x%5;N=(g&(1<<R)-1).toString(32),g>>=R,x-=R,Tn=1<<32-Hr(c)+x|h<<x|g,Rn=N+s}else Tn=1<<N|h<<x|g,Rn=s}function cp(s){s.return!==null&&(Ya(s,1),J1(s,1,0))}function up(s){for(;s===au;)au=Wi[--Hi],Wi[Hi]=null,iu=Wi[--Hi],Wi[Hi]=null;for(;s===Ga;)Ga=Ar[--Cr],Ar[Cr]=null,Rn=Ar[--Cr],Ar[Cr]=null,Tn=Ar[--Cr],Ar[Cr]=null}var vr=null,yr=null,ct=!1,Kr=null;function Q1(s,c){var h=Mr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=s,c=s.deletions,c===null?(s.deletions=[h],s.flags|=16):c.push(h)}function Z1(s,c){switch(s.tag){case 5:var h=s.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,vr=s,yr=da(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,vr=s,yr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ga!==null?{id:Tn,overflow:Rn}:null,s.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Mr(18,null,null,0),h.stateNode=c,h.return=s,s.child=h,vr=s,yr=null,!0):!1;default:return!1}}function dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function fp(s){if(ct){var c=yr;if(c){var h=c;if(!Z1(s,c)){if(dp(s))throw Error(r(418));c=da(h.nextSibling);var g=vr;c&&Z1(s,c)?Q1(g,h):(s.flags=s.flags&-4097|2,ct=!1,vr=s)}}else{if(dp(s))throw Error(r(418));s.flags=s.flags&-4097|2,ct=!1,vr=s}}}function ej(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function su(s){if(s!==vr)return!1;if(!ct)return ej(s),ct=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!np(s.type,s.memoizedProps)),c&&(c=yr)){if(dp(s))throw tj(),Error(r(418));for(;c;)Q1(s,c),c=da(c.nextSibling)}if(ej(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(c===0){yr=da(s.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}s=s.nextSibling}yr=null}}else yr=vr?da(s.stateNode.nextSibling):null;return!0}function tj(){for(var s=yr;s;)s=da(s.nextSibling)}function Vi(){yr=vr=null,ct=!1}function hp(s){Kr===null?Kr=[s]:Kr.push(s)}var WR=E.ReactCurrentBatchConfig;function Lo(s,c,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,s));var x=g,N=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(R){var L=x.refs;R===null?delete L[N]:L[N]=R},c._stringRef=N,c)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function ou(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function rj(s){var c=s._init;return c(s._payload)}function nj(s){function c(Q,V){if(s){var te=Q.deletions;te===null?(Q.deletions=[V],Q.flags|=16):te.push(V)}}function h(Q,V){if(!s)return null;for(;V!==null;)c(Q,V),V=V.sibling;return null}function g(Q,V){for(Q=new Map;V!==null;)V.key!==null?Q.set(V.key,V):Q.set(V.index,V),V=V.sibling;return Q}function x(Q,V){return Q=ja(Q,V),Q.index=0,Q.sibling=null,Q}function N(Q,V,te){return Q.index=te,s?(te=Q.alternate,te!==null?(te=te.index,te<V?(Q.flags|=2,V):te):(Q.flags|=2,V)):(Q.flags|=1048576,V)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,V,te,de){return V===null||V.tag!==6?(V=am(te,Q.mode,de),V.return=Q,V):(V=x(V,te),V.return=Q,V)}function z(Q,V,te,de){var _e=te.type;return _e===T?le(Q,V,te.props.children,de,te.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===F&&rj(_e)===V.type)?(de=x(V,te.props),de.ref=Lo(Q,V,te),de.return=Q,de):(de=Pu(te.type,te.key,te.props,null,Q.mode,de),de.ref=Lo(Q,V,te),de.return=Q,de)}function re(Q,V,te,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==te.containerInfo||V.stateNode.implementation!==te.implementation?(V=im(te,Q.mode,de),V.return=Q,V):(V=x(V,te.children||[]),V.return=Q,V)}function le(Q,V,te,de,_e){return V===null||V.tag!==7?(V=ni(te,Q.mode,de,_e),V.return=Q,V):(V=x(V,te),V.return=Q,V)}function ce(Q,V,te){if(typeof V=="string"&&V!==""||typeof V=="number")return V=am(""+V,Q.mode,te),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return te=Pu(V.type,V.key,V.props,null,Q.mode,te),te.ref=Lo(Q,null,V),te.return=Q,te;case A:return V=im(V,Q.mode,te),V.return=Q,V;case F:var de=V._init;return ce(Q,de(V._payload),te)}if(or(V)||J(V))return V=ni(V,Q.mode,te,null),V.return=Q,V;ou(Q,V)}return null}function oe(Q,V,te,de){var _e=V!==null?V.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return _e!==null?null:L(Q,V,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===_e?z(Q,V,te,de):null;case A:return te.key===_e?re(Q,V,te,de):null;case F:return _e=te._init,oe(Q,V,_e(te._payload),de)}if(or(te)||J(te))return _e!==null?null:le(Q,V,te,de,null);ou(Q,te)}return null}function me(Q,V,te,de,_e){if(typeof de=="string"&&de!==""||typeof de=="number")return Q=Q.get(te)||null,L(V,Q,""+de,_e);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return Q=Q.get(de.key===null?te:de.key)||null,z(V,Q,de,_e);case A:return Q=Q.get(de.key===null?te:de.key)||null,re(V,Q,de,_e);case F:var ke=de._init;return me(Q,V,te,ke(de._payload),_e)}if(or(de)||J(de))return Q=Q.get(te)||null,le(V,Q,de,_e,null);ou(V,de)}return null}function we(Q,V,te,de){for(var _e=null,ke=null,Oe=V,Me=V=0,Dt=null;Oe!==null&&Me<te.length;Me++){Oe.index>Me?(Dt=Oe,Oe=null):Dt=Oe.sibling;var Ve=oe(Q,Oe,te[Me],de);if(Ve===null){Oe===null&&(Oe=Dt);break}s&&Oe&&Ve.alternate===null&&c(Q,Oe),V=N(Ve,V,Me),ke===null?_e=Ve:ke.sibling=Ve,ke=Ve,Oe=Dt}if(Me===te.length)return h(Q,Oe),ct&&Ya(Q,Me),_e;if(Oe===null){for(;Me<te.length;Me++)Oe=ce(Q,te[Me],de),Oe!==null&&(V=N(Oe,V,Me),ke===null?_e=Oe:ke.sibling=Oe,ke=Oe);return ct&&Ya(Q,Me),_e}for(Oe=g(Q,Oe);Me<te.length;Me++)Dt=me(Oe,Q,Me,te[Me],de),Dt!==null&&(s&&Dt.alternate!==null&&Oe.delete(Dt.key===null?Me:Dt.key),V=N(Dt,V,Me),ke===null?_e=Dt:ke.sibling=Dt,ke=Dt);return s&&Oe.forEach(function(_a){return c(Q,_a)}),ct&&Ya(Q,Me),_e}function je(Q,V,te,de){var _e=J(te);if(typeof _e!="function")throw Error(r(150));if(te=_e.call(te),te==null)throw Error(r(151));for(var ke=_e=null,Oe=V,Me=V=0,Dt=null,Ve=te.next();Oe!==null&&!Ve.done;Me++,Ve=te.next()){Oe.index>Me?(Dt=Oe,Oe=null):Dt=Oe.sibling;var _a=oe(Q,Oe,Ve.value,de);if(_a===null){Oe===null&&(Oe=Dt);break}s&&Oe&&_a.alternate===null&&c(Q,Oe),V=N(_a,V,Me),ke===null?_e=_a:ke.sibling=_a,ke=_a,Oe=Dt}if(Ve.done)return h(Q,Oe),ct&&Ya(Q,Me),_e;if(Oe===null){for(;!Ve.done;Me++,Ve=te.next())Ve=ce(Q,Ve.value,de),Ve!==null&&(V=N(Ve,V,Me),ke===null?_e=Ve:ke.sibling=Ve,ke=Ve);return ct&&Ya(Q,Me),_e}for(Oe=g(Q,Oe);!Ve.done;Me++,Ve=te.next())Ve=me(Oe,Q,Me,Ve.value,de),Ve!==null&&(s&&Ve.alternate!==null&&Oe.delete(Ve.key===null?Me:Ve.key),V=N(Ve,V,Me),ke===null?_e=Ve:ke.sibling=Ve,ke=Ve);return s&&Oe.forEach(function(_M){return c(Q,_M)}),ct&&Ya(Q,Me),_e}function _t(Q,V,te,de){if(typeof te=="object"&&te!==null&&te.type===T&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var _e=te.key,ke=V;ke!==null;){if(ke.key===_e){if(_e=te.type,_e===T){if(ke.tag===7){h(Q,ke.sibling),V=x(ke,te.props.children),V.return=Q,Q=V;break e}}else if(ke.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===F&&rj(_e)===ke.type){h(Q,ke.sibling),V=x(ke,te.props),V.ref=Lo(Q,ke,te),V.return=Q,Q=V;break e}h(Q,ke);break}else c(Q,ke);ke=ke.sibling}te.type===T?(V=ni(te.props.children,Q.mode,de,te.key),V.return=Q,Q=V):(de=Pu(te.type,te.key,te.props,null,Q.mode,de),de.ref=Lo(Q,V,te),de.return=Q,Q=de)}return R(Q);case A:e:{for(ke=te.key;V!==null;){if(V.key===ke)if(V.tag===4&&V.stateNode.containerInfo===te.containerInfo&&V.stateNode.implementation===te.implementation){h(Q,V.sibling),V=x(V,te.children||[]),V.return=Q,Q=V;break e}else{h(Q,V);break}else c(Q,V);V=V.sibling}V=im(te,Q.mode,de),V.return=Q,Q=V}return R(Q);case F:return ke=te._init,_t(Q,V,ke(te._payload),de)}if(or(te))return we(Q,V,te,de);if(J(te))return je(Q,V,te,de);ou(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,V!==null&&V.tag===6?(h(Q,V.sibling),V=x(V,te),V.return=Q,Q=V):(h(Q,V),V=am(te,Q.mode,de),V.return=Q,Q=V),R(Q)):h(Q,V)}return _t}var Ki=nj(!0),aj=nj(!1),lu=fa(null),cu=null,Gi=null,pp=null;function mp(){pp=Gi=cu=null}function gp(s){var c=lu.current;ot(lu),s._currentValue=c}function vp(s,c,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===h)break;s=s.return}}function Yi(s,c){cu=s,pp=Gi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(ur=!0),s.firstContext=null)}function Pr(s){var c=s._currentValue;if(pp!==s)if(s={context:s,memoizedValue:c,next:null},Gi===null){if(cu===null)throw Error(r(308));Gi=s,cu.dependencies={lanes:0,firstContext:s}}else Gi=Gi.next=s;return c}var Xa=null;function yp(s){Xa===null?Xa=[s]:Xa.push(s)}function ij(s,c,h,g){var x=c.interleaved;return x===null?(h.next=h,yp(c)):(h.next=x.next,x.next=h),c.interleaved=h,Mn(s,g)}function Mn(s,c){s.lanes|=c;var h=s.alternate;for(h!==null&&(h.lanes|=c),h=s,s=s.return;s!==null;)s.childLanes|=c,h=s.alternate,h!==null&&(h.childLanes|=c),h=s,s=s.return;return h.tag===3?h.stateNode:null}var ma=!1;function xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sj(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function $n(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ga(s,c,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(We&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,Mn(s,h)}return x=g.interleaved,x===null?(c.next=c,yp(g)):(c.next=x.next,x.next=c),g.interleaved=c,Mn(s,h)}function uu(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Rh(s,h)}}function oj(s,c){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};N===null?x=N=R:N=N.next=R,h=h.next}while(h!==null);N===null?x=N=c:N=N.next=c}else x=N=c;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}function du(s,c,h,g){var x=s.updateQueue;ma=!1;var N=x.firstBaseUpdate,R=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var z=L,re=z.next;z.next=null,R===null?N=re:R.next=re,R=z;var le=s.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==R&&(L===null?le.firstBaseUpdate=re:L.next=re,le.lastBaseUpdate=z))}if(N!==null){var ce=x.baseState;R=0,le=re=z=null,L=N;do{var oe=L.lane,me=L.eventTime;if((g&oe)===oe){le!==null&&(le=le.next={eventTime:me,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var we=s,je=L;switch(oe=c,me=h,je.tag){case 1:if(we=je.payload,typeof we=="function"){ce=we.call(me,ce,oe);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,oe=typeof we=="function"?we.call(me,ce,oe):we,oe==null)break e;ce=q({},ce,oe);break e;case 2:ma=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,oe=x.effects,oe===null?x.effects=[L]:oe.push(L))}else me={eventTime:me,lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(re=le=me,z=ce):le=le.next=me,R|=oe;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);if(le===null&&(z=ce),x.baseState=z,x.firstBaseUpdate=re,x.lastBaseUpdate=le,c=x.shared.interleaved,c!==null){x=c;do R|=x.lane,x=x.next;while(x!==c)}else N===null&&(x.shared.lanes=0);Za|=R,s.lanes=R,s.memoizedState=ce}}function lj(s,c,h){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Bo={},mn=fa(Bo),qo=fa(Bo),Uo=fa(Bo);function Ja(s){if(s===Bo)throw Error(r(174));return s}function bp(s,c){switch(nt(Uo,c),nt(qo,s),nt(mn,Bo),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Xe(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Xe(c,s)}ot(mn),nt(mn,c)}function Xi(){ot(mn),ot(qo),ot(Uo)}function cj(s){Ja(Uo.current);var c=Ja(mn.current),h=Xe(c,s.type);c!==h&&(nt(qo,s),nt(mn,h))}function wp(s){qo.current===s&&(ot(mn),ot(qo))}var ht=fa(0);function fu(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var jp=[];function _p(){for(var s=0;s<jp.length;s++)jp[s]._workInProgressVersionPrimary=null;jp.length=0}var hu=E.ReactCurrentDispatcher,Sp=E.ReactCurrentBatchConfig,Qa=0,pt=null,Et=null,$t=null,pu=!1,Fo=!1,zo=0,HR=0;function Xt(){throw Error(r(321))}function Np(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!Vr(s[h],c[h]))return!1;return!0}function kp(s,c,h,g,x,N){if(Qa=N,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,hu.current=s===null||s.memoizedState===null?YR:XR,s=h(g,x),Fo){N=0;do{if(Fo=!1,zo=0,25<=N)throw Error(r(301));N+=1,$t=Et=null,c.updateQueue=null,hu.current=JR,s=h(g,x)}while(Fo)}if(hu.current=vu,c=Et!==null&&Et.next!==null,Qa=0,$t=Et=pt=null,pu=!1,c)throw Error(r(300));return s}function Op(){var s=zo!==0;return zo=0,s}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?pt.memoizedState=$t=s:$t=$t.next=s,$t}function Tr(){if(Et===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var c=$t===null?pt.memoizedState:$t.next;if(c!==null)$t=c,Et=s;else{if(s===null)throw Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},$t===null?pt.memoizedState=$t=s:$t=$t.next=s}return $t}function Wo(s,c){return typeof c=="function"?c(s):c}function Ep(s){var c=Tr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=Et,x=g.baseQueue,N=h.pending;if(N!==null){if(x!==null){var R=x.next;x.next=N.next,N.next=R}g.baseQueue=x=N,h.pending=null}if(x!==null){N=x.next,g=g.baseState;var L=R=null,z=null,re=N;do{var le=re.lane;if((Qa&le)===le)z!==null&&(z=z.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:s(g,re.action);else{var ce={lane:le,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};z===null?(L=z=ce,R=g):z=z.next=ce,pt.lanes|=le,Za|=le}re=re.next}while(re!==null&&re!==N);z===null?R=g:z.next=L,Vr(g,c.memoizedState)||(ur=!0),c.memoizedState=g,c.baseState=R,c.baseQueue=z,h.lastRenderedState=g}if(s=h.interleaved,s!==null){x=s;do N=x.lane,pt.lanes|=N,Za|=N,x=x.next;while(x!==s)}else x===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Ap(s){var c=Tr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,x=h.pending,N=c.memoizedState;if(x!==null){h.pending=null;var R=x=x.next;do N=s(N,R.action),R=R.next;while(R!==x);Vr(N,c.memoizedState)||(ur=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),h.lastRenderedState=N}return[N,g]}function uj(){}function dj(s,c){var h=pt,g=Tr(),x=c(),N=!Vr(g.memoizedState,x);if(N&&(g.memoizedState=x,ur=!0),g=g.queue,Cp(pj.bind(null,h,g,s),[s]),g.getSnapshot!==c||N||$t!==null&&$t.memoizedState.tag&1){if(h.flags|=2048,Ho(9,hj.bind(null,h,g,x,c),void 0,null),It===null)throw Error(r(349));(Qa&30)!==0||fj(h,c,x)}return x}function fj(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function hj(s,c,h,g){c.value=h,c.getSnapshot=g,mj(c)&&gj(s)}function pj(s,c,h){return h(function(){mj(c)&&gj(s)})}function mj(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!Vr(s,h)}catch{return!0}}function gj(s){var c=Mn(s,1);c!==null&&Jr(c,s,1,-1)}function vj(s){var c=gn();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:s},c.queue=s,s=s.dispatch=GR.bind(null,pt,s),[c.memoizedState,s]}function Ho(s,c,h,g){return s={tag:s,create:c,destroy:h,deps:g,next:null},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.lastEffect=s.next=s):(h=c.lastEffect,h===null?c.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,c.lastEffect=s)),s}function yj(){return Tr().memoizedState}function mu(s,c,h,g){var x=gn();pt.flags|=s,x.memoizedState=Ho(1|c,h,void 0,g===void 0?null:g)}function gu(s,c,h,g){var x=Tr();g=g===void 0?null:g;var N=void 0;if(Et!==null){var R=Et.memoizedState;if(N=R.destroy,g!==null&&Np(g,R.deps)){x.memoizedState=Ho(c,h,N,g);return}}pt.flags|=s,x.memoizedState=Ho(1|c,h,N,g)}function xj(s,c){return mu(8390656,8,s,c)}function Cp(s,c){return gu(2048,8,s,c)}function bj(s,c){return gu(4,2,s,c)}function wj(s,c){return gu(4,4,s,c)}function jj(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function _j(s,c,h){return h=h!=null?h.concat([s]):null,gu(4,4,jj.bind(null,c,s),h)}function Pp(){}function Sj(s,c){var h=Tr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Np(c,g[1])?g[0]:(h.memoizedState=[s,c],s)}function Nj(s,c){var h=Tr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Np(c,g[1])?g[0]:(s=s(),h.memoizedState=[s,c],s)}function kj(s,c,h){return(Qa&21)===0?(s.baseState&&(s.baseState=!1,ur=!0),s.memoizedState=h):(Vr(h,c)||(h=r1(),pt.lanes|=h,Za|=h,s.baseState=!0),c)}function VR(s,c){var h=Je;Je=h!==0&&4>h?h:4,s(!0);var g=Sp.transition;Sp.transition={};try{s(!1),c()}finally{Je=h,Sp.transition=g}}function Oj(){return Tr().memoizedState}function KR(s,c,h){var g=ba(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Ej(s))Aj(c,h);else if(h=ij(s,c,h,g),h!==null){var x=nr();Jr(h,s,g,x),Cj(h,c,g)}}function GR(s,c,h){var g=ba(s),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ej(s))Aj(c,x);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var R=c.lastRenderedState,L=N(R,h);if(x.hasEagerState=!0,x.eagerState=L,Vr(L,R)){var z=c.interleaved;z===null?(x.next=x,yp(c)):(x.next=z.next,z.next=x),c.interleaved=x;return}}catch{}h=ij(s,c,x,g),h!==null&&(x=nr(),Jr(h,s,g,x),Cj(h,c,g))}}function Ej(s){var c=s.alternate;return s===pt||c!==null&&c===pt}function Aj(s,c){Fo=pu=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function Cj(s,c,h){if((h&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Rh(s,h)}}var vu={readContext:Pr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},YR={readContext:Pr,useCallback:function(s,c){return gn().memoizedState=[s,c===void 0?null:c],s},useContext:Pr,useEffect:xj,useImperativeHandle:function(s,c,h){return h=h!=null?h.concat([s]):null,mu(4194308,4,jj.bind(null,c,s),h)},useLayoutEffect:function(s,c){return mu(4194308,4,s,c)},useInsertionEffect:function(s,c){return mu(4,2,s,c)},useMemo:function(s,c){var h=gn();return c=c===void 0?null:c,s=s(),h.memoizedState=[s,c],s},useReducer:function(s,c,h){var g=gn();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=KR.bind(null,pt,s),[g.memoizedState,s]},useRef:function(s){var c=gn();return s={current:s},c.memoizedState=s},useState:vj,useDebugValue:Pp,useDeferredValue:function(s){return gn().memoizedState=s},useTransition:function(){var s=vj(!1),c=s[0];return s=VR.bind(null,s[1]),gn().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,h){var g=pt,x=gn();if(ct){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),It===null)throw Error(r(349));(Qa&30)!==0||fj(g,c,h)}x.memoizedState=h;var N={value:h,getSnapshot:c};return x.queue=N,xj(pj.bind(null,g,N,s),[s]),g.flags|=2048,Ho(9,hj.bind(null,g,N,h,c),void 0,null),h},useId:function(){var s=gn(),c=It.identifierPrefix;if(ct){var h=Rn,g=Tn;h=(g&~(1<<32-Hr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=zo++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=HR++,c=":"+c+"r"+h.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},XR={readContext:Pr,useCallback:Sj,useContext:Pr,useEffect:Cp,useImperativeHandle:_j,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:Nj,useReducer:Ep,useRef:yj,useState:function(){return Ep(Wo)},useDebugValue:Pp,useDeferredValue:function(s){var c=Tr();return kj(c,Et.memoizedState,s)},useTransition:function(){var s=Ep(Wo)[0],c=Tr().memoizedState;return[s,c]},useMutableSource:uj,useSyncExternalStore:dj,useId:Oj,unstable_isNewReconciler:!1},JR={readContext:Pr,useCallback:Sj,useContext:Pr,useEffect:Cp,useImperativeHandle:_j,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:Nj,useReducer:Ap,useRef:yj,useState:function(){return Ap(Wo)},useDebugValue:Pp,useDeferredValue:function(s){var c=Tr();return Et===null?c.memoizedState=s:kj(c,Et.memoizedState,s)},useTransition:function(){var s=Ap(Wo)[0],c=Tr().memoizedState;return[s,c]},useMutableSource:uj,useSyncExternalStore:dj,useId:Oj,unstable_isNewReconciler:!1};function Gr(s,c){if(s&&s.defaultProps){c=q({},c),s=s.defaultProps;for(var h in s)c[h]===void 0&&(c[h]=s[h]);return c}return c}function Tp(s,c,h,g){c=s.memoizedState,h=h(g,c),h=h==null?c:q({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var yu={isMounted:function(s){return(s=s._reactInternals)?Ha(s)===s:!1},enqueueSetState:function(s,c,h){s=s._reactInternals;var g=nr(),x=ba(s),N=$n(g,x);N.payload=c,h!=null&&(N.callback=h),c=ga(s,N,x),c!==null&&(Jr(c,s,x,g),uu(c,s,x))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var g=nr(),x=ba(s),N=$n(g,x);N.tag=1,N.payload=c,h!=null&&(N.callback=h),c=ga(s,N,x),c!==null&&(Jr(c,s,x,g),uu(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=nr(),g=ba(s),x=$n(h,g);x.tag=2,c!=null&&(x.callback=c),c=ga(s,x,g),c!==null&&(Jr(c,s,g,h),uu(c,s,g))}};function Pj(s,c,h,g,x,N,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,N,R):c.prototype&&c.prototype.isPureReactComponent?!Po(h,g)||!Po(x,N):!0}function Tj(s,c,h){var g=!1,x=ha,N=c.contextType;return typeof N=="object"&&N!==null?N=Pr(N):(x=cr(c)?Ka:Yt.current,g=c.contextTypes,N=(g=g!=null)?zi(s,x):ha),c=new c(h,N),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=yu,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=N),c}function Rj(s,c,h,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==s&&yu.enqueueReplaceState(c,c.state,null)}function Rp(s,c,h,g){var x=s.stateNode;x.props=h,x.state=s.memoizedState,x.refs={},xp(s);var N=c.contextType;typeof N=="object"&&N!==null?x.context=Pr(N):(N=cr(c)?Ka:Yt.current,x.context=zi(s,N)),x.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Tp(s,c,N,h),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(c=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),c!==x.state&&yu.enqueueReplaceState(x,x.state,null),du(s,h,x,g),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,c){try{var h="",g=c;do h+=ae(g),g=g.return;while(g);var x=h}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:s,source:c,stack:x,digest:null}}function Mp(s,c,h){return{value:s,source:null,stack:h??null,digest:c??null}}function $p(s,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function Mj(s,c,h){h=$n(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){Nu||(Nu=!0,Xp=g),$p(s,c)},h}function $j(s,c,h){h=$n(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var x=c.value;h.payload=function(){return g(x)},h.callback=function(){$p(s,c)}}var N=s.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(h.callback=function(){$p(s,c),typeof g!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),h}function Ij(s,c,h){var g=s.pingCache;if(g===null){g=s.pingCache=new QR;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(h)||(x.add(h),s=fM.bind(null,s,c,h),c.then(s,s))}function Dj(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function Lj(s,c,h,g,x){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=$n(-1,1),c.tag=2,ga(h,c,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var ZR=E.ReactCurrentOwner,ur=!1;function rr(s,c,h,g){c.child=s===null?aj(c,null,h,g):Ki(c,s.child,h,g)}function Bj(s,c,h,g,x){h=h.render;var N=c.ref;return Yi(c,x),g=kp(s,c,h,g,N,x),h=Op(),s!==null&&!ur?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~x,In(s,c,x)):(ct&&h&&cp(c),c.flags|=1,rr(s,c,g,x),c.child)}function qj(s,c,h,g,x){if(s===null){var N=h.type;return typeof N=="function"&&!nm(N)&&N.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=N,Uj(s,c,N,g,x)):(s=Pu(h.type,null,g,c,c.mode,x),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,(s.lanes&x)===0){var R=N.memoizedProps;if(h=h.compare,h=h!==null?h:Po,h(R,g)&&s.ref===c.ref)return In(s,c,x)}return c.flags|=1,s=ja(N,g),s.ref=c.ref,s.return=c,c.child=s}function Uj(s,c,h,g,x){if(s!==null){var N=s.memoizedProps;if(Po(N,g)&&s.ref===c.ref)if(ur=!1,c.pendingProps=g=N,(s.lanes&x)!==0)(s.flags&131072)!==0&&(ur=!0);else return c.lanes=s.lanes,In(s,c,x)}return Ip(s,c,h,g,x)}function Fj(s,c,h){var g=c.pendingProps,x=g.children,N=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Zi,xr),xr|=h;else{if((h&1073741824)===0)return s=N!==null?N.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,nt(Zi,xr),xr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:h,nt(Zi,xr),xr|=g}else N!==null?(g=N.baseLanes|h,c.memoizedState=null):g=h,nt(Zi,xr),xr|=g;return rr(s,c,x,h),c.child}function zj(s,c){var h=c.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Ip(s,c,h,g,x){var N=cr(h)?Ka:Yt.current;return N=zi(c,N),Yi(c,x),h=kp(s,c,h,g,N,x),g=Op(),s!==null&&!ur?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~x,In(s,c,x)):(ct&&g&&cp(c),c.flags|=1,rr(s,c,h,x),c.child)}function Wj(s,c,h,g,x){if(cr(h)){var N=!0;ru(c)}else N=!1;if(Yi(c,x),c.stateNode===null)bu(s,c),Tj(c,h,g),Rp(c,h,g,x),g=!0;else if(s===null){var R=c.stateNode,L=c.memoizedProps;R.props=L;var z=R.context,re=h.contextType;typeof re=="object"&&re!==null?re=Pr(re):(re=cr(h)?Ka:Yt.current,re=zi(c,re));var le=h.getDerivedStateFromProps,ce=typeof le=="function"||typeof R.getSnapshotBeforeUpdate=="function";ce||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(L!==g||z!==re)&&Rj(c,R,g,re),ma=!1;var oe=c.memoizedState;R.state=oe,du(c,g,R,x),z=c.memoizedState,L!==g||oe!==z||lr.current||ma?(typeof le=="function"&&(Tp(c,h,le,g),z=c.memoizedState),(L=ma||Pj(c,h,L,g,oe,z,re))?(ce||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=z),R.props=g,R.state=z,R.context=re,g=L):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{R=c.stateNode,sj(s,c),L=c.memoizedProps,re=c.type===c.elementType?L:Gr(c.type,L),R.props=re,ce=c.pendingProps,oe=R.context,z=h.contextType,typeof z=="object"&&z!==null?z=Pr(z):(z=cr(h)?Ka:Yt.current,z=zi(c,z));var me=h.getDerivedStateFromProps;(le=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(L!==ce||oe!==z)&&Rj(c,R,g,z),ma=!1,oe=c.memoizedState,R.state=oe,du(c,g,R,x);var we=c.memoizedState;L!==ce||oe!==we||lr.current||ma?(typeof me=="function"&&(Tp(c,h,me,g),we=c.memoizedState),(re=ma||Pj(c,h,re,g,oe,we,z)||!1)?(le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(g,we,z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(g,we,z)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=we),R.props=g,R.state=we,R.context=z,g=re):(typeof R.componentDidUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(c.flags|=1024),g=!1)}return Dp(s,c,h,g,N,x)}function Dp(s,c,h,g,x,N){zj(s,c);var R=(c.flags&128)!==0;if(!g&&!R)return x&&Y1(c,h,!1),In(s,c,N);g=c.stateNode,ZR.current=c;var L=R&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&R?(c.child=Ki(c,s.child,null,N),c.child=Ki(c,null,L,N)):rr(s,c,L,N),c.memoizedState=g.state,x&&Y1(c,h,!0),c.child}function Hj(s){var c=s.stateNode;c.pendingContext?K1(s,c.pendingContext,c.pendingContext!==c.context):c.context&&K1(s,c.context,!1),bp(s,c.containerInfo)}function Vj(s,c,h,g,x){return Vi(),hp(x),c.flags|=256,rr(s,c,h,g),c.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function Bp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Kj(s,c,h){var g=c.pendingProps,x=ht.current,N=!1,R=(c.flags&128)!==0,L;if((L=R)||(L=s!==null&&s.memoizedState===null?!1:(x&2)!==0),L?(N=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),nt(ht,x&1),s===null)return fp(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(R=g.children,s=g.fallback,N?(g=c.mode,N=c.child,R={mode:"hidden",children:R},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=Tu(R,g,0,null),s=ni(s,g,h,null),N.return=c,s.return=c,N.sibling=s,c.child=N,c.child.memoizedState=Bp(h),c.memoizedState=Lp,s):qp(c,R));if(x=s.memoizedState,x!==null&&(L=x.dehydrated,L!==null))return eM(s,c,R,g,L,x,h);if(N){N=g.fallback,R=c.mode,x=s.child,L=x.sibling;var z={mode:"hidden",children:g.children};return(R&1)===0&&c.child!==x?(g=c.child,g.childLanes=0,g.pendingProps=z,c.deletions=null):(g=ja(x,z),g.subtreeFlags=x.subtreeFlags&14680064),L!==null?N=ja(L,N):(N=ni(N,R,h,null),N.flags|=2),N.return=c,g.return=c,g.sibling=N,c.child=g,g=N,N=c.child,R=s.child.memoizedState,R=R===null?Bp(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=s.childLanes&~h,c.memoizedState=Lp,g}return N=s.child,s=N.sibling,g=ja(N,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,s!==null&&(h=c.deletions,h===null?(c.deletions=[s],c.flags|=16):h.push(s)),c.child=g,c.memoizedState=null,g}function qp(s,c){return c=Tu({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function xu(s,c,h,g){return g!==null&&hp(g),Ki(c,s.child,null,h),s=qp(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function eM(s,c,h,g,x,N,R){if(h)return c.flags&256?(c.flags&=-257,g=Mp(Error(r(422))),xu(s,c,R,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(N=g.fallback,x=c.mode,g=Tu({mode:"visible",children:g.children},x,0,null),N=ni(N,x,R,null),N.flags|=2,g.return=c,N.return=c,g.sibling=N,c.child=g,(c.mode&1)!==0&&Ki(c,s.child,null,R),c.child.memoizedState=Bp(R),c.memoizedState=Lp,N);if((c.mode&1)===0)return xu(s,c,R,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var L=g.dgst;return g=L,N=Error(r(419)),g=Mp(N,g,void 0),xu(s,c,R,g)}if(L=(R&s.childLanes)!==0,ur||L){if(g=It,g!==null){switch(R&-R){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|R))!==0?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,Mn(s,x),Jr(g,s,x,-1))}return rm(),g=Mp(Error(r(421))),xu(s,c,R,g)}return x.data==="$?"?(c.flags|=128,c.child=s.child,c=hM.bind(null,s),x._reactRetry=c,null):(s=N.treeContext,yr=da(x.nextSibling),vr=c,ct=!0,Kr=null,s!==null&&(Ar[Cr++]=Tn,Ar[Cr++]=Rn,Ar[Cr++]=Ga,Tn=s.id,Rn=s.overflow,Ga=c),c=qp(c,g.children),c.flags|=4096,c)}function Gj(s,c,h){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),vp(s.return,c,h)}function Up(s,c,h,g,x){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=h,N.tailMode=x)}function Yj(s,c,h){var g=c.pendingProps,x=g.revealOrder,N=g.tail;if(rr(s,c,g.children,h),g=ht.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gj(s,h,c);else if(s.tag===19)Gj(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(nt(ht,g),(c.mode&1)===0)c.memoizedState=null;else switch(x){case"forwards":for(h=c.child,x=null;h!==null;)s=h.alternate,s!==null&&fu(s)===null&&(x=h),h=h.sibling;h=x,h===null?(x=c.child,c.child=null):(x=h.sibling,h.sibling=null),Up(c,!1,x,h,N);break;case"backwards":for(h=null,x=c.child,c.child=null;x!==null;){if(s=x.alternate,s!==null&&fu(s)===null){c.child=x;break}s=x.sibling,x.sibling=h,h=x,x=s}Up(c,!0,h,null,N);break;case"together":Up(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function bu(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function In(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),Za|=c.lanes,(h&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=ja(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=ja(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function tM(s,c,h){switch(c.tag){case 3:Hj(c),Vi();break;case 5:cj(c);break;case 1:cr(c.type)&&ru(c);break;case 4:bp(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,x=c.memoizedProps.value;nt(lu,g._currentValue),g._currentValue=x;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(nt(ht,ht.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Kj(s,c,h):(nt(ht,ht.current&1),s=In(s,c,h),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(s.flags&128)!==0){if(g)return Yj(s,c,h);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),nt(ht,ht.current),g)break;return null;case 22:case 23:return c.lanes=0,Fj(s,c,h)}return In(s,c,h)}var Xj,Fp,Jj,Qj;Xj=function(s,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Fp=function(){},Jj=function(s,c,h,g){var x=s.memoizedProps;if(x!==g){s=c.stateNode,Ja(mn.current);var N=null;switch(h){case"input":x=Te(s,x),g=Te(s,g),N=[];break;case"select":x=q({},x,{value:void 0}),g=q({},g,{value:void 0}),N=[];break;case"textarea":x=ze(s,x),g=ze(s,g),N=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Zc)}jh(h,g);var R;h=null;for(re in x)if(!g.hasOwnProperty(re)&&x.hasOwnProperty(re)&&x[re]!=null)if(re==="style"){var L=x[re];for(R in L)L.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?N||(N=[]):(N=N||[]).push(re,null));for(re in g){var z=g[re];if(L=x?.[re],g.hasOwnProperty(re)&&z!==L&&(z!=null||L!=null))if(re==="style")if(L){for(R in L)!L.hasOwnProperty(R)||z&&z.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in z)z.hasOwnProperty(R)&&L[R]!==z[R]&&(h||(h={}),h[R]=z[R])}else h||(N||(N=[]),N.push(re,h)),h=z;else re==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(N=N||[]).push(re,z)):re==="children"?typeof z!="string"&&typeof z!="number"||(N=N||[]).push(re,""+z):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(z!=null&&re==="onScroll"&&st("scroll",s),N||L===z||(N=[])):(N=N||[]).push(re,z))}h&&(N=N||[]).push("style",h);var re=N;(c.updateQueue=re)&&(c.flags|=4)}},Qj=function(s,c,h,g){h!==g&&(c.flags|=4)};function Vo(s,c){if(!ct)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Jt(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(c)for(var x=s.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=h,c}function rM(s,c,h){var g=c.pendingProps;switch(up(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(c),null;case 1:return cr(c.type)&&tu(),Jt(c),null;case 3:return g=c.stateNode,Xi(),ot(lr),ot(Yt),_p(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(su(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Kr!==null&&(Zp(Kr),Kr=null))),Fp(s,c),Jt(c),null;case 5:wp(c);var x=Ja(Uo.current);if(h=c.type,s!==null&&c.stateNode!=null)Jj(s,c,h,g,x),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Jt(c),null}if(s=Ja(mn.current),su(c)){g=c.stateNode,h=c.type;var N=c.memoizedProps;switch(g[pn]=c,g[Io]=N,s=(c.mode&1)!==0,h){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(x=0;x<Ro.length;x++)st(Ro[x],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":Qe(g,N),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},st("invalid",g);break;case"textarea":Ie(g,N),st("invalid",g)}jh(h,N),x=null;for(var R in N)if(N.hasOwnProperty(R)){var L=N[R];R==="children"?typeof L=="string"?g.textContent!==L&&(N.suppressHydrationWarning!==!0&&Qc(g.textContent,L,s),x=["children",L]):typeof L=="number"&&g.textContent!==""+L&&(N.suppressHydrationWarning!==!0&&Qc(g.textContent,L,s),x=["children",""+L]):a.hasOwnProperty(R)&&L!=null&&R==="onScroll"&&st("scroll",g)}switch(h){case"input":Ne(g),qt(g,N,!0);break;case"textarea":Ne(g),ee(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=Zc)}g=x,c.updateQueue=g,g!==null&&(c.flags|=4)}else{R=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Re(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=R.createElement(h,{is:g.is}):(s=R.createElement(h),h==="select"&&(R=s,g.multiple?R.multiple=!0:g.size&&(R.size=g.size))):s=R.createElementNS(s,h),s[pn]=c,s[Io]=g,Xj(s,c,!1,!1),c.stateNode=s;e:{switch(R=_h(h,g),h){case"dialog":st("cancel",s),st("close",s),x=g;break;case"iframe":case"object":case"embed":st("load",s),x=g;break;case"video":case"audio":for(x=0;x<Ro.length;x++)st(Ro[x],s);x=g;break;case"source":st("error",s),x=g;break;case"img":case"image":case"link":st("error",s),st("load",s),x=g;break;case"details":st("toggle",s),x=g;break;case"input":Qe(s,g),x=Te(s,g),st("invalid",s);break;case"option":x=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},x=q({},g,{value:void 0}),st("invalid",s);break;case"textarea":Ie(s,g),x=ze(s,g),st("invalid",s);break;default:x=g}jh(h,x),L=x;for(N in L)if(L.hasOwnProperty(N)){var z=L[N];N==="style"?Pc(s,z):N==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&qe(s,z)):N==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&Ut(s,z):typeof z=="number"&&Ut(s,""+z):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?z!=null&&N==="onScroll"&&st("scroll",s):z!=null&&S(s,N,z,R))}switch(h){case"input":Ne(s),qt(s,g,!1);break;case"textarea":Ne(s),ee(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ge(g.value));break;case"select":s.multiple=!!g.multiple,N=g.value,N!=null?fe(s,!!g.multiple,N,!1):g.defaultValue!=null&&fe(s,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Zc)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Jt(c),null;case 6:if(s&&c.stateNode!=null)Qj(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(h=Ja(Uo.current),Ja(mn.current),su(c)){if(g=c.stateNode,h=c.memoizedProps,g[pn]=c,(N=g.nodeValue!==h)&&(s=vr,s!==null))switch(s.tag){case 3:Qc(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Qc(g.nodeValue,h,(s.mode&1)!==0)}N&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[pn]=c,c.stateNode=g}return Jt(c),null;case 13:if(ot(ht),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&yr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)tj(),Vi(),c.flags|=98560,N=!1;else if(N=su(c),g!==null&&g.dehydrated!==null){if(s===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[pn]=c}else Vi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Jt(c),N=!1}else Kr!==null&&(Zp(Kr),Kr=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(ht.current&1)!==0?At===0&&(At=3):rm())),c.updateQueue!==null&&(c.flags|=4),Jt(c),null);case 4:return Xi(),Fp(s,c),s===null&&Mo(c.stateNode.containerInfo),Jt(c),null;case 10:return gp(c.type._context),Jt(c),null;case 17:return cr(c.type)&&tu(),Jt(c),null;case 19:if(ot(ht),N=c.memoizedState,N===null)return Jt(c),null;if(g=(c.flags&128)!==0,R=N.rendering,R===null)if(g)Vo(N,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(R=fu(s),R!==null){for(c.flags|=128,Vo(N,!1),g=R.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)N=h,s=g,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=s,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,s=R.dependencies,N.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return nt(ht,ht.current&1|2),c.child}s=s.sibling}N.tail!==null&&jt()>es&&(c.flags|=128,g=!0,Vo(N,!1),c.lanes=4194304)}else{if(!g)if(s=fu(R),s!==null){if(c.flags|=128,g=!0,h=s.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Vo(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!ct)return Jt(c),null}else 2*jt()-N.renderingStartTime>es&&h!==1073741824&&(c.flags|=128,g=!0,Vo(N,!1),c.lanes=4194304);N.isBackwards?(R.sibling=c.child,c.child=R):(h=N.last,h!==null?h.sibling=R:c.child=R,N.last=R)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=jt(),c.sibling=null,h=ht.current,nt(ht,g?h&1|2:h&1),c):(Jt(c),null);case 22:case 23:return tm(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Jt(c),c.subtreeFlags&6&&(c.flags|=8192)):Jt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function nM(s,c){switch(up(c),c.tag){case 1:return cr(c.type)&&tu(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Xi(),ot(lr),ot(Yt),_p(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return wp(c),null;case 13:if(ot(ht),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Vi()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return ot(ht),null;case 4:return Xi(),null;case 10:return gp(c.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var wu=!1,Qt=!1,aM=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Qi(s,c){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){vt(s,c,g)}else h.current=null}function zp(s,c,h){try{h()}catch(g){vt(s,c,g)}}var Zj=!1;function iM(s,c){if(tp=Uc,s=P1(),Kh(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var R=0,L=-1,z=-1,re=0,le=0,ce=s,oe=null;t:for(;;){for(var me;ce!==h||x!==0&&ce.nodeType!==3||(L=R+x),ce!==N||g!==0&&ce.nodeType!==3||(z=R+g),ce.nodeType===3&&(R+=ce.nodeValue.length),(me=ce.firstChild)!==null;)oe=ce,ce=me;for(;;){if(ce===s)break t;if(oe===h&&++re===x&&(L=R),oe===N&&++le===g&&(z=R),(me=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=me}h=L===-1||z===-1?null:{start:L,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(rp={focusedElem:s,selectionRange:h},Uc=!1,ye=c;ye!==null;)if(c=ye,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ye=s;else for(;ye!==null;){c=ye;try{var we=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,_t=we.memoizedState,Q=c.stateNode,V=Q.getSnapshotBeforeUpdate(c.elementType===c.type?je:Gr(c.type,je),_t);Q.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){vt(c,c.return,de)}if(s=c.sibling,s!==null){s.return=c.return,ye=s;break}ye=c.return}return we=Zj,Zj=!1,we}function Ko(s,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&s)===s){var N=x.destroy;x.destroy=void 0,N!==void 0&&zp(c,h,N)}x=x.next}while(x!==g)}}function ju(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function Wp(s){var c=s.ref;if(c!==null){var h=s.stateNode;s.tag,s=h,typeof c=="function"?c(s):c.current=s}}function e_(s){var c=s.alternate;c!==null&&(s.alternate=null,e_(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[pn],delete c[Io],delete c[sp],delete c[UR],delete c[FR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function t_(s){return s.tag===5||s.tag===3||s.tag===4}function r_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hp(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(s,c):h.insertBefore(s,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(s,h)):(c=h,c.appendChild(s)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Zc));else if(g!==4&&(s=s.child,s!==null))for(Hp(s,c,h),s=s.sibling;s!==null;)Hp(s,c,h),s=s.sibling}function Vp(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Vp(s,c,h),s=s.sibling;s!==null;)Vp(s,c,h),s=s.sibling}var Ft=null,Yr=!1;function va(s,c,h){for(h=h.child;h!==null;)n_(s,c,h),h=h.sibling}function n_(s,c,h){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount($c,h)}catch{}switch(h.tag){case 5:Qt||Qi(h,c);case 6:var g=Ft,x=Yr;Ft=null,va(s,c,h),Ft=g,Yr=x,Ft!==null&&(Yr?(s=Ft,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Ft.removeChild(h.stateNode));break;case 18:Ft!==null&&(Yr?(s=Ft,h=h.stateNode,s.nodeType===8?ip(s.parentNode,h):s.nodeType===1&&ip(s,h),No(s)):ip(Ft,h.stateNode));break;case 4:g=Ft,x=Yr,Ft=h.stateNode.containerInfo,Yr=!0,va(s,c,h),Ft=g,Yr=x;break;case 0:case 11:case 14:case 15:if(!Qt&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var N=x,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&zp(h,c,R),x=x.next}while(x!==g)}va(s,c,h);break;case 1:if(!Qt&&(Qi(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(L){vt(h,c,L)}va(s,c,h);break;case 21:va(s,c,h);break;case 22:h.mode&1?(Qt=(g=Qt)||h.memoizedState!==null,va(s,c,h),Qt=g):va(s,c,h);break;default:va(s,c,h)}}function a_(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new aM),c.forEach(function(g){var x=pM.bind(null,s,g);h.has(g)||(h.add(g),g.then(x,x))})}}function Xr(s,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var N=s,R=c,L=R;e:for(;L!==null;){switch(L.tag){case 5:Ft=L.stateNode,Yr=!1;break e;case 3:Ft=L.stateNode.containerInfo,Yr=!0;break e;case 4:Ft=L.stateNode.containerInfo,Yr=!0;break e}L=L.return}if(Ft===null)throw Error(r(160));n_(N,R,x),Ft=null,Yr=!1;var z=x.alternate;z!==null&&(z.return=null),x.return=null}catch(re){vt(x,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)i_(c,s),c=c.sibling}function i_(s,c){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xr(c,s),vn(s),g&4){try{Ko(3,s,s.return),ju(3,s)}catch(je){vt(s,s.return,je)}try{Ko(5,s,s.return)}catch(je){vt(s,s.return,je)}}break;case 1:Xr(c,s),vn(s),g&512&&h!==null&&Qi(h,h.return);break;case 5:if(Xr(c,s),vn(s),g&512&&h!==null&&Qi(h,h.return),s.flags&32){var x=s.stateNode;try{Ut(x,"")}catch(je){vt(s,s.return,je)}}if(g&4&&(x=s.stateNode,x!=null)){var N=s.memoizedProps,R=h!==null?h.memoizedProps:N,L=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{L==="input"&&N.type==="radio"&&N.name!=null&&Ze(x,N),_h(L,R);var re=_h(L,N);for(R=0;R<z.length;R+=2){var le=z[R],ce=z[R+1];le==="style"?Pc(x,ce):le==="dangerouslySetInnerHTML"?qe(x,ce):le==="children"?Ut(x,ce):S(x,le,ce,re)}switch(L){case"input":ft(x,N);break;case"textarea":wt(x,N);break;case"select":var oe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var me=N.value;me!=null?fe(x,!!N.multiple,me,!1):oe!==!!N.multiple&&(N.defaultValue!=null?fe(x,!!N.multiple,N.defaultValue,!0):fe(x,!!N.multiple,N.multiple?[]:"",!1))}x[Io]=N}catch(je){vt(s,s.return,je)}}break;case 6:if(Xr(c,s),vn(s),g&4){if(s.stateNode===null)throw Error(r(162));x=s.stateNode,N=s.memoizedProps;try{x.nodeValue=N}catch(je){vt(s,s.return,je)}}break;case 3:if(Xr(c,s),vn(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{No(c.containerInfo)}catch(je){vt(s,s.return,je)}break;case 4:Xr(c,s),vn(s);break;case 13:Xr(c,s),vn(s),x=s.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||(Yp=jt())),g&4&&a_(s);break;case 22:if(le=h!==null&&h.memoizedState!==null,s.mode&1?(Qt=(re=Qt)||le,Xr(c,s),Qt=re):Xr(c,s),vn(s),g&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!le&&(s.mode&1)!==0)for(ye=s,le=s.child;le!==null;){for(ce=ye=le;ye!==null;){switch(oe=ye,me=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ko(4,oe,oe.return);break;case 1:Qi(oe,oe.return);var we=oe.stateNode;if(typeof we.componentWillUnmount=="function"){g=oe,h=oe.return;try{c=g,we.props=c.memoizedProps,we.state=c.memoizedState,we.componentWillUnmount()}catch(je){vt(g,h,je)}}break;case 5:Qi(oe,oe.return);break;case 22:if(oe.memoizedState!==null){l_(ce);continue}}me!==null?(me.return=oe,ye=me):l_(ce)}le=le.sibling}e:for(le=null,ce=s;;){if(ce.tag===5){if(le===null){le=ce;try{x=ce.stateNode,re?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(L=ce.stateNode,z=ce.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Cc("display",R))}catch(je){vt(s,s.return,je)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=re?"":ce.memoizedProps}catch(je){vt(s,s.return,je)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Xr(c,s),vn(s),g&4&&a_(s);break;case 21:break;default:Xr(c,s),vn(s)}}function vn(s){var c=s.flags;if(c&2){try{e:{for(var h=s.return;h!==null;){if(t_(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Ut(x,""),g.flags&=-33);var N=r_(s);Vp(s,N,x);break;case 3:case 4:var R=g.stateNode.containerInfo,L=r_(s);Hp(s,L,R);break;default:throw Error(r(161))}}catch(z){vt(s,s.return,z)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function sM(s,c,h){ye=s,s_(s)}function s_(s,c,h){for(var g=(s.mode&1)!==0;ye!==null;){var x=ye,N=x.child;if(x.tag===22&&g){var R=x.memoizedState!==null||wu;if(!R){var L=x.alternate,z=L!==null&&L.memoizedState!==null||Qt;L=wu;var re=Qt;if(wu=R,(Qt=z)&&!re)for(ye=x;ye!==null;)R=ye,z=R.child,R.tag===22&&R.memoizedState!==null?c_(x):z!==null?(z.return=R,ye=z):c_(x);for(;N!==null;)ye=N,s_(N),N=N.sibling;ye=x,wu=L,Qt=re}o_(s)}else(x.subtreeFlags&8772)!==0&&N!==null?(N.return=x,ye=N):o_(s)}}function o_(s){for(;ye!==null;){var c=ye;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Qt||ju(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Qt)if(h===null)g.componentDidMount();else{var x=c.elementType===c.type?h.memoizedProps:Gr(c.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&lj(c,N,g);break;case 3:var R=c.updateQueue;if(R!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}lj(c,R,h)}break;case 5:var L=c.stateNode;if(h===null&&c.flags&4){h=L;var z=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var le=re.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&No(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qt||c.flags&512&&Wp(c)}catch(oe){vt(c,c.return,oe)}}if(c===s){ye=null;break}if(h=c.sibling,h!==null){h.return=c.return,ye=h;break}ye=c.return}}function l_(s){for(;ye!==null;){var c=ye;if(c===s){ye=null;break}var h=c.sibling;if(h!==null){h.return=c.return,ye=h;break}ye=c.return}}function c_(s){for(;ye!==null;){var c=ye;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{ju(4,c)}catch(z){vt(c,h,z)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var x=c.return;try{g.componentDidMount()}catch(z){vt(c,x,z)}}var N=c.return;try{Wp(c)}catch(z){vt(c,N,z)}break;case 5:var R=c.return;try{Wp(c)}catch(z){vt(c,R,z)}}}catch(z){vt(c,c.return,z)}if(c===s){ye=null;break}var L=c.sibling;if(L!==null){L.return=c.return,ye=L;break}ye=c.return}}var oM=Math.ceil,_u=E.ReactCurrentDispatcher,Kp=E.ReactCurrentOwner,Rr=E.ReactCurrentBatchConfig,We=0,It=null,St=null,zt=0,xr=0,Zi=fa(0),At=0,Go=null,Za=0,Su=0,Gp=0,Yo=null,dr=null,Yp=0,es=1/0,Dn=null,Nu=!1,Xp=null,ya=null,ku=!1,xa=null,Ou=0,Xo=0,Jp=null,Eu=-1,Au=0;function nr(){return(We&6)!==0?jt():Eu!==-1?Eu:Eu=jt()}function ba(s){return(s.mode&1)===0?1:(We&2)!==0&&zt!==0?zt&-zt:WR.transition!==null?(Au===0&&(Au=r1()),Au):(s=Je,s!==0||(s=window.event,s=s===void 0?16:d1(s.type)),s)}function Jr(s,c,h,g){if(50<Xo)throw Xo=0,Jp=null,Error(r(185));bo(s,h,g),((We&2)===0||s!==It)&&(s===It&&((We&2)===0&&(Su|=h),At===4&&wa(s,zt)),fr(s,g),h===1&&We===0&&(c.mode&1)===0&&(es=jt()+500,nu&&pa()))}function fr(s,c){var h=s.callbackNode;W4(s,c);var g=Lc(s,s===It?zt:0);if(g===0)h!==null&&Zw(h),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(h!=null&&Zw(h),c===1)s.tag===0?zR(d_.bind(null,s)):X1(d_.bind(null,s)),BR(function(){(We&6)===0&&pa()}),h=null;else{switch(n1(g)){case 1:h=Ch;break;case 4:h=e1;break;case 16:h=Mc;break;case 536870912:h=t1;break;default:h=Mc}h=x_(h,u_.bind(null,s))}s.callbackPriority=c,s.callbackNode=h}}function u_(s,c){if(Eu=-1,Au=0,(We&6)!==0)throw Error(r(327));var h=s.callbackNode;if(ts()&&s.callbackNode!==h)return null;var g=Lc(s,s===It?zt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Cu(s,g);else{c=g;var x=We;We|=2;var N=h_();(It!==s||zt!==c)&&(Dn=null,es=jt()+500,ti(s,c));do try{uM();break}catch(L){f_(s,L)}while(!0);mp(),_u.current=N,We=x,St!==null?c=0:(It=null,zt=0,c=At)}if(c!==0){if(c===2&&(x=Ph(s),x!==0&&(g=x,c=Qp(s,x))),c===1)throw h=Go,ti(s,0),wa(s,g),fr(s,jt()),h;if(c===6)wa(s,g);else{if(x=s.current.alternate,(g&30)===0&&!lM(x)&&(c=Cu(s,g),c===2&&(N=Ph(s),N!==0&&(g=N,c=Qp(s,N))),c===1))throw h=Go,ti(s,0),wa(s,g),fr(s,jt()),h;switch(s.finishedWork=x,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:ri(s,dr,Dn);break;case 3:if(wa(s,g),(g&130023424)===g&&(c=Yp+500-jt(),10<c)){if(Lc(s,0)!==0)break;if(x=s.suspendedLanes,(x&g)!==g){nr(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=ap(ri.bind(null,s,dr,Dn),c);break}ri(s,dr,Dn);break;case 4:if(wa(s,g),(g&4194240)===g)break;for(c=s.eventTimes,x=-1;0<g;){var R=31-Hr(g);N=1<<R,R=c[R],R>x&&(x=R),g&=~N}if(g=x,g=jt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*oM(g/1960))-g,10<g){s.timeoutHandle=ap(ri.bind(null,s,dr,Dn),g);break}ri(s,dr,Dn);break;case 5:ri(s,dr,Dn);break;default:throw Error(r(329))}}}return fr(s,jt()),s.callbackNode===h?u_.bind(null,s):null}function Qp(s,c){var h=Yo;return s.current.memoizedState.isDehydrated&&(ti(s,c).flags|=256),s=Cu(s,c),s!==2&&(c=dr,dr=h,c!==null&&Zp(c)),s}function Zp(s){dr===null?dr=s:dr.push.apply(dr,s)}function lM(s){for(var c=s;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],N=x.getSnapshot;x=x.value;try{if(!Vr(N(),x))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function wa(s,c){for(c&=~Gp,c&=~Su,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var h=31-Hr(c),g=1<<h;s[h]=-1,c&=~g}}function d_(s){if((We&6)!==0)throw Error(r(327));ts();var c=Lc(s,0);if((c&1)===0)return fr(s,jt()),null;var h=Cu(s,c);if(s.tag!==0&&h===2){var g=Ph(s);g!==0&&(c=g,h=Qp(s,g))}if(h===1)throw h=Go,ti(s,0),wa(s,c),fr(s,jt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,ri(s,dr,Dn),fr(s,jt()),null}function em(s,c){var h=We;We|=1;try{return s(c)}finally{We=h,We===0&&(es=jt()+500,nu&&pa())}}function ei(s){xa!==null&&xa.tag===0&&(We&6)===0&&ts();var c=We;We|=1;var h=Rr.transition,g=Je;try{if(Rr.transition=null,Je=1,s)return s()}finally{Je=g,Rr.transition=h,We=c,(We&6)===0&&pa()}}function tm(){xr=Zi.current,ot(Zi)}function ti(s,c){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,LR(h)),St!==null)for(h=St.return;h!==null;){var g=h;switch(up(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&tu();break;case 3:Xi(),ot(lr),ot(Yt),_p();break;case 5:wp(g);break;case 4:Xi();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:gp(g.type._context);break;case 22:case 23:tm()}h=h.return}if(It=s,St=s=ja(s.current,null),zt=xr=c,At=0,Go=null,Gp=Su=Za=0,dr=Yo=null,Xa!==null){for(c=0;c<Xa.length;c++)if(h=Xa[c],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,N=h.pending;if(N!==null){var R=N.next;N.next=x,g.next=R}h.pending=g}Xa=null}return s}function f_(s,c){do{var h=St;try{if(mp(),hu.current=vu,pu){for(var g=pt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}pu=!1}if(Qa=0,$t=Et=pt=null,Fo=!1,zo=0,Kp.current=null,h===null||h.return===null){At=1,Go=c,St=null;break}e:{var N=s,R=h.return,L=h,z=c;if(c=zt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var re=z,le=L,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var me=Dj(R);if(me!==null){me.flags&=-257,Lj(me,R,L,N,c),me.mode&1&&Ij(N,re,c),c=me,z=re;var we=c.updateQueue;if(we===null){var je=new Set;je.add(z),c.updateQueue=je}else we.add(z);break e}else{if((c&1)===0){Ij(N,re,c),rm();break e}z=Error(r(426))}}else if(ct&&L.mode&1){var _t=Dj(R);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Lj(_t,R,L,N,c),hp(Ji(z,L));break e}}N=z=Ji(z,L),At!==4&&(At=2),Yo===null?Yo=[N]:Yo.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var Q=Mj(N,z,c);oj(N,Q);break e;case 1:L=z;var V=N.type,te=N.stateNode;if((N.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ya===null||!ya.has(te)))){N.flags|=65536,c&=-c,N.lanes|=c;var de=$j(N,L,c);oj(N,de);break e}}N=N.return}while(N!==null)}m_(h)}catch(_e){c=_e,St===h&&h!==null&&(St=h=h.return);continue}break}while(!0)}function h_(){var s=_u.current;return _u.current=vu,s===null?vu:s}function rm(){(At===0||At===3||At===2)&&(At=4),It===null||(Za&268435455)===0&&(Su&268435455)===0||wa(It,zt)}function Cu(s,c){var h=We;We|=2;var g=h_();(It!==s||zt!==c)&&(Dn=null,ti(s,c));do try{cM();break}catch(x){f_(s,x)}while(!0);if(mp(),We=h,_u.current=g,St!==null)throw Error(r(261));return It=null,zt=0,At}function cM(){for(;St!==null;)p_(St)}function uM(){for(;St!==null&&!$4();)p_(St)}function p_(s){var c=y_(s.alternate,s,xr);s.memoizedProps=s.pendingProps,c===null?m_(s):St=c,Kp.current=null}function m_(s){var c=s;do{var h=c.alternate;if(s=c.return,(c.flags&32768)===0){if(h=rM(h,c,xr),h!==null){St=h;return}}else{if(h=nM(h,c),h!==null){h.flags&=32767,St=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,St=null;return}}if(c=c.sibling,c!==null){St=c;return}St=c=s}while(c!==null);At===0&&(At=5)}function ri(s,c,h){var g=Je,x=Rr.transition;try{Rr.transition=null,Je=1,dM(s,c,h,g)}finally{Rr.transition=x,Je=g}return null}function dM(s,c,h,g){do ts();while(xa!==null);if((We&6)!==0)throw Error(r(327));h=s.finishedWork;var x=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var N=h.lanes|h.childLanes;if(H4(s,N),s===It&&(St=It=null,zt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ku||(ku=!0,x_(Mc,function(){return ts(),null})),N=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||N){N=Rr.transition,Rr.transition=null;var R=Je;Je=1;var L=We;We|=4,Kp.current=null,iM(s,h),i_(h,s),PR(rp),Uc=!!tp,rp=tp=null,s.current=h,sM(h),I4(),We=L,Je=R,Rr.transition=N}else s.current=h;if(ku&&(ku=!1,xa=s,Ou=x),N=s.pendingLanes,N===0&&(ya=null),B4(h.stateNode),fr(s,jt()),c!==null)for(g=s.onRecoverableError,h=0;h<c.length;h++)x=c[h],g(x.value,{componentStack:x.stack,digest:x.digest});if(Nu)throw Nu=!1,s=Xp,Xp=null,s;return(Ou&1)!==0&&s.tag!==0&&ts(),N=s.pendingLanes,(N&1)!==0?s===Jp?Xo++:(Xo=0,Jp=s):Xo=0,pa(),null}function ts(){if(xa!==null){var s=n1(Ou),c=Rr.transition,h=Je;try{if(Rr.transition=null,Je=16>s?16:s,xa===null)var g=!1;else{if(s=xa,xa=null,Ou=0,(We&6)!==0)throw Error(r(331));var x=We;for(We|=4,ye=s.current;ye!==null;){var N=ye,R=N.child;if((ye.flags&16)!==0){var L=N.deletions;if(L!==null){for(var z=0;z<L.length;z++){var re=L[z];for(ye=re;ye!==null;){var le=ye;switch(le.tag){case 0:case 11:case 15:Ko(8,le,N)}var ce=le.child;if(ce!==null)ce.return=le,ye=ce;else for(;ye!==null;){le=ye;var oe=le.sibling,me=le.return;if(e_(le),le===re){ye=null;break}if(oe!==null){oe.return=me,ye=oe;break}ye=me}}}var we=N.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var _t=je.sibling;je.sibling=null,je=_t}while(je!==null)}}ye=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,ye=R;else e:for(;ye!==null;){if(N=ye,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Ko(9,N,N.return)}var Q=N.sibling;if(Q!==null){Q.return=N.return,ye=Q;break e}ye=N.return}}var V=s.current;for(ye=V;ye!==null;){R=ye;var te=R.child;if((R.subtreeFlags&2064)!==0&&te!==null)te.return=R,ye=te;else e:for(R=V;ye!==null;){if(L=ye,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:ju(9,L)}}catch(_e){vt(L,L.return,_e)}if(L===R){ye=null;break e}var de=L.sibling;if(de!==null){de.return=L.return,ye=de;break e}ye=L.return}}if(We=x,pa(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot($c,s)}catch{}g=!0}return g}finally{Je=h,Rr.transition=c}}return!1}function g_(s,c,h){c=Ji(h,c),c=Mj(s,c,1),s=ga(s,c,1),c=nr(),s!==null&&(bo(s,1,c),fr(s,c))}function vt(s,c,h){if(s.tag===3)g_(s,s,h);else for(;c!==null;){if(c.tag===3){g_(c,s,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ya===null||!ya.has(g))){s=Ji(h,s),s=$j(c,s,1),c=ga(c,s,1),s=nr(),c!==null&&(bo(c,1,s),fr(c,s));break}}c=c.return}}function fM(s,c,h){var g=s.pingCache;g!==null&&g.delete(c),c=nr(),s.pingedLanes|=s.suspendedLanes&h,It===s&&(zt&h)===h&&(At===4||At===3&&(zt&130023424)===zt&&500>jt()-Yp?ti(s,0):Gp|=h),fr(s,c)}function v_(s,c){c===0&&((s.mode&1)===0?c=1:(c=Dc,Dc<<=1,(Dc&130023424)===0&&(Dc=4194304)));var h=nr();s=Mn(s,c),s!==null&&(bo(s,c,h),fr(s,h))}function hM(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),v_(s,h)}function pM(s,c){var h=0;switch(s.tag){case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),v_(s,h)}var y_;y_=function(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps||lr.current)ur=!0;else{if((s.lanes&h)===0&&(c.flags&128)===0)return ur=!1,tM(s,c,h);ur=(s.flags&131072)!==0}else ur=!1,ct&&(c.flags&1048576)!==0&&J1(c,iu,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;bu(s,c),s=c.pendingProps;var x=zi(c,Yt.current);Yi(c,h),x=kp(null,c,g,s,x,h);var N=Op();return c.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,cr(g)?(N=!0,ru(c)):N=!1,c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,xp(c),x.updater=yu,c.stateNode=x,x._reactInternals=c,Rp(c,g,s,h),c=Dp(null,c,g,!0,N,h)):(c.tag=0,ct&&N&&cp(c),rr(null,c,x,h),c=c.child),c;case 16:g=c.elementType;e:{switch(bu(s,c),s=c.pendingProps,x=g._init,g=x(g._payload),c.type=g,x=c.tag=gM(g),s=Gr(g,s),x){case 0:c=Ip(null,c,g,s,h);break e;case 1:c=Wj(null,c,g,s,h);break e;case 11:c=Bj(null,c,g,s,h);break e;case 14:c=qj(null,c,g,Gr(g.type,s),h);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,x=c.pendingProps,x=c.elementType===g?x:Gr(g,x),Ip(s,c,g,x,h);case 1:return g=c.type,x=c.pendingProps,x=c.elementType===g?x:Gr(g,x),Wj(s,c,g,x,h);case 3:e:{if(Hj(c),s===null)throw Error(r(387));g=c.pendingProps,N=c.memoizedState,x=N.element,sj(s,c),du(c,g,null,h);var R=c.memoizedState;if(g=R.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){x=Ji(Error(r(423)),c),c=Vj(s,c,g,h,x);break e}else if(g!==x){x=Ji(Error(r(424)),c),c=Vj(s,c,g,h,x);break e}else for(yr=da(c.stateNode.containerInfo.firstChild),vr=c,ct=!0,Kr=null,h=aj(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Vi(),g===x){c=In(s,c,h);break e}rr(s,c,g,h)}c=c.child}return c;case 5:return cj(c),s===null&&fp(c),g=c.type,x=c.pendingProps,N=s!==null?s.memoizedProps:null,R=x.children,np(g,x)?R=null:N!==null&&np(g,N)&&(c.flags|=32),zj(s,c),rr(s,c,R,h),c.child;case 6:return s===null&&fp(c),null;case 13:return Kj(s,c,h);case 4:return bp(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Ki(c,null,g,h):rr(s,c,g,h),c.child;case 11:return g=c.type,x=c.pendingProps,x=c.elementType===g?x:Gr(g,x),Bj(s,c,g,x,h);case 7:return rr(s,c,c.pendingProps,h),c.child;case 8:return rr(s,c,c.pendingProps.children,h),c.child;case 12:return rr(s,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,x=c.pendingProps,N=c.memoizedProps,R=x.value,nt(lu,g._currentValue),g._currentValue=R,N!==null)if(Vr(N.value,R)){if(N.children===x.children&&!lr.current){c=In(s,c,h);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var L=N.dependencies;if(L!==null){R=N.child;for(var z=L.firstContext;z!==null;){if(z.context===g){if(N.tag===1){z=$n(-1,h&-h),z.tag=2;var re=N.updateQueue;if(re!==null){re=re.shared;var le=re.pending;le===null?z.next=z:(z.next=le.next,le.next=z),re.pending=z}}N.lanes|=h,z=N.alternate,z!==null&&(z.lanes|=h),vp(N.return,h,c),L.lanes|=h;break}z=z.next}}else if(N.tag===10)R=N.type===c.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=h,L=R.alternate,L!==null&&(L.lanes|=h),vp(R,h,c),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===c){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}rr(s,c,x.children,h),c=c.child}return c;case 9:return x=c.type,g=c.pendingProps.children,Yi(c,h),x=Pr(x),g=g(x),c.flags|=1,rr(s,c,g,h),c.child;case 14:return g=c.type,x=Gr(g,c.pendingProps),x=Gr(g.type,x),qj(s,c,g,x,h);case 15:return Uj(s,c,c.type,c.pendingProps,h);case 17:return g=c.type,x=c.pendingProps,x=c.elementType===g?x:Gr(g,x),bu(s,c),c.tag=1,cr(g)?(s=!0,ru(c)):s=!1,Yi(c,h),Tj(c,g,x),Rp(c,g,x,h),Dp(null,c,g,!0,s,h);case 19:return Yj(s,c,h);case 22:return Fj(s,c,h)}throw Error(r(156,c.tag))};function x_(s,c){return Qw(s,c)}function mM(s,c,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,c,h,g){return new mM(s,c,h,g)}function nm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gM(s){if(typeof s=="function")return nm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===W)return 11;if(s===G)return 14}return 2}function ja(s,c){var h=s.alternate;return h===null?(h=Mr(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Pu(s,c,h,g,x,N){var R=2;if(g=s,typeof s=="function")nm(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case T:return ni(h.children,x,N,c);case P:R=8,x|=8;break;case M:return s=Mr(12,h,c,x|2),s.elementType=M,s.lanes=N,s;case B:return s=Mr(13,h,c,x),s.elementType=B,s.lanes=N,s;case I:return s=Mr(19,h,c,x),s.elementType=I,s.lanes=N,s;case Z:return Tu(h,x,N,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:R=10;break e;case D:R=9;break e;case W:R=11;break e;case G:R=14;break e;case F:R=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Mr(R,h,c,x),c.elementType=s,c.type=g,c.lanes=N,c}function ni(s,c,h,g){return s=Mr(7,s,g,c),s.lanes=h,s}function Tu(s,c,h,g){return s=Mr(22,s,g,c),s.elementType=Z,s.lanes=h,s.stateNode={isHidden:!1},s}function am(s,c,h){return s=Mr(6,s,null,c),s.lanes=h,s}function im(s,c,h){return c=Mr(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function vM(s,c,h,g,x){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function sm(s,c,h,g,x,N,R,L,z){return s=new vM(s,c,h,L,z),c===1?(c=1,N===!0&&(c|=8)):c=0,N=Mr(3,null,null,c),s.current=N,N.stateNode=s,N.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(N),s}function yM(s,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:s,containerInfo:c,implementation:h}}function b_(s){if(!s)return ha;s=s._reactInternals;e:{if(Ha(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(cr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(cr(h))return G1(s,h,c)}return c}function w_(s,c,h,g,x,N,R,L,z){return s=sm(h,g,!0,s,x,N,R,L,z),s.context=b_(null),h=s.current,g=nr(),x=ba(h),N=$n(g,x),N.callback=c??null,ga(h,N,x),s.current.lanes=x,bo(s,x,g),fr(s,g),s}function Ru(s,c,h,g){var x=c.current,N=nr(),R=ba(x);return h=b_(h),c.context===null?c.context=h:c.pendingContext=h,c=$n(N,R),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=ga(x,c,R),s!==null&&(Jr(s,x,R,N),uu(s,x,R)),R}function Mu(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function j_(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function om(s,c){j_(s,c),(s=s.alternate)&&j_(s,c)}function xM(){return null}var __=typeof reportError=="function"?reportError:function(s){console.error(s)};function lm(s){this._internalRoot=s}$u.prototype.render=lm.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Ru(s,c,null,null)},$u.prototype.unmount=lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;ei(function(){Ru(null,s,null,null)}),c[Cn]=null}};function $u(s){this._internalRoot=s}$u.prototype.unstable_scheduleHydration=function(s){if(s){var c=s1();s={blockedOn:null,target:s,priority:c};for(var h=0;h<la.length&&c!==0&&c<la[h].priority;h++);la.splice(h,0,s),h===0&&c1(s)}};function cm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Iu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function S_(){}function bM(s,c,h,g,x){if(x){if(typeof g=="function"){var N=g;g=function(){var re=Mu(R);N.call(re)}}var R=w_(c,g,s,0,null,!1,!1,"",S_);return s._reactRootContainer=R,s[Cn]=R.current,Mo(s.nodeType===8?s.parentNode:s),ei(),R}for(;x=s.lastChild;)s.removeChild(x);if(typeof g=="function"){var L=g;g=function(){var re=Mu(z);L.call(re)}}var z=sm(s,0,!1,null,null,!1,!1,"",S_);return s._reactRootContainer=z,s[Cn]=z.current,Mo(s.nodeType===8?s.parentNode:s),ei(function(){Ru(c,z,h,g)}),z}function Du(s,c,h,g,x){var N=h._reactRootContainer;if(N){var R=N;if(typeof x=="function"){var L=x;x=function(){var z=Mu(R);L.call(z)}}Ru(c,R,s,x)}else R=bM(h,c,s,x,g);return Mu(R)}a1=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var h=xo(c.pendingLanes);h!==0&&(Rh(c,h|1),fr(c,jt()),(We&6)===0&&(es=jt()+500,pa()))}break;case 13:ei(function(){var g=Mn(s,1);if(g!==null){var x=nr();Jr(g,s,1,x)}}),om(s,1)}},Mh=function(s){if(s.tag===13){var c=Mn(s,134217728);if(c!==null){var h=nr();Jr(c,s,134217728,h)}om(s,134217728)}},i1=function(s){if(s.tag===13){var c=ba(s),h=Mn(s,c);if(h!==null){var g=nr();Jr(h,s,c,g)}om(s,c)}},s1=function(){return Je},o1=function(s,c){var h=Je;try{return Je=s,c()}finally{Je=h}},kh=function(s,c,h){switch(c){case"input":if(ft(s,h),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==s&&g.form===s.form){var x=eu(g);if(!x)throw Error(r(90));X(g),ft(g,x)}}}break;case"textarea":wt(s,h);break;case"select":c=h.value,c!=null&&fe(s,!!h.multiple,c,!1)}},Hw=em,Vw=ei;var wM={usingClientEntryPoint:!1,Events:[Do,Ui,eu,zw,Ww,em]},Jo={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jM={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xw(s),s===null?null:s.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||xM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{$c=Lu.inject(jM),hn=Lu}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wM,hr.createPortal=function(s,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cm(c))throw Error(r(200));return yM(s,c,null,h)},hr.createRoot=function(s,c){if(!cm(s))throw Error(r(299));var h=!1,g="",x=__;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),c=sm(s,1,!1,null,null,h,!1,g,x),s[Cn]=c.current,Mo(s.nodeType===8?s.parentNode:s),new lm(c)},hr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Xw(c),s=s===null?null:s.stateNode,s},hr.flushSync=function(s){return ei(s)},hr.hydrate=function(s,c,h){if(!Iu(c))throw Error(r(200));return Du(null,s,c,!0,h)},hr.hydrateRoot=function(s,c,h){if(!cm(s))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,x=!1,N="",R=__;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),c=w_(c,null,s,1,h??null,x,!1,N,R),s[Cn]=c.current,Mo(s),g)for(s=0;s<g.length;s++)h=g[s],x=h._getVersion,x=x(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,x]:c.mutableSourceEagerHydrationData.push(h,x);return new $u(c)},hr.render=function(s,c,h){if(!Iu(c))throw Error(r(200));return Du(null,s,c,!1,h)},hr.unmountComponentAtNode=function(s){if(!Iu(s))throw Error(r(40));return s._reactRootContainer?(ei(function(){Du(null,null,s,!1,function(){s._reactRootContainer=null,s[Cn]=null})}),!0):!1},hr.unstable_batchedUpdates=em,hr.unstable_renderSubtreeIntoContainer=function(s,c,h,g){if(!Iu(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Du(s,c,h,!1,g)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var T_;function hC(){if(T_)return fm.exports;T_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fm.exports=AM(),fm.exports}var R_;function CM(){if(R_)return qu;R_=1;var t=hC();return qu.createRoot=t.createRoot,qu.hydrateRoot=t.hydrateRoot,qu}var PM=CM();const TM=tt(PM);var M_="popstate";function RM(t={}){function e(n,a){let{pathname:i,search:o,hash:u}=n.location;return L0("",{pathname:i,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ol(a)}return $M(e,r,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MM(){return Math.random().toString(36).substring(2,10)}function $_(t,e){return{usr:t.state,key:t.key,idx:e}}function L0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:r,key:e&&e.key||n||MM()}}function Ol({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function eo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function $M(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,u="POP",d=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){u="POP";let y=m(),O=y==null?null:y-f;f=y,d&&d({action:u,location:j.location,delta:O})}function v(y,O){u="PUSH";let k=L0(j.location,y,O);f=m()+1;let S=$_(k,f),E=j.createHref(k);try{o.pushState(S,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(E)}i&&d&&d({action:u,location:j.location,delta:1})}function b(y,O){u="REPLACE";let k=L0(j.location,y,O);f=m();let S=$_(k,f),E=j.createHref(k);o.replaceState(S,"",E),i&&d&&d({action:u,location:j.location,delta:0})}function w(y){return IM(y)}let j={get action(){return u},get location(){return t(a,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(M_,p),d=y,()=>{a.removeEventListener(M_,p),d=null}},createHref(y){return e(a,y)},createURL:w,encodeLocation(y){let O=w(y);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:b,go(y){return o.go(y)}};return j}function IM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),dt(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ol(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function pC(t,e,r="/"){return DM(t,e,r,!1)}function DM(t,e,r,n){let a=typeof e=="string"?eo(e):e,i=Kn(a.pathname||"/",r);if(i==null)return null;let o=mC(t);LM(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let f=YM(i);u=KM(o[d],f,n)}return u}function mC(t,e=[],r=[],n="",a=!1){let i=(o,u,d=a,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;dt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=Wn([n,m.relativePath]),v=r.concat(m);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mC(o.children,e,v,p,d)),!(o.path==null&&!o.index)&&e.push({path:p,score:HM(p,o.index),routesMeta:v})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))i(o,u);else for(let d of gC(o.path))i(o,u,!0,d)}),e}function gC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=gC(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function LM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:VM(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var BM=/^:[\w-]+$/,qM=3,UM=2,FM=1,zM=10,WM=-2,I_=t=>t==="*";function HM(t,e){let r=t.split("/"),n=r.length;return r.some(I_)&&(n+=WM),e&&(n+=UM),r.filter(a=>!I_(a)).reduce((a,i)=>a+(BM.test(i)?qM:i===""?FM:zM),n)}function VM(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function KM(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=Sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:Wn([i,p.pathname]),pathnameBase:ZM(Wn([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=Wn([i,p.pathnameBase]))}return o}function Sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=GM(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:p},v)=>{if(m==="*"){let w=u[v]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[v];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:t}}function GM(t,e=!1,r=!0){Fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function YM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var vC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XM=t=>vC.test(t);function JM(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?eo(t):t,i;if(r)if(XM(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Fr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=D_(r.substring(1),"/"):i=D_(r,e)}else i=e;return{pathname:i,search:e$(n),hash:t$(a)}}function D_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mm(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QM(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _b(t){let e=QM(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Sb(t,e,r,n=!1){let a;typeof t=="string"?a=eo(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),mm("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),mm("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),mm("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;a.pathname=v.join("/")}u=p>=0?e[p]:"/"}let d=JM(a,u),f=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),ZM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,r$=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function n$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function a$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xC(t,e){let r=t;if(typeof r!="string"||!vC.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(yC)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),u=Kn(o.pathname,e);o.origin===i.origin&&u!=null?r=u+o.search+o.hash:a=!0}catch{Fr(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bC=["POST","PUT","PATCH","DELETE"];new Set(bC);var i$=["GET",...bC];new Set(i$);var to=C.createContext(null);to.displayName="DataRouter";var Pf=C.createContext(null);Pf.displayName="DataRouterState";var s$=C.createContext(!1),wC=C.createContext({isTransitioning:!1});wC.displayName="ViewTransition";var o$=C.createContext(new Map);o$.displayName="Fetchers";var l$=C.createContext(null);l$.displayName="Await";var Er=C.createContext(null);Er.displayName="Navigation";var yc=C.createContext(null);yc.displayName="Location";var En=C.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Nb=C.createContext(null);Nb.displayName="RouteError";var jC="REACT_ROUTER_ERROR",c$="REDIRECT",u$="ROUTE_ERROR_RESPONSE";function d$(t){if(t.startsWith(`${jC}:${c$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function f$(t){if(t.startsWith(`${jC}:${u$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new r$(e.status,e.statusText,e.data)}catch{}}function h$(t,{relative:e}={}){dt(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(Er),{hash:a,pathname:i,search:o}=xc(t,{relative:e}),u=i;return r!=="/"&&(u=i==="/"?r:Wn([r,i])),n.createHref({pathname:u,search:o,hash:a})}function ro(){return C.useContext(yc)!=null}function Zn(){return dt(ro(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(yc).location}var _C="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SC(t){C.useContext(Er).static||C.useLayoutEffect(t)}function kb(){let{isDataRoute:t}=C.useContext(En);return t?k$():p$()}function p$(){dt(ro(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(to),{basename:e,navigator:r}=C.useContext(Er),{matches:n}=C.useContext(En),{pathname:a}=Zn(),i=JSON.stringify(_b(n)),o=C.useRef(!1);return SC(()=>{o.current=!0}),C.useCallback((d,f={})=>{if(Fr(o.current,_C),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=Sb(d,JSON.parse(i),a,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Wn([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,i,a,t])}C.createContext(null);function xc(t,{relative:e}={}){let{matches:r}=C.useContext(En),{pathname:n}=Zn(),a=JSON.stringify(_b(r));return C.useMemo(()=>Sb(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function m$(t,e){return NC(t,e)}function NC(t,e,r,n,a){dt(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Er),{matches:o}=C.useContext(En),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let k=p&&p.path||"";OC(f,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Zn(),b;if(e){let k=typeof e=="string"?eo(e):e;dt(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=v;let w=b.pathname||"/",j=w;if(m!=="/"){let k=m.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=pC(t,{pathname:j});Fr(p||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Fr(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=b$(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Wn([m,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Wn([m,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,r,n,a);return e&&O?C.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function g$(){let t=N$(),e=n$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:a},r):null,o)}var v$=C.createElement(g$,null),kC=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=f$(t.digest);r&&(t=r)}let e=t!==void 0?C.createElement(En.Provider,{value:this.props.routeContext},C.createElement(Nb.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(y$,{error:t},e):e}};kC.contextType=s$;var gm=new WeakMap;function y$({children:t,error:e}){let{basename:r}=C.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=d$(e.digest);if(n){let a=gm.get(e);if(a)throw a;let i=xC(n.location,r);if(yC&&!gm.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw gm.set(e,o),o}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function x$({routeContext:t,match:e,children:r}){let n=C.useContext(to);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(En.Provider,{value:t},r)}function b$(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let m=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:b}=r,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=r&&n?(m,p)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:a$(r.matches),errorInfo:p})}:void 0;return i.reduceRight((m,p,v)=>{let b,w=!1,j=null,y=null;r&&(b=o&&p.route.id?o[p.route.id]:void 0,j=p.route.errorElement||v$,u&&(d<0&&v===0?(OC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,y=null):d===v&&(w=!0,y=p.route.hydrateFallbackElement||null)));let O=e.concat(i.slice(0,v+1)),k=()=>{let S;return b?S=j:w?S=y:p.route.Component?S=C.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=m,C.createElement(x$,{match:p,routeContext:{outlet:m,matches:O,isDataRoute:r!=null},children:S})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?C.createElement(kC,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:f}):k()},null)}function Ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w$(t){let e=C.useContext(to);return dt(e,Ob(t)),e}function j$(t){let e=C.useContext(Pf);return dt(e,Ob(t)),e}function _$(t){let e=C.useContext(En);return dt(e,Ob(t)),e}function Eb(t){let e=_$(t),r=e.matches[e.matches.length-1];return dt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function S$(){return Eb("useRouteId")}function N$(){let t=C.useContext(Nb),e=j$("useRouteError"),r=Eb("useRouteError");return t!==void 0?t:e.errors?.[r]}function k$(){let{router:t}=w$("useNavigate"),e=Eb("useNavigate"),r=C.useRef(!1);return SC(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{Fr(r.current,_C),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var L_={};function OC(t,e,r){!e&&!L_[t]&&(L_[t]=!0,Fr(!1,r))}C.memo(O$);function O$({routes:t,future:e,state:r,onError:n}){return NC(t,void 0,r,n,e)}function E$({to:t,replace:e,state:r,relative:n}){dt(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Er);Fr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(En),{pathname:o}=Zn(),u=kb(),d=Sb(t,_b(i),o,n==="path"),f=JSON.stringify(d);return C.useEffect(()=>{u(JSON.parse(f),{replace:e,state:r,relative:n})},[u,f,n,e,r]),null}function B0(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A$({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){dt(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[u,a,i,o]);typeof r=="string"&&(r=eo(r));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:b="default"}=r,w=C.useMemo(()=>{let j=Kn(f,u);return j==null?null:{location:{pathname:j,search:m,hash:p,state:v,key:b},navigationType:n}},[u,f,m,p,v,b,n]);return Fr(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(Er.Provider,{value:d},C.createElement(yc.Provider,{children:e,value:w}))}function C$({children:t,location:e}){return m$(q0(t),e)}function q0(t,e=[]){let r=[];return C.Children.forEach(t,(n,a)=>{if(!C.isValidElement(n))return;let i=[...e,a];if(n.type===C.Fragment){r.push.apply(r,q0(n.props.children,i));return}dt(n.type===B0,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=q0(n.props.children,i)),r.push(o)}),r}var yd="get",xd="application/x-www-form-urlencoded";function Tf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function P$(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function T$(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function R$(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function M$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $$(t,e){return t.button===0&&(!e||e==="_self")&&!M$(t)}var Uu=null;function I$(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var D$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(t){return t!=null&&!D$.has(t)?(Fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):t}function L$(t,e){let r,n,a,i,o;if(T$(t)){let u=t.getAttribute("action");n=u?Kn(u,e):null,r=t.getAttribute("method")||yd,a=vm(t.getAttribute("enctype"))||xd,i=new FormData(t)}else if(P$(t)||R$(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Kn(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||yd,a=vm(t.getAttribute("formenctype"))||vm(u.getAttribute("enctype"))||xd,i=new FormData(u,t),!I$()){let{name:f,type:m,value:p}=t;if(m==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,p)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=yd,n=null,a=xd,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ab(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B$(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Kn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function q$(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function F$(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await q$(i,r);return o.links?o.links():[]}return[]}));return V$(n.flat(1).filter(U$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B_(t,e,r,n,a,i){let o=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,f)=>o(d,f)||u(d,f)):i==="data"?e.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function z$(t,e,{includeHydrateFallback:r}={}){return W$(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function W$(t){return[...new Set(t)]}function H$(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function V$(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(H$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function EC(){let t=C.useContext(to);return Ab(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K$(){let t=C.useContext(Pf);return Ab(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cb=C.createContext(void 0);Cb.displayName="FrameworkContext";function AC(){let t=C.useContext(Cb);return Ab(t,"You must render this element inside a <HydratedRouter> element"),t}function G$(t,e){let r=C.useContext(Cb),[n,a]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=O=>{O.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(j,{threshold:.5});return v.current&&y.observe(v.current),()=>{y.disconnect()}}},[t]),C.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let b=()=>{a(!0)},w=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Zo(u,b),onBlur:Zo(d,w),onMouseEnter:Zo(f,b),onMouseLeave:Zo(m,w),onTouchStart:Zo(p,b)}]:[!1,v,{}]}function Zo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Y$({page:t,...e}){let{router:r}=EC(),n=C.useMemo(()=>pC(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?C.createElement(J$,{page:t,matches:n,...e}):null}function X$(t){let{manifest:e,routeModules:r}=AC(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return F$(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function J$({page:t,matches:e,...r}){let n=Zn(),{future:a,manifest:i,routeModules:o}=AC(),{basename:u}=EC(),{loaderData:d,matches:f}=K$(),m=C.useMemo(()=>B_(t,e,f,i,n,"data"),[t,e,f,i,n]),p=C.useMemo(()=>B_(t,e,f,i,n,"assets"),[t,e,f,i,n]),v=C.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,y=!1;if(e.forEach(k=>{let S=i.routes[k.route.id];!S||!S.hasLoader||(!m.some(E=>E.route.id===k.route.id)&&k.route.id in d&&o[k.route.id]?.shouldRevalidate||S.hasClientLoader?y=!0:j.add(k.route.id))}),j.size===0)return[];let O=B$(t,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&j.size>0&&O.searchParams.set("_routes",e.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[O.pathname+O.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,n,i,m,e,t,o]),b=C.useMemo(()=>z$(p,i),[p,i]),w=X$(p);return C.createElement(C.Fragment,null,v.map(j=>C.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),b.map(j=>C.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),w.map(({key:j,link:y})=>C.createElement("link",{key:j,nonce:r.nonce,...y})))}function Q$(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z$&&(window.__reactRouterVersion="7.12.0")}catch{}function eI({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=C.useRef();a.current==null&&(a.current=RM({window:n,v5Compat:!0}));let i=a.current,[o,u]=C.useState({action:i.action,location:i.location}),d=C.useCallback(f=>{r===!1?u(f):C.startTransition(()=>u(f))},[r]);return C.useLayoutEffect(()=>i.listen(d),[i,d]),C.createElement(A$,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var CC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PC=C.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,...b},w){let{basename:j,unstable_useTransitions:y}=C.useContext(Er),O=typeof f=="string"&&CC.test(f),k=xC(f,j);f=k.to;let S=h$(f,{relative:a}),[E,_,A]=G$(n,b),T=aI(f,{replace:o,state:u,target:d,preventScrollReset:m,relative:a,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y});function P(U){e&&e(U),U.defaultPrevented||T(U)}let M=C.createElement("a",{...b,...A,href:k.absoluteURL||S,onClick:k.isExternal||i?e:P,ref:Q$(w,_),target:d,"data-discover":!O&&r==="render"?"true":void 0});return E&&!O?C.createElement(C.Fragment,null,M,C.createElement(Y$,{page:S})):M});PC.displayName="Link";var tI=C.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:u,children:d,...f},m){let p=xc(o,{relative:f.relative}),v=Zn(),b=C.useContext(Pf),{navigator:w,basename:j}=C.useContext(Er),y=b!=null&&cI(p)&&u===!0,O=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,k=v.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,O=O.toLowerCase()),S&&j&&(S=Kn(S,j)||S);const E=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let _=k===O||!a&&k.startsWith(O)&&k.charAt(E)==="/",A=S!=null&&(S===O||!a&&S.startsWith(O)&&S.charAt(O.length)==="/"),T={isActive:_,isPending:A,isTransitioning:y},P=_?e:void 0,M;typeof n=="function"?M=n(T):M=[n,_?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(T):i;return C.createElement(PC,{...f,"aria-current":P,className:M,ref:m,style:U,to:o,viewTransition:u},typeof d=="function"?d(T):d)});tI.displayName="NavLink";var rI=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=yd,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,...b},w)=>{let{unstable_useTransitions:j}=C.useContext(Er),y=oI(),O=lI(u,{relative:f}),k=o.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&CC.test(u),E=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,T=A?.getAttribute("formmethod")||o,P=()=>y(A||_.currentTarget,{fetcherKey:e,method:T,navigate:r,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v});j&&r!==!1?C.startTransition(()=>P()):P()};return C.createElement("form",{ref:w,method:k,action:O,onSubmit:n?d:E,...b,"data-discover":!S&&t==="render"?"true":void 0})});rI.displayName="Form";function nI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(t){let e=C.useContext(to);return dt(e,nI(t)),e}function aI(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=kb(),m=Zn(),p=xc(t,{relative:i});return C.useCallback(v=>{if($$(v,e)){v.preventDefault();let b=r!==void 0?r:Ol(m)===Ol(p),w=()=>f(t,{replace:b,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:u});d?C.startTransition(()=>w()):w()}},[m,f,p,r,n,e,t,a,i,o,u,d])}var iI=0,sI=()=>`__${String(++iI)}__`;function oI(){let{router:t}=TC("useSubmit"),{basename:e}=C.useContext(Er),r=S$(),n=t.fetch,a=t.navigate;return C.useCallback(async(i,o={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=L$(i,e);if(o.navigate===!1){let v=o.fetcherKey||sI();await n(v,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await a(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,e,r])}function lI(t,{relative:e}={}){let{basename:r}=C.useContext(Er),n=C.useContext(En);dt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...xc(t||".",{relative:e})},o=Zn();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Wn([r,i.pathname])),Ol(i)}function cI(t,{relative:e}={}){let r=C.useContext(wC);dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=TC("useViewTransitionState"),a=xc(t,{relative:e});if(!r.isTransitioning)return!1;let i=Kn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Kn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Sd(a.pathname,o)!=null||Sd(a.pathname,i)!=null}var uI=hC();const dI=tt(uI);function Rf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function fI(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(m){try{f(n.next(m))}catch(p){o(p)}}function d(m){try{f(n.throw(m))}catch(p){o(p)}}function f(m){m.done?i(m.value):a(m.value).then(u,d)}f((n=n.apply(t,e||[])).next())})}const hI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pb extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pI extends Pb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class q_ extends Pb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class U_ extends Pb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var U0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(U0||(U0={}));class mI{constructor(e,{headers:r={},customFetch:n,region:a=U0.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=hI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fI(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:u,method:d,body:f,signal:m,timeout:p}=n;let v={},{region:b}=n;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let j;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(v["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(v["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let y=m;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),m?(y=o.signal,m.addEventListener("abort",()=>o.abort())):y=o.signal);const O=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:j,signal:y}).catch(_=>{throw new pI(_)}),k=O.headers.get("x-relay-error");if(k&&k==="true")throw new q_(O);if(!O.ok)throw new U_(O);let S=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield O.json():S==="application/octet-stream"||S==="application/pdf"?E=yield O.blob():S==="text/event-stream"?E=O:S==="multipart/form-data"?E=yield O.formData():E=yield O.text(),{data:E,error:null,response:O}}catch(u){return{data:null,error:u,response:u instanceof U_||u instanceof q_?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var gI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},vI=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,u=null,d=null,f=i.status,m=i.statusText;if(i.ok){var p,v;if(r.method!=="HEAD"){var b;const O=await i.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=O:u=JSON.parse(O))}const j=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),y=(v=i.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");j&&y&&y.length>1&&(d=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var w;const j=await i.text();try{o=JSON.parse(j),Array.isArray(o)&&i.status===404&&(u=[],o=null,f=200,m="OK")}catch{i.status===404&&j===""?(f=204,m="No Content"):o={message:j}}if(o&&r.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,f=200,m="OK"),o&&r.shouldThrowOnError)throw new gI(o)}return{error:o,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let u="";const d=i?.cause;if(d){var f,m,p,v;const w=(f=d?.message)!==null&&f!==void 0?f:"",j=(m=d?.code)!==null&&m!==void 0?m:"";u=`${(p=i?.name)!==null&&p!==void 0?p:"FetchError"}: ${i?.message}`,u+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${w}`,j&&(u+=` (${j})`),d?.stack&&(u+=`
${d.stack}`)}else{var b;u=(b=i?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},yI=class extends vI{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const F_=new RegExp("[,()]");var hs=class extends yI{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&F_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&F_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},xI=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new hs({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(i.length>0){const o=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new hs({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new hs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new hs({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new hs({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},bI=class RC{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xI(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new RC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{d.searchParams.append(p,v)})):(u="POST",f=r);const m=new Headers(this.headers);return i&&m.set("Prefer",`count=${i}`),new hs({method:u,url:d,headers:m,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class wI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jI="2.89.0",_I=`realtime-js/${jI}`,MC="1.0.0",SI="2.0.0",z_=MC,F0=1e4,NI=1e3,kI=100;var ka;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ka||(ka={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var z0;(function(t){t.websocket="websocket"})(z0||(z0={}));var di;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(di||(di={}));class OI{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var a,i;const o=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(b),j=0;w.setUint8(j++,this.KINDS.userBroadcastPush),w.setUint8(j++,d.length),w.setUint8(j++,u.length),w.setUint8(j++,o.length),w.setUint8(j++,f.length),w.setUint8(j++,p.length),w.setUint8(j++,r),Array.from(d,O=>w.setUint8(j++,O.charCodeAt(0))),Array.from(u,O=>w.setUint8(j++,O.charCodeAt(0))),Array.from(o,O=>w.setUint8(j++,O.charCodeAt(0))),Array.from(f,O=>w.setUint8(j++,O.charCodeAt(0))),Array.from(p,O=>w.setUint8(j++,O.charCodeAt(0)));var y=new Uint8Array(b.byteLength+n.byteLength);return y.set(new Uint8Array(b),0),y.set(new Uint8Array(n),b.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,o,u,d]=n;return r({join_ref:a,ref:i,topic:o,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+a));d=d+a;const m=n.decode(e.slice(d,d+i));d=d+i;const p=n.decode(e.slice(d,d+o));d=d+o;const v=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST_EVENT,event:m,payload:b};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let $C=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const W_=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=EI(o,t,e,a),i),{}):{}},EI=(t,e,r,n)=>{const a=e.find(u=>u.name===t),i=a?.type,o=r[t];return i&&!n.includes(i)?IC(i,o):W0(o)},IC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return TI(e,r)}switch(t){case at.bool:return AI(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return CI(e);case at.json:case at.jsonb:return PI(e);case at.timestamp:return RI(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return W0(e);default:return W0(e)}},W0=t=>t,AI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},CI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},TI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>IC(e,u))}return t},RI=t=>typeof t=="string"?t.replace(" ","T"):t,DC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ym{constructor(e,r,n={},a=F0){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var H_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(H_||(H_={}));class bl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=bl.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bl.syncDiff(this.state,a,i,o),u())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),u={},d={};return this.map(i,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const p=i[f];if(p){const v=m.map(y=>y.presence_ref),b=p.map(y=>y.presence_ref),w=m.filter(y=>b.indexOf(y.presence_ref)<0),j=p.filter(y=>v.indexOf(y.presence_ref)<0);w.length>0&&(u[f]=w),j.length>0&&(d[f]=j)}else u[f]=m}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var f;const m=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),m.length>0){const p=e[u].map(b=>b.presence_ref),v=m.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...v)}n(u,m,d)}),this.map(o,(u,d)=>{let f=e[u];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),e[u]=f,a(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(V_||(V_={}));var wl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wl||(wl={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class ys{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ym(this,tn.join,this.params,this.timeout),this.rejoinTimer=new $C(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new bl(this),this.broadcastEndpointURL=DC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Un.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Un.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,y=(w=j?.length)!==null&&w!==void 0?w:0,O=[];for(let k=0;k<y;k++){const S=j[k],{filter:{event:E,schema:_,table:A,filter:T}}=S,P=b&&b[k];if(P&&P.event===E&&ys.isFilterValueEqual(P.schema,_)&&ys.isFilterValueEqual(P.table,A)&&ys.isFilterValueEqual(P.filter,T))O.push(Object.assign(Object.assign({},S),{id:P.id}));else{this.unsubscribe(),this.state=Tt.errored,e?.(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(Un.SUBSCRIBED);return}}).receive("error",b=>{this.state=Tt.errored,e?.(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tt.joined&&e===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ym(this,tn.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ym(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=tn;if(n&&[u,d,f,m].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var w,j,y;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(j=b.filter)===null||j===void 0?void 0:j.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(b=>b.callback(v,n)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var w,j,y,O,k,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const E=b.id,_=(w=b.filter)===null||w===void 0?void 0:w.event;return E&&((j=r.ids)===null||j===void 0?void 0:j.includes(E))&&(_==="*"||_?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(k=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return E==="*"||E===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:j,table:y,commit_timestamp:O,type:k,errors:S}=w;v=Object.assign(Object.assign({},{schema:j,table:y,commit_timestamp:O,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(w))}b.callback(v,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ys.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=W_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=W_(e.columns,e.old_record)),r}}const xm=()=>{},Fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MI=[1e3,2e3,5e3,1e4],$I=1e4,II=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DI{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F0,this.transport=null,this.heartbeatIntervalMs=Fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xm,this.ref=0,this.reconnectTimer=null,this.vsn=z_,this.logger=xm,this.conn=null,this.sendBuffer=[],this.serializer=new OI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${z0.websocket}`,this.httpEndpoint=DC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return di.Connecting;case ka.open:return di.Open;case ka.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ys(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(NI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,u=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ka.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ka.open||this.conn.readyState===ka.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([II],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:_I};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $C(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,u,d,f,m,p,v,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:F0,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Fu.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:xm,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:z_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>MI[w-1]||$I),this.vsn){case MC:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((w,j)=>j(JSON.stringify(w))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((w,j)=>j(JSON.parse(w)));break;case SI:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var El=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LI(t,e,r){const n=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function BI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function qI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const u=LI(t.baseUrl,n,a),d=await BI(t.auth),f=await e(u,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...o},body:i?JSON.stringify(i):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),v=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?v:void 0,w=b?.error;throw new El(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function zu(t){return t.join("")}var UI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(t.namespace)}`}),!0}catch(e){if(e instanceof El&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof El&&r.status===409)return;throw r}}};function rs(t){return t.join("")}var FI=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof El&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof El&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},zI=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=qI({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new UI(this.client,e),this.tableOps=new FI(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Mf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var WI=class extends Mf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},H0=class extends Mf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Tb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HI=()=>Response,V0=t=>{if(Array.isArray(t))return t.map(r=>V0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=V0(n)}),e},VI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function GI(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YI(t){var e=GI(t,"string");return Al(e)=="symbol"?e:e+""}function XI(t,e,r){return(e=YI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(r),!0).forEach(function(n){XI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const bm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},JI=async(t,e,r)=>{t instanceof await HI()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,i=n?.statusCode||a+"";e(new WI(bm(n),a,i))}).catch(n=>{e(new H0(bm(n),n))}):e(new H0(bm(t),t))},QI=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(VI(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Ce(Ce({},a),r))};async function bc(t,e,r,n,a,i){return new Promise((o,u)=>{t(r,QI(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>JI(d,u,n))})}async function Cl(t,e,r,n){return bc(t,"GET",e,r,n)}async function en(t,e,r,n,a){return bc(t,"POST",e,n,a,r)}async function K0(t,e,r,n,a){return bc(t,"PUT",e,n,a,r)}async function ZI(t,e,r,n){return bc(t,"HEAD",e,Ce(Ce({},r),{},{noResolveJson:!0}),n)}async function Rb(t,e,r,n,a){return bc(t,"DELETE",e,n,a,r)}var e3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};let LC;LC=Symbol.toStringTag;var t3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[LC]="BlobDownloadBuilder",this.promise=null}asStream(){return new e3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};const r3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var n3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let i;const o=Ce(Ce({},G_),n);let u=Ce(Ce({},a.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(u=Ce(Ce({},u),n.headers));const f=a._removeEmptyFolders(e),m=a._getFinalPath(f),p=await(t=="PUT"?K0:en)(a.fetch,`${a.url}/object/${m}`,i,Ce({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const i=a._removeEmptyFolders(t),o=a._getFinalPath(i),u=new URL(a.url+`/object/upload/sign/${o}`);u.searchParams.set("token",e);try{let d;const f=Ce({upsert:G_.upsert},n),m=Ce(Ce({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:i,fullPath:(await K0(a.fetch,u.toString(),d,{headers:m})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(mt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Ce({},r.headers);e?.upsert&&(a["x-upsert"]="true");const i=await en(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),u=o.searchParams.get("token");if(!u)throw new Mf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await en(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await en(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),i=await en(n.fetch,`${n.url}/object/sign/${a}`,Ce({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await en(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Ce(Ce({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Cl(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new t3(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:V0(await Cl(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ZI(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n)&&n instanceof H0){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const i=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await Rb(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Ce(Ce(Ce({},r3),e),{},{prefix:t||""});return{data:await en(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Ce({},t);return{data:await en(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const BC="2.89.0",qC={"X-Client-Info":`storage-js/${BC}`};var a3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ce(Ce({},qC),e),this.fetch=Tb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Cl(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Cl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await en(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await K0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},i3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},qC),e),this.fetch=Tb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Cl(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!KI(t))throw new Mf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Mb={"X-Client-Info":`storage-js/${BC}`,"Content-Type":"application/json"};var UC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var wm=class extends UC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},s3=class extends UC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const $b=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Y_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l3=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const o=i?.statusCode||i?.code||n+"";e(new wm(Y_(i),n,o))}).catch(()=>{const i=n+"";e(new wm(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new wm(a.statusText||`HTTP ${n} error`,n,i))}}else e(new s3(Y_(t),t))},c3=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(o3(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Ce(Ce({},a),r)):a};async function u3(t,e,r,n,a,i){return new Promise((o,u)=>{t(r,c3(e,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>l3(d,u,n))})}async function Nr(t,e,r,n,a){return u3(t,"POST",e,n,a,r)}var d3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Mb),e),this.fetch=$b(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}},f3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Mb),e),this.fetch=$b(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Nr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},h3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Mb),e),this.fetch=$b(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},p3=class extends h3{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new m3(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},m3=class extends d3{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new g3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},g3=class extends f3{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},v3=class extends a3{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new n3(this.url,this.headers,t,this.fetch)}get vectors(){return new p3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new i3(this.url+"/iceberg",this.headers,this.fetch)}};const FC="2.89.0",ps=30*1e3,G0=3,jm=G0*ps,y3="http://localhost:9999",x3="supabase.auth.token",b3={"X-Client-Info":`gotrue-js/${FC}`},Y0="X-Supabase-Api-Version",zC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j3=600*1e3;class Pl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _3 extends Pl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function S3(t){return Se(t)&&t.name==="AuthApiError"}class fi extends Pl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ea extends Pl{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class wr extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N3(t){return Se(t)&&t.name==="AuthSessionMissingError"}class ns extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wu extends ea{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hu extends ea{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k3(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class X_ extends ea{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O3 extends ea{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class X0 extends ea{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function _m(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class J_ extends ea{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class J0 extends ea{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q_=` 	
\r=`.split(""),E3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Q_.length;e+=1)t[Q_[e].charCodeAt(0)]=-2;for(let e=0;e<Nd.length;e+=1)t[Nd[e].charCodeAt(0)]=e;return t})();function Z_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nd[n]),e.queuedBits-=6}}function WC(t,e,r){const n=E3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eS(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{P3(o,n,r)};for(let o=0;o<t.length;o+=1)WC(t.charCodeAt(o),a,i);return e.join("")}function A3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function C3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}A3(n,e)}}function P3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function js(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)WC(t.charCodeAt(a),r,n);return new Uint8Array(e)}function T3(t){const e=[];return C3(t,r=>e.push(r)),new Uint8Array(e)}function hi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Z_(a,r,n)),Z_(null,r,n),e.join("")}function R3(t){return Math.round(Date.now()/1e3)+t}function M3(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},HC=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function $3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const VC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),I3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ms=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ii=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wt=async(t,e)=>{await t.removeItem(e)};class $f{constructor(){this.promise=new $f.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$f.promiseConstructor=Promise;function Sm(t){const e=t.split(".");if(e.length!==3)throw new J0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!w3.test(e[n]))throw new J0("JWT not in base64url format");return{header:JSON.parse(eS(e[0])),payload:JSON.parse(eS(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function D3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function L3(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function B3(t){return("0"+t.toString(16)).substr(-2)}function q3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,B3).join("")}async function U3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function F3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await U3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(t,e,r=!1){const n=q3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ms(t,`${e}-code-verifier`,a);const i=await F3(n);return[i,n===i?"plain":"s256"]}const z3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W3(t){const e=t.headers.get(Y0);if(!e||!e.match(z3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function V3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!K3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G3(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function tS(t){return JSON.parse(JSON.stringify(t))}const li=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y3=[502,503,504];async function rS(t){var e;if(!I3(t))throw new X0(li(t),0);if(Y3.includes(t.status))throw new X0(li(t),t.status);let r;try{r=await t.json()}catch(i){throw new fi(li(i),i)}let n;const a=W3(t);if(a&&a.getTime()>=zC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new J_(li(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new J_(li(r),t.status,r.weak_password.reasons);throw new _3(li(r),t.status||500,n)}const X3=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ae(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[Y0]||(i[Y0]=zC["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await J3(t,e,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function J3(t,e,r,n,a,i){const o=X3(e,n,a,i);let u;try{u=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new X0(li(d),0)}if(u.ok||await rS(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await rS(d)}}function Zr(t){var e;let r=null;eD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nS(t){const e=Zr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q3(t){return{data:t,error:null}}function Z3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Rf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function aS(t){return t}function eD(t){return t.access_token&&t.refresh_token&&t.expires_in}const km=["global","local","others"];class tD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=VC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=km[0]){if(km.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${km.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ea})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Rf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z3,redirectTo:r?.redirectTo})}catch(r){if(Se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ea})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aS});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);f[`${y}Page`]=j}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Se(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){is(e);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ea})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){is(e);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ea})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){is(e);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ea})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){is(e.userId);try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteFactor(e){is(e.userId),is(e.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aS});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);f[`${y}Page`]=j}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Se(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}}function iS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&HC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rD extends KC{}async function nD(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function iD(t){return parseInt(t,16)}function sD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function oD(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:m,uri:p,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=GC(t.address),w=m?`${m}://${n}`:n,j=t.statement?`${t.statement}
`:"",y=`${w} wants you to sign in with your Ethereum account:
${b}

${j}`;let O=`URI: ${p}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),d&&(O+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const S of f){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}O+=k}return`${y}
${O}`}class kt extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class kd extends kt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function lD({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(YC(o)){if(i.rp.id!==o)return new kt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function cD({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(YC(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class uD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dD=new uD;function fD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Rf(t,["challenge","user","excludeCredentials"]),i=js(e).buffer,o=Object.assign(Object.assign({},r),{id:js(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:js(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function hD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Rf(t,["challenge","allowCredentials"]),a=js(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},u),{id:js(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function pD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hi(new Uint8Array(t.response.attestationObject)),clientDataJSON:hi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hi(new Uint8Array(a.authenticatorData)),clientDataJSON:hi(new Uint8Array(a.clientDataJSON)),signature:hi(new Uint8Array(a.signature)),userHandle:a.userHandle?hi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sS(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function gD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kd("Browser returned unexpected credential type",e)}:{data:null,error:new kd("Empty credential response",e)}}catch(e){return{data:null,error:lD({error:e,options:t})}}}async function vD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kd("Browser returned unexpected credential type",e)}:{data:null,error:new kd("Empty credential response",e)}}catch(e){return{data:null,error:cD({error:e,options:t})}}}const yD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const u=n[i];e(u)?n[i]=Od(u,o):n[i]=Od(o)}else n[i]=o}return n}function bD(t,e){return Od(yD,t,e||{})}function wD(t,e){return Od(xD,t,e||{})}class jD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:u};const d=a??dD.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=bD(o.webauthn.credential_options.publicKey,i?.create),{data:m,error:p}=await gD({publicKey:f,signal:d});return m?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=wD(o.webauthn.credential_options.publicKey,i?.request),{data:m,error:p}=await vD(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Pl("rpId is required for WebAuthn authentication")};try{if(!sS())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Pl("rpId is required for WebAuthn registration")};try{if(!sS())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in register",o)}}}}aD();const _D={url:y3,storageKey:x3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oS(t,e,r){return await r()}const os={};class Tl{get jwks(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_D),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Tl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ht()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new tD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=VC(i.fetch),this.lock=i.lock||oS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ht()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=nD:this.lock=oS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:HC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=iS(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ht()&&(r=$3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),k3(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Se(r)?this._returnResult({error:r}):this._returnResult({error:new fi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zr}),{data:o,error:u}=i;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:m,password:p,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await as(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:p,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Zr})}else if("phone"in e){const{phone:m,password:p,options:v}=e;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Zr})}else throw new Wu("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return await Wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:u}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nS})}else if("phone"in e){const{phone:i,password:o,options:u}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nS})}else throw new Wu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ns;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,u,d,f,m,p,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:j,wallet:y,statement:O,options:k}=e;let S;if(Ht())if(typeof y=="object")S=y;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")S=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),_=await S.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=GC(_[0]);let T=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const M=await S.request({method:"eth_chainId"});T=iD(M)}const P={domain:E.host,address:A,statement:O,uri:E.href,version:"1",chainId:T,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=oD(P),w=await S.request({method:"personal_sign",params:[sD(b),A]})}try{const{data:j,error:y}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Zr});if(y)throw y;if(!j||!j.session||!j.user){const O=new ns;return this._returnResult({data:{user:null,session:null},error:O})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:y})}catch(j){if(Se(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var r,n,a,i,o,u,d,f,m,p,v,b;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:y,wallet:O,statement:k,options:S}=e;let E;if(Ht())if(typeof O=="object")E=O;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))E=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=O}const _=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const A=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),k?{statement:k}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),j=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(m=S?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=A}}try{const{data:y,error:O}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:hi(j)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zr});if(O)throw O;if(!y||!y.session||!y.user){const k=new ns;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:O})}catch(y){if(Se(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await ii(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new O3;const{data:i,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Zr});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const u=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,u=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new ns;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:u,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await as(this.storage,this.storageKey));const{error:p}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Wu("You must provide either an email or phone number.")}catch(u){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Zr});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await as(this.storage,this.storageKey));const f=await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Q3});return!((i=f.data)===null||i===void 0)&&i.url&&Ht()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wr;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:u}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new Wu("You must provide either an email or phone number and a type")}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<jm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ii(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Nm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=G3(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ea}):await this._useSession(async r=>{var n,a,i;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ea})})}catch(r){if(Se(r))return N3(r)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new wr;const o=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await as(this.storage,this.storageKey));const{data:f,error:m}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Ea});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Sm(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:u}=r;if(u)throw u;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new wr;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new Hu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new X_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new X_("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=e;if(!i||!u||!o||!f)throw new Hu("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let v=m+p;d&&(v=parseInt(d));const b=v-m;b*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=v-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,m);const{data:j,error:y}=await this._getUser(i);if(y)throw y;const O={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:v,refresh_token:o,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(n){if(Se(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(S3(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=M3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await as(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,u,d,f,m;const{data:p,error:v}=i;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Se(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:u,token:d,access_token:f,nonce:m}=e,p=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Zr}),{data:v,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ns}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await L3(async a=>(a>0&&await D3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&_m(i)&&Date.now()+o-n<ps})}catch(n){if(this._debug(r,"error",n),Se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ii(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ms(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:Nm()}else if(a&&!a.user&&!a.user){const o=await ii(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Wt(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,a)):a.user=Nm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),_m(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(a.access_token);!u&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $f;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Se(i)){const o={data:null,error:i};return _m(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ms(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=tS(a);await ms(this.storage,this.storageKey,i)}else{const a=tS(r);await ms(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ps}ms, refresh threshold is ${G0} ticks`),a<=G0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof KC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await as(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?pD(e.webauthn.credential_response):mD(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:fD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:hD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Sm(n.access_token);let o=null;i.aal&&(o=i.aal);let u=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=i.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wr});const o=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wr});const o=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wr})})}catch(e){if(Se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+j3>a)return n;const{data:i,error:o}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});n=b.session.access_token}const{header:a,payload:i,signature:o,raw:{header:u,payload:d}}=Sm(n);r?.allowExpired||H3(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:i,header:a,signature:o},error:null}}const m=V3(a.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,T3(`${u}.${d}`)))throw new J0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}}Tl.nextInstanceID={};const SD=Tl,ND="2.89.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const kD={"X-Client-Info":`supabase-js-${ml}/${ND}`},OD={headers:kD},ED={schema:"public"},AD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CD={};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function PD(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TD(t){var e=PD(t,"string");return Rl(e)=="symbol"?e:e+""}function RD(t,e,r){return(e=TD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){RD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const MD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$D=()=>Headers,ID=(t,e,r)=>{const n=MD(r),a=$D();return async(i,o)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new a(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,yt(yt({},o),{},{headers:f}))}};function DD(t){return t.endsWith("/")?t:t+"/"}function LD(t,e){var r,n;const{db:a,auth:i,realtime:o,global:u}=t,{db:d,auth:f,realtime:m,global:p}=e,v={db:yt(yt({},d),a),auth:yt(yt({},f),i),realtime:yt(yt({},m),o),storage:{},global:yt(yt(yt({},p),u),{},{headers:yt(yt({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function BD(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qD=class extends SD{constructor(t){super(t)}},UD=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const i=BD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:ED,realtime:CD,auth:yt(yt({},AD),{},{storageKey:o}),global:OD},d=LD(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=ID(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new bI(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new v3(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:u,debug:d,throwOnError:f},m,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qD({url:this.authUrl.href,headers:yt(yt({},v),m),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:u,debug:d,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DI(this.realtimeUrl.href,yt(yt({},t),{},{params:yt(yt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FD=(t,e,r)=>new UD(t,e,r);function zD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WD="https://llfwrwyqaswehksgvcyr.supabase.co",HD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZndyd3lxYXN3ZWhrc2d2Y3lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1MjY5MTYsImV4cCI6MjA4MjEwMjkxNn0.A-kfpYPjYFvGqg83iVyLCJSq5BavQ8w9fSvNqHQ7DBY",Ln=FD(WD,HD),XC=C.createContext(void 0);function VD({children:t}){const[e,r]=C.useState(null),[n,a]=C.useState(null),[i,o]=C.useState(null),[u,d]=C.useState(null),[f,m]=C.useState(!0);async function p(y){try{const{data:O,error:k}=await Ln.from("user_profiles").select(`
          *,
          tenant:tenants(*)
        `).eq("id",y).single();if(k){console.error("Erro ao carregar perfil:",k);return}O&&(a(O),o(O.tenant))}catch(O){console.error("Erro ao carregar perfil:",O)}}C.useEffect(()=>{let y=!0;async function O(){try{const S=new Promise((A,T)=>setTimeout(()=>T(new Error("Timeout")),5e3)),E=Ln.auth.getSession(),{data:{session:_}}=await Promise.race([E,S]);if(!y)return;d(_),r(_?.user??null),_?.user&&await p(_.user.id)}catch(S){console.error("Erro na autenticao:",S)}finally{y&&m(!1)}}O();const{data:{subscription:k}}=Ln.auth.onAuthStateChange(async(S,E)=>{y&&(d(E),r(E?.user??null),S==="SIGNED_IN"&&E?.user?await p(E.user.id):S==="SIGNED_OUT"&&(a(null),o(null)))});return()=>{y=!1,k.unsubscribe()}},[]);async function v(y,O){const{error:k}=await Ln.auth.signInWithPassword({email:y,password:O});if(k)throw k}async function b(y,O,k){const{data:S,error:E}=await Ln.auth.signUp({email:y,password:O});if(E)throw E;if(!S.user)throw new Error("Erro ao criar usurio");const{data:_}=await Ln.from("tenants").select("id").limit(1).single(),{error:A}=await Ln.from("user_profiles").insert({id:S.user.id,email:y,name:k,tenant_id:_?.id,role:"user"});if(A)throw A}async function w(){const{error:y}=await Ln.auth.signOut();if(y)throw y}async function j(y){if(!e)throw new Error("Usurio no autenticado");const{error:O}=await Ln.from("user_profiles").update(y).eq("id",e.id);if(O)throw O;await p(e.id)}return l.jsx(XC.Provider,{value:{user:e,profile:n,tenant:i,session:u,loading:f,signIn:v,signUp:b,signOut:w,updateProfile:j},children:t})}function If(){const t=C.useContext(XC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JC=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var GD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YD=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...u},d)=>C.createElement("svg",{ref:d,...GD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JC("lucide",a),...u},[...o.map(([f,m])=>C.createElement(f,m)),...Array.isArray(i)?i:[i]]));const ue=(t,e)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(YD,{ref:i,iconNode:e,className:JC(`lucide-${KD(t)}`,n),...a}));return r.displayName=`${t}`,r};const cS=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const XD=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const QC=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ZC=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const eP=ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const Q0=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Om=ue("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Z0=ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const uS=ue("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);const Pa=ue("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const JD=ue("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const on=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const QD=ue("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const tP=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const _s=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const ZD=ue("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const Cs=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ex=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const tx=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const eL=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const $a=ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const rP=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ib=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ta=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Df=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ed=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const no=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Db=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const nP=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Lb=ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Lf=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _i=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const ln=ue("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const aP=ue("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const tL=ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const rL=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Ml=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const nL=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const aL=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const dS=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const iL=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Bf=ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const bt=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const sL=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const $l=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const iP=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const oL=ue("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const sP=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const sr=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const lL=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const cL=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const fS=ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const oP=ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Gn=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const hS=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const rx=ue("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const Ad=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const lP=ue("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const cP=ue("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const _n=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const uP=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const ao=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const ta=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ss=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Sn=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ns=ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const dP=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const uL=ue("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const dL=ue("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const pS=ue("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const tr=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Em=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const fL=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Ia=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const mS=ue("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);const Cd=ue("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const hL=ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const pL=ue("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const mL=ue("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const Ps=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Da=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ar=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const gL=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const nx=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const bd=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Br=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Pd=ue("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const vL=ue("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const dn=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const un=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function yL({children:t,requiredRole:e}){const{user:r,profile:n,loading:a}=If(),i=Zn();return a?l.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"}),l.jsx("p",{className:"text-gray-500",children:"Carregando..."})]})}):r?e&&n?.role!==e&&n?.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Negado"}),l.jsx("p",{className:"text-gray-500",children:"Voc no tem permisso para acessar esta pgina."})]})}):l.jsx(l.Fragment,{children:t}):l.jsx(E$,{to:"/login",state:{from:i},replace:!0})}function xL(){return"/api".replace(/\/$/,"")}const bL=xL();async function qf(t,e){const r=`${bL}${t}`,n=await fetch(r,{...e,headers:{"Content-Type":"application/json"}});if(!n.ok){const a=await n.text().catch(()=>"");throw console.error(`[API] ${n.status} ${r}`,a),new Error(`API error ${n.status}: ${a||n.statusText}`)}if(n.status!==204)return n.json()}function wL(t){return t?{conversations_total:t.totalConversations??0,leads_total:t.totalLeads??0,qualified_total:t.qualifiedLeads??0,avg_response_time_seconds:t.avgResponseTimeSeconds??0,emotions_distribution:t.emotionsDistribution??{},activity_last_7_days:t.activityLast7Days??[]}:{}}async function jL(){const t=await qf("/stats");return wL(t)}async function _L(){return qf("/tenants")}async function SL(t=50,e){let r=`/conversations?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),qf(r)}async function NL(t=50,e){let r=`/leads?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),qf(r)}function fP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=fP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=fP(t))&&(n&&(n+=" "),n+=e);return n}var Am,gS;function mr(){if(gS)return Am;gS=1;var t=Array.isArray;return Am=t,Am}var Cm,vS;function hP(){if(vS)return Cm;vS=1;var t=typeof Bu=="object"&&Bu&&Bu.Object===Object&&Bu;return Cm=t,Cm}var Pm,yS;function An(){if(yS)return Pm;yS=1;var t=hP(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Pm=r,Pm}var Tm,xS;function wc(){if(xS)return Tm;xS=1;var t=An(),e=t.Symbol;return Tm=e,Tm}var Rm,bS;function kL(){if(bS)return Rm;bS=1;var t=wc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=r.call(o,a),d=o[a];try{o[a]=void 0;var f=!0}catch{}var m=n.call(o);return f&&(u?o[a]=d:delete o[a]),m}return Rm=i,Rm}var Mm,wS;function OL(){if(wS)return Mm;wS=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Mm=r,Mm}var $m,jS;function ra(){if(jS)return $m;jS=1;var t=wc(),e=kL(),r=OL(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:n:i&&i in Object(u)?e(u):r(u)}return $m=o,$m}var Im,_S;function na(){if(_S)return Im;_S=1;function t(e){return e!=null&&typeof e=="object"}return Im=t,Im}var Dm,SS;function io(){if(SS)return Dm;SS=1;var t=ra(),e=na(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Dm=n,Dm}var Lm,NS;function Bb(){if(NS)return Lm;NS=1;var t=mr(),e=io(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Lm=a,Lm}var Bm,kS;function La(){if(kS)return Bm;kS=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Bm=t,Bm}var qm,OS;function qb(){if(OS)return qm;OS=1;var t=ra(),e=La(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==i}return qm=o,qm}var Um,ES;function EL(){if(ES)return Um;ES=1;var t=An(),e=t["__core-js_shared__"];return Um=e,Um}var Fm,AS;function AL(){if(AS)return Fm;AS=1;var t=EL(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Fm=r,Fm}var zm,CS;function pP(){if(CS)return zm;CS=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return zm=r,zm}var Wm,PS;function CL(){if(PS)return Wm;PS=1;var t=qb(),e=AL(),r=La(),n=pP(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,m=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var b=t(v)?m:i;return b.test(n(v))}return Wm=p,Wm}var Hm,TS;function PL(){if(TS)return Hm;TS=1;function t(e,r){return e?.[r]}return Hm=t,Hm}var Vm,RS;function Ei(){if(RS)return Vm;RS=1;var t=CL(),e=PL();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Vm=r,Vm}var Km,MS;function Uf(){if(MS)return Km;MS=1;var t=Ei(),e=t(Object,"create");return Km=e,Km}var Gm,$S;function TL(){if($S)return Gm;$S=1;var t=Uf();function e(){this.__data__=t?t(null):{},this.size=0}return Gm=e,Gm}var Ym,IS;function RL(){if(IS)return Ym;IS=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ym=t,Ym}var Xm,DS;function ML(){if(DS)return Xm;DS=1;var t=Uf(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return n.call(o,i)?o[i]:void 0}return Xm=a,Xm}var Jm,LS;function $L(){if(LS)return Jm;LS=1;var t=Uf(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Jm=n,Jm}var Qm,BS;function IL(){if(BS)return Qm;BS=1;var t=Uf(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Qm=r,Qm}var Zm,qS;function DL(){if(qS)return Zm;qS=1;var t=TL(),e=RL(),r=ML(),n=$L(),a=IL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Zm=i,Zm}var eg,US;function LL(){if(US)return eg;US=1;function t(){this.__data__=[],this.size=0}return eg=t,eg}var tg,FS;function Ub(){if(FS)return tg;FS=1;function t(e,r){return e===r||e!==e&&r!==r}return tg=t,tg}var rg,zS;function Ff(){if(zS)return rg;zS=1;var t=Ub();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return rg=e,rg}var ng,WS;function BL(){if(WS)return ng;WS=1;var t=Ff(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():r.call(i,o,1),--this.size,!0}return ng=n,ng}var ag,HS;function qL(){if(HS)return ag;HS=1;var t=Ff();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return ag=e,ag}var ig,VS;function UL(){if(VS)return ig;VS=1;var t=Ff();function e(r){return t(this.__data__,r)>-1}return ig=e,ig}var sg,KS;function FL(){if(KS)return sg;KS=1;var t=Ff();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return sg=e,sg}var og,GS;function zf(){if(GS)return og;GS=1;var t=LL(),e=BL(),r=qL(),n=UL(),a=FL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,og=i,og}var lg,YS;function Fb(){if(YS)return lg;YS=1;var t=Ei(),e=An(),r=t(e,"Map");return lg=r,lg}var cg,XS;function zL(){if(XS)return cg;XS=1;var t=DL(),e=zf(),r=Fb();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return cg=n,cg}var ug,JS;function WL(){if(JS)return ug;JS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ug=t,ug}var dg,QS;function Wf(){if(QS)return dg;QS=1;var t=WL();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return dg=e,dg}var fg,ZS;function HL(){if(ZS)return fg;ZS=1;var t=Wf();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return fg=e,fg}var hg,e2;function VL(){if(e2)return hg;e2=1;var t=Wf();function e(r){return t(this,r).get(r)}return hg=e,hg}var pg,t2;function KL(){if(t2)return pg;t2=1;var t=Wf();function e(r){return t(this,r).has(r)}return pg=e,pg}var mg,r2;function GL(){if(r2)return mg;r2=1;var t=Wf();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return mg=e,mg}var gg,n2;function zb(){if(n2)return gg;n2=1;var t=zL(),e=HL(),r=VL(),n=KL(),a=GL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,gg=i,gg}var vg,a2;function mP(){if(a2)return vg;a2=1;var t=zb(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],d=i.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,vg=r,vg}var yg,i2;function YL(){if(i2)return yg;i2=1;var t=mP(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return yg=r,yg}var xg,s2;function XL(){if(s2)return xg;s2=1;var t=YL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,d,f){i.push(d?f.replace(r,"$1"):u||o)}),i});return xg=n,xg}var bg,o2;function Wb(){if(o2)return bg;o2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return bg=t,bg}var wg,l2;function JL(){if(l2)return wg;l2=1;var t=wc(),e=Wb(),r=mr(),n=io(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return wg=o,wg}var jg,c2;function gP(){if(c2)return jg;c2=1;var t=JL();function e(r){return r==null?"":t(r)}return jg=e,jg}var _g,u2;function vP(){if(u2)return _g;u2=1;var t=mr(),e=Bb(),r=XL(),n=gP();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return _g=a,_g}var Sg,d2;function Hf(){if(d2)return Sg;d2=1;var t=io();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Sg=e,Sg}var Ng,f2;function Hb(){if(f2)return Ng;f2=1;var t=vP(),e=Hf();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return Ng=r,Ng}var kg,h2;function yP(){if(h2)return kg;h2=1;var t=Hb();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return kg=e,kg}var QL=yP();const Ur=tt(QL);var Og,p2;function ZL(){if(p2)return Og;p2=1;function t(e){return e==null}return Og=t,Og}var e7=ZL();const Fe=tt(e7);var Eg,m2;function t7(){if(m2)return Eg;m2=1;var t=ra(),e=mr(),r=na(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Eg=a,Eg}var r7=t7();const Si=tt(r7);var n7=qb();const Le=tt(n7);var a7=La();const so=tt(a7);var Ag={exports:{}},Ge={};var g2;function i7(){if(g2)return Ge;g2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var O=y.$$typeof;switch(O){case t:switch(y=y.type,y){case r:case a:case n:case f:case m:return y;default:switch(y=y&&y.$$typeof,y){case u:case o:case d:case v:case p:case i:return y;default:return O}}case e:return O}}}return Ge.ContextConsumer=o,Ge.ContextProvider=i,Ge.Element=t,Ge.ForwardRef=d,Ge.Fragment=r,Ge.Lazy=v,Ge.Memo=p,Ge.Portal=e,Ge.Profiler=a,Ge.StrictMode=n,Ge.Suspense=f,Ge.SuspenseList=m,Ge.isAsyncMode=function(){return!1},Ge.isConcurrentMode=function(){return!1},Ge.isContextConsumer=function(y){return j(y)===o},Ge.isContextProvider=function(y){return j(y)===i},Ge.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ge.isForwardRef=function(y){return j(y)===d},Ge.isFragment=function(y){return j(y)===r},Ge.isLazy=function(y){return j(y)===v},Ge.isMemo=function(y){return j(y)===p},Ge.isPortal=function(y){return j(y)===e},Ge.isProfiler=function(y){return j(y)===a},Ge.isStrictMode=function(y){return j(y)===n},Ge.isSuspense=function(y){return j(y)===f},Ge.isSuspenseList=function(y){return j(y)===m},Ge.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===f||y===m||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===p||y.$$typeof===i||y.$$typeof===o||y.$$typeof===d||y.$$typeof===w||y.getModuleId!==void 0)},Ge.typeOf=j,Ge}var v2;function s7(){return v2||(v2=1,Ag.exports=i7()),Ag.exports}var o7=s7(),Cg,y2;function xP(){if(y2)return Cg;y2=1;var t=ra(),e=na(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Cg=n,Cg}var Pg,x2;function l7(){if(x2)return Pg;x2=1;var t=xP();function e(r){return t(r)&&r!=+r}return Pg=e,Pg}var c7=l7();const oo=tt(c7);var u7=xP();const d7=tt(u7);var sn=function(e){return e===0?0:e>0?1:-1},pi=function(e){return Si(e)&&e.indexOf("%")===e.length-1},pe=function(e){return d7(e)&&!oo(e)},f7=function(e){return Fe(e)},Rt=function(e){return pe(e)||Si(e)},h7=0,jc=function(e){var r=++h7;return"".concat(e||"").concat(r)},Ni=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!Si(e))return n;var i;if(pi(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return oo(i)&&(i=n),a&&i>r&&(i=r),i},gs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},p7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Lr=function(e,r){return pe(e)&&pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Td(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ur(n,e))===r})}var m7=function(e,r){return pe(e)&&pe(r)?e-r:Si(e)&&Si(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ks(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}var g7=["viewBox","children"],v7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b2=["points","pathLength"],Tg={svg:g7,polygon:b2,polyline:b2},Vb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!so(n))return null;var a={};return Object.keys(n).forEach(function(i){Vb.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},y7=function(e,r,n){return function(a){return e(r,n,a),null}},Md=function(e,r,n){if(!so(e)||ax(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];Vb.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=y7(o,r,n))}),a},x7=["children"],b7=["children"];function w2(t,e){if(t==null)return{};var r=w7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}var j2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_2=null,Rg=null,Kb=function t(e){if(e===_2&&Array.isArray(Rg))return Rg;var r=[];return C.Children.forEach(e,function(n){Fe(n)||(o7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Rg=r,_2=e,r};function cn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Hn(a)}):n=[Hn(e)],Kb(t).forEach(function(a){var i=Ur(a,"type.displayName")||Ur(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function _r(t,e){var r=cn(t,e);return r&&r[0]}var S2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},j7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_7=function(e){return e&&e.type&&Si(e.type)&&j7.indexOf(e.type)>=0},S7=function(e){return e&&ix(e)==="object"&&"clipDot"in e},N7=function(e,r,n,a){var i,o=(i=Tg?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Le(e)&&(a&&o.includes(r)||v7.includes(r))||n&&Vb.includes(r)},Ue=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(C.isValidElement(e)&&(a=e.props),!so(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;N7((u=a)===null||u===void 0?void 0:u[o],o,r,n)&&(i[o]=a[o])}),i},sx=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return N2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!N2(i,o))return!1}return!0},N2=function(e,r){if(Fe(e)&&Fe(r))return!0;if(!Fe(e)&&!Fe(r)){var n=e.props||{},a=n.children,i=w2(n,x7),o=r.props||{},u=o.children,d=w2(o,b7);return a&&u?ks(i,d)&&sx(a,u):!a&&!u?ks(i,d):!1}return!1},k2=function(e,r){var n=[],a={};return Kb(e).forEach(function(i,o){if(_7(i))n.push(i);else if(i){var u=Hn(i.type),d=r[u]||{},f=d.handler,m=d.once;if(f&&(!m||!a[u])){var p=f(i,u,o);n.push(p),a[u]=!0}}}),n},k7=function(e){var r=e&&e.type;return r&&j2[r]?j2[r]:null},O7=function(e,r){return Kb(r).indexOf(e)},E7=["children","width","height","viewBox","className","style","title","desc"];function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}function A7(t,e){if(t==null)return{};var r=C7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lx(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,d=t.desc,f=A7(t,E7),m=a||{width:r,height:n,x:0,y:0},p=He("recharts-surface",i);return Y.createElement("svg",ox({},Ue(f,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Y.createElement("title",null,u),Y.createElement("desc",null,d),e)}var P7=["children","className"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}function T7(t,e){if(t==null)return{};var r=R7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gt=Y.forwardRef(function(t,e){var r=t.children,n=t.className,a=T7(t,P7),i=He("recharts-layer",n);return Y.createElement("g",cx({className:i},Ue(a,!0),{ref:e}),r)}),bi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Mg,O2;function M7(){if(O2)return Mg;O2=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return Mg=t,Mg}var $g,E2;function $7(){if(E2)return $g;E2=1;var t=M7();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return $g=e,$g}var Ig,A2;function bP(){if(A2)return Ig;A2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function d(f){return u.test(f)}return Ig=d,Ig}var Dg,C2;function I7(){if(C2)return Dg;C2=1;function t(e){return e.split("")}return Dg=t,Dg}var Lg,P2;function D7(){if(P2)return Lg;P2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=f+"?",j="["+i+"]?",y="(?:"+b+"(?:"+[m,p,v].join("|")+")"+j+w+")*",O=j+w+y,k="(?:"+[m+u+"?",u,p,v,o].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+O,"g");function E(_){return _.match(S)||[]}return Lg=E,Lg}var Bg,T2;function L7(){if(T2)return Bg;T2=1;var t=I7(),e=bP(),r=D7();function n(a){return e(a)?r(a):t(a)}return Bg=n,Bg}var qg,R2;function B7(){if(R2)return qg;R2=1;var t=$7(),e=bP(),r=L7(),n=gP();function a(i){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[i]()+f}}return qg=a,qg}var Ug,M2;function q7(){if(M2)return Ug;M2=1;var t=B7(),e=t("toUpperCase");return Ug=e,Ug}var U7=q7();const Vf=tt(U7);function it(t){return function(){return t}}const wP=Math.cos,$d=Math.sin,fn=Math.sqrt,Id=Math.PI,Kf=2*Id,ux=Math.PI,dx=2*ux,ci=1e-6,F7=dx-ci;function jP(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function z7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jP;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class W7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jP:z7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,d=n-e,f=a-r,m=o-e,p=u-r,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ci)if(!(Math.abs(p*d-f*m)>ci)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-o,w=a-u,j=d*d+f*f,y=b*b+w*w,O=Math.sqrt(j),k=Math.sqrt(v),S=i*Math.tan((ux-Math.acos((j+v-y)/(2*O*k)))/2),E=S/k,_=S/O;Math.abs(E-1)>ci&&this._append`L${e+E*m},${r+E*p}`,this._append`A${i},${i},0,0,${+(p*b>m*w)},${this._x1=e+_*d},${this._y1=r+_*f}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=e+u,m=r+d,p=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>ci||Math.abs(this._y1-m)>ci)&&this._append`L${f},${m}`,n&&(v<0&&(v=v%dx+dx),v>F7?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:v>ci&&this._append`A${n},${n},0,${+(v>=ux)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Gb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new W7(e)}function Yb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _P(t){this._context=t}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gf(t){return new _P(t)}function SP(t){return t[0]}function NP(t){return t[1]}function kP(t,e){var r=it(!0),n=null,a=Gf,i=null,o=Gb(u);t=typeof t=="function"?t:t===void 0?SP:it(t),e=typeof e=="function"?e:e===void 0?NP:it(e);function u(d){var f,m=(d=Yb(d)).length,p,v=!1,b;for(n==null&&(i=a(b=o())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(p,f,d),+e(p,f,d));if(b)return i=null,b+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:it(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function Vu(t,e,r){var n=null,a=it(!0),i=null,o=Gf,u=null,d=Gb(f);t=typeof t=="function"?t:t===void 0?SP:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?NP:it(+r);function f(p){var v,b,w,j=(p=Yb(p)).length,y,O=!1,k,S=new Array(j),E=new Array(j);for(i==null&&(u=o(k=d())),v=0;v<=j;++v){if(!(v<j&&a(y=p[v],v,p))===O)if(O=!O)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=b;--w)u.point(S[w],E[w]);u.lineEnd(),u.areaEnd()}O&&(S[v]=+t(y,v,p),E[v]=+e(y,v,p),u.point(n?+n(y,v,p):S[v],r?+r(y,v,p):E[v]))}if(k)return u=null,k+""||null}function m(){return kP().defined(a).curve(o).context(i)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:it(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:it(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(r)},f.lineX1=function(){return m().x(n).y(e)},f.defined=function(p){return arguments.length?(a=typeof p=="function"?p:it(!!p),f):a},f.curve=function(p){return arguments.length?(o=p,i!=null&&(u=o(i)),f):o},f.context=function(p){return arguments.length?(p==null?i=u=null:u=o(i=p),f):i},f}class OP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function H7(t){return new OP(t,!0)}function V7(t){return new OP(t,!1)}const Xb={draw(t,e){const r=fn(e/Id);t.moveTo(r,0),t.arc(0,0,r,0,Kf)}},K7={draw(t,e){const r=fn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},EP=fn(1/3),G7=EP*2,Y7={draw(t,e){const r=fn(e/G7),n=r*EP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},X7={draw(t,e){const r=fn(e),n=-r/2;t.rect(n,n,r,r)}},J7=.8908130915292852,AP=$d(Id/10)/$d(7*Id/10),Q7=$d(Kf/10)*AP,Z7=-wP(Kf/10)*AP,e6={draw(t,e){const r=fn(e*J7),n=Q7*r,a=Z7*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=Kf*i/5,u=wP(o),d=$d(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},Fg=fn(3),t6={draw(t,e){const r=-fn(e/(Fg*3));t.moveTo(0,r*2),t.lineTo(-Fg*r,-r),t.lineTo(Fg*r,-r),t.closePath()}},$r=-.5,Ir=fn(3)/2,fx=1/fn(12),r6=(fx/2+1)*3,n6={draw(t,e){const r=fn(e/r6),n=r/2,a=r*fx,i=n,o=r*fx+r,u=-i,d=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(u,d),t.lineTo($r*n-Ir*a,Ir*n+$r*a),t.lineTo($r*i-Ir*o,Ir*i+$r*o),t.lineTo($r*u-Ir*d,Ir*u+$r*d),t.lineTo($r*n+Ir*a,$r*a-Ir*n),t.lineTo($r*i+Ir*o,$r*o-Ir*i),t.lineTo($r*u+Ir*d,$r*d-Ir*u),t.closePath()}};function a6(t,e){let r=null,n=Gb(a);t=typeof t=="function"?t:it(t||Xb),e=typeof e=="function"?e:it(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:it(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:it(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Dd(){}function Ld(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CP(t){this._context=t}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new CP(t)}function PP(t){this._context=t}PP.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s6(t){return new PP(t)}function TP(t){this._context=t}TP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new TP(t)}function RP(t){this._context=t}RP.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function l6(t){return new RP(t)}function $2(t){return t<0?-1:1}function I2(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),u=(i*a+o*n)/(n+a);return($2(i)+$2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function D2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zg(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-n)/3;t._context.bezierCurveTo(n+u,a+u*e,i-u,o-u*r,i,o)}function Bd(t){this._context=t}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zg(this,this._t0,D2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zg(this,D2(this,r=I2(this,t,e)),r);break;default:zg(this,this._t0,r=I2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function MP(t){this._context=new $P(t)}(MP.prototype=Object.create(Bd.prototype)).point=function(t,e){Bd.prototype.point.call(this,e,t)};function $P(t){this._context=t}$P.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function c6(t){return new Bd(t)}function u6(t){return new MP(t)}function IP(t){this._context=t}IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=L2(t),a=L2(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function L2(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function d6(t){return new IP(t)}function Yf(t,e){this._context=t,this._t=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function f6(t){return new Yf(t,.5)}function h6(t){return new Yf(t,0)}function p6(t){return new Yf(t,1)}function Ts(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,u=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hx(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function m6(t,e){return t[e]}function g6(t){const e=[];return e.key=t,e}function v6(){var t=it([]),e=hx,r=Ts,n=m6;function a(i){var o=Array.from(t.apply(this,arguments),g6),u,d=o.length,f=-1,m;for(const p of i)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(p,o[u].key,f,i)]).data=p;for(u=0,m=Yb(e(o));u<d;++u)o[m[u]].index=u;return r(o,m),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:it(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:it(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?hx:typeof i=="function"?i:it(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ts,a):r},a}function y6(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Ts(t,e)}}function x6(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,u=0;o<a;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ts(t,e)}}function b6(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var u=0,d=0,f=0;u<o;++u){for(var m=t[e[u]],p=m[n][1]||0,v=m[n-1][1]||0,b=(p-v)/2,w=0;w<u;++w){var j=t[e[w]],y=j[n][1]||0,O=j[n-1][1]||0;b+=y-O}d+=p,f+=b*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Ts(t,e)}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var w6=["type","size","sizeType"];function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},px.apply(this,arguments)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){j6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6(t,e,r){return e=_6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6(t){var e=S6(t,"string");return Il(e)=="symbol"?e:e+""}function S6(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t,e){if(t==null)return{};var r=k6(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DP={symbolCircle:Xb,symbolCross:K7,symbolDiamond:Y7,symbolSquare:X7,symbolStar:e6,symbolTriangle:t6,symbolWye:n6},O6=Math.PI/180,E6=function(e){var r="symbol".concat(Vf(e));return DP[r]||Xb},A6=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*O6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},C6=function(e,r){DP["symbol".concat(Vf(e))]=r},Jb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,d=N6(e,w6),f=q2(q2({},d),{},{type:n,size:i,sizeType:u}),m=function(){var y=E6(n),O=a6().type(y).size(A6(i,u,n));return O()},p=f.className,v=f.cx,b=f.cy,w=Ue(f,!0);return v===+v&&b===+b&&i===+i?Y.createElement("path",px({},w,{className:He("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(b,")"),d:m()})):null};Jb.registerSymbol=C6;function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mx.apply(this,arguments)}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){Dl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BP(n.key),n)}}function M6(t,e,r){return e&&R6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $6(t,e,r){return e=qd(e),I6(t,LP()?Reflect.construct(e,r||[],qd(t).constructor):e.apply(t,r))}function I6(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6(t)}function D6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(t)}function L6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gx(t,e)}function gx(t,e){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gx(t,e)}function Dl(t,e,r){return e=BP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BP(t){var e=B6(t,"string");return Rs(e)=="symbol"?e:e+""}function B6(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=32,Qb=(function(t){function e(){return T6(this,e),$6(this,e,arguments)}return L6(e,t),M6(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Dr/2,o=Dr/6,u=Dr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Dr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Dr,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var f=P6({},n);return delete f.legendIcon,Y.cloneElement(n.legendIcon,f)}return Y.createElement(Jb,{fill:d,cx:i,cy:i,size:Dr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,d=a.formatter,f=a.inactiveColor,m={x:0,y:0,width:Dr,height:Dr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,w){var j=b.formatter||d,y=He(Dl(Dl({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=Le(b.value)?null:b.value;bi(!Le(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?f:b.color;return Y.createElement("li",mx({className:y,style:p,key:"legend-item-".concat(w)},Md(n.props,b,w)),Y.createElement(lx,{width:o,height:o,viewBox:m,style:v},n.renderIcon(b)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},j?j(O,b,w):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(C.PureComponent);Dl(Qb,"displayName","Legend");Dl(Qb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wg,F2;function q6(){if(F2)return Wg;F2=1;var t=zf();function e(){this.__data__=new t,this.size=0}return Wg=e,Wg}var Hg,z2;function U6(){if(z2)return Hg;z2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Hg=t,Hg}var Vg,W2;function F6(){if(W2)return Vg;W2=1;function t(e){return this.__data__.get(e)}return Vg=t,Vg}var Kg,H2;function z6(){if(H2)return Kg;H2=1;function t(e){return this.__data__.has(e)}return Kg=t,Kg}var Gg,V2;function W6(){if(V2)return Gg;V2=1;var t=zf(),e=Fb(),r=zb(),n=200;function a(i,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([i,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,o),this.size=u.size,this}return Gg=a,Gg}var Yg,K2;function qP(){if(K2)return Yg;K2=1;var t=zf(),e=q6(),r=U6(),n=F6(),a=z6(),i=W6();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Yg=o,Yg}var Xg,G2;function H6(){if(G2)return Xg;G2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Xg=e,Xg}var Jg,Y2;function V6(){if(Y2)return Jg;Y2=1;function t(e){return this.__data__.has(e)}return Jg=t,Jg}var Qg,X2;function UP(){if(X2)return Qg;X2=1;var t=zb(),e=H6(),r=V6();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Qg=n,Qg}var Zg,J2;function FP(){if(J2)return Zg;J2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Zg=t,Zg}var ev,Q2;function zP(){if(Q2)return ev;Q2=1;function t(e,r){return e.has(r)}return ev=t,ev}var tv,Z2;function WP(){if(Z2)return tv;Z2=1;var t=UP(),e=FP(),r=zP(),n=1,a=2;function i(o,u,d,f,m,p){var v=d&n,b=o.length,w=u.length;if(b!=w&&!(v&&w>b))return!1;var j=p.get(o),y=p.get(u);if(j&&y)return j==u&&y==o;var O=-1,k=!0,S=d&a?new t:void 0;for(p.set(o,u),p.set(u,o);++O<b;){var E=o[O],_=u[O];if(f)var A=v?f(_,E,O,u,o,p):f(E,_,O,o,u,p);if(A!==void 0){if(A)continue;k=!1;break}if(S){if(!e(u,function(T,P){if(!r(S,P)&&(E===T||m(E,T,d,f,p)))return S.push(P)})){k=!1;break}}else if(!(E===_||m(E,_,d,f,p))){k=!1;break}}return p.delete(o),p.delete(u),k}return tv=i,tv}var rv,eN;function K6(){if(eN)return rv;eN=1;var t=An(),e=t.Uint8Array;return rv=e,rv}var nv,tN;function G6(){if(tN)return nv;tN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return nv=t,nv}var av,rN;function Zb(){if(rN)return av;rN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return av=t,av}var iv,nN;function Y6(){if(nN)return iv;nN=1;var t=wc(),e=K6(),r=Ub(),n=WP(),a=G6(),i=Zb(),o=1,u=2,d="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",w="[object Set]",j="[object String]",y="[object Symbol]",O="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,E=S?S.valueOf:void 0;function _(A,T,P,M,U,D,W){switch(P){case k:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case O:return!(A.byteLength!=T.byteLength||!D(new e(A),new e(T)));case d:case f:case v:return r(+A,+T);case m:return A.name==T.name&&A.message==T.message;case b:case j:return A==T+"";case p:var B=a;case w:var I=M&o;if(B||(B=i),A.size!=T.size&&!I)return!1;var G=W.get(A);if(G)return G==T;M|=u,W.set(A,T);var F=n(B(A),B(T),M,U,D,W);return W.delete(A),F;case y:if(E)return E.call(A)==E.call(T)}return!1}return iv=_,iv}var sv,aN;function HP(){if(aN)return sv;aN=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return sv=t,sv}var ov,iN;function X6(){if(iN)return ov;iN=1;var t=HP(),e=mr();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return ov=r,ov}var lv,sN;function J6(){if(sN)return lv;sN=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var u=e[n];r(u,n,e)&&(o[i++]=u)}return o}return lv=t,lv}var cv,oN;function Q6(){if(oN)return cv;oN=1;function t(){return[]}return cv=t,cv}var uv,lN;function Z6(){if(lN)return uv;lN=1;var t=J6(),e=Q6(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return n.call(o,u)}))}:e;return uv=i,uv}var dv,cN;function e8(){if(cN)return dv;cN=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return dv=t,dv}var fv,uN;function t8(){if(uN)return fv;uN=1;var t=ra(),e=na(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return fv=n,fv}var hv,dN;function ew(){if(dN)return hv;dN=1;var t=t8(),e=na(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return hv=i,hv}var gl={exports:{}},pv,fN;function r8(){if(fN)return pv;fN=1;function t(){return!1}return pv=t,pv}gl.exports;var hN;function VP(){return hN||(hN=1,(function(t,e){var r=An(),n=r8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f})(gl,gl.exports)),gl.exports}var mv,pN;function tw(){if(pN)return mv;pN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return mv=r,mv}var gv,mN;function rw(){if(mN)return gv;mN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return gv=e,gv}var vv,gN;function n8(){if(gN)return vv;gN=1;var t=ra(),e=rw(),r=na(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",w="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",M="[object Uint16Array]",U="[object Uint32Array]",D={};D[k]=D[S]=D[E]=D[_]=D[A]=D[T]=D[P]=D[M]=D[U]=!0,D[n]=D[a]=D[y]=D[i]=D[O]=D[o]=D[u]=D[d]=D[f]=D[m]=D[p]=D[v]=D[b]=D[w]=D[j]=!1;function W(B){return r(B)&&e(B.length)&&!!D[t(B)]}return vv=W,vv}var yv,vN;function KP(){if(vN)return yv;vN=1;function t(e){return function(r){return e(r)}}return yv=t,yv}var vl={exports:{}};vl.exports;var yN;function a8(){return yN||(yN=1,(function(t,e){var r=hP(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(vl,vl.exports)),vl.exports}var xv,xN;function GP(){if(xN)return xv;xN=1;var t=n8(),e=KP(),r=a8(),n=r&&r.isTypedArray,a=n?e(n):t;return xv=a,xv}var bv,bN;function i8(){if(bN)return bv;bN=1;var t=e8(),e=ew(),r=mr(),n=VP(),a=tw(),i=GP(),o=Object.prototype,u=o.hasOwnProperty;function d(f,m){var p=r(f),v=!p&&e(f),b=!p&&!v&&n(f),w=!p&&!v&&!b&&i(f),j=p||v||b||w,y=j?t(f.length,String):[],O=y.length;for(var k in f)(m||u.call(f,k))&&!(j&&(k=="length"||b&&(k=="offset"||k=="parent")||w&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,O)))&&y.push(k);return y}return bv=d,bv}var wv,wN;function s8(){if(wN)return wv;wN=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return wv=e,wv}var jv,jN;function YP(){if(jN)return jv;jN=1;function t(e,r){return function(n){return e(r(n))}}return jv=t,jv}var _v,_N;function o8(){if(_N)return _v;_N=1;var t=YP(),e=t(Object.keys,Object);return _v=e,_v}var Sv,SN;function l8(){if(SN)return Sv;SN=1;var t=s8(),e=o8(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&o.push(u);return o}return Sv=a,Sv}var Nv,NN;function _c(){if(NN)return Nv;NN=1;var t=qb(),e=rw();function r(n){return n!=null&&e(n.length)&&!t(n)}return Nv=r,Nv}var kv,kN;function Xf(){if(kN)return kv;kN=1;var t=i8(),e=l8(),r=_c();function n(a){return r(a)?t(a):e(a)}return kv=n,kv}var Ov,ON;function c8(){if(ON)return Ov;ON=1;var t=X6(),e=Z6(),r=Xf();function n(a){return t(a,r,e)}return Ov=n,Ov}var Ev,EN;function u8(){if(EN)return Ev;EN=1;var t=c8(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,u,d,f,m){var p=u&e,v=t(i),b=v.length,w=t(o),j=w.length;if(b!=j&&!p)return!1;for(var y=b;y--;){var O=v[y];if(!(p?O in o:n.call(o,O)))return!1}var k=m.get(i),S=m.get(o);if(k&&S)return k==o&&S==i;var E=!0;m.set(i,o),m.set(o,i);for(var _=p;++y<b;){O=v[y];var A=i[O],T=o[O];if(d)var P=p?d(T,A,O,o,i,m):d(A,T,O,i,o,m);if(!(P===void 0?A===T||f(A,T,u,d,m):P)){E=!1;break}_||(_=O=="constructor")}if(E&&!_){var M=i.constructor,U=o.constructor;M!=U&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof U=="function"&&U instanceof U)&&(E=!1)}return m.delete(i),m.delete(o),E}return Ev=a,Ev}var Av,AN;function d8(){if(AN)return Av;AN=1;var t=Ei(),e=An(),r=t(e,"DataView");return Av=r,Av}var Cv,CN;function f8(){if(CN)return Cv;CN=1;var t=Ei(),e=An(),r=t(e,"Promise");return Cv=r,Cv}var Pv,PN;function XP(){if(PN)return Pv;PN=1;var t=Ei(),e=An(),r=t(e,"Set");return Pv=r,Pv}var Tv,TN;function h8(){if(TN)return Tv;TN=1;var t=Ei(),e=An(),r=t(e,"WeakMap");return Tv=r,Tv}var Rv,RN;function p8(){if(RN)return Rv;RN=1;var t=d8(),e=Fb(),r=f8(),n=XP(),a=h8(),i=ra(),o=pP(),u="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=o(t),w=o(e),j=o(r),y=o(n),O=o(a),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=v||e&&k(new e)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=m||a&&k(new a)!=p)&&(k=function(S){var E=i(S),_=E==d?S.constructor:void 0,A=_?o(_):"";if(A)switch(A){case b:return v;case w:return u;case j:return f;case y:return m;case O:return p}return E}),Rv=k,Rv}var Mv,MN;function m8(){if(MN)return Mv;MN=1;var t=qP(),e=WP(),r=Y6(),n=u8(),a=p8(),i=mr(),o=VP(),u=GP(),d=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function w(j,y,O,k,S,E){var _=i(j),A=i(y),T=_?m:a(j),P=A?m:a(y);T=T==f?p:T,P=P==f?p:P;var M=T==p,U=P==p,D=T==P;if(D&&o(j)){if(!o(y))return!1;_=!0,M=!1}if(D&&!M)return E||(E=new t),_||u(j)?e(j,y,O,k,S,E):r(j,y,T,O,k,S,E);if(!(O&d)){var W=M&&b.call(j,"__wrapped__"),B=U&&b.call(y,"__wrapped__");if(W||B){var I=W?j.value():j,G=B?y.value():y;return E||(E=new t),S(I,G,O,k,E)}}return D?(E||(E=new t),n(j,y,O,k,S,E)):!1}return Mv=w,Mv}var $v,$N;function nw(){if($N)return $v;$N=1;var t=m8(),e=na();function r(n,a,i,o,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,u)}return $v=r,$v}var Iv,IN;function g8(){if(IN)return Iv;IN=1;var t=qP(),e=nw(),r=1,n=2;function a(i,o,u,d){var f=u.length,m=f,p=!d;if(i==null)return!m;for(i=Object(i);f--;){var v=u[f];if(p&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++f<m;){v=u[f];var b=v[0],w=i[b],j=v[1];if(p&&v[2]){if(w===void 0&&!(b in i))return!1}else{var y=new t;if(d)var O=d(w,j,b,i,o,y);if(!(O===void 0?e(j,w,r|n,d,y):O))return!1}}return!0}return Iv=a,Iv}var Dv,DN;function JP(){if(DN)return Dv;DN=1;var t=La();function e(r){return r===r&&!t(r)}return Dv=e,Dv}var Lv,LN;function v8(){if(LN)return Lv;LN=1;var t=JP(),e=Xf();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],u=n[o];a[i]=[o,u,t(u)]}return a}return Lv=r,Lv}var Bv,BN;function QP(){if(BN)return Bv;BN=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Bv=t,Bv}var qv,qN;function y8(){if(qN)return qv;qN=1;var t=g8(),e=v8(),r=QP();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return qv=n,qv}var Uv,UN;function x8(){if(UN)return Uv;UN=1;function t(e,r){return e!=null&&r in Object(e)}return Uv=t,Uv}var Fv,FN;function b8(){if(FN)return Fv;FN=1;var t=vP(),e=ew(),r=mr(),n=tw(),a=rw(),i=Hf();function o(u,d,f){d=t(d,u);for(var m=-1,p=d.length,v=!1;++m<p;){var b=i(d[m]);if(!(v=u!=null&&f(u,b)))break;u=u[b]}return v||++m!=p?v:(p=u==null?0:u.length,!!p&&a(p)&&n(b,p)&&(r(u)||e(u)))}return Fv=o,Fv}var zv,zN;function w8(){if(zN)return zv;zN=1;var t=x8(),e=b8();function r(n,a){return n!=null&&e(n,a,t)}return zv=r,zv}var Wv,WN;function j8(){if(WN)return Wv;WN=1;var t=nw(),e=yP(),r=w8(),n=Bb(),a=JP(),i=QP(),o=Hf(),u=1,d=2;function f(m,p){return n(m)&&a(p)?i(o(m),p):function(v){var b=e(v,m);return b===void 0&&b===p?r(v,m):t(p,b,u|d)}}return Wv=f,Wv}var Hv,HN;function lo(){if(HN)return Hv;HN=1;function t(e){return e}return Hv=t,Hv}var Vv,VN;function _8(){if(VN)return Vv;VN=1;function t(e){return function(r){return r?.[e]}}return Vv=t,Vv}var Kv,KN;function S8(){if(KN)return Kv;KN=1;var t=Hb();function e(r){return function(n){return t(n,r)}}return Kv=e,Kv}var Gv,GN;function N8(){if(GN)return Gv;GN=1;var t=_8(),e=S8(),r=Bb(),n=Hf();function a(i){return r(i)?t(n(i)):e(i)}return Gv=a,Gv}var Yv,YN;function Ba(){if(YN)return Yv;YN=1;var t=y8(),e=j8(),r=lo(),n=mr(),a=N8();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return Yv=i,Yv}var Xv,XN;function ZP(){if(XN)return Xv;XN=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return Xv=t,Xv}var Jv,JN;function k8(){if(JN)return Jv;JN=1;function t(e){return e!==e}return Jv=t,Jv}var Qv,QN;function O8(){if(QN)return Qv;QN=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Qv=t,Qv}var Zv,ZN;function E8(){if(ZN)return Zv;ZN=1;var t=ZP(),e=k8(),r=O8();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return Zv=n,Zv}var ey,ek;function A8(){if(ek)return ey;ek=1;var t=E8();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return ey=e,ey}var ty,tk;function C8(){if(tk)return ty;tk=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return ty=t,ty}var ry,rk;function P8(){if(rk)return ry;rk=1;function t(){}return ry=t,ry}var ny,nk;function T8(){if(nk)return ny;nk=1;var t=XP(),e=P8(),r=Zb(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return ny=a,ny}var ay,ak;function R8(){if(ak)return ay;ak=1;var t=UP(),e=A8(),r=C8(),n=zP(),a=T8(),i=Zb(),o=200;function u(d,f,m){var p=-1,v=e,b=d.length,w=!0,j=[],y=j;if(m)w=!1,v=r;else if(b>=o){var O=f?null:a(d);if(O)return i(O);w=!1,v=n,y=new t}else y=f?[]:j;e:for(;++p<b;){var k=d[p],S=f?f(k):k;if(k=m||k!==0?k:0,w&&S===S){for(var E=y.length;E--;)if(y[E]===S)continue e;f&&y.push(S),j.push(k)}else v(y,S,m)||(y!==j&&y.push(S),j.push(k))}return j}return ay=u,ay}var iy,ik;function M8(){if(ik)return iy;ik=1;var t=Ba(),e=R8();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return iy=r,iy}var $8=M8();const sk=tt($8);function e5(t,e,r){return e===!0?sk(t,r):Le(e)?sk(t,e):t}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var I8=["ref"];function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){Jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r5(n.key),n)}}function L8(t,e,r){return e&&lk(t.prototype,e),r&&lk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B8(t,e,r){return e=Ud(e),q8(t,t5()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function q8(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U8(t)}function U8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function F8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vx(t,e)}function Jf(t,e,r){return e=r5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r5(t){var e=z8(t,"string");return Ms(e)=="symbol"?e:e+""}function z8(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W8(t,e){if(t==null)return{};var r=H8(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V8(t){return t.value}function K8(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=W8(e,I8);return Y.createElement(Qb,r)}var ck=1,Os=(function(t){function e(){var r;D8(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=B8(this,e,[].concat(a)),Jf(r,"lastBoundingBox",{width:-1,height:-1}),r}return F8(e,t),L8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ck||Math.abs(a.height-this.lastBoundingBox.height)>ck)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,d=a.margin,f=a.chartWidth,m=a.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();v={top:((m||0)-w.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Bn(Bn({},p),v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,u=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,m=a.payload,p=Bn(Bn({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){n.wrapperNode=b}},K8(i,Bn(Bn({},this.props),{},{payload:e5(m,f,V8)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Bn(Bn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(C.PureComponent);Jf(Os,"displayName","Legend");Jf(Os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sy,uk;function G8(){if(uk)return sy;uk=1;var t=wc(),e=ew(),r=mr(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return sy=a,sy}var oy,dk;function n5(){if(dk)return oy;dk=1;var t=HP(),e=G8();function r(n,a,i,o,u){var d=-1,f=n.length;for(i||(i=e),u||(u=[]);++d<f;){var m=n[d];a>0&&i(m)?a>1?r(m,a-1,i,o,u):t(u,m):o||(u[u.length]=m)}return u}return oy=r,oy}var ly,fk;function Y8(){if(fk)return ly;fk=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),u=a(r),d=u.length;d--;){var f=u[e?d:++i];if(n(o[f],f,o)===!1)break}return r}}return ly=t,ly}var cy,hk;function X8(){if(hk)return cy;hk=1;var t=Y8(),e=t();return cy=e,cy}var uy,pk;function a5(){if(pk)return uy;pk=1;var t=X8(),e=Xf();function r(n,a){return n&&t(n,a,e)}return uy=r,uy}var dy,mk;function J8(){if(mk)return dy;mk=1;var t=_c();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,u=n?o:-1,d=Object(a);(n?u--:++u<o)&&i(d[u],u,d)!==!1;);return a}}return dy=e,dy}var fy,gk;function aw(){if(gk)return fy;gk=1;var t=a5(),e=J8(),r=e(t);return fy=r,fy}var hy,vk;function i5(){if(vk)return hy;vk=1;var t=aw(),e=_c();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++i]=a(u,d,f)}),o}return hy=r,hy}var py,yk;function Q8(){if(yk)return py;yk=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return py=t,py}var my,xk;function Z8(){if(xk)return my;xk=1;var t=io();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,m=n===n,p=t(n);if(!f&&!p&&!u&&r>n||u&&d&&m&&!f&&!p||i&&d&&m||!a&&m||!o)return 1;if(!i&&!u&&!p&&r<n||p&&a&&o&&!i&&!u||f&&a&&o||!d&&o||!m)return-1}return 0}return my=e,my}var gy,bk;function eB(){if(bk)return gy;bk=1;var t=Z8();function e(r,n,a){for(var i=-1,o=r.criteria,u=n.criteria,d=o.length,f=a.length;++i<d;){var m=t(o[i],u[i]);if(m){if(i>=f)return m;var p=a[i];return m*(p=="desc"?-1:1)}}return r.index-n.index}return gy=e,gy}var vy,wk;function tB(){if(wk)return vy;wk=1;var t=Wb(),e=Hb(),r=Ba(),n=i5(),a=Q8(),i=KP(),o=eB(),u=lo(),d=mr();function f(m,p,v){p.length?p=t(p,function(j){return d(j)?function(y){return e(y,j.length===1?j[0]:j)}:j}):p=[u];var b=-1;p=t(p,i(r));var w=n(m,function(j,y,O){var k=t(p,function(S){return S(j)});return{criteria:k,index:++b,value:j}});return a(w,function(j,y){return o(j,y,v)})}return vy=f,vy}var yy,jk;function rB(){if(jk)return yy;jk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return yy=t,yy}var xy,_k;function nB(){if(_k)return xy;_k=1;var t=rB(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,u=-1,d=e(o.length-a,0),f=Array(d);++u<d;)f[u]=o[a+u];u=-1;for(var m=Array(a+1);++u<a;)m[u]=o[u];return m[a]=i(f),t(n,this,m)}}return xy=r,xy}var by,Sk;function aB(){if(Sk)return by;Sk=1;function t(e){return function(){return e}}return by=t,by}var wy,Nk;function s5(){if(Nk)return wy;Nk=1;var t=Ei(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return wy=e,wy}var jy,kk;function iB(){if(kk)return jy;kk=1;var t=aB(),e=s5(),r=lo(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return jy=n,jy}var _y,Ok;function sB(){if(Ok)return _y;Ok=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return _y=n,_y}var Sy,Ek;function oB(){if(Ek)return Sy;Ek=1;var t=iB(),e=sB(),r=e(t);return Sy=r,Sy}var Ny,Ak;function lB(){if(Ak)return Ny;Ak=1;var t=lo(),e=nB(),r=oB();function n(a,i){return r(e(a,i,t),a+"")}return Ny=n,Ny}var ky,Ck;function Qf(){if(Ck)return ky;Ck=1;var t=Ub(),e=_c(),r=tw(),n=La();function a(i,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],i):!1}return ky=a,ky}var Oy,Pk;function cB(){if(Pk)return Oy;Pk=1;var t=n5(),e=tB(),r=lB(),n=Qf(),a=r(function(i,o){if(i==null)return[];var u=o.length;return u>1&&n(i,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Oy=a,Oy}var uB=cB();const iw=tt(uB);function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}function dB(t,e){return mB(t)||pB(t,e)||hB(t,e)||fB()}function fB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(t,e){if(t){if(typeof t=="string")return Tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(t,e)}}function Tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function mB(t){if(Array.isArray(t))return t}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ey(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){gB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gB(t,e,r){return e=vB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=yB(t,"string");return Ll(e)=="symbol"?e:e+""}function yB(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xB(t){return Array.isArray(t)&&Rt(t[0])&&Rt(t[1])?t.join(" ~ "):t}var bB=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,m=e.payload,p=e.formatter,v=e.itemSorter,b=e.wrapperClassName,w=e.labelClassName,j=e.label,y=e.labelFormatter,O=e.accessibilityLayer,k=O===void 0?!1:O,S=function(){if(m&&m.length){var W={padding:0,margin:0},B=(v?iw(m,v):m).map(function(I,G){if(I.type==="none")return null;var F=Ey({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},u),Z=I.formatter||p||xB,K=I.value,J=I.name,q=K,$=J;if(Z&&q!=null&&$!=null){var H=Z(K,J,I,G,m);if(Array.isArray(H)){var ie=dB(H,2);q=ie[0],$=ie[1]}else q=H}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:F},Rt($)?Y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Rt($)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},q),Y.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:W},B)}return null},E=Ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Ey({margin:0},f),A=!Fe(j),T=A?j:"",P=He("recharts-default-tooltip",b),M=He("recharts-tooltip-label",w);A&&y&&m!==void 0&&m!==null&&(T=y(j,m));var U=k?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",yx({className:P,style:E},U),Y.createElement("p",{className:M,style:_},Y.isValidElement(T)?T:"".concat(T)),S())};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Ku(t,e,r){return e=wB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wB(t){var e=jB(t,"string");return Bl(e)=="symbol"?e:e+""}function jB(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var el="recharts-tooltip-wrapper",_B={visibility:"hidden"};function SB(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return He(el,Ku(Ku(Ku(Ku({},"".concat(el,"-right"),pe(r)&&e&&pe(e.x)&&r>=e.x),"".concat(el,"-left"),pe(r)&&e&&pe(e.x)&&r<e.x),"".concat(el,"-bottom"),pe(n)&&e&&pe(e.y)&&n>=e.y),"".concat(el,"-top"),pe(n)&&e&&pe(e.y)&&n<e.y))}function Mk(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(i&&pe(i[n]))return i[n];var m=r[n]-u-a,p=r[n]+a;if(e[n])return o[n]?m:p;if(o[n]){var v=m,b=d[n];return v<b?Math.max(p,d[n]):Math.max(m,d[n])}var w=p+u,j=d[n]+f;return w>j?Math.max(m,d[n]):Math.max(p,d[n])}function NB(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function kB(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,m,p;return o.height>0&&o.width>0&&r?(m=Mk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=Mk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=NB({translateX:m,translateY:p,useTranslate3d:u})):f=_B,{cssProperties:f,cssClasses:SB({translateX:m,translateY:p,coordinate:r})}}function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){bx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l5(n.key),n)}}function AB(t,e,r){return e&&EB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CB(t,e,r){return e=Fd(e),PB(t,o5()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function PB(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TB(t)}function TB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function RB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xx(t,e)}function bx(t,e,r){return e=l5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l5(t){var e=MB(t,"string");return $s(e)=="symbol"?e:e+""}function MB(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dk=1,$B=(function(t){function e(){var r;OB(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CB(this,e,[].concat(a)),bx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bx(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return RB(e,t),AB(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Dk||Math.abs(n.height-this.state.lastBoundingBox.height)>Dk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.children,m=a.coordinate,p=a.hasPayload,v=a.isAnimationActive,b=a.offset,w=a.position,j=a.reverseDirection,y=a.useTranslate3d,O=a.viewBox,k=a.wrapperStyle,S=kB({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:b,position:w,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:O}),E=S.cssClasses,_=S.cssProperties,A=Ik(Ik({transition:v&&i?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return Y.createElement("div",{tabIndex:-1,className:E,style:A,ref:function(P){n.wrapperNode=P}},f)}}])})(C.PureComponent),IB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},co={isSsr:IB()};function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(r),!0).forEach(function(n){sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u5(n.key),n)}}function BB(t,e,r){return e&&LB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t,e,r){return e=zd(e),UB(t,c5()?Reflect.construct(e,r||[],zd(t).constructor):e.apply(t,r))}function UB(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FB(t)}function FB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(t)}function zB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(t,e)}function sw(t,e,r){return e=u5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u5(t){var e=WB(t,"string");return Is(e)=="symbol"?e:e+""}function WB(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HB(t){return t.dataKey}function VB(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(bB,e)}var bn=(function(t){function e(){return DB(this,e),qB(this,e,arguments)}return zB(e,t),BB(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.content,m=a.coordinate,p=a.filterNull,v=a.isAnimationActive,b=a.offset,w=a.payload,j=a.payloadUniqBy,y=a.position,O=a.reverseDirection,k=a.useTranslate3d,S=a.viewBox,E=a.wrapperStyle,_=w??[];p&&_.length&&(_=e5(w.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),j,HB));var A=_.length>0;return Y.createElement($B,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:v,active:i,coordinate:m,hasPayload:A,offset:b,position:y,reverseDirection:O,useTranslate3d:k,viewBox:S,wrapperStyle:E},VB(f,Bk(Bk({},this.props),{},{payload:_})))}}])})(C.PureComponent);sw(bn,"displayName","Tooltip");sw(bn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ay,qk;function KB(){if(qk)return Ay;qk=1;var t=An(),e=function(){return t.Date.now()};return Ay=e,Ay}var Cy,Uk;function GB(){if(Uk)return Cy;Uk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Cy=e,Cy}var Py,Fk;function YB(){if(Fk)return Py;Fk=1;var t=GB(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Py=r,Py}var Ty,zk;function d5(){if(zk)return Ty;zk=1;var t=YB(),e=La(),r=io(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=i.test(f);return p||o.test(f)?u(f.slice(2),p?2:8):a.test(f)?n:+f}return Ty=d,Ty}var Ry,Wk;function XB(){if(Wk)return Ry;Wk=1;var t=La(),e=KB(),r=d5(),n="Expected a function",a=Math.max,i=Math.min;function o(u,d,f){var m,p,v,b,w,j,y=0,O=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(O=!!f.leading,k="maxWait"in f,v=k?a(r(f.maxWait)||0,d):v,S="trailing"in f?!!f.trailing:S);function E(B){var I=m,G=p;return m=p=void 0,y=B,b=u.apply(G,I),b}function _(B){return y=B,w=setTimeout(P,d),O?E(B):b}function A(B){var I=B-j,G=B-y,F=d-I;return k?i(F,v-G):F}function T(B){var I=B-j,G=B-y;return j===void 0||I>=d||I<0||k&&G>=v}function P(){var B=e();if(T(B))return M(B);w=setTimeout(P,A(B))}function M(B){return w=void 0,S&&m?E(B):(m=p=void 0,b)}function U(){w!==void 0&&clearTimeout(w),y=0,m=j=p=w=void 0}function D(){return w===void 0?b:M(e())}function W(){var B=e(),I=T(B);if(m=arguments,p=this,j=B,I){if(w===void 0)return _(j);if(k)return clearTimeout(w),w=setTimeout(P,d),E(j)}return w===void 0&&(w=setTimeout(P,d)),b}return W.cancel=U,W.flush=D,W}return Ry=o,Ry}var My,Hk;function JB(){if(Hk)return My;Hk=1;var t=XB(),e=La(),r="Expected a function";function n(a,i,o){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return My=n,My}var QB=JB();const f5=tt(QB);function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){ZB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZB(t,e,r){return e=eq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eq(t){var e=tq(t,"string");return ql(e)=="symbol"?e:e+""}function tq(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rq(t,e){return sq(t)||iq(t,e)||aq(t,e)||nq()}function nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aq(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function sq(t){if(Array.isArray(t))return t}var oq=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,m=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,b=t.children,w=t.debounce,j=w===void 0?0:w,y=t.id,O=t.className,k=t.onResize,S=t.style,E=S===void 0?{}:S,_=C.useRef(null),A=C.useRef();A.current=k,C.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var T=C.useState({containerWidth:a.width,containerHeight:a.height}),P=rq(T,2),M=P[0],U=P[1],D=C.useCallback(function(B,I){U(function(G){var F=Math.round(B),Z=Math.round(I);return G.containerWidth===F&&G.containerHeight===Z?G:{containerWidth:F,containerHeight:Z}})},[]);C.useEffect(function(){var B=function(J){var q,$=J[0].contentRect,H=$.width,ie=$.height;D(H,ie),(q=A.current)===null||q===void 0||q.call(A,H,ie)};j>0&&(B=f5(B,j,{trailing:!0,leading:!1}));var I=new ResizeObserver(B),G=_.current.getBoundingClientRect(),F=G.width,Z=G.height;return D(F,Z),I.observe(_.current),function(){I.disconnect()}},[D,j]);var W=C.useMemo(function(){var B=M.containerWidth,I=M.containerHeight;if(B<0||I<0)return null;bi(pi(o)||pi(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=pi(o)?B:o,F=pi(d)?I:d;r&&r>0&&(G?F=G/r:F&&(G=F*r),v&&F>v&&(F=v)),bi(G>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,F,o,d,m,p,r);var Z=!Array.isArray(b)&&Hn(b.type).endsWith("Chart");return Y.Children.map(b,function(K){return Y.isValidElement(K)?C.cloneElement(K,Gu({width:G,height:F},Z?{style:Gu({height:"100%",width:"100%",maxHeight:F,maxWidth:G},K.props.style)}:{})):K})},[r,b,d,v,p,m,M,o]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",O),style:Gu(Gu({},E),{},{width:o,height:d,minWidth:m,minHeight:p,maxHeight:v}),ref:_},W)}),h5=function(e){return null};h5.displayName="Cell";function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){lq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lq(t,e,r){return e=cq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cq(t){var e=uq(t,"string");return Ul(e)=="symbol"?e:e+""}function uq(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ls={widthCache:{},cacheCount:0},dq=2e3,fq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yk="recharts_measurement_span";function hq(t){var e=jx({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var jl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};var n=hq(r),a=JSON.stringify({text:e,copyStyle:n});if(ls.widthCache[a])return ls.widthCache[a];try{var i=document.getElementById(Yk);i||(i=document.createElement("span"),i.setAttribute("id",Yk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=jx(jx({},fq),n);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return ls.widthCache[a]=d,++ls.cacheCount>dq&&(ls.cacheCount=0,ls.widthCache={}),d}catch{return{width:0,height:0}}},pq=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Wd(t,e){return yq(t)||vq(t,e)||gq(t,e)||mq()}function mq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function yq(t){if(Array.isArray(t))return t}function xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wq(n.key),n)}}function bq(t,e,r){return e&&Jk(t.prototype,e),r&&Jk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wq(t){var e=jq(t,"string");return Fl(e)=="symbol"?e:e+""}function jq(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_q=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nq=Object.keys(p5),xs="NaN";function kq(t,e){return t*p5[e]}var Yu=(function(){function t(e,r){xq(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_q.test(r)&&(this.num=NaN,this.unit=""),Nq.includes(r)&&(this.num=kq(e,r),this.unit="px")}return bq(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Sq.exec(r))!==null&&n!==void 0?n:[],i=Wd(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])})();function m5(t){if(t.includes(xs))return xs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Qk.exec(e))!==null&&r!==void 0?r:[],a=Wd(n,4),i=a[1],o=a[2],u=a[3],d=Yu.parse(i??""),f=Yu.parse(u??""),m=o==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return xs;e=e.replace(Qk,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=Zk.exec(e))!==null&&p!==void 0?p:[],b=Wd(v,4),w=b[1],j=b[2],y=b[3],O=Yu.parse(w??""),k=Yu.parse(y??""),S=j==="+"?O.add(k):O.subtract(k);if(S.isNaN())return xs;e=e.replace(Zk,S.toString())}return e}var eO=/\(([^()]*)\)/;function Oq(t){for(var e=t;e.includes("(");){var r=eO.exec(e),n=Wd(r,2),a=n[1];e=e.replace(eO,m5(a))}return e}function Eq(t){var e=t.replace(/\s+/g,"");return e=Oq(e),e=m5(e),e}function Aq(t){try{return Eq(t)}catch{return xs}}function $y(t){var e=Aq(t.slice(5,-1));return e===xs?"":e}var Cq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pq=["dx","dy","angle","className","breakAll"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function tO(t,e){if(t==null)return{};var r=Tq(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rO(t,e){return Iq(t)||$q(t,e)||Mq(t,e)||Rq()}function Rq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t,e){if(t){if(typeof t=="string")return nO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function Iq(t){if(Array.isArray(t))return t}var g5=/[ \f\n\r\t\v\u2028\u2029]+/,v5=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Fe(r)||(n?i=r.toString().split(""):i=r.toString().split(g5));var o=i.map(function(d){return{word:d,width:jl(d,a).width}}),u=n?0:jl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Dq=function(e,r,n,a,i){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,m=pe(o),p=u,v=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(F,Z){var K=Z.word,J=Z.width,q=F[F.length-1];if(q&&(a==null||i||q.width+J+n<Number(a)))q.words.push(K),q.width+=J+n;else{var $={words:[K],width:J};F.push($)}return F},[])},b=v(r),w=function(G){return G.reduce(function(F,Z){return F.width>Z.width?F:Z})};if(!m)return b;for(var j="",y=function(G){var F=p.slice(0,G),Z=v5({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,K=v(Z),J=K.length>o||w(K).width>Number(a);return[J,K]},O=0,k=p.length-1,S=0,E;O<=k&&S<=p.length-1;){var _=Math.floor((O+k)/2),A=_-1,T=y(A),P=rO(T,2),M=P[0],U=P[1],D=y(_),W=rO(D,1),B=W[0];if(!M&&!B&&(O=_+1),M&&B&&(k=_-1),!M&&B){E=U;break}S++}return E||b},aO=function(e){var r=Fe(e)?[]:e.toString().split(g5);return[{words:r}]},Lq=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!co.isSsr){var d,f,m=v5({breakAll:o,children:a,style:i});if(m){var p=m.wordsWithComputedWidth,v=m.spaceWidth;d=p,f=v}else return aO(a);return Dq({breakAll:o,children:a,maxLines:u,style:i},d,f,r,n)}return aO(a)},iO="#808080",Hd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,m=e.scaleToFit,p=m===void 0?!1:m,v=e.textAnchor,b=v===void 0?"start":v,w=e.verticalAnchor,j=w===void 0?"end":w,y=e.fill,O=y===void 0?iO:y,k=tO(e,Cq),S=C.useMemo(function(){return Lq({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),E=k.dx,_=k.dy,A=k.angle,T=k.className,P=k.breakAll,M=tO(k,Pq);if(!Rt(n)||!Rt(i))return null;var U=n+(pe(E)?E:0),D=i+(pe(_)?_:0),W;switch(j){case"start":W=$y("calc(".concat(f,")"));break;case"middle":W=$y("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:W=$y("calc(".concat(S.length-1," * -").concat(u,")"));break}var B=[];if(p){var I=S[0].width,G=k.width;B.push("scale(".concat((pe(G)?G/I:1)/I,")"))}return A&&B.push("rotate(".concat(A,", ").concat(U,", ").concat(D,")")),B.length&&(M.transform=B.join(" ")),Y.createElement("text",_x({},Ue(M,!0),{x:U,y:D,className:He("recharts-text",T),textAnchor:b,fill:O.includes("url")?iO:O}),S.map(function(F,Z){var K=F.words.join(P?"":" ");return Y.createElement("tspan",{x:U,dy:Z===0?W:u,key:"".concat(K,"-").concat(Z)},K)}))};function Ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ow(t){let e,r,n;t.length!==2?(e=Ra,r=(u,d)=>Ra(t(u),d),n=(u,d)=>t(u)-d):(e=t===Ra||t===Bq?t:qq,r=t,n=t);function a(u,d,f=0,m=u.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<0?f=p+1:m=p}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function o(u,d,f=0,m=u.length){const p=a(u,d,f,m-1);return p>f&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:a,center:o,right:i}}function qq(){return 0}function y5(t){return t===null?NaN:+t}function*Uq(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Fq=ow(Ra),Sc=Fq.right;ow(y5).center;class sO extends Map{constructor(e,r=Hq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(oO(this,e))}has(e){return super.has(oO(this,e))}set(e,r){return super.set(zq(this,e),r)}delete(e){return super.delete(Wq(this,e))}}function oO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Wq({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Hq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vq(t=Ra){if(t===Ra)return x5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function x5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Kq=Math.sqrt(50),Gq=Math.sqrt(10),Yq=Math.sqrt(2);function Vd(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Kq?10:i>=Gq?5:i>=Yq?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,a)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?Vd(t,e,r*2):[u,d,f]}function Sx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Vd(e,t,r):Vd(t,e,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(i-f)/-o;else for(let f=0;f<u;++f)d[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(a+f)/-o;else for(let f=0;f<u;++f)d[f]=(a+f)*o;return d}function Nx(t,e,r){return e=+e,t=+t,r=+r,Vd(t,e,r)[2]}function kx(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Nx(e,t,r):Nx(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function lO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function b5(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?x5:Vq(a);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(e-f*p/d+v)),w=Math.min(n,Math.floor(e+(d-f)*p/d+v));b5(t,e,b,w,a)}const i=t[e];let o=r,u=n;for(tl(t,r,e),a(t[n],i)>0&&tl(t,r,n);o<u;){for(tl(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[r],i)===0?tl(t,r,u):(++u,tl(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function tl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xq(t,e,r){if(t=Float64Array.from(Uq(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return cO(t);if(e>=1)return lO(t);var n,a=(n-1)*e,i=Math.floor(a),o=lO(b5(t,i).subarray(0,i+1)),u=cO(t.subarray(i+1));return o+(u-o)*(a-i)}}function Jq(t,e,r=y5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),u=+r(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function Qq(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function aa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ox=Symbol("implicit");function lw(){var t=new sO,e=[],r=[],n=Ox;function a(i){let o=t.get(i);if(o===void 0){if(n!==Ox)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new sO;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lw(e,r).unknown(n)},Wr.apply(a,arguments),a}function zl(){var t=lw().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,u=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var v=e().length,b=a<n,w=b?a:n,j=b?n:a;i=(j-w)/Math.max(1,v-d+f*2),u&&(i=Math.floor(i)),w+=(j-w-i*(v-d))*m,o=i*(1-d),u&&(w=Math.round(w),o=Math.round(o));var y=Qq(v).map(function(O){return w+i*O});return r(b?y.reverse():y)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),p()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},t.copy=function(){return zl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},Wr.apply(p(),arguments)}function w5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w5(e())},t}function _l(){return w5(zl.apply(null,arguments).paddingInner(1))}function cw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function j5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Nc(){}var Wl=.7,Kd=1/Wl,Es="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zq=/^#([0-9a-f]{3,8})$/,eU=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),tU=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),rU=new RegExp(`^rgba\\(${Es},${Es},${Es},${Hl}\\)$`),nU=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${Hl}\\)$`),aU=new RegExp(`^hsl\\(${Hl},${Nn},${Nn}\\)$`),iU=new RegExp(`^hsla\\(${Hl},${Nn},${Nn},${Hl}\\)$`),uO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cw(Nc,Vl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dO,formatHex:dO,formatHex8:sU,formatHsl:oU,formatRgb:fO,toString:fO});function dO(){return this.rgb().formatHex()}function sU(){return this.rgb().formatHex8()}function oU(){return _5(this).formatHsl()}function fO(){return this.rgb().formatRgb()}function Vl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Zq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?hO(e):r===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eU.exec(t))?new pr(e[1],e[2],e[3],1):(e=tU.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rU.exec(t))?Xu(e[1],e[2],e[3],e[4]):(e=nU.exec(t))?Xu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aU.exec(t))?gO(e[1],e[2]/100,e[3]/100,1):(e=iU.exec(t))?gO(e[1],e[2]/100,e[3]/100,e[4]):uO.hasOwnProperty(t)?hO(uO[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function hO(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function Xu(t,e,r,n){return n<=0&&(t=e=r=NaN),new pr(t,e,r,n)}function lU(t){return t instanceof Nc||(t=Vl(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function Ex(t,e,r,n){return arguments.length===1?lU(t):new pr(t,e,r,n??1)}function pr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}cw(pr,Ex,j5(Nc,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wl:Math.pow(Wl,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(wi(this.r),wi(this.g),wi(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pO,formatHex:pO,formatHex8:cU,formatRgb:mO,toString:mO}));function pO(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function cU(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function mO(){const t=Gd(this.opacity);return`${t===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${t===1?")":`, ${t})`}`}function Gd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mi(t){return t=wi(t),(t<16?"0":"")+t.toString(16)}function gO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nn(t,e,r,n)}function _5(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);if(t instanceof Nc||(t=Vl(t)),!t)return new nn;if(t instanceof nn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,u=i-a,d=(i+a)/2;return u?(e===i?o=(r-n)/u+(r<n)*6:r===i?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?i+a:2-i-a,o*=60):u=d>0&&d<1?0:o,new nn(o,u,d,t.opacity)}function uU(t,e,r,n){return arguments.length===1?_5(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}cw(nn,uU,j5(Nc,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wl:Math.pow(Wl,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new pr(Iy(t>=240?t-240:t+120,a,n),Iy(t,a,n),Iy(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new nn(vO(this.h),Ju(this.s),Ju(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gd(this.opacity);return`${t===1?"hsl(":"hsla("}${vO(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vO(t){return t=(t||0)%360,t<0?t+360:t}function Ju(t){return Math.max(0,Math.min(1,t||0))}function Iy(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uw=t=>()=>t;function dU(t,e){return function(r){return t+r*e}}function fU(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hU(t){return(t=+t)==1?S5:function(e,r){return r-e?fU(e,r,t):uw(isNaN(e)?r:e)}}function S5(t,e){var r=e-t;return r?dU(t,r):uw(isNaN(t)?e:t)}const yO=(function t(e){var r=hU(e);function n(a,i){var o=r((a=Ex(a)).r,(i=Ex(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),f=S5(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=t,n})(1);function pU(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function mU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gU(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=uo(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(u){for(o=0;o<n;++o)i[o]=a[o](u);return i}}function vU(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yU(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=uo(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Ax=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dy=new RegExp(Ax.source,"g");function xU(t){return function(){return t}}function bU(t){return function(e){return t(e)+""}}function wU(t,e){var r=Ax.lastIndex=Dy.lastIndex=0,n,a,i,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=Ax.exec(t))&&(a=Dy.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,d.push({i:o,x:Yd(n,a)})),r=Dy.lastIndex;return r<e.length&&(i=e.slice(r),u[o]?u[o]+=i:u[++o]=i),u.length<2?d[0]?bU(d[0].x):xU(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)u[(p=d[m]).i]=p.x(f);return u.join("")})}function uo(t,e){var r=typeof e,n;return e==null||r==="boolean"?uw(e):(r==="number"?Yd:r==="string"?(n=Vl(e))?(e=n,yO):wU:e instanceof Vl?yO:e instanceof Date?vU:mU(e)?pU:Array.isArray(e)?gU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yU:Yd)(t,e)}function dw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function jU(t,e){e===void 0&&(e=t,t=uo);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[u](o-u)}}function _U(t){return function(){return t}}function Xd(t){return+t}var xO=[0,1];function ir(t){return t}function Cx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_U(isNaN(e)?NaN:.5)}function SU(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NU(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=Cx(a,n),i=r(o,i)):(n=Cx(n,a),i=r(i,o)),function(u){return i(n(u))}}function kU(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=Cx(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(u){var d=Sc(t,u,1,n)-1;return i[d](a[d](u))}}function kc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zf(){var t=xO,e=xO,r=uo,n,a,i,o=ir,u,d,f;function m(){var v=Math.min(t.length,e.length);return o!==ir&&(o=SU(t[0],t[v-1])),u=v>2?kU:NU,d=f=null,p}function p(v){return v==null||isNaN(v=+v)?i:(d||(d=u(t.map(n),e,r)))(n(o(v)))}return p.invert=function(v){return o(a((f||(f=u(e,t.map(n),Yd)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Xd),m()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=dw,m()},p.clamp=function(v){return arguments.length?(o=v?!0:ir,m()):o!==ir},p.interpolate=function(v){return arguments.length?(r=v,m()):r},p.unknown=function(v){return arguments.length?(i=v,p):i},function(v,b){return n=v,a=b,m()}}function fw(){return Zf()(ir,ir)}function OU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ds(t){return t=Jd(Math.abs(t)),t?t[1]:NaN}function EU(t,e){return function(r,n){for(var a=r.length,i=[],o=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function AU(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var CU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kl(t){if(!(e=CU.exec(t)))throw new Error("invalid format: "+t);var e;return new hw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kl.prototype=hw.prototype;function hw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PU(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var N5;function TU(t,e){var r=Jd(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(N5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jd(t,Math.max(0,e+i-1))[0]}function bO(t,e){var r=Jd(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OU,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bO(t*100,e),r:bO,s:TU,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jO(t){return t}var _O=Array.prototype.map,SO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RU(t){var e=t.grouping===void 0||t.thousands===void 0?jO:EU(_O.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?jO:AU(_O.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Kl(p);var v=p.fill,b=p.align,w=p.sign,j=p.symbol,y=p.zero,O=p.width,k=p.comma,S=p.precision,E=p.trim,_=p.type;_==="n"?(k=!0,_="g"):wO[_]||(S===void 0&&(S=12),E=!0,_="g"),(y||v==="0"&&b==="=")&&(y=!0,v="0",b="=");var A=j==="$"?r:j==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=j==="$"?n:/[%p]/.test(_)?o:"",P=wO[_],M=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(D){var W=A,B=T,I,G,F;if(_==="c")B=P(D)+B,D="";else{D=+D;var Z=D<0||1/D<0;if(D=isNaN(D)?d:P(Math.abs(D),S),E&&(D=PU(D)),Z&&+D==0&&w!=="+"&&(Z=!1),W=(Z?w==="("?w:u:w==="-"||w==="("?"":w)+W,B=(_==="s"?SO[8+N5/3]:"")+B+(Z&&w==="("?")":""),M){for(I=-1,G=D.length;++I<G;)if(F=D.charCodeAt(I),48>F||F>57){B=(F===46?a+D.slice(I+1):D.slice(I))+B,D=D.slice(0,I);break}}}k&&!y&&(D=e(D,1/0));var K=W.length+D.length+B.length,J=K<O?new Array(O-K+1).join(v):"";switch(k&&y&&(D=e(J+D,J.length?O-B.length:1/0),J=""),b){case"<":D=W+D+B+J;break;case"=":D=W+J+D+B;break;case"^":D=J.slice(0,K=J.length>>1)+W+D+B+J.slice(K);break;default:D=J+W+D+B;break}return i(D)}return U.toString=function(){return p+""},U}function m(p,v){var b=f((p=Kl(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Ds(v)/3)))*3,j=Math.pow(10,-w),y=SO[8+w/3];return function(O){return b(j*O)+y}}return{format:f,formatPrefix:m}}var Qu,pw,k5;MU({thousands:",",grouping:[3],currency:["$",""]});function MU(t){return Qu=RU(t),pw=Qu.format,k5=Qu.formatPrefix,Qu}function $U(t){return Math.max(0,-Ds(Math.abs(t)))}function IU(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ds(e)/3)))*3-Ds(Math.abs(t)))}function DU(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ds(e)-Ds(t))+1}function O5(t,e,r,n){var a=kx(t,e,r),i;switch(n=Kl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=IU(a,o))&&(n.precision=i),k5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=DU(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$U(a))&&(n.precision=i-(n.type==="%")*2);break}}return pw(n)}function qa(t){var e=t.domain;return t.ticks=function(r){var n=e();return Sx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return O5(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],u=n[i],d,f,m=10;for(u<o&&(f=o,o=u,u=f,f=a,a=i,i=f);m-- >0;){if(f=Nx(o,u,r),f===d)return n[a]=o,n[i]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function Qd(){var t=fw();return t.copy=function(){return kc(t,Qd())},Wr.apply(t,arguments),qa(t)}function E5(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return E5(t).unknown(e)},t=arguments.length?Array.from(t,Xd):[0,1],qa(r)}function A5(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function NO(t){return Math.log(t)}function kO(t){return Math.exp(t)}function LU(t){return-Math.log(-t)}function BU(t){return-Math.exp(-t)}function qU(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UU(t){return t===10?qU:t===Math.E?Math.exp:e=>Math.pow(t,e)}function FU(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OO(t){return(e,r)=>-t(-e,r)}function mw(t){const e=t(NO,kO),r=e.domain;let n=10,a,i;function o(){return a=FU(n),i=UU(n),r()[0]<0?(a=OO(a),i=OO(i),t(LU,BU)):t(NO,kO),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let v=a(f),b=a(m),w,j;const y=u==null?10:+u;let O=[];if(!(n%1)&&b-v<y){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(w=1;w<n;++w)if(j=v<0?w/i(-v):w*i(v),!(j<f)){if(j>m)break;O.push(j)}}else for(;v<=b;++v)for(w=n-1;w>=1;--w)if(j=v>0?w/i(-v):w*i(v),!(j<f)){if(j>m)break;O.push(j)}O.length*2<y&&(O=Sx(f,m,y))}else O=Sx(v,b,Math.min(b-v,y)).map(i);return p?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Kl(d)).precision==null&&(d.trim=!0),d=pw(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=f?d(m):""}},e.nice=()=>r(A5(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function C5(){const t=mw(Zf()).domain([1,10]);return t.copy=()=>kc(t,C5()).base(t.base()),Wr.apply(t,arguments),t}function EO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gw(t){var e=1,r=t(EO(e),AO(e));return r.constant=function(n){return arguments.length?t(EO(e=+n),AO(e)):e},qa(r)}function P5(){var t=gw(Zf());return t.copy=function(){return kc(t,P5()).constant(t.constant())},Wr.apply(t,arguments)}function CO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zU(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WU(t){return t<0?-t*t:t*t}function vw(t){var e=t(ir,ir),r=1;function n(){return r===1?t(ir,ir):r===.5?t(zU,WU):t(CO(r),CO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},qa(e)}function yw(){var t=vw(Zf());return t.copy=function(){return kc(t,yw()).exponent(t.exponent())},Wr.apply(t,arguments),t}function HU(){return yw.apply(null,arguments).exponent(.5)}function PO(t){return Math.sign(t)*t*t}function VU(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T5(){var t=fw(),e=[0,1],r=!1,n;function a(i){var o=VU(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(PO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Xd)).map(PO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return T5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wr.apply(a,arguments),qa(a)}function R5(){var t=[],e=[],r=[],n;function a(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=Jq(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Sc(r,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ra),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return R5().domain(t).range(e).unknown(n)},Wr.apply(i,arguments)}function M5(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Sc(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},o.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return M5().domain([t,e]).range(a).unknown(i)},Wr.apply(qa(o),arguments)}function $5(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Sc(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return $5().domain(t).range(e).unknown(r)},Wr.apply(a,arguments)}const Ly=new Date,By=new Date;function Mt(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return d;let f;do d.push(f=new Date(+i)),e(i,u),t(i);while(f<i&&i<o);return d},a.filter=i=>Mt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(Ly.setTime(+i),By.setTime(+o),t(Ly),t(By),Math.floor(r(Ly,By))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zd=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zd);Zd.range;const Fn=1e3,qr=Fn*60,zn=qr*60,Yn=zn*24,xw=Yn*7,TO=Yn*30,qy=Yn*365,gi=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fn)},(t,e)=>(e-t)/Fn,t=>t.getUTCSeconds());gi.range;const bw=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fn)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getMinutes());bw.range;const ww=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCMinutes());ww.range;const jw=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fn-t.getMinutes()*qr)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getHours());jw.range;const _w=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCHours());_w.range;const Oc=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qr)/Yn,t=>t.getDate()-1);Oc.range;const eh=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yn,t=>t.getUTCDate()-1);eh.range;const I5=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yn,t=>Math.floor(t/Yn));I5.range;function Ai(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qr)/xw)}const th=Ai(0),ef=Ai(1),KU=Ai(2),GU=Ai(3),Ls=Ai(4),YU=Ai(5),XU=Ai(6);th.range;ef.range;KU.range;GU.range;Ls.range;YU.range;XU.range;function Ci(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/xw)}const rh=Ci(0),tf=Ci(1),JU=Ci(2),QU=Ci(3),Bs=Ci(4),ZU=Ci(5),eF=Ci(6);rh.range;tf.range;JU.range;QU.range;Bs.range;ZU.range;eF.range;const Sw=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Sw.range;const Nw=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nw.range;const Xn=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Xn.range;const Jn=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Jn.range;function D5(t,e,r,n,a,i){const o=[[gi,1,Fn],[gi,5,5*Fn],[gi,15,15*Fn],[gi,30,30*Fn],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[a,1,zn],[a,3,3*zn],[a,6,6*zn],[a,12,12*zn],[n,1,Yn],[n,2,2*Yn],[r,1,xw],[e,1,TO],[e,3,3*TO],[t,1,qy]];function u(f,m,p){const v=m<f;v&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),w=b?b.range(f,+m+1):[];return v?w.reverse():w}function d(f,m,p){const v=Math.abs(m-f)/p,b=ow(([,,y])=>y).right(o,v);if(b===o.length)return t.every(kx(f/qy,m/qy,p));if(b===0)return Zd.every(Math.max(kx(f,m,p),1));const[w,j]=o[v/o[b-1][2]<o[b][2]/v?b-1:b];return w.every(j)}return[u,d]}const[tF,rF]=D5(Jn,Nw,rh,I5,_w,ww),[nF,aF]=D5(Xn,Sw,th,Oc,jw,bw);function Uy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iF(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=nl(a),m=al(a),p=nl(i),v=al(i),b=nl(o),w=al(o),j=nl(u),y=al(u),O=nl(d),k=al(d),S={a:Z,A:K,b:J,B:q,c:null,d:LO,e:LO,f:EF,g:LF,G:qF,H:NF,I:kF,j:OF,L:L5,m:AF,M:CF,p:$,q:H,Q:UO,s:FO,S:PF,u:TF,U:RF,V:MF,w:$F,W:IF,x:null,X:null,y:DF,Y:BF,Z:UF,"%":qO},E={a:ie,A:he,b:ae,B:ve,c:null,d:BO,e:BO,f:HF,g:tz,G:nz,H:FF,I:zF,j:WF,L:q5,m:VF,M:KF,p:Pe,q:ge,Q:UO,s:FO,S:GF,u:YF,U:XF,V:JF,w:QF,W:ZF,x:null,X:null,y:ez,Y:rz,Z:az,"%":qO},_={a:U,A:D,b:W,B,c:I,d:IO,e:IO,f:wF,g:$O,G:MO,H:DO,I:DO,j:vF,L:bF,m:gF,M:yF,p:M,q:mF,Q:_F,s:SF,S:xF,u:uF,U:dF,V:fF,w:cF,W:hF,x:G,X:F,y:$O,Y:MO,Z:pF,"%":jF};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),E.x=A(r,E),E.X=A(n,E),E.c=A(e,E);function A(se,be){return function(Ne){var X=[],$e=-1,Te=0,Qe=se.length,Ze,ft,qt;for(Ne instanceof Date||(Ne=new Date(+Ne));++$e<Qe;)se.charCodeAt($e)===37&&(X.push(se.slice(Te,$e)),(ft=RO[Ze=se.charAt(++$e)])!=null?Ze=se.charAt(++$e):ft=Ze==="e"?" ":"0",(qt=be[Ze])&&(Ze=qt(Ne,ft)),X.push(Ze),Te=$e+1);return X.push(se.slice(Te,$e)),X.join("")}}function T(se,be){return function(Ne){var X=rl(1900,void 0,1),$e=P(X,se,Ne+="",0),Te,Qe;if($e!=Ne.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(be&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Te=Fy(rl(X.y,0,1)),Qe=Te.getUTCDay(),Te=Qe>4||Qe===0?tf.ceil(Te):tf(Te),Te=eh.offset(Te,(X.V-1)*7),X.y=Te.getUTCFullYear(),X.m=Te.getUTCMonth(),X.d=Te.getUTCDate()+(X.w+6)%7):(Te=Uy(rl(X.y,0,1)),Qe=Te.getDay(),Te=Qe>4||Qe===0?ef.ceil(Te):ef(Te),Te=Oc.offset(Te,(X.V-1)*7),X.y=Te.getFullYear(),X.m=Te.getMonth(),X.d=Te.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Qe="Z"in X?Fy(rl(X.y,0,1)).getUTCDay():Uy(rl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Qe+5)%7:X.w+X.U*7-(Qe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Fy(X)):Uy(X)}}function P(se,be,Ne,X){for(var $e=0,Te=be.length,Qe=Ne.length,Ze,ft;$e<Te;){if(X>=Qe)return-1;if(Ze=be.charCodeAt($e++),Ze===37){if(Ze=be.charAt($e++),ft=_[Ze in RO?be.charAt($e++):Ze],!ft||(X=ft(se,Ne,X))<0)return-1}else if(Ze!=Ne.charCodeAt(X++))return-1}return X}function M(se,be,Ne){var X=f.exec(be.slice(Ne));return X?(se.p=m.get(X[0].toLowerCase()),Ne+X[0].length):-1}function U(se,be,Ne){var X=b.exec(be.slice(Ne));return X?(se.w=w.get(X[0].toLowerCase()),Ne+X[0].length):-1}function D(se,be,Ne){var X=p.exec(be.slice(Ne));return X?(se.w=v.get(X[0].toLowerCase()),Ne+X[0].length):-1}function W(se,be,Ne){var X=O.exec(be.slice(Ne));return X?(se.m=k.get(X[0].toLowerCase()),Ne+X[0].length):-1}function B(se,be,Ne){var X=j.exec(be.slice(Ne));return X?(se.m=y.get(X[0].toLowerCase()),Ne+X[0].length):-1}function I(se,be,Ne){return P(se,e,be,Ne)}function G(se,be,Ne){return P(se,r,be,Ne)}function F(se,be,Ne){return P(se,n,be,Ne)}function Z(se){return o[se.getDay()]}function K(se){return i[se.getDay()]}function J(se){return d[se.getMonth()]}function q(se){return u[se.getMonth()]}function $(se){return a[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function ie(se){return o[se.getUTCDay()]}function he(se){return i[se.getUTCDay()]}function ae(se){return d[se.getUTCMonth()]}function ve(se){return u[se.getUTCMonth()]}function Pe(se){return a[+(se.getUTCHours()>=12)]}function ge(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var be=A(se+="",S);return be.toString=function(){return se},be},parse:function(se){var be=T(se+="",!1);return be.toString=function(){return se},be},utcFormat:function(se){var be=A(se+="",E);return be.toString=function(){return se},be},utcParse:function(se){var be=T(se+="",!0);return be.toString=function(){return se},be}}}var RO={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,sF=/^%/,oF=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function lF(t){return t.replace(oF,"\\$&")}function nl(t){return new RegExp("^(?:"+t.map(lF).join("|")+")","i")}function al(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cF(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function uF(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function MO(t,e,r){var n=Bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $O(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pF(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mF(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function gF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function IO(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function vF(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function DO(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xF(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bF(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wF(t,e,r){var n=Bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jF(t,e,r){var n=sF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _F(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SF(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function LO(t,e){return Ke(t.getDate(),e,2)}function NF(t,e){return Ke(t.getHours(),e,2)}function kF(t,e){return Ke(t.getHours()%12||12,e,2)}function OF(t,e){return Ke(1+Oc.count(Xn(t),t),e,3)}function L5(t,e){return Ke(t.getMilliseconds(),e,3)}function EF(t,e){return L5(t,e)+"000"}function AF(t,e){return Ke(t.getMonth()+1,e,2)}function CF(t,e){return Ke(t.getMinutes(),e,2)}function PF(t,e){return Ke(t.getSeconds(),e,2)}function TF(t){var e=t.getDay();return e===0?7:e}function RF(t,e){return Ke(th.count(Xn(t)-1,t),e,2)}function B5(t){var e=t.getDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function MF(t,e){return t=B5(t),Ke(Ls.count(Xn(t),t)+(Xn(t).getDay()===4),e,2)}function $F(t){return t.getDay()}function IF(t,e){return Ke(ef.count(Xn(t)-1,t),e,2)}function DF(t,e){return Ke(t.getFullYear()%100,e,2)}function LF(t,e){return t=B5(t),Ke(t.getFullYear()%100,e,2)}function BF(t,e){return Ke(t.getFullYear()%1e4,e,4)}function qF(t,e){var r=t.getDay();return t=r>=4||r===0?Ls(t):Ls.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function UF(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function BO(t,e){return Ke(t.getUTCDate(),e,2)}function FF(t,e){return Ke(t.getUTCHours(),e,2)}function zF(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function WF(t,e){return Ke(1+eh.count(Jn(t),t),e,3)}function q5(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function HF(t,e){return q5(t,e)+"000"}function VF(t,e){return Ke(t.getUTCMonth()+1,e,2)}function KF(t,e){return Ke(t.getUTCMinutes(),e,2)}function GF(t,e){return Ke(t.getUTCSeconds(),e,2)}function YF(t){var e=t.getUTCDay();return e===0?7:e}function XF(t,e){return Ke(rh.count(Jn(t)-1,t),e,2)}function U5(t){var e=t.getUTCDay();return e>=4||e===0?Bs(t):Bs.ceil(t)}function JF(t,e){return t=U5(t),Ke(Bs.count(Jn(t),t)+(Jn(t).getUTCDay()===4),e,2)}function QF(t){return t.getUTCDay()}function ZF(t,e){return Ke(tf.count(Jn(t)-1,t),e,2)}function ez(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function tz(t,e){return t=U5(t),Ke(t.getUTCFullYear()%100,e,2)}function rz(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function nz(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Bs(t):Bs.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function az(){return"+0000"}function qO(){return"%"}function UO(t){return+t}function FO(t){return Math.floor(+t/1e3)}var cs,F5,z5;iz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iz(t){return cs=iF(t),F5=cs.format,cs.parse,z5=cs.utcFormat,cs.utcParse,cs}function sz(t){return new Date(t)}function oz(t){return t instanceof Date?+t:+new Date(+t)}function kw(t,e,r,n,a,i,o,u,d,f){var m=fw(),p=m.invert,v=m.domain,b=f(".%L"),w=f(":%S"),j=f("%I:%M"),y=f("%I %p"),O=f("%a %d"),k=f("%b %d"),S=f("%B"),E=f("%Y");function _(A){return(d(A)<A?b:u(A)<A?w:o(A)<A?j:i(A)<A?y:n(A)<A?a(A)<A?O:k:r(A)<A?S:E)(A)}return m.invert=function(A){return new Date(p(A))},m.domain=function(A){return arguments.length?v(Array.from(A,oz)):v().map(sz)},m.ticks=function(A){var T=v();return t(T[0],T[T.length-1],A??10)},m.tickFormat=function(A,T){return T==null?_:f(T)},m.nice=function(A){var T=v();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?v(A5(T,A)):m},m.copy=function(){return kc(m,kw(t,e,r,n,a,i,o,u,d,f))},m}function lz(){return Wr.apply(kw(nF,aF,Xn,Sw,th,Oc,jw,bw,gi,F5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cz(){return Wr.apply(kw(tF,rF,Jn,Nw,rh,eh,_w,ww,gi,z5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nh(){var t=0,e=1,r,n,a,i,o=ir,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:o(a===0?.5:(p=(i(p)-r)*a,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(v){var b,w;return arguments.length?([b,w]=v,o=p(b,w),f):[o(0),o(1)]}}return f.range=m(uo),f.rangeRound=m(dw),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),f}}function Ua(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W5(){var t=qa(nh()(ir));return t.copy=function(){return Ua(t,W5())},aa.apply(t,arguments)}function H5(){var t=mw(nh()).domain([1,10]);return t.copy=function(){return Ua(t,H5()).base(t.base())},aa.apply(t,arguments)}function V5(){var t=gw(nh());return t.copy=function(){return Ua(t,V5()).constant(t.constant())},aa.apply(t,arguments)}function Ow(){var t=vw(nh());return t.copy=function(){return Ua(t,Ow()).exponent(t.exponent())},aa.apply(t,arguments)}function uz(){return Ow.apply(null,arguments).exponent(.5)}function K5(){var t=[],e=ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ra),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Xq(t,i/n))},r.copy=function(){return K5(e).domain(t)},aa.apply(r,arguments)}function ah(){var t=0,e=.5,r=1,n=1,a,i,o,u,d,f=ir,m,p=!1,v;function b(j){return isNaN(j=+j)?v:(j=.5+((j=+m(j))-i)*(n*j<n*i?u:d),f(p?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([t,e,r]=j,a=m(t=+t),i=m(e=+e),o=m(r=+r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,b):[t,e,r]},b.clamp=function(j){return arguments.length?(p=!!j,b):p},b.interpolator=function(j){return arguments.length?(f=j,b):f};function w(j){return function(y){var O,k,S;return arguments.length?([O,k,S]=y,f=jU(j,[O,k,S]),b):[f(0),f(.5),f(1)]}}return b.range=w(uo),b.rangeRound=w(dw),b.unknown=function(j){return arguments.length?(v=j,b):v},function(j){return m=j,a=j(t),i=j(e),o=j(r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,b}}function G5(){var t=qa(ah()(ir));return t.copy=function(){return Ua(t,G5())},aa.apply(t,arguments)}function Y5(){var t=mw(ah()).domain([.1,1,10]);return t.copy=function(){return Ua(t,Y5()).base(t.base())},aa.apply(t,arguments)}function X5(){var t=gw(ah());return t.copy=function(){return Ua(t,X5()).constant(t.constant())},aa.apply(t,arguments)}function Ew(){var t=vw(ah());return t.copy=function(){return Ua(t,Ew()).exponent(t.exponent())},aa.apply(t,arguments)}function dz(){return Ew.apply(null,arguments).exponent(.5)}const zO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zl,scaleDiverging:G5,scaleDivergingLog:Y5,scaleDivergingPow:Ew,scaleDivergingSqrt:dz,scaleDivergingSymlog:X5,scaleIdentity:E5,scaleImplicit:Ox,scaleLinear:Qd,scaleLog:C5,scaleOrdinal:lw,scalePoint:_l,scalePow:yw,scaleQuantile:R5,scaleQuantize:M5,scaleRadial:T5,scaleSequential:W5,scaleSequentialLog:H5,scaleSequentialPow:Ow,scaleSequentialQuantile:K5,scaleSequentialSqrt:uz,scaleSequentialSymlog:V5,scaleSqrt:HU,scaleSymlog:P5,scaleThreshold:$5,scaleTime:lz,scaleUtc:cz,tickFormat:O5},Symbol.toStringTag,{value:"Module"}));var zy,WO;function J5(){if(WO)return zy;WO=1;var t=io();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var u=r[i],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):a(d,f)))var f=d,m=u}return m}return zy=e,zy}var Wy,HO;function fz(){if(HO)return Wy;HO=1;function t(e,r){return e>r}return Wy=t,Wy}var Hy,VO;function hz(){if(VO)return Hy;VO=1;var t=J5(),e=fz(),r=lo();function n(a){return a&&a.length?t(a,r,e):void 0}return Hy=n,Hy}var pz=hz();const Aa=tt(pz);var Vy,KO;function mz(){if(KO)return Vy;KO=1;function t(e,r){return e<r}return Vy=t,Vy}var Ky,GO;function gz(){if(GO)return Ky;GO=1;var t=J5(),e=mz(),r=lo();function n(a){return a&&a.length?t(a,r,e):void 0}return Ky=n,Ky}var vz=gz();const ih=tt(vz);var Gy,YO;function yz(){if(YO)return Gy;YO=1;var t=Wb(),e=Ba(),r=i5(),n=mr();function a(i,o){var u=n(i)?t:r;return u(i,e(o,3))}return Gy=a,Gy}var Yy,XO;function xz(){if(XO)return Yy;XO=1;var t=n5(),e=yz();function r(n,a){return t(e(n,a),1)}return Yy=r,Yy}var bz=xz();const wz=tt(bz);var Xy,JO;function jz(){if(JO)return Xy;JO=1;var t=nw();function e(r,n){return t(r,n)}return Xy=e,Xy}var _z=jz();const Gl=tt(_z);var fo=1e9,Sz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cw,ut=!0,zr="[DecimalError] ",ji=zr+"Invalid argument: ",Aw=zr+"Exponent out of range: ",ho=Math.floor,ui=Math.pow,Nz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Lt=1e7,lt=7,Q5=9007199254740991,rf=ho(Q5/lt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return Vn(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return rt(Vn(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Ot(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(ut=!1,e=Vn(Yl(r,i),Yl(t,i),i),ut=!0,rt(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tT(e,t):Z5(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(zr+"NaN");return r.s?(ut=!1,e=Vn(r,t,0,1).times(t),ut=!0,r.minus(e)):rt(new n(r),a)};xe.naturalExponential=xe.exp=function(){return eT(this)};xe.naturalLogarithm=xe.ln=function(){return Yl(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z5(e,t):tT(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ji+t);if(e=Ot(a)+1,n=a.d.length-1,r=n*lt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,a,i,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(zr+"NaN")}for(t=Ot(u),ut=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=wn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ho((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(Vn(u,i,o+2)).times(.5),wn(i.d).slice(0,o)===(e=wn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(rt(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(e!="9999")break;o+=4}return ut=!0,rt(n,r)};xe.times=xe.mul=function(t){var e,r,n,a,i,o,u,d,f,m=this,p=m.constructor,v=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,d=v.length,f=b.length,d<f&&(i=v,v=b,b=i,o=d,d=f,f=o),i=[],o=d+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(e=0,a=d+n;a>n;)u=i[a]+b[n]*v[a-n-1]+e,i[a--]=u%Lt|0,e=u/Lt|0;i[a]=(i[a]+e)%Lt|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,ut?rt(t,p.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(On(t,0,fo),e===void 0?e=n.rounding:On(e,0,8),rt(r,t+Ot(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ki(n,!0):(On(t,0,fo),e===void 0?e=a.rounding:On(e,0,8),n=rt(new a(n),t+1,e),r=ki(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ki(a):(On(t,0,fo),e===void 0?e=i.rounding:On(e,0,8),n=rt(new i(a),t+Ot(a)+1,e),r=ki(n.abs(),!1,t+Ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return rt(new e(t),Ot(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,a,i,o,u=this,d=u.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(kr);if(u=new d(u),!u.s){if(t.s<1)throw Error(zr+"Infinity");return u}if(u.eq(kr))return u;if(n=d.precision,t.eq(kr))return rt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=u.s,o){if((r=m<0?-m:m)<=Q5){for(a=new d(kr),e=Math.ceil(n/lt+4),ut=!1;r%2&&(a=a.times(u),ZO(a.d,e)),r=ho(r/2),r!==0;)u=u.times(u),ZO(u.d,e);return ut=!0,t.s<0?new d(kr).div(a):rt(a,n)}}else if(i<0)throw Error(zr+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,ut=!1,a=t.times(Yl(u,n+f)),ut=!0,a=eT(a),a.s=i,a};xe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Ot(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(On(t,1,fo),e===void 0?e=i.rounding:On(e,0,8),a=rt(new i(a),t,e),r=Ot(a),n=ki(a,t<=r||r<=i.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(On(t,1,fo),e===void 0?e=n.rounding:On(e,0,8)),rt(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),r=t.constructor;return ki(t,e<=r.toExpNeg||e>=r.toExpPos)};function Z5(t,e){var r,n,a,i,o,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),ut?rt(e,p):e;if(d=t.d,f=e.d,o=t.e,a=e.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,a=o,u=d.length),o=Math.ceil(p/lt),u=o>u?o+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Lt|0,d[i]%=Lt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,ut?rt(e,p):e}function On(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ji+t)}function wn(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=lt-n.length,r&&(i+=Oa(r)),i+=n;o=t[e],n=o+"",r=lt-n.length,r&&(i+=Oa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Vn=(function(){function t(n,a){var i,o=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+o,n[u]=i%Lt|0,o=i/Lt|0;return o&&n.unshift(o),n}function e(n,a,i,o){var u,d;if(i!=o)d=i>o?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Lt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var u,d,f,m,p,v,b,w,j,y,O,k,S,E,_,A,T,P,M=n.constructor,U=n.s==a.s?1:-1,D=n.d,W=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(zr+"Division by zero");for(d=n.e-a.e,T=W.length,_=D.length,b=new M(U),w=b.d=[],f=0;W[f]==(D[f]||0);)++f;if(W[f]>(D[f]||0)&&--d,i==null?k=i=M.precision:o?k=i+(Ot(n)-Ot(a))+1:k=i,k<0)return new M(0);if(k=k/lt+2|0,f=0,T==1)for(m=0,W=W[0],k++;(f<_||m)&&k--;f++)S=m*Lt+(D[f]||0),w[f]=S/W|0,m=S%W|0;else{for(m=Lt/(W[0]+1)|0,m>1&&(W=t(W,m),D=t(D,m),T=W.length,_=D.length),E=T,j=D.slice(0,T),y=j.length;y<T;)j[y++]=0;P=W.slice(),P.unshift(0),A=W[0],W[1]>=Lt/2&&++A;do m=0,u=e(W,j,T,y),u<0?(O=j[0],T!=y&&(O=O*Lt+(j[1]||0)),m=O/A|0,m>1?(m>=Lt&&(m=Lt-1),p=t(W,m),v=p.length,y=j.length,u=e(p,j,v,y),u==1&&(m--,r(p,T<v?P:W,v))):(m==0&&(u=m=1),p=W.slice()),v=p.length,v<y&&p.unshift(0),r(j,p,y),u==-1&&(y=j.length,u=e(W,j,T,y),u<1&&(m++,r(j,T<y?P:W,y))),y=j.length):u===0&&(m++,j=[0]),w[f++]=m,u&&j[0]?j[y++]=D[E]||0:(j=[D[E]],y=1);while((E++<_||j[0]!==void 0)&&k--)}return w[0]||w.shift(),b.e=d,rt(b,o?i+Ot(b)+1:i)}})();function eT(t,e){var r,n,a,i,o,u,d=0,f=0,m=t.constructor,p=m.precision;if(Ot(t)>16)throw Error(Aw+Ot(t));if(!t.s)return new m(kr);for(ut=!1,u=p,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(ui(2,f))/Math.LN10*2+5|0,u+=n,r=a=i=new m(kr),m.precision=u;;){if(a=rt(a.times(t),u),r=r.times(++d),o=i.plus(Vn(a,r,u)),wn(o.d).slice(0,u)===wn(i.d).slice(0,u)){for(;f--;)i=rt(i.times(i),u);return m.precision=p,e==null?(ut=!0,rt(i,p)):i}i=o}}function Ot(t){for(var e=t.e*lt,r=t.d[0];r>=10;r/=10)e++;return e}function Jy(t,e,r){if(e>t.LN10.sd())throw ut=!0,r&&(t.precision=r),Error(zr+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function Oa(t){for(var e="";t--;)e+="0";return e}function Yl(t,e){var r,n,a,i,o,u,d,f,m,p=1,v=10,b=t,w=b.d,j=b.constructor,y=j.precision;if(b.s<1)throw Error(zr+(b.s?"NaN":"-Infinity"));if(b.eq(kr))return new j(0);if(e==null?(ut=!1,f=y):f=e,b.eq(10))return e==null&&(ut=!0),Jy(j,f);if(f+=v,j.precision=f,r=wn(w),n=r.charAt(0),i=Ot(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=wn(b.d),n=r.charAt(0),p++;i=Ot(b),n>1?(b=new j("0."+r),i++):b=new j(n+"."+r.slice(1))}else return d=Jy(j,f+2,y).times(i+""),b=Yl(new j(n+"."+r.slice(1)),f-v).plus(d),j.precision=y,e==null?(ut=!0,rt(b,y)):b;for(u=o=b=Vn(b.minus(kr),b.plus(kr),f),m=rt(b.times(b),f),a=3;;){if(o=rt(o.times(m),f),d=u.plus(Vn(o,new j(a),f)),wn(d.d).slice(0,f)===wn(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Jy(j,f+2,y).times(i+""))),u=Vn(u,new j(p),f),j.precision=y,e==null?(ut=!0,rt(u,y)):u;u=d,a+=2}}function QO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=ho(r/lt),t.d=[],n=(r+1)%lt,r<0&&(n+=lt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=lt;n<a;)t.d.push(+e.slice(n,n+=lt));e=e.slice(n),n=lt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ut&&(t.e>rf||t.e<-rf))throw Error(Aw+r)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,r){var n,a,i,o,u,d,f,m,p=t.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=lt,a=e,f=p[m=0];else{if(m=Math.ceil((n+1)/lt),i=p.length,m>=i)return t;for(f=i=p[m],o=1;i>=10;i/=10)o++;n%=lt,a=n-lt+o}if(r!==void 0&&(i=ui(10,o-a-1),u=f/i%10|0,d=e<0||p[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/ui(10,o-a):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(i=Ot(t),p.length=1,e=e-i-1,p[0]=ui(10,(lt-e%lt)%lt),t.e=ho(-e/lt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=ui(10,lt-n),p[m]=a>0?(f/ui(10,o-a)%ui(10,a)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==Lt&&(p[0]=1,++t.e);break}else{if(p[m]+=i,p[m]!=Lt)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(ut&&(t.e>rf||t.e<-rf))throw Error(Aw+Ot(t));return t}function tT(t,e){var r,n,a,i,o,u,d,f,m,p,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),ut?rt(e,b):e;if(d=t.d,p=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(m=o<0,m?(r=d,o=-o,u=p.length):(r=p,n=f,u=d.length),a=Math.max(Math.ceil(b/lt),u)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=p.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}o=0}for(m&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,a=p.length-u;a>0;--a)d[u++]=0;for(a=p.length;a>o;){if(d[--a]<p[a]){for(i=a;i&&d[--i]===0;)d[i]=Lt-1;--d[i],d[a]+=Lt}d[a]-=p[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,ut?rt(e,b):e):new v(0)}function ki(t,e,r){var n,a=Ot(t),i=wn(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Oa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Oa(-a-1)+i,r&&(n=r-o)>0&&(i+=Oa(n))):a>=o?(i+=Oa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Oa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Oa(n))),t.s<0?"-"+i:i}function ZO(t,e){if(t.length>e)return t.length=e,!0}function rT(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ji+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return QO(o,i.toString())}else if(typeof i!="string")throw Error(ji+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Nz.test(i))QO(o,i);else throw Error(ji+i)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rT,a.config=a.set=kz,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function kz(t){if(!t||typeof t!="object")throw Error(zr+"Object expected");var e,r,n,a=["precision",1,fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(ho(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ji+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ji+r+": "+n);return this}var Cw=rT(Sz);kr=new Cw(1);const et=Cw;function Oz(t){return Pz(t)||Cz(t)||Az(t)||Ez()}function Ez(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(t,e){if(t){if(typeof t=="string")return Px(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Px(t,e)}}function Cz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pz(t){if(Array.isArray(t))return Px(t)}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tz=function(e){return e},nT={},aT=function(e){return e===nT},eE=function(e){return function r(){return arguments.length===0||arguments.length===1&&aT(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Rz=function t(e,r){return e===1?r:eE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==nT}).length;return o>=e?r.apply(void 0,a):t(e-o,eE(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=a.map(function(p){return aT(p)?d.shift():p});return r.apply(void 0,Oz(m).concat(d))}))})},sh=function(e){return Rz(e.length,e)},Tx=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Mz=sh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),$z=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Tz;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Rx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iT=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(u,d){return u===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function Iz(t){var e;return t===0?e=1:e=Math.floor(new et(t).abs().log(10).toNumber())+1,e}function Dz(t,e,r){for(var n=new et(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Lz=sh(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Bz=sh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qz=sh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const oh={rangeStep:Dz,getDigitCount:Iz,interpolateNumber:Lz,uninterpolateNumber:Bz,uninterpolateTruncation:qz};function Mx(t){return zz(t)||Fz(t)||sT(t)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zz(t){if(Array.isArray(t))return $x(t)}function Xl(t,e){return Vz(t)||Hz(t,e)||sT(t,e)||Wz()}function Wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sT(t,e){if(t){if(typeof t=="string")return $x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $x(t,e)}}function $x(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Vz(t){if(Array.isArray(t))return t}function oT(t){var e=Xl(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function lT(t,e,r){if(t.lte(0))return new et(0);var n=oh.getDigitCount(t.toNumber()),a=new et(10).pow(n),i=t.div(a),o=n!==1?.05:.1,u=new et(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=u.mul(a);return e?d:new et(Math.ceil(d))}function Kz(t,e,r){var n=1,a=new et(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new et(10).pow(oh.getDigitCount(t)-1),a=new et(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new et(Math.floor(t)))}else t===0?a=new et(Math.floor((e-1)/2)):r||(a=new et(Math.floor(t)));var o=Math.floor((e-1)/2),u=$z(Mz(function(d){return a.add(new et(d-o).mul(n)).toNumber()}),Tx);return u(0,e)}function cT(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var i=lT(new et(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new et(0):(o=new et(t).add(e).div(2),o=o.sub(new et(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),d=Math.ceil(new et(e).sub(o).div(i).toNumber()),f=u+d+1;return f>r?cT(t,e,r,n,a+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:i,tickMin:o.sub(new et(u).mul(i)),tickMax:o.add(new et(d).mul(i))})}function Gz(t){var e=Xl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=oT([r,n]),d=Xl(u,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(Mx(Tx(0,a-1).map(function(){return 1/0}))):[].concat(Mx(Tx(0,a-1).map(function(){return-1/0})),[m]);return r>n?Rx(p):p}if(f===m)return Kz(f,a,i);var v=cT(f,m,o,i),b=v.step,w=v.tickMin,j=v.tickMax,y=oh.rangeStep(w,j.add(new et(.1).mul(b)),b);return r>n?Rx(y):y}function Yz(t,e){var r=Xl(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oT([n,a]),u=Xl(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var m=Math.max(e,2),p=lT(new et(f).sub(d).div(m-1),i,0),v=[].concat(Mx(oh.rangeStep(new et(d),new et(f).sub(new et(.99).mul(p)),p)),[f]);return n>a?Rx(v):v}var Xz=iT(Gz),Jz=iT(Yz),Qz="Invariant failed";function Oi(t,e){throw new Error(Qz)}var Zz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nf.apply(this,arguments)}function e9(t,e){return a9(t)||n9(t,e)||r9(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function a9(t){if(Array.isArray(t))return t}function i9(t,e){if(t==null)return{};var r=s9(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function c9(t,e,r){return e&&l9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u9(t,e,r){return e=af(e),d9(t,uT()?Reflect.construct(e,r||[],af(t).constructor):e.apply(t,r))}function d9(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f9(t)}function f9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uT=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(t)}function h9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ix(t,e)}function Ix(t,e){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ix(t,e)}function dT(t,e,r){return e=fT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fT(t){var e=p9(t,"string");return qs(e)=="symbol"?e:e+""}function p9(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lh=(function(t){function e(){return o9(this,e),u9(this,e,arguments)}return h9(e,t),c9(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,v=i9(n,Zz),b=Ue(v,!1);this.props.direction==="x"&&m.type!=="number"&&Oi();var w=d.map(function(j){var y=f(j,u),O=y.x,k=y.y,S=y.value,E=y.errorVal;if(!E)return null;var _=[],A,T;if(Array.isArray(E)){var P=e9(E,2);A=P[0],T=P[1]}else A=T=E;if(i==="vertical"){var M=m.scale,U=k+a,D=U+o,W=U-o,B=M(S-A),I=M(S+T);_.push({x1:I,y1:D,x2:I,y2:W}),_.push({x1:B,y1:U,x2:I,y2:U}),_.push({x1:B,y1:D,x2:B,y2:W})}else if(i==="horizontal"){var G=p.scale,F=O+a,Z=F-o,K=F+o,J=G(S-A),q=G(S+T);_.push({x1:Z,y1:q,x2:K,y2:q}),_.push({x1:F,y1:J,x2:F,y2:q}),_.push({x1:Z,y1:J,x2:K,y2:J})}return Y.createElement(gt,nf({className:"recharts-errorBar",key:"bar-".concat(_.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},b),_.map(function($){return Y.createElement("line",nf({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return Y.createElement(gt,{className:"recharts-errorBars"},w)}}])})(Y.Component);dT(lh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dT(lh,"displayName","ErrorBar");function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){m9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m9(t,e,r){return e=g9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g9(t){var e=v9(t,"string");return Jl(e)=="symbol"?e:e+""}function v9(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hT=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=_r(r,Os);if(!o)return null;var u=Os.defaultProps,d=u!==void 0?si(si({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:i==="children"?f=(n||[]).reduce(function(m,p){var v=p.item,b=p.props,w=b.sectors||b.data||[];return m.concat(w.map(function(j){return{type:o.props.iconType||v.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):f=(n||[]).map(function(m){var p=m.item,v=p.type.defaultProps,b=v!==void 0?si(si({},v),p.props):{},w=b.dataKey,j=b.name,y=b.legendType,O=b.hide;return{inactive:O,dataKey:w,type:d.iconType||y||"square",color:Pw(p),value:j||w,payload:b}}),si(si(si({},d),Os.getWithHeight(o,a)),{},{payload:f,item:o})};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function nE(t){return w9(t)||b9(t)||x9(t)||y9()}function y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(t,e){if(t){if(typeof t=="string")return Dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(t,e)}}function b9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w9(t){if(Array.isArray(t))return Dx(t)}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){As(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function As(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=_9(t,"string");return Ql(e)=="symbol"?e:e+""}function _9(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,r){return Fe(t)||Fe(e)?r:Rt(e)?Ur(t,e,r):Le(e)?e(t):r}function Sl(t,e,r,n){var a=wz(t,function(u){return Or(u,e)});if(r==="number"){var i=a.filter(function(u){return pe(u)||parseFloat(u)});return i.length?[ih(i),Aa(i)]:[1/0,-1/0]}var o=n?a.filter(function(u){return!Fe(u)}):a;return o.map(function(u){return Rt(u)||u instanceof Date?u:""})}var S9=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var m=f>0?a[f-1].coordinate:a[u-1].coordinate,p=a[f].coordinate,v=f>=u-1?a[0].coordinate:a[f+1].coordinate,b=void 0;if(sn(p-m)!==sn(v-p)){var w=[];if(sn(v-p)===sn(d[1]-d[0])){b=v;var j=p+d[1]-d[0];w[0]=Math.min(j,(j+m)/2),w[1]=Math.max(j,(j+m)/2)}else{b=m;var y=v+d[1]-d[0];w[0]=Math.min(p,(y+p)/2),w[1]=Math.max(p,(y+p)/2)}var O=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>O[0]&&e<=O[1]||e>=w[0]&&e<=w[1]){o=a[f].index;break}}else{var k=Math.min(m,v),S=Math.max(m,v);if(e>(k+p)/2&&e<=(S+p)/2){o=a[f].index;break}}}else for(var E=0;E<u;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},Pw=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},N9=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var m=i[u[d]].stackGroups,p=Object.keys(m),v=0,b=p.length;v<b;v++){var w=m[p[v]],j=w.items,y=w.cateAxisId,O=j.filter(function(T){return Hn(T.type).indexOf("Bar")>=0});if(O&&O.length){var k=O[0].type.defaultProps,S=k!==void 0?xt(xt({},k),O[0].props):O[0].props,E=S.barSize,_=S[y];o[_]||(o[_]=[]);var A=Fe(E)?r:E;o[_].push({item:O[0],stackList:O.slice(1),barSize:Fe(A)?void 0:Ni(A,n,0)})}}return o},k9=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Ni(r,a,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var v=!1,b=a/d,w=o.reduce(function(E,_){return E+_.barSize||0},0);w+=(d-1)*f,w>=a&&(w-=(d-1)*f,f=0),w>=a&&b>0&&(v=!0,b*=.9,w=d*b);var j=(a-w)/2>>0,y={offset:j-f,size:0};m=o.reduce(function(E,_){var A={item:_.item,position:{offset:y.offset+y.size+f,size:v?b:_.barSize}},T=[].concat(nE(E),[A]);return y=T[T.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(P){T.push({item:P,position:y})}),T},p)}else{var O=Ni(n,a,0,!0);a-2*O-(d-1)*f<=0&&(f=0);var k=(a-2*O-(d-1)*f)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;m=o.reduce(function(E,_,A){var T=[].concat(nE(E),[{item:_.item,position:{offset:O+(k+f)*A+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},p)}return m},O9=function(e,r,n,a){var i=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=hT({children:i,legendWidth:d});if(f){var m=a||{},p=m.width,v=m.height,b=f.align,w=f.verticalAlign,j=f.layout;if((j==="vertical"||j==="horizontal"&&w==="middle")&&b!=="center"&&pe(e[b]))return xt(xt({},e),{},As({},b,e[b]+(p||0)));if((j==="horizontal"||j==="vertical"&&b==="center")&&w!=="middle"&&pe(e[w]))return xt(xt({},e),{},As({},w,e[w]+(v||0)))}return e},E9=function(e,r,n){return Fe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pT=function(e,r,n,a,i){var o=r.props.children,u=cn(o,lh).filter(function(f){return E9(a,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,m){var p=Or(m,n);if(Fe(p))return f;var v=Array.isArray(p)?[ih(p),Aa(p)]:[p,p],b=d.reduce(function(w,j){var y=Or(m,j,0),O=v[0]-Math.abs(Array.isArray(y)?y[0]:y),k=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(O,w[0]),Math.max(k,w[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},A9=function(e,r,n,a,i){var o=r.map(function(u){return pT(e,u,n,i,a)}).filter(function(u){return!Fe(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},mT=function(e,r,n,a,i){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&pT(e,d,f,a)||Sl(e,f,n,i)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var m=0,p=f.length;m<p;m++)u[f[m]]||(u[f[m]]=!0,d.push(f[m]));return d},[])},gT=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vi=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?sn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(p){var v=i?i.indexOf(p):p;return{coordinate:a(v)+f,value:p,offset:f}});return m.filter(function(p){return!oo(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:a(p)+f,value:p,index:v,offset:f}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+f,value:p,offset:f}}):a.domain().map(function(p,v){return{coordinate:a(p)+f,value:i?i[p]:p,index:v,offset:f}})},Qy=new WeakMap,Zu=function(e,r){if(typeof r!="function")return e;Qy.has(e)||Qy.set(e,new WeakMap);var n=Qy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},C9=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:zl(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:Qd(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_l(),realScaleType:"point"}:i==="category"?{scale:zl(),realScaleType:"band"}:{scale:Qd(),realScaleType:"linear"};if(Si(a)){var d="scale".concat(Vf(a));return{scale:(zO[d]||_l)(),realScaleType:zO[d]?d:"point"}}return Le(a)?{scale:a}:{scale:_l(),realScaleType:"point"}},iE=1e-4,P9=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-iE,o=Math.max(a[0],a[1])+iE,u=e(r[0]),d=e(r[n-1]);(u<i||u>o||d<i||d>o)&&e.domain([r[0],r[n-1]])}},T9=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},R9=function(e,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!pe(e[0])||e[0]<n)&&(i[0]=n),(!pe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},M9=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,u=0;u<r;++u){var d=oo(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=i,e[u][n][1]=i+d,i=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},$9=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var u=oo(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},I9={sign:M9,expand:y6,none:Ts,silhouette:x6,wiggle:b6,positive:$9},D9=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),i=I9[n],o=v6().keys(a).value(function(u,d){return+Or(u,d,0)}).order(hx).offset(i);return o(e)},L9=function(e,r,n,a,i,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(p,v){var b,w=(b=v.type)!==null&&b!==void 0&&b.defaultProps?xt(xt({},v.type.defaultProps),v.props):v.props,j=w.stackId,y=w.hide;if(y)return p;var O=w[n],k=p[O]||{hasStack:!1,stackGroups:{}};if(Rt(j)){var S=k.stackGroups[j]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(v),k.hasStack=!0,k.stackGroups[j]=S}else k.stackGroups[jc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return xt(xt({},p),{},As({},O,k))},d),m={};return Object.keys(f).reduce(function(p,v){var b=f[v];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(j,y){var O=b.stackGroups[y];return xt(xt({},j),{},As({},y,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:D9(e,O.items,i)}))},w)}return xt(xt({},p),{},As({},v,b))},m)},B9=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var m=Xz(f,i,u);return e.domain([ih(m),Aa(m)]),{niceTicks:m}}if(i&&a==="number"){var p=e.domain(),v=Jz(p,i,u);return{niceTicks:v}}return null};function sE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fe(a[e.dataKey])){var u=Td(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Or(a,Fe(o)?e.dataKey:o);return Fe(d)?null:e.scale(d)}var oE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=Or(o,r.dataKey,r.domain[u]);return Fe(d)?null:r.scale(d)-i/2+a},q9=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},U9=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Rt(i)){var o=r[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},F9=function(e){return e.reduce(function(r,n){return[ih(n.concat([r[0]]).filter(pe)),Aa(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},vT=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,d=u.reduce(function(f,m){var p=F9(m.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lx=function(e,r,n){if(Le(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(pe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(lE.test(e[0])){var i=+lE.exec(e[0])[1];a[0]=r[0]-i}else Le(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(pe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(cE.test(e[1])){var o=+cE.exec(e[1])[1];a[1]=r[1]+o}else Le(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},sf=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=iw(r,function(p){return p.coordinate}),o=1/0,u=1,d=i.length;u<d;u++){var f=i[u],m=i[u-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uE=function(e,r,n){return!e||!e.length||Gl(e,Ur(n,"type.defaultProps.domain"))?r:e},yT=function(e,r){var n=e.type.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,m=n.hide;return xt(xt({},Ue(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:Pw(e),value:Or(r,a),type:d,payload:r,chartType:f,hide:m})};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){z9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=H9(t,"string");return Zl(e)=="symbol"?e:e+""}function H9(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of=Math.PI/180,V9=function(e){return e*180/Math.PI},Kt=function(e,r,n,a){return{x:e+Math.cos(-of*a)*n,y:r+Math.sin(-of*a)*n}},K9=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},G9=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,u=K9({x:n,y:a},{x:i,y:o});if(u<=0)return{radius:u};var d=(n-i)/u,f=Math.acos(d);return a>o&&(f=2*Math.PI-f),{radius:u,angle:V9(f),angleInRadian:f}},Y9=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},X9=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},hE=function(e,r){var n=e.x,a=e.y,i=G9({x:n,y:a},r),o=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var m=Y9(r),p=m.startAngle,v=m.endAngle,b=u,w;if(p<=v){for(;b>v;)b-=360;for(;b<p;)b+=360;w=b>=p&&b<=v}else{for(;b>p;)b-=360;for(;b<v;)b+=360;w=b>=v&&b<=p}return w?fE(fE({},r),{},{radius:o,angle:X9(b,r)}):null};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}var J9=["offset"];function Q9(t){return rW(t)||tW(t)||eW(t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function tW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rW(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nW(t,e){if(t==null)return{};var r=aW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){iW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iW(t,e,r){return e=sW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sW(t){var e=oW(t,"string");return ec(e)=="symbol"?e:e+""}function oW(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(this,arguments)}var lW=function(e){var r=e.value,n=e.formatter,a=Fe(e.children)?r:e.children;return Le(n)?n(a):a},cW=function(e,r){var n=sn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},uW=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,d=i,f=d.cx,m=d.cy,p=d.innerRadius,v=d.outerRadius,b=d.startAngle,w=d.endAngle,j=d.clockWise,y=(p+v)/2,O=cW(b,w),k=O>=0?1:-1,S,E;a==="insideStart"?(S=b+k*o,E=j):a==="insideEnd"?(S=w-k*o,E=!j):a==="end"&&(S=w+k*o,E=j),E=O<=0?E:!E;var _=Kt(f,m,y,S),A=Kt(f,m,y,S+(E?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),P=Fe(e.id)?jc("recharts-radial-line-"):e.id;return Y.createElement("text",tc({},n,{dominantBaseline:"central",className:He("recharts-radial-bar-label",u)}),Y.createElement("defs",null,Y.createElement("path",{id:P,d:T})),Y.createElement("textPath",{xlinkHref:"#".concat(P)},r))},dW=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.startAngle,p=i.endAngle,v=(m+p)/2;if(a==="outside"){var b=Kt(o,u,f+n,v),w=b.x,j=b.y;return{x:w,y:j,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,O=Kt(o,u,y,v),k=O.x,S=O.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},fW=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,u=o.x,d=o.y,f=o.width,m=o.height,p=m>=0?1:-1,v=p*a,b=p>0?"end":"start",w=p>0?"start":"end",j=f>=0?1:-1,y=j*a,O=j>0?"end":"start",k=j>0?"start":"end";if(i==="top"){var S={x:u+f/2,y:d-p*a,textAnchor:"middle",verticalAnchor:b};return Pt(Pt({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var E={x:u+f/2,y:d+m+v,textAnchor:"middle",verticalAnchor:w};return Pt(Pt({},E),n?{height:Math.max(n.y+n.height-(d+m),0),width:f}:{})}if(i==="left"){var _={x:u-y,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return Pt(Pt({},_),n?{width:Math.max(_.x-n.x,0),height:m}:{})}if(i==="right"){var A={x:u+f+y,y:d+m/2,textAnchor:k,verticalAnchor:"middle"};return Pt(Pt({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:m}:{})}var T=n?{width:f,height:m}:{};return i==="insideLeft"?Pt({x:u+y,y:d+m/2,textAnchor:k,verticalAnchor:"middle"},T):i==="insideRight"?Pt({x:u+f-y,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},T):i==="insideTop"?Pt({x:u+f/2,y:d+v,textAnchor:"middle",verticalAnchor:w},T):i==="insideBottom"?Pt({x:u+f/2,y:d+m-v,textAnchor:"middle",verticalAnchor:b},T):i==="insideTopLeft"?Pt({x:u+y,y:d+v,textAnchor:k,verticalAnchor:w},T):i==="insideTopRight"?Pt({x:u+f-y,y:d+v,textAnchor:O,verticalAnchor:w},T):i==="insideBottomLeft"?Pt({x:u+y,y:d+m-v,textAnchor:k,verticalAnchor:b},T):i==="insideBottomRight"?Pt({x:u+f-y,y:d+m-v,textAnchor:O,verticalAnchor:b},T):so(i)&&(pe(i.x)||pi(i.x))&&(pe(i.y)||pi(i.y))?Pt({x:u+Ni(i.x,f),y:d+Ni(i.y,m),textAnchor:"end",verticalAnchor:"end"},T):Pt({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},T)},hW=function(e){return"cx"in e&&pe(e.cx)};function er(t){var e=t.offset,r=e===void 0?5:e,n=nW(t,J9),a=Pt({offset:r},n),i=a.viewBox,o=a.position,u=a.value,d=a.children,f=a.content,m=a.className,p=m===void 0?"":m,v=a.textBreakAll;if(!i||Fe(u)&&Fe(d)&&!C.isValidElement(f)&&!Le(f))return null;if(C.isValidElement(f))return C.cloneElement(f,a);var b;if(Le(f)){if(b=C.createElement(f,a),C.isValidElement(b))return b}else b=lW(a);var w=hW(i),j=Ue(a,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uW(a,b,j);var y=w?dW(a):fW(a);return Y.createElement(Hd,tc({className:He("recharts-label",p)},j,y,{breakAll:v}),b)}er.displayName="Label";var xT=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,m=e.outerRadius,p=e.x,v=e.y,b=e.top,w=e.left,j=e.width,y=e.height,O=e.clockWise,k=e.labelViewBox;if(k)return k;if(pe(j)&&pe(y)){if(pe(p)&&pe(v))return{x:p,y:v,width:j,height:y};if(pe(b)&&pe(w))return{x:b,y:w,width:j,height:y}}return pe(p)&&pe(v)?{x:p,y:v,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:f||0,outerRadius:m||d||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},pW=function(e,r){return e?e===!0?Y.createElement(er,{key:"label-implicit",viewBox:r}):Rt(e)?Y.createElement(er,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===er?C.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(er,{key:"label-implicit",content:e,viewBox:r}):Le(e)?Y.createElement(er,{key:"label-implicit",content:e,viewBox:r}):so(e)?Y.createElement(er,tc({viewBox:r},e,{key:"label-implicit"})):null:null},mW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=xT(e),o=cn(a,er).map(function(d,f){return C.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return o;var u=pW(e.label,r||i);return[u].concat(Q9(o))};er.parseViewBox=xT;er.renderCallByParent=mW;var Zy,mE;function gW(){if(mE)return Zy;mE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Zy=t,Zy}var vW=gW();const yW=tt(vW);function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}var xW=["valueAccessor"],bW=["data","dataKey","clockWise","id","textBreakAll"];function wW(t){return NW(t)||SW(t)||_W(t)||jW()}function jW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(t,e){if(t){if(typeof t=="string")return qx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(t,e)}}function SW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NW(t){if(Array.isArray(t))return qx(t)}function qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lf.apply(this,arguments)}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){kW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kW(t,e,r){return e=OW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OW(t){var e=EW(t,"string");return rc(e)=="symbol"?e:e+""}function EW(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yE(t,e){if(t==null)return{};var r=AW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CW=function(e){return Array.isArray(e.value)?yW(e.value):e.value};function Ma(t){var e=t.valueAccessor,r=e===void 0?CW:e,n=yE(t,xW),a=n.data,i=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=yE(n,bW);return!a||!a.length?null:Y.createElement(gt,{className:"recharts-label-list"},a.map(function(m,p){var v=Fe(i)?r(m,p):Or(m&&m.payload,i),b=Fe(u)?{}:{id:"".concat(u,"-").concat(p)};return Y.createElement(er,lf({},Ue(m,!0),f,b,{parentViewBox:m.parentViewBox,value:v,textBreakAll:d,viewBox:er.parseViewBox(Fe(o)?m:vE(vE({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Ma.displayName="LabelList";function PW(t,e){return t?t===!0?Y.createElement(Ma,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||Le(t)?Y.createElement(Ma,{key:"labelList-implicit",data:e,content:t}):so(t)?Y.createElement(Ma,lf({data:e},t,{key:"labelList-implicit"})):null:null}function TW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=cn(n,Ma).map(function(o,u){return C.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var i=PW(t.label,e);return[i].concat(wW(a))}Ma.renderCallByParent=TW;function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ux.apply(this,arguments)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){RW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RW(t,e,r){return e=MW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=$W(t,"string");return nc(e)=="symbol"?e:e+""}function $W(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IW=function(e,r){var n=sn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},ed=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,m=d*(u?1:-1)+a,p=Math.asin(d/m)/of,v=f?i:i+o*p,b=Kt(r,n,m,v),w=Kt(r,n,a,v),j=f?i-o*p:i,y=Kt(r,n,m*Math.cos(p*of),j);return{center:b,circleTangency:w,lineTangency:y,theta:p}},bT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,d=IW(o,u),f=o+d,m=Kt(r,n,i,o),p=Kt(r,n,i,f),v="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var b=Kt(r,n,a,o),w=Kt(r,n,a,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},DW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,m=e.endAngle,p=sn(m-f),v=ed({cx:r,cy:n,radius:i,angle:f,sign:p,cornerRadius:o,cornerIsExternal:d}),b=v.circleTangency,w=v.lineTangency,j=v.theta,y=ed({cx:r,cy:n,radius:i,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),O=y.circleTangency,k=y.lineTangency,S=y.theta,E=d?Math.abs(f-m):Math.abs(f-m)-j-S;if(E<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:m});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var A=ed({cx:r,cy:n,radius:a,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=A.circleTangency,P=A.lineTangency,M=A.theta,U=ed({cx:r,cy:n,radius:a,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=U.circleTangency,W=U.lineTangency,B=U.theta,I=d?Math.abs(f-m):Math.abs(f-m)-M-B;if(I<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},LW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wT=function(e){var r=bE(bE({},LW),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,v=r.className;if(o<i||m===p)return null;var b=He("recharts-sector",v),w=o-i,j=Ni(u,w,0,!0),y;return j>0&&Math.abs(m-p)<360?y=DW({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):y=bT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:m,endAngle:p}),Y.createElement("path",Ux({},Ue(r,!0),{className:b,d:y,role:"img"}))};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fx.apply(this,arguments)}function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){BW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BW(t,e,r){return e=qW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=UW(t,"string");return ac(e)=="symbol"?e:e+""}function UW(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _E={curveBasisClosed:s6,curveBasisOpen:o6,curveBasis:i6,curveBumpX:H7,curveBumpY:V7,curveLinearClosed:l6,curveLinear:Gf,curveMonotoneX:c6,curveMonotoneY:u6,curveNatural:d6,curveStep:f6,curveStepAfter:p6,curveStepBefore:h6},td=function(e){return e.x===+e.x&&e.y===+e.y},il=function(e){return e.x},sl=function(e){return e.y},FW=function(e,r){if(Le(e))return e;var n="curve".concat(Vf(e));return(n==="curveMonotone"||n==="curveBump")&&r?_E["".concat(n).concat(r==="vertical"?"Y":"X")]:_E[n]||Gf},zW=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,m=FW(n,u),p=f?i.filter(function(j){return td(j)}):i,v;if(Array.isArray(o)){var b=f?o.filter(function(j){return td(j)}):o,w=p.map(function(j,y){return jE(jE({},j),{},{base:b[y]})});return u==="vertical"?v=Vu().y(sl).x1(il).x0(function(j){return j.base.x}):v=Vu().x(il).y1(sl).y0(function(j){return j.base.y}),v.defined(td).curve(m),v(w)}return u==="vertical"&&pe(o)?v=Vu().y(sl).x1(il).x0(o):pe(o)?v=Vu().x(il).y1(sl).y0(o):v=kP().x(il).y(sl),v.defined(td).curve(m),v(p)},Nl=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?zW(e):a;return C.createElement("path",Fx({},Ue(e,!1),Rd(e),{className:He("recharts-curve",r),d:o,ref:i}))},e0={exports:{}},t0,SE;function WW(){if(SE)return t0;SE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return t0=t,t0}var r0,NE;function HW(){if(NE)return r0;NE=1;var t=WW();function e(){}function r(){}return r.resetWarningCache=e,r0=function(){function n(o,u,d,f,m,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},r0}var kE;function VW(){return kE||(kE=1,e0.exports=HW()()),e0.exports}var KW=VW();const Ye=tt(KW),{getOwnPropertyNames:GW,getOwnPropertySymbols:YW}=Object,{hasOwnProperty:XW}=Object.prototype;function n0(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function rd(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:i}=a,o=i.get(r),u=i.get(n);if(o&&u)return o===n&&u===r;i.set(r,n),i.set(n,r);const d=t(r,n,a);return i.delete(r),i.delete(n),d}}function JW(t){return t?.[Symbol.toStringTag]}function OE(t){return GW(t).concat(YW(t))}const QW=Object.hasOwn||((t,e)=>XW.call(t,e));function Pi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ZW="__v",eH="__o",tH="_owner",{getOwnPropertyDescriptor:EE,keys:AE}=Object;function rH(t,e){return t.byteLength===e.byteLength&&cf(new Uint8Array(t),new Uint8Array(e))}function nH(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function aH(t,e){return t.byteLength===e.byteLength&&cf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function iH(t,e){return Pi(t.getTime(),e.getTime())}function sH(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function oH(t,e){return t===e}function CE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let o,u,d=0;for(;(o=i.next())&&!o.done;){const f=e.entries();let m=!1,p=0;for(;(u=f.next())&&!u.done;){if(a[p]){p++;continue}const v=o.value,b=u.value;if(r.equals(v[0],b[0],d,p,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1;d++}return!0}const lH=Pi;function cH(t,e,r){const n=AE(t);let a=n.length;if(AE(e).length!==a)return!1;for(;a-- >0;)if(!jT(t,e,r,n[a]))return!1;return!0}function ol(t,e,r){const n=OE(t);let a=n.length;if(OE(e).length!==a)return!1;let i,o,u;for(;a-- >0;)if(i=n[a],!jT(t,e,r,i)||(o=EE(t,i),u=EE(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function uH(t,e){return Pi(t.valueOf(),e.valueOf())}function dH(t,e){return t.source===e.source&&t.flags===e.flags}function PE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let o,u;for(;(o=i.next())&&!o.done;){const d=e.values();let f=!1,m=0;for(;(u=d.next())&&!u.done;){if(!a[m]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=a[m]=!0;break}m++}if(!f)return!1}return!0}function cf(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function fH(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jT(t,e,r,n){return(n===tH||n===eH||n===ZW)&&(t.$$typeof||e.$$typeof)?!0:QW(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const hH="[object ArrayBuffer]",pH="[object Arguments]",mH="[object Boolean]",gH="[object DataView]",vH="[object Date]",yH="[object Error]",xH="[object Map]",bH="[object Number]",wH="[object Object]",jH="[object RegExp]",_H="[object Set]",SH="[object String]",NH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kH="[object URL]",OH=Object.prototype.toString;function EH({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:v,areUrlsEqual:b,unknownTagComparators:w}){return function(y,O,k){if(y===O)return!0;if(y==null||O==null)return!1;const S=typeof y;if(S!==typeof O)return!1;if(S!=="object")return S==="number"?u(y,O,k):S==="function"?i(y,O,k):!1;const E=y.constructor;if(E!==O.constructor)return!1;if(E===Object)return d(y,O,k);if(Array.isArray(y))return e(y,O,k);if(E===Date)return n(y,O,k);if(E===RegExp)return m(y,O,k);if(E===Map)return o(y,O,k);if(E===Set)return p(y,O,k);const _=OH.call(y);if(_===vH)return n(y,O,k);if(_===jH)return m(y,O,k);if(_===xH)return o(y,O,k);if(_===_H)return p(y,O,k);if(_===wH)return typeof y.then!="function"&&typeof O.then!="function"&&d(y,O,k);if(_===kH)return b(y,O,k);if(_===yH)return a(y,O,k);if(_===pH)return d(y,O,k);if(NH[_])return v(y,O,k);if(_===hH)return t(y,O,k);if(_===gH)return r(y,O,k);if(_===mH||_===bH||_===SH)return f(y,O,k);if(w){let A=w[_];if(!A){const T=JW(y);T&&(A=w[T])}if(A)return A(y,O,k)}return!1}}function AH({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:rH,areArraysEqual:r?ol:nH,areDataViewsEqual:aH,areDatesEqual:iH,areErrorsEqual:sH,areFunctionsEqual:oH,areMapsEqual:r?n0(CE,ol):CE,areNumbersEqual:lH,areObjectsEqual:r?ol:cH,arePrimitiveWrappersEqual:uH,areRegExpsEqual:dH,areSetsEqual:r?n0(PE,ol):PE,areTypedArraysEqual:r?n0(cf,ol):cf,areUrlsEqual:fH,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=rd(n.areArraysEqual),i=rd(n.areMapsEqual),o=rd(n.areObjectsEqual),u=rd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:u})}return n}function CH(t){return function(e,r,n,a,i,o,u){return t(e,r,u)}}function PH({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:f=t?new WeakMap:void 0,meta:m}=r();return e(u,d,{cache:f,equals:n,meta:m,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,i)}}const TH=Fa();Fa({strict:!0});Fa({circular:!0});Fa({circular:!0,strict:!0});Fa({createInternalComparator:()=>Pi});Fa({strict:!0,createInternalComparator:()=>Pi});Fa({circular:!0,createInternalComparator:()=>Pi});Fa({circular:!0,createInternalComparator:()=>Pi,strict:!0});function Fa(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,i=AH(t),o=EH(i),u=r?r(o):CH(o);return PH({circular:e,comparator:o,createState:n,equals:u,strict:a})}function RH(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):RH(a)};requestAnimationFrame(n)}function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function MH(t){return LH(t)||DH(t)||IH(t)||$H()}function $H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LH(t){if(Array.isArray(t))return t}function BH(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,u=MH(o),d=u[0],f=u.slice(1);if(typeof d=="number"){TE(a.bind(null,f),d);return}a(d),TE(a.bind(null,f));return}zx(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){_T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _T(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=UH(t,"string");return ic(e)==="symbol"?e:String(e)}function UH(t,e){if(ic(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FH=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},zH=function(e){return e},WH=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},kl=function(e,r){return Object.keys(r).reduce(function(n,a){return $E($E({},n),{},_T({},a,e(a,r[a])))},{})},IE=function(e,r,n){return e.map(function(a){return"".concat(WH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function HH(t,e){return GH(t)||KH(t,e)||ST(t,e)||VH()}function VH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function GH(t){if(Array.isArray(t))return t}function YH(t){return QH(t)||JH(t)||ST(t)||XH()}function XH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ST(t,e){if(t){if(typeof t=="string")return Wx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(t,e)}}function JH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QH(t){if(Array.isArray(t))return Wx(t)}function Wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uf=1e-4,NT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},kT=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},DE=function(e,r){return function(n){var a=NT(e,r);return kT(a,n)}},ZH=function(e,r){return function(n){var a=NT(e,r),i=[].concat(YH(a.map(function(o,u){return o*u}).slice(1)),[0]);return kT(i,n)}},LE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),m=HH(f,4);a=m[0],i=m[1],o=m[2],u=m[3]}}}var p=DE(a,o),v=DE(i,u),b=ZH(a,o),w=function(O){return O>1?1:O<0?0:O},j=function(O){for(var k=O>1?1:O,S=k,E=0;E<8;++E){var _=p(S)-k,A=b(S);if(Math.abs(_-k)<uf||A<uf)return v(S);S=w(S-_/A)}return v(S)};return j.isStepper=!1,j},eV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,d=function(m,p,v){var b=-(m-p)*n,w=v*i,j=v+(b-w)*u/1e3,y=v*u/1e3+m;return Math.abs(y-p)<uf&&Math.abs(j)<uf?[p,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},tV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LE(a);case"spring":return eV();default:if(a.split("(")[0]==="cubic-bezier")return LE(a)}return typeof a=="function"?a:null};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function BE(t){return aV(t)||nV(t)||OT(t)||rV()}function rV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aV(t){if(Array.isArray(t))return Vx(t)}function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){Hx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hx(t,e,r){return e=iV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=sV(t,"string");return sc(e)==="symbol"?e:String(e)}function sV(t,e){if(sc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oV(t,e){return uV(t)||cV(t,e)||OT(t,e)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OT(t,e){if(t){if(typeof t=="string")return Vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(t,e)}}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function uV(t){if(Array.isArray(t))return t}var df=function(e,r,n){return e+(r-e)*n},Kx=function(e){var r=e.from,n=e.to;return r!==n},dV=function t(e,r,n){var a=kl(function(i,o){if(Kx(o)){var u=e(o.from,o.to,o.velocity),d=oV(u,2),f=d[0],m=d[1];return Vt(Vt({},o),{},{from:f,velocity:m})}return o},r);return n<1?kl(function(i,o){return Kx(o)?Vt(Vt({},o),{},{velocity:df(o.velocity,a[i].velocity,n),from:df(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const fV=(function(t,e,r,n,a){var i=FH(t,e),o=i.reduce(function(y,O){return Vt(Vt({},y),{},Hx({},O,[t[O],e[O]]))},{}),u=i.reduce(function(y,O){return Vt(Vt({},y),{},Hx({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,f,m,p=function(){return null},v=function(){return kl(function(O,k){return k.from},u)},b=function(){return!Object.values(u).filter(Kx).length},w=function(O){f||(f=O);var k=O-f,S=k/r.dt;u=dV(r,u,S),a(Vt(Vt(Vt({},t),e),v())),f=O,b()||(d=requestAnimationFrame(p))},j=function(O){m||(m=O);var k=(O-m)/n,S=kl(function(_,A){return df.apply(void 0,BE(A).concat([r(k)]))},o);if(a(Vt(Vt(Vt({},t),e),S)),k<1)d=requestAnimationFrame(p);else{var E=kl(function(_,A){return df.apply(void 0,BE(A).concat([r(1)]))},o);a(Vt(Vt(Vt({},t),e),E))}};return p=r.isStepper?w:j,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}var hV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pV(t,e){if(t==null)return{};var r=mV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mV(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function a0(t){return xV(t)||yV(t)||vV(t)||gV()}function gV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function yV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xV(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(r),!0).forEach(function(n){yl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yl(t,e,r){return e=ET(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ET(n.key),n)}}function jV(t,e,r){return e&&wV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ET(t){var e=_V(t,"string");return Us(e)==="symbol"?e:String(e)}function _V(t,e){if(Us(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yx(t,e)}function NV(t){var e=kV();return function(){var n=ff(t),a;if(e){var i=ff(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Xx(this,a)}}function Xx(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jx(t)}function Jx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(t)}var Qn=(function(t){SV(r,t);var e=NV(r);function r(n,a){var i;bV(this,r),i=e.call(this,n,a);var o=i.props,u=o.isActive,d=o.attributeName,f=o.from,m=o.to,p=o.steps,v=o.children,b=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Jx(i)),i.changeStyle=i.changeStyle.bind(Jx(i)),!u||b<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:m}),Xx(i);if(p&&p.length)i.state={style:p[0].style};else if(f){if(typeof v=="function")return i.state={style:f},Xx(i);i.state={style:d?yl({},d,f):f}}else i.state={style:{}};return i}return jV(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,m=i.to,p=i.from,v=this.state.style;if(u){if(!o){var b={style:d?yl({},d,m):m};this.state&&v&&(d&&v[d]!==m||!d&&v!==m)&&this.setState(b);return}if(!(TH(a.to,m)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=w||f?p:a.to;if(this.state&&v){var y={style:d?yl({},d,j):j};(d&&v[d]!==j||!d&&v!==j)&&this.setState(y)}this.runAnimation(Qr(Qr({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,d=a.duration,f=a.easing,m=a.begin,p=a.onAnimationEnd,v=a.onAnimationStart,b=fV(o,u,tV(f),d,this.changeStyle),w=function(){i.stopJSAnimation=b()};this.manager.start([v,m,w,d,p])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,d=a.onAnimationStart,f=o[0],m=f.style,p=f.duration,v=p===void 0?0:p,b=function(j,y,O){if(O===0)return j;var k=y.duration,S=y.easing,E=S===void 0?"ease":S,_=y.style,A=y.properties,T=y.onAnimationEnd,P=O>0?o[O-1]:y,M=A||Object.keys(_);if(typeof E=="function"||E==="spring")return[].concat(a0(j),[i.runJSAnimation.bind(i,{from:P.style,to:_,duration:k,easing:E}),k]);var U=IE(M,k,E),D=Qr(Qr(Qr({},P.style),_),{},{transition:U});return[].concat(a0(j),[D,k,T]).filter(zH)};return this.manager.start([d].concat(a0(o.reduce(b,[m,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BH());var i=a.begin,o=a.duration,u=a.attributeName,d=a.to,f=a.easing,m=a.onAnimationStart,p=a.onAnimationEnd,v=a.steps,b=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var j=u?yl({},u,d):d,y=IE(Object.keys(j),o,f);w.start([m,i,Qr(Qr({},j),{},{transition:y}),o,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=pV(a,hV),f=C.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!u||f===0||o<=0)return i;var p=function(b){var w=b.props,j=w.style,y=j===void 0?{}:j,O=w.className,k=C.cloneElement(b,Qr(Qr({},d),{},{style:Qr(Qr({},y),m),className:O}));return k};return f===1?p(C.Children.only(i)):Y.createElement("div",null,C.Children.map(i,function(v){return p(v)}))}}]),r})(C.PureComponent);Qn.displayName="Animate";Qn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}function OV(t,e){return PV(t)||CV(t,e)||AV(t,e)||EV()}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return FE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(t,e)}}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function PV(t){if(Array.isArray(t))return t}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){TV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TV(t,e,r){return e=RV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RV(t){var e=MV(t,"string");return oc(e)=="symbol"?e:e+""}function MV(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HE=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,m;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,b=4;v<b;v++)p[v]=i[v]>o?o:i[v];m="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(r)),m+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*p[1])),m+="L ".concat(e+n,",").concat(r+a-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(r+a)),m+="L ".concat(e+d*p[3],",").concat(r+a),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+a-u*p[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);m="M ".concat(e,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+d*w,",").concat(r,`
            L `).concat(e+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*w,`
            L `).concat(e+n,",").concat(r+a-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-d*w,",").concat(r+a,`
            L `).concat(e+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+a-u*w," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},$V=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),m=Math.max(i,i+u),p=Math.min(o,o+d),v=Math.max(o,o+d);return n>=f&&n<=m&&a>=p&&a<=v}return!1},IV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tw=function(e){var r=WE(WE({},IV),e),n=C.useRef(),a=C.useState(-1),i=OV(a,2),o=i[0],u=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,f=r.y,m=r.width,p=r.height,v=r.radius,b=r.className,w=r.animationEasing,j=r.animationDuration,y=r.animationBegin,O=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var S=He("recharts-rectangle",b);return k?Y.createElement(Qn,{canBegin:o>0,from:{width:m,height:p,x:d,y:f},to:{width:m,height:p,x:d,y:f},duration:j,animationEasing:w,isActive:k},function(E){var _=E.width,A=E.height,T=E.x,P=E.y;return Y.createElement(Qn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:O,easing:w},Y.createElement("path",hf({},Ue(r,!0),{className:S,d:HE(T,P,_,A,v),ref:n})))}):Y.createElement("path",hf({},Ue(r,!0),{className:S,d:HE(d,f,m,p,v)}))};function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qx.apply(this,arguments)}var Rw=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=He("recharts-dot",i);return r===+r&&n===+n&&a===+a?C.createElement("circle",Qx({},Ue(e,!1),Rd(e),{className:o,cx:r,cy:n,r:a})):null};function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}var DV=["x","y","top","left","width","height","className"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zx.apply(this,arguments)}function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){BV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BV(t,e,r){return e=qV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qV(t){var e=UV(t,"string");return lc(e)=="symbol"?e:e+""}function UV(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FV(t,e){if(t==null)return{};var r=zV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var WV=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},HV=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,m=e.width,p=m===void 0?0:m,v=e.height,b=v===void 0?0:v,w=e.className,j=FV(e,DV),y=LV({x:n,y:i,top:u,left:f,width:p,height:b},j);return!pe(n)||!pe(i)||!pe(p)||!pe(b)||!pe(u)||!pe(f)?null:Y.createElement("path",Zx({},Ue(y,!0),{className:He("recharts-cross",w),d:WV(n,i,p,b,u,f)}))},i0,KE;function VV(){if(KE)return i0;KE=1;var t=YP(),e=t(Object.getPrototypeOf,Object);return i0=e,i0}var s0,GE;function KV(){if(GE)return s0;GE=1;var t=ra(),e=VV(),r=na(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,d=o.call(Object);function f(m){if(!r(m)||t(m)!=n)return!1;var p=e(m);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==d}return s0=f,s0}var GV=KV();const YV=tt(GV);var o0,YE;function XV(){if(YE)return o0;YE=1;var t=ra(),e=na(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return o0=n,o0}var JV=XV();const QV=tt(JV);function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}function ZV(t,e){return nK(t)||rK(t,e)||tK(t,e)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(t,e){if(t){if(typeof t=="string")return XE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XE(t,e)}}function XE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function nK(t){if(Array.isArray(t))return t}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){aK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aK(t,e,r){return e=iK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iK(t){var e=sK(t,"string");return cc(e)=="symbol"?e:e+""}function sK(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=function(e,r,n,a,i){var o=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+i),u+="L ".concat(e+n-o/2-a,",").concat(r+i),u+="L ".concat(e,",").concat(r," Z"),u},oK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lK=function(e){var r=QE(QE({},oK),e),n=C.useRef(),a=C.useState(-1),i=ZV(a,2),o=i[0],u=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,m=r.upperWidth,p=r.lowerWidth,v=r.height,b=r.className,w=r.animationEasing,j=r.animationDuration,y=r.animationBegin,O=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||v!==+v||m===0&&p===0||v===0)return null;var k=He("recharts-trapezoid",b);return O?Y.createElement(Qn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:m,lowerWidth:p,height:v,x:d,y:f},duration:j,animationEasing:w,isActive:O},function(S){var E=S.upperWidth,_=S.lowerWidth,A=S.height,T=S.x,P=S.y;return Y.createElement(Qn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:w},Y.createElement("path",pf({},Ue(r,!0),{className:k,d:ZE(T,P,E,_,A),ref:n})))}):Y.createElement("g",null,Y.createElement("path",pf({},Ue(r,!0),{className:k,d:ZE(d,f,m,p,v)})))},cK=["option","shapeType","propTransformer","activeClassName","isActive"];function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function uK(t,e){if(t==null)return{};var r=dK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=pK(t,"string");return uc(e)=="symbol"?e:e+""}function pK(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mK(t,e){return mf(mf({},e),t)}function gK(t,e){return t==="symbols"}function tA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(Tw,r);case"trapezoid":return Y.createElement(lK,r);case"sector":return Y.createElement(wT,r);case"symbols":if(gK(e))return Y.createElement(Jb,r);break;default:return null}}function vK(t){return C.isValidElement(t)?t.props:t}function yK(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?mK:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,d=uK(t,cK),f;if(C.isValidElement(e))f=C.cloneElement(e,mf(mf({},d),vK(e)));else if(Le(e))f=e(d);else if(YV(e)&&!QV(e)){var m=a(e,d);f=Y.createElement(tA,{shapeType:r,elementProps:m})}else{var p=d;f=Y.createElement(tA,{shapeType:r,elementProps:p})}return u?Y.createElement(gt,{className:o},f):f}function ch(t,e){return e!=null&&"trapezoids"in t.props}function uh(t,e){return e!=null&&"sectors"in t.props}function dc(t,e){return e!=null&&"points"in t.props}function xK(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function bK(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function wK(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function jK(t,e){var r;return ch(t,e)?r=xK:uh(t,e)?r=bK:dc(t,e)&&(r=wK),r}function _K(t,e){var r;return ch(t,e)?r="trapezoids":uh(t,e)?r="sectors":dc(t,e)&&(r="points"),r}function SK(t,e){if(ch(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dc(t,e)?e.payload:{}}function NK(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=_K(r,e),i=SK(r,e),o=n.filter(function(d,f){var m=Gl(i,d),p=r.props[a].filter(function(w){var j=jK(r,e);return j(w,e)}),v=r.props[a].indexOf(p[p.length-1]),b=f===v;return m&&b}),u=n.indexOf(o[o.length-1]);return u}var l0,rA;function kK(){if(rA)return l0;rA=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var u=-1,d=e(t((a-n)/(i||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=i;return f}return l0=r,l0}var c0,nA;function AT(){if(nA)return c0;nA=1;var t=d5(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return c0=n,c0}var u0,aA;function OK(){if(aA)return u0;aA=1;var t=kK(),e=Qf(),r=AT();function n(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),u=u===void 0?i<o?1:-1:r(u),t(i,o,u,a)}}return u0=n,u0}var d0,iA;function EK(){if(iA)return d0;iA=1;var t=OK(),e=t();return d0=e,d0}var AK=EK();const gf=tt(AK);function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){CT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CT(t,e,r){return e=CK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CK(t){var e=PK(t,"string");return fc(e)=="symbol"?e:e+""}function PK(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TK=["Webkit","Moz","O","ms"],RK=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=TK.reduce(function(i,o){return oA(oA({},i),{},CT({},o+n,r))},{});return a[e]=r,a};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function f0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TT(n.key),n)}}function $K(t,e,r){return e&&cA(t.prototype,e),r&&cA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IK(t,e,r){return e=yf(e),DK(t,PT()?Reflect.construct(e,r||[],yf(t).constructor):e.apply(t,r))}function DK(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(t)}function LK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!t})()}function yf(t){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(t)}function BK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eb(t,e)}function jr(t,e,r){return e=TT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TT(t){var e=qK(t,"string");return Fs(e)=="symbol"?e:e+""}function qK(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UK=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=_l().domain(gf(0,d)).range([i,i+o-u]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:m}},uA=function(e){return e.changedTouches&&!!e.changedTouches.length},zs=(function(t){function e(r){var n;return MK(this,e),n=IK(this,e,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o?.({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var i=uA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BK(e,t),$K(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,m=f.length-1,p=Math.min(a,i),v=Math.max(a,i),b=e.getIndexInRange(o,p),w=e.getIndexInRange(o,v);return{startIndex:b-b%d,endIndex:w===m?m:w-w%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,d=Or(i[n],u,n);return Le(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,v=d.startIndex,b=d.endIndex,w=d.onChange,j=n.pageX-i;j>0?j=Math.min(j,f+m-p-u,f+m-p-o):j<0&&(j=Math.max(j,f-o,f-u));var y=this.getIndex({startX:o+j,endX:u+j});(y.startIndex!==v||y.endIndex!==b)&&w&&w(y),this.setState({startX:o+j,endX:u+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=uA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,d=a.startX,f=this.state[o],m=this.props,p=m.x,v=m.width,b=m.travellerWidth,w=m.onChange,j=m.gap,y=m.data,O={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,p+v-b-f):k<0&&(k=Math.max(k,p-f)),O[o]=f+k;var S=this.getIndex(O),E=S.startIndex,_=S.endIndex,A=function(){var P=y.length-1;return o==="startX"&&(u>d?E%j===0:_%j===0)||u<d&&_===P||o==="endX"&&(u>d?_%j===0:E%j===0)||u>d&&_===P};this.setState(jr(jr({},o,f+k),"brushMoveStartX",n.pageX),function(){w&&A()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,m=this.state[a],p=u.indexOf(m);if(p!==-1){var v=p+n;if(!(v===-1||v>=u.length)){var b=u[v];a==="startX"&&b>=f||a==="endX"&&b<=d||this.setState(jr({},a,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return Y.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.data,f=n.children,m=n.padding,p=C.Children.only(f);return p?Y.cloneElement(p,{x:a,y:i,width:o,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,u=this,d=this.props,f=d.y,m=d.travellerWidth,p=d.height,v=d.traveller,b=d.ariaLabel,w=d.data,j=d.startIndex,y=d.endIndex,O=Math.max(n,this.props.x),k=f0(f0({},Ue(this.props,!1)),{},{x:O,y:f,width:m,height:p}),S=b||"Min value: ".concat((i=w[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[y])===null||o===void 0?void 0:o.name);return Y.createElement(gt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,k))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,m=Math.min(n,a)+f,p=Math.max(Math.abs(a-n)-f,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:o,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,m=this.state,p=m.startX,v=m.endX,b=5,w={pointerEvents:"none",fill:f};return Y.createElement(gt,{className:"recharts-brush-texts"},Y.createElement(Hd,vf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-b,y:o+u/2},w),this.getTextOfTick(a)),Y.createElement(Hd,vf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+d+b,y:o+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,u=n.x,d=n.y,f=n.width,m=n.height,p=n.alwaysShowText,v=this.state,b=v.startX,w=v.endX,j=v.isTextActive,y=v.isSlideMoving,O=v.isTravellerMoving,k=v.isTravellerFocused;if(!a||!a.length||!pe(u)||!pe(d)||!pe(f)||!pe(m)||f<=0||m<=0)return null;var S=He("recharts-brush",i),E=Y.Children.count(o)===1,_=RK("userSelect","none");return Y.createElement(gt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(j||y||O||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(i+u/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:a,y:i,width:o,height:u,fill:d,stroke:"none"}),Y.createElement("line",{x1:a+1,y1:f,x2:a+o-1,y2:f,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:a+1,y1:f+2,x2:a+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Y.isValidElement(n)?i=Y.cloneElement(n,a):Le(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,m=n.startIndex,p=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return f0({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},i&&i.length?UK({data:i,width:o,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+o-d]);var v=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,u=i-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>a?u=d:o=d}return a>=n[u]?u:o}}])})(C.PureComponent);jr(zs,"displayName","Brush");jr(zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var h0,dA;function FK(){if(dA)return h0;dA=1;var t=aw();function e(r,n){var a;return t(r,function(i,o,u){return a=n(i,o,u),!a}),!!a}return h0=e,h0}var p0,fA;function zK(){if(fA)return p0;fA=1;var t=FP(),e=Ba(),r=FK(),n=mr(),a=Qf();function i(o,u,d){var f=n(o)?t:r;return d&&a(o,u,d)&&(u=void 0),f(o,e(u,3))}return p0=i,p0}var WK=zK();const HK=tt(WK);var kn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},m0,hA;function VK(){if(hA)return m0;hA=1;var t=s5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return m0=e,m0}var g0,pA;function KK(){if(pA)return g0;pA=1;var t=VK(),e=a5(),r=Ba();function n(a,i){var o={};return i=r(i,3),e(a,function(u,d,f){t(o,d,i(u,d,f))}),o}return g0=n,g0}var GK=KK();const YK=tt(GK);var v0,mA;function XK(){if(mA)return v0;mA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return v0=t,v0}var y0,gA;function JK(){if(gA)return y0;gA=1;var t=aw();function e(r,n){var a=!0;return t(r,function(i,o,u){return a=!!n(i,o,u),a}),a}return y0=e,y0}var x0,vA;function QK(){if(vA)return x0;vA=1;var t=XK(),e=JK(),r=Ba(),n=mr(),a=Qf();function i(o,u,d){var f=n(o)?t:e;return d&&a(o,u,d)&&(u=void 0),f(o,r(u,3))}return x0=i,x0}var ZK=QK();const eG=tt(ZK);var tG=["x","y"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tb.apply(this,arguments)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){rG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rG(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=aG(t,"string");return hc(e)=="symbol"?e:e+""}function aG(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iG(t,e){if(t==null)return{};var r=sG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oG(t,e){var r=t.x,n=t.y,a=iG(t,tG),i="".concat(r),o=parseInt(i,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||a.height),m=parseInt(f,10),p="".concat(e.width||a.width),v=parseInt(p,10);return ll(ll(ll(ll(ll({},e),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function xA(t){return Y.createElement(yK,tb({shapeType:"rectangle",propTransformer:oG,activeClassName:"recharts-active-bar"},t))}var lG=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=pe(n)||f7(n);return i?e(n,a):(i||Oi(),r)}},cG=["value","background"],RT;function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function uG(t,e){if(t==null)return{};var r=dG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){Ca(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$T(n.key),n)}}function hG(t,e,r){return e&&wA(t.prototype,e),r&&wA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pG(t,e,r){return e=bf(e),mG(t,MT()?Reflect.construct(e,r||[],bf(t).constructor):e.apply(t,r))}function mG(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(t)}function gG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(t)}function vG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rb(t,e)}function Ca(t,e,r){return e=$T(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $T(t){var e=yG(t,"string");return Ws(e)=="symbol"?e:e+""}function yG(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ec=(function(t){function e(){var r;fG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pG(this,e,[].concat(a)),Ca(r,"state",{isAnimationFinished:!1}),Ca(r,"id",jc("recharts-bar-")),Ca(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ca(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return vG(e,t),hG(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,m=Ue(this.props,!1);return n&&n.map(function(p,v){var b=v===d,w=b?f:o,j=Nt(Nt(Nt({},m),p),{},{isActive:b,option:w,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Y.createElement(gt,xf({className:"recharts-bar-rectangle"},Md(a.props,p,v),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(v)}),Y.createElement(xA,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,m=a.animationEasing,p=a.animationId,v=this.state.prevData;return Y.createElement(Qn,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,j=i.map(function(y,O){var k=v&&v[O];if(k){var S=Lr(k.x,y.x),E=Lr(k.y,y.y),_=Lr(k.width,y.width),A=Lr(k.height,y.height);return Nt(Nt({},y),{},{x:S(w),y:E(w),width:_(w),height:A(w)})}if(o==="horizontal"){var T=Lr(0,y.height),P=T(w);return Nt(Nt({},y),{},{y:y.y+y.height-P,height:P})}var M=Lr(0,y.width),U=M(w);return Nt(Nt({},y),{},{width:U})});return Y.createElement(gt,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Gl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,d=Ue(this.props.background,!1);return i.map(function(f,m){f.value;var p=f.background,v=uG(f,cG);if(!p)return null;var b=Nt(Nt(Nt(Nt(Nt({},v),{},{fill:"#eee"},p),d),Md(n.props,f,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return Y.createElement(xA,xf({key:"background-bar-".concat(m),option:n.props.background,isActive:m===u},b))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,m=i.children,p=cn(m,lh);if(!p)return null;var v=f==="vertical"?o[0].height/2:o[0].width/2,b=function(y,O){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Or(y,O)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Y.createElement(gt,w,p.map(function(j){return Y.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,m=n.top,p=n.width,v=n.height,b=n.isAnimationActive,w=n.background,j=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,O=He("recharts-bar",o),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=k||S,_=Fe(j)?this.id:j;return Y.createElement(gt,{className:O},k||S?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(_)},Y.createElement("rect",{x:k?f:f-p/2,y:S?m:m-v/2,width:k?p:p*2,height:S?v:v*2}))):null,Y.createElement(gt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,_),(!b||y)&&Ma.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(C.PureComponent);RT=Ec;Ca(Ec,"displayName","Bar");Ca(Ec,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ca(Ec,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,m=t.dataStartIndex,p=t.displayedData,v=t.offset,b=T9(n,r);if(!b)return null;var w=e.layout,j=r.type.defaultProps,y=j!==void 0?Nt(Nt({},j),r.props):r.props,O=y.dataKey,k=y.children,S=y.minPointSize,E=w==="horizontal"?o:i,_=f?E.scale.domain():null,A=q9({numericAxis:E}),T=cn(k,h5),P=p.map(function(M,U){var D,W,B,I,G,F;f?D=R9(f[m+U],_):(D=Or(M,O),Array.isArray(D)||(D=[A,D]));var Z=lG(S,RT.defaultProps.minPointSize)(D[1],U);if(w==="horizontal"){var K,J=[o.scale(D[0]),o.scale(D[1])],q=J[0],$=J[1];W=oE({axis:i,ticks:u,bandSize:a,offset:b.offset,entry:M,index:U}),B=(K=$??q)!==null&&K!==void 0?K:void 0,I=b.size;var H=q-$;if(G=Number.isNaN(H)?0:H,F={x:W,y:o.y,width:I,height:o.height},Math.abs(Z)>0&&Math.abs(G)<Math.abs(Z)){var ie=sn(G||Z)*(Math.abs(Z)-Math.abs(G));B-=ie,G+=ie}}else{var he=[i.scale(D[0]),i.scale(D[1])],ae=he[0],ve=he[1];if(W=ae,B=oE({axis:o,ticks:d,bandSize:a,offset:b.offset,entry:M,index:U}),I=ve-ae,G=b.size,F={x:i.x,y:B,width:i.width,height:G},Math.abs(Z)>0&&Math.abs(I)<Math.abs(Z)){var Pe=sn(I||Z)*(Math.abs(Z)-Math.abs(I));I+=Pe}}return Nt(Nt(Nt({},M),{},{x:W,y:B,width:I,height:G,value:f?D:D[1],payload:M,background:F},T&&T[U]&&T[U].props),{},{tooltipPayload:[yT(r,M)],tooltipPosition:{x:W+I/2,y:B+G/2}})});return Nt({data:P,layout:w},v)});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function xG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IT(n.key),n)}}function bG(t,e,r){return e&&jA(t.prototype,e),r&&jA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){dh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dh(t,e,r){return e=IT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IT(t){var e=wG(t,"string");return pc(e)=="symbol"?e:e+""}function wG(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jG=function(e,r,n,a,i){var o=e.width,u=e.height,d=e.layout,f=e.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!_r(f,Ec);return m.reduce(function(b,w){var j=r[w],y=j.orientation,O=j.domain,k=j.padding,S=k===void 0?{}:k,E=j.mirror,_=j.reversed,A="".concat(y).concat(E?"Mirror":""),T,P,M,U,D;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var W=O[1]-O[0],B=1/0,I=j.categoricalDomain.sort(m7);if(I.forEach(function(he,ae){ae>0&&(B=Math.min((he||0)-(I[ae-1]||0),B))}),Number.isFinite(B)){var G=B/W,F=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(T=G*F/2),j.padding==="no-gap"){var Z=Ni(e.barCategoryGap,G*F),K=G*F/2;T=K-Z-(K-Z)/F*Z}}}a==="xAxis"?P=[n.left+(S.left||0)+(T||0),n.left+n.width-(S.right||0)-(T||0)]:a==="yAxis"?P=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(T||0),n.top+n.height-(S.bottom||0)-(T||0)]:P=j.range,_&&(P=[P[1],P[0]]);var J=C9(j,i,v),q=J.scale,$=J.realScaleType;q.domain(O).range(P),P9(q);var H=B9(q,rn(rn({},j),{},{realScaleType:$}));a==="xAxis"?(D=y==="top"&&!E||y==="bottom"&&E,M=n.left,U=p[A]-D*j.height):a==="yAxis"&&(D=y==="left"&&!E||y==="right"&&E,M=p[A]-D*j.width,U=n.top);var ie=rn(rn(rn({},j),H),{},{realScaleType:$,x:M,y:U,scale:q,width:a==="xAxis"?n.width:j.width,height:a==="yAxis"?n.height:j.height});return ie.bandSize=sf(ie,H),!j.hide&&a==="xAxis"?p[A]+=(D?-1:1)*ie.height:j.hide||(p[A]+=(D?-1:1)*ie.width),rn(rn({},b),{},dh({},w,ie))},{})},DT=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},_G=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return DT({x:r,y:n},{x:a,y:i})},LT=(function(){function t(e){xG(this,t),this.scale=e}return bG(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();dh(LT,"EPS",1e-4);var Mw=function(e){var r=Object.keys(e).reduce(function(n,a){return rn(rn({},n),{},dh({},a,LT.create(e[a])))},{});return rn(rn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return YK(a,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(a){return eG(a,function(i,o){return r[o].isInRange(i)})}})};function SG(t){return(t%180+180)%180}var NG=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SG(a),o=i*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},b0,SA;function kG(){if(SA)return b0;SA=1;var t=Ba(),e=_c(),r=Xf();function n(a){return function(i,o,u){var d=Object(i);if(!e(i)){var f=t(o,3);i=r(i),o=function(p){return f(d[p],p,d)}}var m=a(i,o,u);return m>-1?d[f?i[m]:m]:void 0}}return b0=n,b0}var w0,NA;function OG(){if(NA)return w0;NA=1;var t=AT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return w0=e,w0}var j0,kA;function EG(){if(kA)return j0;kA=1;var t=ZP(),e=Ba(),r=OG(),n=Math.max;function a(i,o,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(i,e(o,3),f)}return j0=a,j0}var _0,OA;function AG(){if(OA)return _0;OA=1;var t=kG(),e=EG(),r=t(e);return _0=r,_0}AG();var CG=mP();const PG=tt(CG);var TG=PG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),BT=C.createContext(void 0),qT=C.createContext(void 0),UT=C.createContext(void 0),RG=C.createContext({}),FT=C.createContext(void 0),zT=C.createContext(0),WT=C.createContext(0),EA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,m=TG(i);return Y.createElement(BT.Provider,{value:n},Y.createElement(qT.Provider,{value:a},Y.createElement(RG.Provider,{value:i},Y.createElement(UT.Provider,{value:m},Y.createElement(FT.Provider,{value:o},Y.createElement(zT.Provider,{value:f},Y.createElement(WT.Provider,{value:d},u)))))))},MG=function(){return C.useContext(FT)},HT=function(e){var r=C.useContext(BT);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},VT=function(e){var r=C.useContext(qT);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},$G=function(){var e=C.useContext(UT);return e},KT=function(){return C.useContext(WT)},GT=function(){return C.useContext(zT)};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function IG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XT(n.key),n)}}function LG(t,e,r){return e&&DG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BG(t,e,r){return e=wf(e),qG(t,YT()?Reflect.construct(e,r||[],wf(t).constructor):e.apply(t,r))}function qG(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(t)}function UG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(t)}function FG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nb(t,e)}function AA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(r),!0).forEach(function(n){$w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $w(t,e,r){return e=XT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XT(t){var e=zG(t,"string");return Hs(e)=="symbol"?e:e+""}function zG(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WG(t,e){return GG(t)||KG(t,e)||VG(t,e)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(t,e){if(t){if(typeof t=="string")return PA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(t,e)}}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function GG(t){if(Array.isArray(t))return t}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}var YG=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):Le(e)?n=e(r):n=Y.createElement("line",ab({},r,{className:"recharts-reference-line-line"})),n},XG=function(e,r,n,a,i,o,u,d,f){var m=i.x,p=i.y,v=i.width,b=i.height;if(n){var w=f.y,j=e.y.apply(w,{position:o});if(kn(f,"discard")&&!e.y.isInRange(j))return null;var y=[{x:m+v,y:j},{x:m,y:j}];return d==="left"?y.reverse():y}if(r){var O=f.x,k=e.x.apply(O,{position:o});if(kn(f,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:p+b},{x:k,y:p}];return u==="top"?S.reverse():S}if(a){var E=f.segment,_=E.map(function(A){return e.apply(A,{position:o})});return kn(f,"discard")&&HK(_,function(A){return!e.isInRange(A)})?null:_}return null};function JG(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=MG(),m=HT(a),p=VT(i),v=$G();if(!f||!v)return null;bi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Mw({x:m.scale,y:p.scale}),w=Rt(e),j=Rt(r),y=n&&n.length===2,O=XG(b,w,j,y,v,t.position,m.orientation,p.orientation,t);if(!O)return null;var k=WG(O,2),S=k[0],E=S.x,_=S.y,A=k[1],T=A.x,P=A.y,M=kn(t,"hidden")?"url(#".concat(f,")"):void 0,U=CA(CA({clipPath:M},Ue(t,!0)),{},{x1:E,y1:_,x2:T,y2:P});return Y.createElement(gt,{className:He("recharts-reference-line",u)},YG(o,U),er.renderCallByParent(t,_G({x1:E,y1:_,x2:T,y2:P})))}var Iw=(function(t){function e(){return IG(this,e),BG(this,e,arguments)}return FG(e,t),LG(e,[{key:"render",value:function(){return Y.createElement(JG,this.props)}}])})(Y.Component);$w(Iw,"displayName","ReferenceLine");$w(Iw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ib.apply(this,arguments)}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){fh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QT(n.key),n)}}function eY(t,e,r){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tY(t,e,r){return e=jf(e),rY(t,JT()?Reflect.construct(e,r||[],jf(t).constructor):e.apply(t,r))}function rY(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(t)}function nY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(t)}function aY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sb(t,e)}function fh(t,e,r){return e=QT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QT(t){var e=iY(t,"string");return Vs(e)=="symbol"?e:e+""}function iY(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sY=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=Mw({x:a.scale,y:i.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return kn(e,"discard")&&!o.isInRange(u)?null:u},hh=(function(t){function e(){return QG(this,e),tY(this,e,arguments)}return aY(e,t),eY(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=Rt(a),m=Rt(i);if(bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=sY(this.props);if(!p)return null;var v=p.x,b=p.y,w=this.props,j=w.shape,y=w.className,O=kn(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=RA(RA({clipPath:O},Ue(this.props,!0)),{},{cx:v,cy:b});return Y.createElement(gt,{className:He("recharts-reference-dot",y)},e.renderDot(j,k),er.renderCallByParent(this.props,{x:v-o,y:b-o,width:2*o,height:2*o}))}}])})(Y.Component);fh(hh,"displayName","ReferenceDot");fh(hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fh(hh,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):Le(t)?r=t(e):r=Y.createElement(Rw,ib({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function MA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(r),!0).forEach(function(n){ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e4(n.key),n)}}function cY(t,e,r){return e&&lY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uY(t,e,r){return e=_f(e),dY(t,ZT()?Reflect.construct(e,r||[],_f(t).constructor):e.apply(t,r))}function dY(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(t)}function fY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!t})()}function _f(t){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(t)}function hY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lb(t,e)}function ph(t,e,r){return e=e4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t){var e=pY(t,"string");return Ks(e)=="symbol"?e:e+""}function pY(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mY=function(e,r,n,a,i){var o=i.x1,u=i.x2,d=i.y1,f=i.y2,m=i.xAxis,p=i.yAxis;if(!m||!p)return null;var v=Mw({x:m.scale,y:p.scale}),b={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(f,{position:"end"}):v.y.rangeMax};return kn(i,"discard")&&(!v.isInRange(b)||!v.isInRange(w))?null:DT(b,w)},mh=(function(t){function e(){return oY(this,e),uY(this,e,arguments)}return hY(e,t),cY(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,m=n.clipPathId;bi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rt(a),v=Rt(i),b=Rt(o),w=Rt(u),j=this.props.shape;if(!p&&!v&&!b&&!w&&!j)return null;var y=mY(p,v,b,w,this.props);if(!y&&!j)return null;var O=kn(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Y.createElement(gt,{className:He("recharts-reference-area",d)},e.renderRect(j,$A($A({clipPath:O},Ue(this.props,!0)),y)),er.renderCallByParent(this.props,y))}}])})(Y.Component);ph(mh,"displayName","ReferenceArea");ph(mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ph(mh,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):Le(t)?r=t(e):r=Y.createElement(Tw,ob({},e,{className:"recharts-reference-area-rect"})),r});function t4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function gY(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return NG(n,r)}function vY(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:n?a:i,end:n?a+o:i+u}:{start:n?a+o:i+u,end:n?a:i}}function Sf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function yY(t,e){return t4(t,e+1)}function xY(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,m=o,p=function(){var w=n?.[d];if(w===void 0)return{v:t4(n,f)};var j=d,y,O=function(){return y===void 0&&(y=r(w,j)),y},k=w.coordinate,S=d===0||Sf(t,k,O,m,u);S||(d=0,m=o,f+=1),S&&(m=k+t*(O()/2+a),d+=f)},v;f<=i.length;)if(v=p(),v)return v.v;return[]}function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){bY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bY(t,e,r){return e=wY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wY(t){var e=jY(t,"string");return mc(e)=="symbol"?e:e+""}function jY(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,u=e.start,d=e.end,f=function(v){var b=i[v],w,j=function(){return w===void 0&&(w=r(b,v)),w};if(v===o-1){var y=t*(b.coordinate+t*j()/2-d);i[v]=b=Zt(Zt({},b),{},{tickCoord:y>0?b.coordinate-y*t:b.coordinate})}else i[v]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var O=Sf(t,b.tickCoord,j,u,d);O&&(d=b.tickCoord-t*(j()/2+a),i[v]=Zt(Zt({},b),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return i}function SY(t,e,r,n,a,i){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(i){var m=n[u-1],p=r(m,u-1),v=t*(m.coordinate+t*p/2-f);o[u-1]=m=Zt(Zt({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var b=Sf(t,m.tickCoord,function(){return p},d,f);b&&(f=m.tickCoord-t*(p/2+a),o[u-1]=Zt(Zt({},m),{},{isShow:!0}))}for(var w=i?u-1:u,j=function(k){var S=o[k],E,_=function(){return E===void 0&&(E=r(S,k)),E};if(k===0){var A=t*(S.coordinate-t*_()/2-d);o[k]=S=Zt(Zt({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[k]=S=Zt(Zt({},S),{},{tickCoord:S.coordinate});var T=Sf(t,S.tickCoord,_,d,f);T&&(d=S.tickCoord+t*(_()/2+a),o[k]=Zt(Zt({},S),{},{isShow:!0}))},y=0;y<w;y++)j(y);return o}function NY(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,m=t.unit,p=t.angle;if(!a||!a.length||!n)return[];if(pe(d)||co.isSsr)return yY(a,typeof d=="number"&&pe(d)?d:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",w=m&&b==="width"?jl(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=function(S,E){var _=Le(f)?f(S.value,E):S.value;return b==="width"?gY(jl(_,{fontSize:e,letterSpacing:r}),w,p):jl(_,{fontSize:e,letterSpacing:r})[b]},y=a.length>=2?sn(a[1].coordinate-a[0].coordinate):1,O=vY(i,y,b);return d==="equidistantPreserveStart"?xY(y,O,j,a,o):(d==="preserveStart"||d==="preserveStartEnd"?v=SY(y,O,j,a,o,d==="preserveStartEnd"):v=_Y(y,O,j,a,o),v.filter(function(k){return k.isShow}))}var kY=["viewBox"],OY=["viewBox"],EY=["ticks"];function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bs.apply(this,arguments)}function DA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S0(t,e){if(t==null)return{};var r=AY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n4(n.key),n)}}function PY(t,e,r){return e&&LA(t.prototype,e),r&&LA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TY(t,e,r){return e=Nf(e),RY(t,r4()?Reflect.construct(e,r||[],Nf(t).constructor):e.apply(t,r))}function RY(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(t)}function MY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(t)}function $Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cb(t,e)}function Dw(t,e,r){return e=n4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n4(t){var e=IY(t,"string");return Gs(e)=="symbol"?e:e+""}function IY(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gh=(function(t){function e(r){var n;return CY(this,e),n=TY(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return $Y(e,t),PY(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=S0(n,kY),u=this.props,d=u.viewBox,f=S0(u,OY);return!ks(i,d)||!ks(o,f)||!ks(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,u=a.width,d=a.height,f=a.orientation,m=a.tickSize,p=a.mirror,v=a.tickMargin,b,w,j,y,O,k,S=p?-1:1,E=n.tickSize||m,_=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=w=n.coordinate,y=o+ +!p*d,j=y-S*E,k=j-S*v,O=_;break;case"left":j=y=n.coordinate,w=i+ +!p*u,b=w-S*E,O=b-S*v,k=_;break;case"right":j=y=n.coordinate,w=i+ +p*u,b=w+S*E,O=b+S*v,k=_;break;default:b=w=n.coordinate,y=o+ +p*d,j=y+S*E,k=j+S*v,O=_;break}return{line:{x1:b,y1:j,x2:w,y2:y},tick:{x:O,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,m=n.axisLine,p=Ct(Ct(Ct({},Ue(this.props,!1)),Ue(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);p=Ct(Ct({},p),{},{x1:a,y1:i+v*u,x2:a+o,y2:i+v*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);p=Ct(Ct({},p),{},{x1:a+b*o,y1:i,x2:a+b*o,y2:i+u})}return Y.createElement("line",bs({},p,{className:He("recharts-cartesian-axis-line",Ur(m,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,u=this.props,d=u.tickLine,f=u.stroke,m=u.tick,p=u.tickFormatter,v=u.unit,b=NY(Ct(Ct({},this.props),{},{ticks:n}),a,i),w=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=Ue(this.props,!1),O=Ue(m,!1),k=Ct(Ct({},y),{},{fill:"none"},Ue(d,!1)),S=b.map(function(E,_){var A=o.getTickLineCoord(E),T=A.line,P=A.tick,M=Ct(Ct(Ct(Ct({textAnchor:w,verticalAnchor:j},y),{},{stroke:"none",fill:f},O),P),{},{index:_,payload:E,visibleTicksCount:b.length,tickFormatter:p});return Y.createElement(gt,bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Md(o.props,E,_)),d&&Y.createElement("line",bs({},k,T,{className:He("recharts-cartesian-axis-tick-line",Ur(d,"className"))})),m&&e.renderTickItem(m,M,"".concat(Le(p)?p(E.value,_):E.value).concat(v||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,d=a.ticksGenerator,f=a.className,m=a.hide;if(m)return null;var p=this.props,v=p.ticks,b=S0(p,EY),w=v;return Le(d)&&(w=v&&v.length>0?d(this.props):d(b)),o<=0||u<=0||!w||!w.length?null:Y.createElement(gt,{className:He("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,u=He(a.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?o=Y.cloneElement(n,Ct(Ct({},a),{},{className:u})):Le(n)?o=n(Ct(Ct({},a),{},{className:u})):o=Y.createElement(Hd,bs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(C.Component);Dw(gh,"displayName","CartesianAxis");Dw(gh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DY=["layout","type","stroke","connectNulls","isRange","ref"],LY=["key"],a4;function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function i4(t,e){if(t==null)return{};var r=BY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yi.apply(this,arguments)}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){jn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o4(n.key),n)}}function UY(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FY(t,e,r){return e=kf(e),zY(t,s4()?Reflect.construct(e,r||[],kf(t).constructor):e.apply(t,r))}function zY(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ub(t,e)}function jn(t,e,r){return e=o4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o4(t){var e=VY(t,"string");return Ys(e)=="symbol"?e:e+""}function VY(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var za=(function(t){function e(){var r;qY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FY(this,e,[].concat(a)),jn(r,"state",{isAnimationFinished:!0}),jn(r,"id",jc("recharts-area-")),jn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Le(o)&&o()}),jn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Le(o)&&o()}),r}return HY(e,t),UY(e,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var d=this.props,f=d.dot,m=d.points,p=d.dataKey,v=Ue(this.props,!1),b=Ue(f,!0),w=m.map(function(y,O){var k=Na(Na(Na({key:"dot-".concat(O),r:3},v),b),{},{index:O,cx:y.x,cy:y.y,dataKey:p,value:y.value,payload:y.payload,points:m});return e.renderDotItem(f,k)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Y.createElement(gt,yi({className:"recharts-area-dots"},j),w)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].x,f=o[o.length-1].x,m=n*Math.abs(d-f),p=Aa(o.map(function(v){return v.y||0}));return pe(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Aa(i.map(function(v){return v.y||0})),p)),pe(p)?Y.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].y,f=o[o.length-1].y,m=n*Math.abs(d-f),p=Aa(o.map(function(v){return v.x||0}));return pe(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Aa(i.map(function(v){return v.x||0})),p)),pe(p)?Y.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var u=this.props,d=u.layout,f=u.type,m=u.stroke,p=u.connectNulls,v=u.isRange;u.ref;var b=i4(u,DY);return Y.createElement(gt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Y.createElement(Nl,yi({},Ue(b,!0),{points:n,connectNulls:p,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&Y.createElement(Nl,yi({},Ue(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:n})),m!=="none"&&v&&Y.createElement(Nl,yi({},Ue(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,u=o.points,d=o.baseLine,f=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,v=o.animationEasing,b=o.animationId,w=this.state,j=w.prevPoints,y=w.prevBaseLine;return Y.createElement(Qn,{begin:m,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var k=O.t;if(j){var S=j.length/u.length,E=u.map(function(P,M){var U=Math.floor(M*S);if(j[U]){var D=j[U],W=Lr(D.x,P.x),B=Lr(D.y,P.y);return Na(Na({},P),{},{x:W(k),y:B(k)})}return P}),_;if(pe(d)&&typeof d=="number"){var A=Lr(y,d);_=A(k)}else if(Fe(d)||oo(d)){var T=Lr(y,0);_=T(k)}else _=d.map(function(P,M){var U=Math.floor(M*S);if(y[U]){var D=y[U],W=Lr(D.x,P.x),B=Lr(D.y,P.y);return Na(Na({},P),{},{x:W(k),y:B(k)})}return P});return i.renderAreaStatically(E,_,n,a)}return Y.createElement(gt,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(k))),Y.createElement(gt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,u=i.baseLine,d=i.isAnimationActive,f=this.state,m=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return d&&o&&o.length&&(!m&&v>0||!Gl(m,o)||!Gl(p,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,u,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,u=a.points,d=a.className,f=a.top,m=a.left,p=a.xAxis,v=a.yAxis,b=a.width,w=a.height,j=a.isAnimationActive,y=a.id;if(i||!u||!u.length)return null;var O=this.state.isAnimationFinished,k=u.length===1,S=He("recharts-area",d),E=p&&p.allowDataOverflow,_=v&&v.allowDataOverflow,A=E||_,T=Fe(y)?this.id:y,P=(n=Ue(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=P.r,U=M===void 0?3:M,D=P.strokeWidth,W=D===void 0?2:D,B=S7(o)?o:{},I=B.clipDot,G=I===void 0?!0:I,F=U*2+W;return Y.createElement(gt,{className:S},E||_?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(T)},Y.createElement("rect",{x:E?m:m-b/2,y:_?f:f-w/2,width:E?b:b*2,height:_?w:w*2})),!G&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Y.createElement("rect",{x:m-F/2,y:f-F/2,width:b+F,height:w+F}))):null,k?null:this.renderArea(A,T),(o||k)&&this.renderDots(A,G,T),(!j||O)&&Ma.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(C.PureComponent);a4=za;jn(za,"displayName","Area");jn(za,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});jn(za,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,o=e.props.baseValue,u=o??i;if(pe(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return u==="dataMin"?p:u==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});jn(za,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,d=t.dataKey,f=t.stackedData,m=t.dataStartIndex,p=t.displayedData,v=t.offset,b=e.layout,w=f&&f.length,j=a4.getBaseValue(e,r,n,a),y=b==="horizontal",O=!1,k=p.map(function(E,_){var A;w?A=f[m+_]:(A=Or(E,d),Array.isArray(A)?O=!0:A=[j,A]);var T=A[1]==null||w&&Or(E,d)==null;return y?{x:sE({axis:n,ticks:i,bandSize:u,entry:E,index:_}),y:T?null:a.scale(A[1]),value:A,payload:E}:{x:T?null:n.scale(A[1]),y:sE({axis:a,ticks:o,bandSize:u,entry:E,index:_}),value:A,payload:E}}),S;return w||O?S=k.map(function(E){var _=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:_!=null&&E.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:E.y}}):S=y?a.scale(j):n.scale(j),Na({points:k,baseLine:S,layout:b,isRange:O},v)});jn(za,"renderDotItem",function(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(Le(t))r=t(e);else{var n=He("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=i4(e,LY);r=Y.createElement(Rw,yi({},i,{key:a,className:n}))}return r});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function KY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u4(n.key),n)}}function YY(t,e,r){return e&&GY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XY(t,e,r){return e=Of(e),JY(t,l4()?Reflect.construct(e,r||[],Of(t).constructor):e.apply(t,r))}function JY(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(t)}function QY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(t)}function ZY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},db(t,e)}function c4(t,e,r){return e=u4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u4(t){var e=eX(t,"string");return Xs(e)=="symbol"?e:e+""}function eX(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}function tX(t){var e=t.xAxisId,r=KT(),n=GT(),a=HT(e);return a==null?null:C.createElement(gh,fb({},a,{className:He("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vi(o,!0)}}))}var vh=(function(t){function e(){return KY(this,e),XY(this,e,arguments)}return ZY(e,t),YY(e,[{key:"render",value:function(){return C.createElement(tX,this.props)}}])})(C.Component);c4(vh,"displayName","XAxis");c4(vh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function rX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h4(n.key),n)}}function aX(t,e,r){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iX(t,e,r){return e=Ef(e),sX(t,d4()?Reflect.construct(e,r||[],Ef(t).constructor):e.apply(t,r))}function sX(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oX(t)}function oX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!t})()}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(t)}function lX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hb(t,e)}function f4(t,e,r){return e=h4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4(t){var e=cX(t,"string");return Js(e)=="symbol"?e:e+""}function cX(t,e){if(Js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}var uX=function(e){var r=e.yAxisId,n=KT(),a=GT(),i=VT(r);return i==null?null:C.createElement(gh,pb({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return vi(u,!0)}}))},yh=(function(t){function e(){return rX(this,e),iX(this,e,arguments)}return lX(e,t),aX(e,[{key:"render",value:function(){return C.createElement(uX,this.props)}}])})(C.Component);f4(yh,"displayName","YAxis");f4(yh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UA(t){return pX(t)||hX(t)||fX(t)||dX()}function dX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(t,e){if(t){if(typeof t=="string")return mb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mb(t,e)}}function hX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pX(t){if(Array.isArray(t))return mb(t)}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gb=function(e,r,n,a,i){var o=cn(e,Iw),u=cn(e,hh),d=[].concat(UA(o),UA(u)),f=cn(e,mh),m="".concat(a,"Id"),p=a[0],v=r;if(d.length&&(v=d.reduce(function(j,y){if(y.props[m]===n&&kn(y.props,"extendDomain")&&pe(y.props[p])){var O=y.props[p];return[Math.min(j[0],O),Math.max(j[1],O)]}return j},v)),f.length){var b="".concat(p,"1"),w="".concat(p,"2");v=f.reduce(function(j,y){if(y.props[m]===n&&kn(y.props,"extendDomain")&&pe(y.props[b])&&pe(y.props[w])){var O=y.props[b],k=y.props[w];return[Math.min(j[0],O,k),Math.max(j[1],O,k)]}return j},v)}return i&&i.length&&(v=i.reduce(function(j,y){return pe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},v)),v},N0={exports:{}},FA;function mX(){return FA||(FA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new a(m,p||d,v),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,w=new Array(b);v<b;v++)w[v]=p[v].fn;return w},u.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,m,p,v,b,w){var j=r?r+f:f;if(!this._events[j])return!1;var y=this._events[j],O=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),O){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,p),!0;case 4:return y.fn.call(y.context,m,p,v),!0;case 5:return y.fn.call(y.context,m,p,v,b),!0;case 6:return y.fn.call(y.context,m,p,v,b,w),!0}for(S=1,k=new Array(O-1);S<O;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var E=y.length,_;for(S=0;S<E;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),O){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,m);break;case 3:y[S].fn.call(y[S].context,m,p);break;case 4:y[S].fn.call(y[S].context,m,p,v);break;default:if(!k)for(_=1,k=new Array(O-1);_<O;_++)k[_-1]=arguments[_];y[S].fn.apply(y[S].context,k)}}return!0},u.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},u.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},u.prototype.removeListener=function(f,m,p,v){var b=r?r+f:f;if(!this._events[b])return this;if(!m)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===m&&(!v||w.once)&&(!p||w.context===p)&&o(this,b);else{for(var j=0,y=[],O=w.length;j<O;j++)(w[j].fn!==m||v&&!w[j].once||p&&w[j].context!==p)&&y.push(w[j]);y.length?this._events[b]=y.length===1?y[0]:y:o(this,b)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(N0)),N0.exports}var gX=mX();const vX=tt(gX);var k0=new vX,O0="recharts.syncMouseEvents";function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function yX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p4(n.key),n)}}function bX(t,e,r){return e&&xX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0(t,e,r){return e=p4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p4(t){var e=wX(t,"string");return gc(e)=="symbol"?e:e+""}function wX(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jX=(function(){function t(){yX(this,t),E0(this,"activeIndex",0),E0(this,"coordinateList",[]),E0(this,"layout","horizontal")}return bX(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+d+f,v=o+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function _X(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function SX(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function m4(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Kt(e,r,n,a),u=Kt(e,r,n,i);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function NX(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,m=e.outerRadius,p=e.angle,v=Kt(u,d,f,p),b=Kt(u,d,m,p);n=v.x,a=v.y,i=b.x,o=b.y}else return m4(e);return[{x:n,y:a},{x:i,y:o}]}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=EX(t,"string");return vc(e)=="symbol"?e:e+""}function EX(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AX(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!i||!o||v!=="ScatterChart"&&a!=="axis")return null;var w,j=Nl;if(v==="ScatterChart")w=o,j=HV;else if(v==="BarChart")w=SX(p,o,d,m),j=Tw;else if(p==="radial"){var y=m4(o),O=y.cx,k=y.cy,S=y.radius,E=y.startAngle,_=y.endAngle;w={cx:O,cy:k,startAngle:E,endAngle:_,innerRadius:S,outerRadius:S},j=wT}else w={points:NX(p,o,d)},j=Nl;var A=nd(nd(nd(nd({stroke:"#ccc",pointerEvents:"none"},d),w),Ue(b,!1)),{},{payload:u,payloadIndex:f,className:He("recharts-tooltip-cursor",b.className)});return C.isValidElement(b)?C.cloneElement(b,A):C.createElement(j,A)}var CX=["item"],PX=["children","className","width","height","style","compact","title","desc"];function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ws.apply(this,arguments)}function WA(t,e){return MX(t)||RX(t,e)||v4(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function MX(t){if(Array.isArray(t))return t}function HA(t,e){if(t==null)return{};var r=$X(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $X(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y4(n.key),n)}}function LX(t,e,r){return e&&DX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BX(t,e,r){return e=Af(e),qX(t,g4()?Reflect.construct(e,r||[],Af(t).constructor):e.apply(t,r))}function qX(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UX(t)}function UX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(t)}function FX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vb(t,e)}function Zs(t){return HX(t)||WX(t)||v4(t)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4(t,e){if(t){if(typeof t=="string")return yb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yb(t,e)}}function WX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HX(t){if(Array.isArray(t))return yb(t)}function yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(r),!0).forEach(function(n){Ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ee(t,e,r){return e=y4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y4(t){var e=VX(t,"string");return Qs(e)=="symbol"?e:e+""}function VX(t,e){if(Qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KX={xAxis:["bottom","top"],yAxis:["left","right"]},GX={width:"100%",height:"100%"},x4={x:0,y:0};function ad(t){return t}var YX=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},XX=function(e,r,n,a){var i=r.find(function(m){return m&&m.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return ne(ne(ne({},a),Kt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var d=i.coordinate,f=a.angle;return ne(ne(ne({},a),Kt(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return x4},xh=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Zs(u),Zs(f)):u},[]);return o.length>0?o:e&&e.length&&pe(a)&&pe(i)?e.slice(a,i+1):[]};function b4(t){return t==="number"?[0,"auto"]:void 0}var xb=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,u=xh(r,e);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(d,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var b=p===void 0?u:p;v=Td(b,o.dataKey,a)}else v=p&&p[n]||u[n];return v?[].concat(Zs(d),[yT(f,v)]):d},[])},KA=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=YX(i,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,m=S9(o,u,f,d);if(m>=0&&f){var p=f[m]&&f[m].value,v=xb(e,r,m,p),b=XX(n,u,m,i);return{activeTooltipIndex:m,activeLabel:p,activePayload:v,activeCoordinate:b}}return null},JX=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,p=e.children,v=e.stackOffset,b=gT(m,i);return n.reduce(function(w,j){var y,O=j.type.defaultProps!==void 0?ne(ne({},j.type.defaultProps),j.props):j.props,k=O.type,S=O.dataKey,E=O.allowDataOverflow,_=O.allowDuplicatedCategory,A=O.scale,T=O.ticks,P=O.includeHidden,M=O[o];if(w[M])return w;var U=xh(e.data,{graphicalItems:a.filter(function(H){var ie,he=o in H.props?H.props[o]:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie[o];return he===M}),dataStartIndex:d,dataEndIndex:f}),D=U.length,W,B,I;_X(O.domain,E,k)&&(W=Lx(O.domain,null,E),b&&(k==="number"||A!=="auto")&&(I=Sl(U,S,"category")));var G=b4(k);if(!W||W.length===0){var F,Z=(F=O.domain)!==null&&F!==void 0?F:G;if(S){if(W=Sl(U,S,k),k==="category"&&b){var K=p7(W);_&&K?(B=W,W=gf(0,D)):_||(W=uE(Z,W,j).reduce(function(H,ie){return H.indexOf(ie)>=0?H:[].concat(Zs(H),[ie])},[]))}else if(k==="category")_?W=W.filter(function(H){return H!==""&&!Fe(H)}):W=uE(Z,W,j).reduce(function(H,ie){return H.indexOf(ie)>=0||ie===""||Fe(ie)?H:[].concat(Zs(H),[ie])},[]);else if(k==="number"){var J=A9(U,a.filter(function(H){var ie,he,ae=o in H.props?H.props[o]:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie[o],ve="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return ae===M&&(P||!ve)}),S,i,m);J&&(W=J)}b&&(k==="number"||A!=="auto")&&(I=Sl(U,S,"category"))}else b?W=gf(0,D):u&&u[M]&&u[M].hasStack&&k==="number"?W=v==="expand"?[0,1]:vT(u[M].stackGroups,d,f):W=mT(U,a.filter(function(H){var ie=o in H.props?H.props[o]:H.type.defaultProps[o],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ie===M&&(P||!he)}),k,m,!0);if(k==="number")W=gb(p,W,M,i,T),Z&&(W=Lx(Z,W,E));else if(k==="category"&&Z){var q=Z,$=W.every(function(H){return q.indexOf(H)>=0});$&&(W=q)}}return ne(ne({},w),{},Ee({},M,ne(ne({},O),{},{axisType:i,domain:W,categoricalDomain:I,duplicateDomain:B,originalDomain:(y=O.domain)!==null&&y!==void 0?y:G,isCategorical:b,layout:m})))},{})},QX=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,p=e.children,v=xh(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=v.length,w=gT(m,i),j=-1;return n.reduce(function(y,O){var k=O.type.defaultProps!==void 0?ne(ne({},O.type.defaultProps),O.props):O.props,S=k[o],E=b4("number");if(!y[S]){j++;var _;return w?_=gf(0,b):u&&u[S]&&u[S].hasStack?(_=vT(u[S].stackGroups,d,f),_=gb(p,_,S,i)):(_=Lx(E,mT(v,n.filter(function(A){var T,P,M=o in A.props?A.props[o]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[o],U="hide"in A.props?A.props.hide:(P=A.type.defaultProps)===null||P===void 0?void 0:P.hide;return M===S&&!U}),"number",m),a.defaultProps.allowDataOverflow),_=gb(p,_,S,i)),ne(ne({},y),{},Ee({},S,ne(ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ur(KX,"".concat(i,".").concat(j%2),null),domain:_,originalDomain:E,isCategorical:w,layout:m})))}return y},{})},ZX=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.children,p="".concat(a,"Id"),v=cn(m,i),b={};return v&&v.length?b=JX(e,{axes:v,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(b=QX(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},eJ=function(e){var r=gs(e),n=vi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iw(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sf(r,n)}},GA=function(e){var r=e.children,n=e.defaultShowTooltip,a=_r(r,zs),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},tJ=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hn(r&&r.type);return n&&n.indexOf("Bar")>=0})},YA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rJ=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,m=n.height,p=n.children,v=n.margin||{},b=_r(p,zs),w=_r(p,Os),j=Object.keys(d).reduce(function(_,A){var T=d[A],P=T.orientation;return!T.mirror&&!T.hide?ne(ne({},_),{},Ee({},P,_[P]+T.width)):_},{left:v.left||0,right:v.right||0}),y=Object.keys(o).reduce(function(_,A){var T=o[A],P=T.orientation;return!T.mirror&&!T.hide?ne(ne({},_),{},Ee({},P,Ur(_,"".concat(P))+T.height)):_},{top:v.top||0,bottom:v.bottom||0}),O=ne(ne({},y),j),k=O.bottom;b&&(O.bottom+=b.props.height||zs.defaultProps.height),w&&r&&(O=O9(O,a,n,r));var S=f-O.left-O.right,E=m-O.top-O.bottom;return ne(ne({brushBottom:k},O),{},{width:Math.max(S,0),height:Math.max(E,0)})},nJ=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},aJ=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,v=function(O,k){var S=k.graphicalItems,E=k.stackGroups,_=k.offset,A=k.updateId,T=k.dataStartIndex,P=k.dataEndIndex,M=O.barSize,U=O.layout,D=O.barGap,W=O.barCategoryGap,B=O.maxBarSize,I=YA(U),G=I.numericAxisName,F=I.cateAxisName,Z=tJ(S),K=[];return S.forEach(function(J,q){var $=xh(O.data,{graphicalItems:[J],dataStartIndex:T,dataEndIndex:P}),H=J.type.defaultProps!==void 0?ne(ne({},J.type.defaultProps),J.props):J.props,ie=H.dataKey,he=H.maxBarSize,ae=H["".concat(G,"Id")],ve=H["".concat(F,"Id")],Pe={},ge=d.reduce(function(fe,ze){var Ie=k["".concat(ze.axisType,"Map")],wt=H["".concat(ze.axisType,"Id")];Ie&&Ie[wt]||ze.axisType==="zAxis"||Oi();var ee=Ie[wt];return ne(ne({},fe),{},Ee(Ee({},ze.axisType,ee),"".concat(ze.axisType,"Ticks"),vi(ee)))},Pe),se=ge[F],be=ge["".concat(F,"Ticks")],Ne=E&&E[ae]&&E[ae].hasStack&&U9(J,E[ae].stackGroups),X=Hn(J.type).indexOf("Bar")>=0,$e=sf(se,be),Te=[],Qe=Z&&N9({barSize:M,stackGroups:E,totalSize:nJ(ge,F)});if(X){var Ze,ft,qt=Fe(he)?B:he,Gt=(Ze=(ft=sf(se,be,!0))!==null&&ft!==void 0?ft:qt)!==null&&Ze!==void 0?Ze:0;Te=k9({barGap:D,barCategoryGap:W,bandSize:Gt!==$e?Gt:$e,sizeList:Qe[ve],maxBarSize:qt}),Gt!==$e&&(Te=Te.map(function(fe){return ne(ne({},fe),{},{position:ne(ne({},fe.position),{},{offset:fe.position.offset-Gt/2})})}))}var or=J&&J.type&&J.type.getComposedData;or&&K.push({props:ne(ne({},or(ne(ne({},ge),{},{displayedData:$,props:O,dataKey:ie,item:J,bandSize:$e,barPosition:Te,offset:_,stackedData:Ne,layout:U,dataStartIndex:T,dataEndIndex:P}))),{},Ee(Ee(Ee({key:J.key||"item-".concat(q)},G,ge[G]),F,ge[F]),"animationId",A)),childIndex:O7(J,O.children),item:J})}),K},b=function(O,k){var S=O.props,E=O.dataStartIndex,_=O.dataEndIndex,A=O.updateId;if(!S2({props:S}))return null;var T=S.children,P=S.layout,M=S.stackOffset,U=S.data,D=S.reverseStackOrder,W=YA(P),B=W.numericAxisName,I=W.cateAxisName,G=cn(T,n),F=L9(U,G,"".concat(B,"Id"),"".concat(I,"Id"),M,D),Z=d.reduce(function(H,ie){var he="".concat(ie.axisType,"Map");return ne(ne({},H),{},Ee({},he,ZX(S,ne(ne({},ie),{},{graphicalItems:G,stackGroups:ie.axisType===B&&F,dataStartIndex:E,dataEndIndex:_}))))},{}),K=rJ(ne(ne({},Z),{},{props:S,graphicalItems:G}),k?.legendBBox);Object.keys(Z).forEach(function(H){Z[H]=m(S,Z[H],K,H.replace("Map",""),r)});var J=Z["".concat(I,"Map")],q=eJ(J),$=v(S,ne(ne({},Z),{},{dataStartIndex:E,dataEndIndex:_,updateId:A,graphicalItems:G,stackGroups:F,offset:K}));return ne(ne({formattedGraphicalItems:$,graphicalItems:G,offset:K,stackGroups:F},q),Z)},w=(function(y){function O(k){var S,E,_;return IX(this,O),_=BX(this,O,[k]),Ee(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(_,"accessibilityManager",new jX),Ee(_,"handleLegendBBoxUpdate",function(A){if(A){var T=_.state,P=T.dataStartIndex,M=T.dataEndIndex,U=T.updateId;_.setState(ne({legendBBox:A},b({props:_.props,dataStartIndex:P,dataEndIndex:M,updateId:U},ne(ne({},_.state),{},{legendBBox:A}))))}}),Ee(_,"handleReceiveSyncEvent",function(A,T,P){if(_.props.syncId===A){if(P===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(T)}}),Ee(_,"handleBrushChange",function(A){var T=A.startIndex,P=A.endIndex;if(T!==_.state.dataStartIndex||P!==_.state.dataEndIndex){var M=_.state.updateId;_.setState(function(){return ne({dataStartIndex:T,dataEndIndex:P},b({props:_.props,dataStartIndex:T,dataEndIndex:P,updateId:M},_.state))}),_.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Ee(_,"handleMouseEnter",function(A){var T=_.getMouseInfo(A);if(T){var P=ne(ne({},T),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var M=_.props.onMouseEnter;Le(M)&&M(P,A)}}),Ee(_,"triggeredAfterMouseMove",function(A){var T=_.getMouseInfo(A),P=T?ne(ne({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var M=_.props.onMouseMove;Le(M)&&M(P,A)}),Ee(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ee(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ee(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Ee(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var P=_.props.onMouseLeave;Le(P)&&P(T,A)}),Ee(_,"handleOuterEvent",function(A){var T=k7(A),P=Ur(_.props,"".concat(T));if(T&&Le(P)){var M,U;/.*touch.*/i.test(T)?U=_.getMouseInfo(A.changedTouches[0]):U=_.getMouseInfo(A),P((M=U)!==null&&M!==void 0?M:{},A)}}),Ee(_,"handleClick",function(A){var T=_.getMouseInfo(A);if(T){var P=ne(ne({},T),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var M=_.props.onClick;Le(M)&&M(P,A)}}),Ee(_,"handleMouseDown",function(A){var T=_.props.onMouseDown;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ee(_,"handleMouseUp",function(A){var T=_.props.onMouseUp;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ee(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ee(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Ee(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Ee(_,"handleDoubleClick",function(A){var T=_.props.onDoubleClick;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ee(_,"handleContextMenu",function(A){var T=_.props.onContextMenu;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ee(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&k0.emit(O0,_.props.syncId,A,_.eventEmitterSymbol)}),Ee(_,"applySyncEvent",function(A){var T=_.props,P=T.layout,M=T.syncMethod,U=_.state.updateId,D=A.dataStartIndex,W=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(ne({dataStartIndex:D,dataEndIndex:W},b({props:_.props,dataStartIndex:D,dataEndIndex:W,updateId:U},_.state)));else if(A.activeTooltipIndex!==void 0){var B=A.chartX,I=A.chartY,G=A.activeTooltipIndex,F=_.state,Z=F.offset,K=F.tooltipTicks;if(!Z)return;if(typeof M=="function")G=M(K,A);else if(M==="value"){G=-1;for(var J=0;J<K.length;J++)if(K[J].value===A.activeLabel){G=J;break}}var q=ne(ne({},Z),{},{x:Z.left,y:Z.top}),$=Math.min(B,q.x+q.width),H=Math.min(I,q.y+q.height),ie=K[G]&&K[G].value,he=xb(_.state,_.props.data,G),ae=K[G]?{x:P==="horizontal"?K[G].coordinate:$,y:P==="horizontal"?H:K[G].coordinate}:x4;_.setState(ne(ne({},A),{},{activeLabel:ie,activeCoordinate:ae,activePayload:he,activeTooltipIndex:G}))}else _.setState(A)}),Ee(_,"renderCursor",function(A){var T,P=_.state,M=P.isTooltipActive,U=P.activeCoordinate,D=P.activePayload,W=P.offset,B=P.activeTooltipIndex,I=P.tooltipAxisBandSize,G=_.getTooltipEventType(),F=(T=A.props.active)!==null&&T!==void 0?T:M,Z=_.props.layout,K=A.key||"_recharts-cursor";return Y.createElement(AX,{key:K,activeCoordinate:U,activePayload:D,activeTooltipIndex:B,chartName:r,element:A,isActive:F,layout:Z,offset:W,tooltipAxisBandSize:I,tooltipEventType:G})}),Ee(_,"renderPolarAxis",function(A,T,P){var M=Ur(A,"type.axisType"),U=Ur(_.state,"".concat(M,"Map")),D=A.type.defaultProps,W=D!==void 0?ne(ne({},D),A.props):A.props,B=U&&U[W["".concat(M,"Id")]];return C.cloneElement(A,ne(ne({},B),{},{className:He(M,B.className),key:A.key||"".concat(T,"-").concat(P),ticks:vi(B,!0)}))}),Ee(_,"renderPolarGrid",function(A){var T=A.props,P=T.radialLines,M=T.polarAngles,U=T.polarRadius,D=_.state,W=D.radiusAxisMap,B=D.angleAxisMap,I=gs(W),G=gs(B),F=G.cx,Z=G.cy,K=G.innerRadius,J=G.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(M)?M:vi(G,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(U)?U:vi(I,!0).map(function(q){return q.coordinate}),cx:F,cy:Z,innerRadius:K,outerRadius:J,key:A.key||"polar-grid",radialLines:P})}),Ee(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,T=_.props,P=T.children,M=T.width,U=T.height,D=_.props.margin||{},W=M-(D.left||0)-(D.right||0),B=hT({children:P,formattedGraphicalItems:A,legendWidth:W,legendContent:f});if(!B)return null;var I=B.item,G=HA(B,CX);return C.cloneElement(I,ne(ne({},G),{},{chartWidth:M,chartHeight:U,margin:D,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ee(_,"renderTooltip",function(){var A,T=_.props,P=T.children,M=T.accessibilityLayer,U=_r(P,bn);if(!U)return null;var D=_.state,W=D.isTooltipActive,B=D.activeCoordinate,I=D.activePayload,G=D.activeLabel,F=D.offset,Z=(A=U.props.active)!==null&&A!==void 0?A:W;return C.cloneElement(U,{viewBox:ne(ne({},F),{},{x:F.left,y:F.top}),active:Z,label:G,payload:Z?I:[],coordinate:B,accessibilityLayer:M})}),Ee(_,"renderBrush",function(A){var T=_.props,P=T.margin,M=T.data,U=_.state,D=U.offset,W=U.dataStartIndex,B=U.dataEndIndex,I=U.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Zu(_.handleBrushChange,A.props.onChange),data:M,x:pe(A.props.x)?A.props.x:D.left,y:pe(A.props.y)?A.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:pe(A.props.width)?A.props.width:D.width,startIndex:W,endIndex:B,updateId:"brush-".concat(I)})}),Ee(_,"renderReferenceElement",function(A,T,P){if(!A)return null;var M=_,U=M.clipPathId,D=_.state,W=D.xAxisMap,B=D.yAxisMap,I=D.offset,G=A.type.defaultProps||{},F=A.props,Z=F.xAxisId,K=Z===void 0?G.xAxisId:Z,J=F.yAxisId,q=J===void 0?G.yAxisId:J;return C.cloneElement(A,{key:A.key||"".concat(T,"-").concat(P),xAxis:W[K],yAxis:B[q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:U})}),Ee(_,"renderActivePoints",function(A){var T=A.item,P=A.activePoint,M=A.basePoint,U=A.childIndex,D=A.isRange,W=[],B=T.props.key,I=T.item.type.defaultProps!==void 0?ne(ne({},T.item.type.defaultProps),T.item.props):T.item.props,G=I.activeDot,F=I.dataKey,Z=ne(ne({index:U,dataKey:F,cx:P.x,cy:P.y,r:4,fill:Pw(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ue(G,!1)),Rd(G));return W.push(O.renderActiveDot(G,Z,"".concat(B,"-activePoint-").concat(U))),M?W.push(O.renderActiveDot(G,ne(ne({},Z),{},{cx:M.x,cy:M.y}),"".concat(B,"-basePoint-").concat(U))):D&&W.push(null),W}),Ee(_,"renderGraphicChild",function(A,T,P){var M=_.filterFormatItem(A,T,P);if(!M)return null;var U=_.getTooltipEventType(),D=_.state,W=D.isTooltipActive,B=D.tooltipAxis,I=D.activeTooltipIndex,G=D.activeLabel,F=_.props.children,Z=_r(F,bn),K=M.props,J=K.points,q=K.isRange,$=K.baseLine,H=M.item.type.defaultProps!==void 0?ne(ne({},M.item.type.defaultProps),M.item.props):M.item.props,ie=H.activeDot,he=H.hide,ae=H.activeBar,ve=H.activeShape,Pe=!!(!he&&W&&Z&&(ie||ae||ve)),ge={};U!=="axis"&&Z&&Z.props.trigger==="click"?ge={onClick:Zu(_.handleItemMouseEnter,A.props.onClick)}:U!=="axis"&&(ge={onMouseLeave:Zu(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Zu(_.handleItemMouseEnter,A.props.onMouseEnter)});var se=C.cloneElement(A,ne(ne({},M.props),ge));function be(ze){return typeof B.dataKey=="function"?B.dataKey(ze.payload):null}if(Pe)if(I>=0){var Ne,X;if(B.dataKey&&!B.allowDuplicatedCategory){var $e=typeof B.dataKey=="function"?be:"payload.".concat(B.dataKey.toString());Ne=Td(J,$e,G),X=q&&$&&Td($,$e,G)}else Ne=J?.[I],X=q&&$&&$[I];if(ve||ae){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:I;return[C.cloneElement(A,ne(ne(ne({},M.props),ge),{},{activeIndex:Te})),null,null]}if(!Fe(Ne))return[se].concat(Zs(_.renderActivePoints({item:M,activePoint:Ne,basePoint:X,childIndex:I,isRange:q})))}else{var Qe,Ze=(Qe=_.getItemByXY(_.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:se},ft=Ze.graphicalItem,qt=ft.item,Gt=qt===void 0?A:qt,or=ft.childIndex,fe=ne(ne(ne({},M.props),ge),{},{activeIndex:or});return[C.cloneElement(Gt,fe),null,null]}return q?[se,null,null]:[se,null]}),Ee(_,"renderCustomized",function(A,T,P){return C.cloneElement(A,ne(ne({key:"recharts-customized-".concat(P)},_.props),_.state))}),Ee(_,"renderMap",{CartesianGrid:{handler:ad,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ad},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ad},YAxis:{handler:ad},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:jc("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=f5(_.triggeredAfterMouseMove,(E=k.throttleDelay)!==null&&E!==void 0?E:1e3/60),_.state={},_}return FX(O,y),LX(O,[{key:"componentDidMount",value:function(){var S,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,E=S.children,_=S.data,A=S.height,T=S.layout,P=_r(E,bn);if(P){var M=P.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=xb(this.state,_,M,U),W=this.state.tooltipTicks[M].coordinate,B=(this.state.offset.top+A)/2,I=T==="horizontal",G=I?{x:W,y:B}:{y:W,x:B},F=this.state.formattedGraphicalItems.find(function(K){var J=K.item;return J.type.name==="Scatter"});F&&(G=ne(ne({},G),F.props.points[M].tooltipPosition),D=F.props.points[M].tooltipPayload);var Z={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:U,activePayload:D,activeCoordinate:G};this.setState(Z),this.renderCursor(P),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){sx([_r(S.children,bn)],[_r(this.props.children,bn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=_r(this.props.children,bn);if(S&&typeof S.props.shared=="boolean"){var E=S.props.shared?"axis":"item";return u.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var E=this.container,_=E.getBoundingClientRect(),A=pq(_),T={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},P=_.width/E.offsetWidth||1,M=this.inRange(T.chartX,T.chartY,P);if(!M)return null;var U=this.state,D=U.xAxisMap,W=U.yAxisMap,B=this.getTooltipEventType(),I=KA(this.state,this.props.data,this.props.layout,M);if(B!=="axis"&&D&&W){var G=gs(D).scale,F=gs(W).scale,Z=G&&G.invert?G.invert(T.chartX):null,K=F&&F.invert?F.invert(T.chartY):null;return ne(ne({},T),{},{xValue:Z,yValue:K},I)}return I?ne(ne({},T),I):null}},{key:"inRange",value:function(S,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=S/_,P=E/_;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,U=T>=M.left&&T<=M.left+M.width&&P>=M.top&&P<=M.top+M.height;return U?{x:T,y:P}:null}var D=this.state,W=D.angleAxisMap,B=D.radiusAxisMap;if(W&&B){var I=gs(W);return hE({x:T,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,E=this.getTooltipEventType(),_=_r(S,bn),A={};_&&E==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Rd(this.props,this.handleOuterEvent);return ne(ne({},T),A)}},{key:"addListener",value:function(){k0.on(O0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k0.removeListener(O0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,E,_){for(var A=this.state.formattedGraphicalItems,T=0,P=A.length;T<P;T++){var M=A[T];if(M.item===S||M.props.key===S.key||E===Hn(M.item.type)&&_===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,E=this.state.offset,_=E.left,A=E.top,T=E.height,P=E.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:S},Y.createElement("rect",{x:_,y:A,height:T,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(E,_){var A=WA(_,2),T=A[0],P=A[1];return ne(ne({},E),{},Ee({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(E,_){var A=WA(_,2),T=A[0],P=A[1];return ne(ne({},E),{},Ee({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(S){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(S){var E=this.state,_=E.formattedGraphicalItems,A=E.activeItem;if(_&&_.length)for(var T=0,P=_.length;T<P;T++){var M=_[T],U=M.props,D=M.item,W=D.type.defaultProps!==void 0?ne(ne({},D.type.defaultProps),D.props):D.props,B=Hn(D.type);if(B==="Bar"){var I=(U.data||[]).find(function(K){return $V(S,K)});if(I)return{graphicalItem:M,payload:I}}else if(B==="RadialBar"){var G=(U.data||[]).find(function(K){return hE(S,K)});if(G)return{graphicalItem:M,payload:G}}else if(ch(M,A)||uh(M,A)||dc(M,A)){var F=NK({graphicalItem:M,activeTooltipItem:A,itemData:W.data}),Z=W.activeIndex===void 0?F:W.activeIndex;return{graphicalItem:ne(ne({},M),{},{childIndex:Z}),payload:dc(M,A)?W.data[F]:M.props.data[F]}}}return null}},{key:"render",value:function(){var S=this;if(!S2(this))return null;var E=this.props,_=E.children,A=E.className,T=E.width,P=E.height,M=E.style,U=E.compact,D=E.title,W=E.desc,B=HA(E,PX),I=Ue(B,!1);if(U)return Y.createElement(EA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(lx,ws({},I,{width:T,height:P,title:D,desc:W}),this.renderClipPath(),k2(_,this.renderMap)));if(this.props.accessibilityLayer){var G,F;I.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,I.role=(F=this.props.role)!==null&&F!==void 0?F:"application",I.onKeyDown=function(K){S.accessibilityManager.keyboardEvent(K)},I.onFocus=function(){S.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return Y.createElement(EA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",ws({className:He("recharts-wrapper",A),style:ne({position:"relative",cursor:"default",width:T,height:P},M)},Z,{ref:function(J){S.container=J}}),Y.createElement(lx,ws({},I,{width:T,height:P,title:D,desc:W,style:GX}),this.renderClipPath(),k2(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Ee(w,"displayName",r),Ee(w,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ee(w,"getDerivedStateFromProps",function(y,O){var k=y.dataKey,S=y.data,E=y.children,_=y.width,A=y.height,T=y.layout,P=y.stackOffset,M=y.margin,U=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var W=GA(y);return ne(ne(ne({},W),{},{updateId:0},b(ne(ne({props:y},W),{},{updateId:0}),O)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:P,prevMargin:M,prevChildren:E})}if(k!==O.prevDataKey||S!==O.prevData||_!==O.prevWidth||A!==O.prevHeight||T!==O.prevLayout||P!==O.prevStackOffset||!ks(M,O.prevMargin)){var B=GA(y),I={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},G=ne(ne({},KA(O,S,T)),{},{updateId:O.updateId+1}),F=ne(ne(ne({},B),I),G);return ne(ne(ne({},F),b(ne({props:y},F),O)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:P,prevMargin:M,prevChildren:E})}if(!sx(E,O.prevChildren)){var Z,K,J,q,$=_r(E,zs),H=$&&(Z=(K=$.props)===null||K===void 0?void 0:K.startIndex)!==null&&Z!==void 0?Z:U,ie=$&&(J=(q=$.props)===null||q===void 0?void 0:q.endIndex)!==null&&J!==void 0?J:D,he=H!==U||ie!==D,ae=!Fe(S),ve=ae&&!he?O.updateId:O.updateId+1;return ne(ne({updateId:ve},b(ne(ne({props:y},O),{},{updateId:ve,dataStartIndex:H,dataEndIndex:ie}),O)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:ie})}return null}),Ee(w,"renderActiveDot",function(y,O,k){var S;return C.isValidElement(y)?S=C.cloneElement(y,O):Le(y)?S=y(O):S=Y.createElement(Rw,O),Y.createElement(gt,{className:"recharts-active-dot",key:k},S)});var j=C.forwardRef(function(O,k){return Y.createElement(w,ws({},O,{ref:k}))});return j.displayName=w.displayName,j},iJ=aJ({chartName:"AreaChart",GraphicalChild:za,axisComponents:[{axisType:"xAxis",AxisComp:vh},{axisType:"yAxis",AxisComp:yh}],formatAxisMap:jG});const sJ=[{key:"curioso",label:"Curiosos",icon:ta,color:"bg-blue-500"},{key:"ctico",label:"Cticos",icon:Bf,color:"bg-fuchsia-500"},{key:"sensvel_preo",label:"Preo",icon:no,color:"bg-cyan-500"},{key:"empolgado",label:"Empolgados",icon:Ml,color:"bg-emerald-500"},{key:"pronto",label:"Prontos",icon:ln,color:"bg-orange-500"}];function oJ({demoMode:t,stats:e,conversations:r,leads:n,onOpenSuggestions:a,onOpenInsights:i,onActivateAI:o,onGoToAnalysis:u,onOpenEvents:d}){const f=r||[],m=n||[],p=!t&&(f.length>0||m.length>0),v=C.useMemo(()=>{const S=e?.conversations_total??f.length,E=e?.leads_total??m.length,_=m.filter(W=>(W.stage||"").toLowerCase()==="pronto"),A=m.filter(W=>["high","critical"].includes((W.urgency_level||"").toLowerCase())),T=m.filter(W=>{const B=W.health_score??50,I=(W.urgency_level||"").toLowerCase();return B<=45&&["high","critical"].includes(I)}),P=m.length>0?Math.round(m.reduce((W,B)=>W+(B.health_score??50),0)/m.length):0,M=m.length>0?Math.round(m.reduce((W,B)=>W+(B.conversion_probability??.3)*100,0)/m.length):0,U=e?.avg_response_time_seconds??0,D={};return m.forEach(W=>{const B=(W.stage||"curioso").toLowerCase();D[B]=(D[B]||0)+1}),{totalConvs:S,totalLeads:E,leadsProonto:_,leadsQuentes:A,leadsEmRisco:T,avgHealth:P,avgConversion:M,avgTime:U,stageCounts:D}},[e,f,m]),b=C.useMemo(()=>{if(e?.activity_last_7_days?.length)return e.activity_last_7_days;const S=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],E={};return S.forEach(_=>E[_]=0),f.forEach(_=>{if(_.updated_at){const A=new Date(_.updated_at),T=S[A.getDay()];E[T]=(E[T]||0)+1}}),S.map(_=>({name:_,value:E[_]||0}))},[e,f]),w=C.useMemo(()=>{const S=[];return[...m].sort((_,A)=>(A.updated_at||"").localeCompare(_.updated_at||"")).slice(0,2).forEach(_=>{const A=_.health_score??50;S.push({title:_.name||XA(_.phone||""),desc:`Health ${A}  ${_.stage||"curioso"}`,time:lJ(_.updated_at),icon:A>=70?ln:A>=40?Br:ar,tone:A>=70?"orange":A>=40?"cyan":"red"})}),(f.length>0||m.length>0)&&S.push({title:"Sistema operacional",desc:`${f.length} conversas  ${m.length} leads`,time:"agora",icon:Ns,tone:"green"}),v.leadsEmRisco.length>0&&S.push({title:`${v.leadsEmRisco.length} leads esfriando`,desc:"Precisam de ateno urgente",time:"ao",icon:ar,tone:"red"}),S.slice(0,4)},[f,m,v]),j=[{name:"Seg",value:12},{name:"Ter",value:18},{name:"Qua",value:16},{name:"Qui",value:25},{name:"Sex",value:21},{name:"Sb",value:14},{name:"Dom",value:9}],y=[{title:"Novo lead qualificado",desc:"Health Score 78/100",time:"h 2 min",icon:tr,tone:"orange"},{title:"Objeo detectada",desc:"Preo em 3 conversas",time:"h 12 min",icon:ar,tone:"red"},{title:"Sistema estvel",desc:"Webhooks OK",time:"h 31 min",icon:Ns,tone:"green"},{title:"Performance",desc:"Tempo mdio: 18s",time:"hoje",icon:un,tone:"cyan"}],O=t?j:b,k=t?y:w;return!t&&!p?l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-10",children:l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:[l.jsx(Ed,{className:"w-4 h-4 text-[#f57f17]"}),"Produo"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Aguardando dados"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Assim que chegarem conversas via webhook, o dashboard ser preenchido automaticamente."}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(A0,{icon:sr,title:"1. Envie mensagens",desc:"Use o WhatsApp conectado"}),l.jsx(A0,{icon:Ns,title:"2. Verifique webhook",desc:"Endpoint /api respondendo"}),l.jsx(A0,{icon:cS,title:"3. Aguarde",desc:"Dados aparecem em segundos"})]}),l.jsxs("button",{onClick:u,className:"mt-6 h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center gap-2",children:[l.jsx(un,{className:"w-4 h-4"}),"Ir para Anlise IA",l.jsx(ZC,{className:"w-4 h-4"})]})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-8 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -top-20 -right-40 h-[320px] w-[320px] rounded-full bg-[#f57f17]/20 blur-3xl"}),l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap relative",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(cS,{className:"w-4 h-4"}),t?"Demo":"Realtime"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Central de Comando"}),l.jsx("p",{className:"text-gray-400 mt-2 max-w-xl",children:"Viso executiva: volume, qualidade, inteno e performance em tempo real."}),l.jsxs("div",{className:"mt-5 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:i,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(Da,{className:"w-4 h-4"}),"Ver Funil",l.jsx(tx,{className:"w-4 h-4"})]}),l.jsxs("button",{onClick:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-semibold text-gray-200 flex items-center gap-2",children:[l.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),"Sugestes IA"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(C0,{label:"Health",value:t?"72":String(v.avgHealth),suffix:"%",color:"text-emerald-400"}),l.jsx(C0,{label:"Converso",value:t?"34":String(v.avgConversion),suffix:"%",color:"text-cyan-400"}),l.jsx(C0,{label:"Tempo",value:t?"18":v.avgTime>0?String(Math.round(v.avgTime)):"",suffix:"s",color:"text-orange-400"})]})]}),l.jsxs("div",{className:"mt-6 h-[200px] rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Atividade  ltimos 7 dias"}),l.jsx(oq,{width:"100%",height:"100%",children:l.jsxs(iJ,{data:O,margin:{top:5,right:5,left:-20,bottom:0},children:[l.jsx(vh,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(yh,{stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(bn,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),l.jsx(za,{type:"monotone",dataKey:"value",stroke:"#f57f17",fill:"rgba(245,127,23,0.2)",strokeWidth:2})]})})]})]}),l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-orange-500/20 bg-gradient-to-br from-orange-500/10 to-transparent backdrop-blur-xl p-6 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -bottom-10 -right-10 h-40 w-40 rounded-full bg-orange-500/20 blur-3xl"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center",children:l.jsx(ln,{className:"w-5 h-5 text-orange-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Prontos para fechar"})]})]}),l.jsx("span",{className:"text-3xl font-black text-orange-400",children:t?"6":v.leadsProonto.length})]}),l.jsx("div",{className:"space-y-2 mb-4",children:(t?[{name:"Joo Silva",health:85},{name:"Maria Santos",health:78},{name:"Pedro Costa",health:72}]:v.leadsProonto.slice(0,3).map(S=>({name:S.name||XA(S.phone||""),health:S.health_score||50}))).map((S,E)=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("span",{className:"text-sm text-gray-300 truncate",children:S.name}),l.jsx("span",{className:"text-xs font-bold text-orange-400",children:S.health})]},E))}),l.jsxs("button",{onClick:u,className:"w-full h-10 rounded-xl border border-orange-500/30 bg-orange-500/10 hover:bg-orange-500/20 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(Gn,{className:"w-4 h-4"}),"Executar Follow-ups"]}),v.leadsEmRisco.length>0&&!t&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-400",children:[l.jsx(ar,{className:"w-3.5 h-3.5"}),l.jsxs("span",{children:[v.leadsEmRisco.length," leads esfriando"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(id,{icon:sr,label:"Conversas",value:t?"87":String(v.totalConvs),delta:t?"+12%":"",color:"orange"}),l.jsx(id,{icon:Br,label:"Leads",value:t?"34":String(v.totalLeads),delta:t?"+9%":"",color:"cyan"}),l.jsx(id,{icon:ln,label:"Quentes",value:t?"12":String(v.leadsQuentes.length),delta:t?"+4%":"",color:"orange"}),l.jsx(id,{icon:Cd,label:"Health Mdio",value:t?"68":String(v.avgHealth),delta:t?"+5%":"",color:"green"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline Emocional"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Distribuio por estgio"})]}),l.jsxs("button",{onClick:i,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:["Ver completo ",l.jsx(tx,{className:"w-3 h-3"})]})]}),l.jsx("div",{className:"space-y-3",children:sJ.map(S=>{const E=t?Math.floor(Math.random()*15)+2:v.stageCounts[S.key]||0,_=t?50:v.totalLeads||1,A=Math.round(E/_*100),T=S.icon;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${S.color} flex items-center justify-center flex-shrink-0`,children:l.jsx(T,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm text-gray-300",children:S.label}),l.jsx("span",{className:"text-sm font-bold text-white",children:E})]}),l.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${S.color} rounded-full transition-all`,style:{width:`${Math.max(A,3)}%`}})})]})]},S.key)})})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Atividade"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Eventos recentes"})]}),l.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-[10px] font-bold",children:"LIVE"})]}),l.jsx("div",{className:"space-y-3",children:k.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Nenhum evento recente"}):k.map((S,E)=>l.jsxs("div",{className:"flex items-start gap-3 px-3 py-3 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center flex-shrink-0 ${S.tone==="green"?"bg-emerald-500/20":S.tone==="red"?"bg-red-500/20":S.tone==="cyan"?"bg-cyan-500/20":"bg-orange-500/20"}`,children:l.jsx(S.icon,{className:`w-4 h-4 ${S.tone==="green"?"text-emerald-400":S.tone==="red"?"text-red-400":S.tone==="cyan"?"text-cyan-400":"text-orange-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:S.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:S.desc})]}),l.jsx("span",{className:"text-[10px] text-gray-600 flex-shrink-0",children:S.time})]},E))}),l.jsx("button",{onClick:d,className:"mt-4 w-full h-9 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs font-medium text-gray-300",children:"Ver todos os eventos"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Aes Recomendadas"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O que fazer agora para aumentar converso"})]}),l.jsx("span",{className:"px-3 py-1 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-bold",children:"DOCA IA"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(sd,{icon:Ia,title:"Atacar prontos",desc:"Follow-up imediato com CTA de call",color:"green"}),l.jsx(sd,{icon:Bf,title:"Destravar cticos",desc:"Prova social e cases de sucesso",color:"orange"}),l.jsx(sd,{icon:no,title:"Sensveis a preo",desc:"2 opes: parcela vs  vista + ROI",color:"cyan"}),l.jsx(sd,{icon:Ml,title:"Frustrados",desc:"Mensagem emptica antes de ofertar",color:"red"})]}),l.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-black/20 border border-white/5 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Prximo passo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Conectar mdulo Anlise IA para relatrios automticos"})]}),l.jsxs("button",{onClick:o,className:"h-9 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(tr,{className:"w-4 h-4"}),"Ativar Anlise IA"]})]})]})]})}function A0({icon:t,title:e,desc:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-4",children:[l.jsx("div",{className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center mb-3",children:l.jsx(t,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function C0({label:t,value:e,suffix:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),l.jsxs("p",{className:`text-2xl font-bold ${n} mt-1`,children:[e,l.jsx("span",{className:"text-sm opacity-60",children:r})]})]})}function id({icon:t,label:e,value:r,delta:n,color:a}){const o={orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400",delta:"bg-orange-500/20 text-orange-300"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400",delta:"bg-cyan-500/20 text-cyan-300"},green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400",delta:"bg-emerald-500/20 text-emerald-300"}}[a];return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e}),l.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:r})]}),l.jsx("div",{className:`h-10 w-10 rounded-xl ${o.bg} ${o.border} border flex items-center justify-center`,children:l.jsx(t,{className:`w-5 h-5 ${o.icon}`})})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Variao"}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${o.delta}`,children:n})]})]})}function sd({icon:t,title:e,desc:r,color:n}){const i={green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400"},red:{bg:"bg-red-500/10",border:"border-red-500/20",icon:"text-red-400"}}[n];return l.jsxs("div",{className:`rounded-xl border ${i.border} ${i.bg} p-4 hover:opacity-80 transition cursor-pointer`,children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${i.bg} border ${i.border} flex items-center justify-center mb-3`,children:l.jsx(t,{className:`w-4 h-4 ${i.icon}`})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function XA(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function lJ(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime(),n=e-r,a=Math.floor(n/6e4);if(a<1)return"agora";if(a<60)return`h ${a}min`;const i=Math.floor(a/60);if(i<24)return`h ${i}h`;const o=Math.floor(i/24);return o===1?"ontem":`h ${o}d`}function Cf({title:t,subtitle:e,right:r,children:n,className:a=""}){return l.jsxs("div",{className:["rounded-2xl border border-white/10","bg-gradient-to-b from-white/[0.07] to-white/[0.03]","backdrop-blur-xl","shadow-[0_20px_50px_rgba(0,0,0,0.35)]","hover:border-white/20 transition-colors",a].join(" "),children:[(t||e||r)&&l.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-white/5",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[t&&l.jsx("h3",{className:"text-white font-semibold text-base leading-tight",children:t}),e&&l.jsx("p",{className:"text-slate-400 text-sm mt-1 leading-snug",children:e})]}),r&&l.jsx("div",{className:"shrink-0",children:r})]})}),l.jsx("div",{className:"px-6 pb-6 pt-5",children:n})]})}function od(){return new Date().toISOString()}function cl(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ul(t,e,r){return Math.max(e,Math.min(r,t))}function JA(t){return t[Math.floor(Math.random()*t.length)]}function wd(t){let e=2166136261;for(let r=0;r<t.length;r++)e^=t.charCodeAt(r),e=Math.imul(e,16777619);return Math.abs(e)}function cJ(t){let e=wd(t)||123456789;return()=>(e^=e<<13,e^=e>>17,e^=e<<5,(e>>>0)/4294967296)}function w4(t){const e=t.niche||"default",r=t.seedKey||`${e}-${t.businessName||"demo"}`,n=cJ(r),a=t.businessName||"Cliente Demo",i=t.city||"So Paulo",o=t.instagram||"",u=t.website||"",d=t.offer||"",f=t.mainPain||"",m=t.objections||"",p=ul(Number(t.leadsPerMonth??120),10,1e4),v=ul(Number(t.conversationsCount??60),5,600),b={conversations_last_7d:Math.round(v*.7),leads_last_7d:Math.round(p/4*(.8+n()*.4)),qualified_last_7d:Math.round(p/12*(.7+n()*.6)),avg_response_time_s:Math.round(10+n()*30),updated_at:od(),business:{name:a,city:i,instagram:o,website:u,offer:d,mainPain:f,objections:m,niche:e}},w=ul(Math.round(v*(.45+n()*.25)),8,220),j=["curioso","ctico","sensvel_preo","empolgado","pronto","frustrado"],y=Array.from({length:w}).map((S,E)=>{const _=`lead-${wd(`${r}-lead-${E}`)}-${E}`,A=`55${cl(11,99)}9${cl(1e3,9999)}${cl(1e3,9999)}`,T=ul(Math.round(40+n()*55),0,100),P=ul(.15+n()*.75,0,1),U=JA([...["low","normal","high","critical"]]),D=JA([...j]);return{id:_,phone:A,name:null,health_score:T,stage:D,urgency_level:U,conversion_probability:P,tags:[],updated_at:od(),created_at:od()}}),O=[],k=[];for(let S=0;S<v;S++){const E=y[Math.floor(n()*y.length)],_=`conv-${wd(`${r}-conv-${S}`)}-${S}`,A=[{from:"lead",text:`Oi! Vi sobre ${a}. Como funciona?`},{from:"agent",text:"Oi!  Funciona assim: a gente automatiza atendimento + qualificao + follow-up no WhatsApp. Quer que eu te explique rapidinho?"},{from:"lead",text:"Sim, tenho dvida sobre preo e como instala."},{from:"agent",text:"Show! Te explico os planos e a implementao  bem rpida (em minutos). Me diz seu volume de leads/ms?"}],T=new Date(Date.now()-cl(1,7)*864e5).toISOString(),P=A.length>0?String(A[A.length-1]?.text||""):"";O.push({id:_,phone:E.phone,name:E.name,status:"active",last_message:P,current_emotion:E.stage,created_at:T,updated_at:od(),lead_id:E.id,tags:[]}),A.forEach((M,U)=>{k.push({id:`msg-${wd(`${r}-msg-${S}-${U}`)}-${S}-${U}`,conversation_id:_,from:M.from,text:String(M.text||""),created_at:new Date(Date.now()-cl(1,7)*864e5+U*12e4).toISOString()})})}return{stats:b,leads:y,conversations:O,messages:k,emotion_events:[]}}const Lw="doca:demo:list",Bw=t=>`doca:demo:${t}`;function j4(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}function bh(){return(j4(localStorage.getItem(Lw))||[]).sort((e,r)=>r.createdAt-e.createdAt)}function _4(t,e,r){localStorage.setItem(Bw(t),JSON.stringify(e));const n=bh(),a=[{key:t,label:r.label||t,niche:r.niche,createdAt:Date.now()},...n.filter(i=>i.key!==t)];localStorage.setItem(Lw,JSON.stringify(a.slice(0,50)))}function S4(t){return j4(localStorage.getItem(Bw(t)))}function uJ(t){localStorage.removeItem(Bw(t));const e=bh().filter(r=>r.key!==t);localStorage.setItem(Lw,JSON.stringify(e))}function qw(){return"".trim().toLowerCase()}function Uw(){try{return(new URL(window.location.href).searchParams.get("demo")||"").toString().trim().toLowerCase()}catch{return""}}function po(){return!!(Uw()||qw())}function N4(){const t=(Uw()||qw()||"").toString().trim().toLowerCase();if(!t)return"";if(S4(t))return t;try{const r=w4({niche:"restaurante",seedKey:t,businessName:t,city:"So Paulo",instagram:"@docaperformance",website:"docaperformance.com.br",offer:"DOCA Multi Agentes (WhatsApp + IA + Dashboard)",mainPain:"Muitos leads e pouco atendimento",objections:"Medo de parecer rob / preo / integrao",leadsPerMonth:120,conversationsCount:36});return _4(t,r,{label:`Demo  ${t}`,niche:"restaurante"}),t}catch(r){return console.error("[demo] Failed to auto-generate demo:",r),""}}function dJ(){const t=bh().map(r=>({key:r.key,label:r.label,source:"generated"})),e=(Uw()||qw()||"").toString().trim().toLowerCase();return e&&!t.some(r=>r.key===e)&&t.unshift({key:e,label:`Demo  ${e}`,source:"generated"}),t.length===0?[{key:"",label:"(sem demos geradas)",source:"generated"}]:t}function mo(){const t=N4();if(t){const e=S4(t);if(e)return e}return mJ()}function fJ(t){const e=w4({niche:t.niche,seedKey:t.key,businessName:t.businessName,city:t.city,instagram:t.instagram,website:t.website,offer:t.offer,mainPain:t.mainPain,objections:t.objections,leadsPerMonth:t.leadsPerMonth,conversationsCount:t.conversationsCount});return _4(t.key,e,{label:t.businessName||t.key,niche:t.niche}),{key:t.key}}function hJ(){return bh()}function pJ(t){return uJ(t)}function mJ(){return{stats:{conversations_last_7d:0,leads_last_7d:0,qualified_last_7d:0,avg_response_time_s:0,updated_at:new Date().toISOString()},conversations:[],leads:[],messages:[],emotion_events:[]}}function gJ(t){const e=t.status==="closed"?"closed":"open";return{...t,status:e}}function QA(t){return{id:t.id,conversation_id:t.conversation_id,from:t.role==="assistant"||t.from==="agent"?"agent":"lead",text:t.content||t.text||"",created_at:t.created_at||t.timestamp||"",emotion:t.emotion||t.detected_emotion||null}}const vJ="/api/messages?conversation_id=",ZA={anxious:{label:"Ansioso",icon:ar,color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30"},skeptical:{label:"Ctico",icon:rP,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},frustrated:{label:"Frustrado",icon:aP,color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30"},excited:{label:"Empolgado",icon:un,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},price_sensitive:{label:"Sensvel a Preo",icon:no,color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30"},ready:{label:"Pronto",icon:Ia,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},curious:{label:"Curioso",icon:Cd,color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30"},neutral:{label:"Neutro",icon:oL,color:"text-gray-400",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/30"}};function P0(t){if(!t)return null;const e=t.toLowerCase().replace(/\s+/g,"_");return ZA[e]||ZA.neutral}function yJ(t){const e=t.phone||"";return!(e.includes("broadcast")||e.startsWith("landing:")||e.startsWith("web_sess")||e.includes("@lid")&&e.replace("@lid","").replace(/\D/g,"").length>14)}function T0(t){let e=(t||"").replace("@c.us","").replace("@lid","").replace("@g.us","").replace(/\D/g,"");if(!e)return t;if(e.startsWith("55")&&e.length>=12){const r=e.slice(2,4),n=e.slice(4,9),a=e.slice(9,13);return`+55 (${r}) ${n}-${a}`}return e.length>=10?`+${e}`:e||t}function eC(t){if(t==null||t==="")return"";if(t instanceof Date)return Number.isNaN(t.getTime())?"":t.toLocaleString("pt-BR");if(typeof t=="number"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleString("pt-BR")}if(typeof t!="string")return"";const e=t.trim().replace(" ","T").replace(/\+00:00$/,"Z").replace(/(\.\d{3})\d+Z$/,"$1Z"),r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function tC(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html"))throw await e.text(),new Error(`Endpoint retornou HTML. URL: ${t}`);if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function xJ({initialSelectedId:t,tenantId:e}){const r=C.useMemo(()=>po()?mo():null,[]),n=!!r,[a,i]=C.useState([]),[o,u]=C.useState(!0),[d,f]=C.useState(null),[m,p]=C.useState(""),[v,b]=C.useState(null),[w,j]=C.useState([]),[y,O]=C.useState(!1),[k,S]=C.useState(null);C.useEffect(()=>{let P=!0;async function M(){try{if(u(!0),f(null),n&&r){const W=[...r.conversations].sort((B,I)=>B.updated_at>I.updated_at?-1:1);if(!P)return;i(W);return}const U=e?`/api/conversations?limit=200&tenant_id=${e}`:"/api/conversations?limit=200",D=await tC(U);if(!P)return;i((D||[]).map(gJ))}catch(U){if(!P)return;f(U?.message||"Erro ao carregar conversas")}finally{if(!P)return;u(!1)}}return M(),()=>{P=!1}},[n,r,e]),C.useEffect(()=>{if(!t)return;a.some(M=>M.id===t)&&b(t)},[t,a]),C.useEffect(()=>{if(!v){j([]);return}let P=!0;async function M(){try{if(O(!0),S(null),n&&r){const D=(r.messages||[]).filter(W=>W.conversation_id===v).sort((W,B)=>W.created_at>B.created_at?1:-1);if(!P)return;j(D.map(QA));return}const U=await tC(`${vJ}${v}`);if(!P)return;j((U||[]).map(QA))}catch(U){if(!P)return;S(U?.message||"Erro ao carregar mensagens")}finally{if(!P)return;O(!1)}}return M(),()=>{P=!1}},[v,n,r]);const E=C.useMemo(()=>{const P=a.filter(yJ);if(!m.trim())return P;const M=m.toLowerCase();return P.filter(U=>{const D=(U.name||"").toLowerCase(),W=(U.phone||"").toLowerCase(),B=(U.last_message||"").toLowerCase();return D.includes(M)||W.includes(M)||B.includes(M)})},[a,m]),_=v&&a.find(P=>P.id===v)||null,A=C.useMemo(()=>{const P={},M=Date.now();return a.forEach(U=>{const D=new Date(U.updated_at).getTime();P[U.id]=M-D<300*1e3}),P},[a]),T=_?P0(_.current_emotion):null;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(sr,{className:"w-6 h-6 text-[#f57f17]"}),"Conversas"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Mensagens e atendimentos em tempo real",n?" (DEMO)":""]})]})}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-6",children:[l.jsx(Cf,{title:"Conversas",subtitle:"Fila de atendimento",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ta,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:m,onChange:P=>p(P.target.value),placeholder:"Buscar...",className:"w-full bg-black/30 border border-gray-800 rounded-2xl px-4 py-3 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30"})]}),o?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Carregando conversas..."}):d?l.jsx("div",{className:"text-red-400 text-sm py-6",children:d}):E.length===0?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Nenhuma conversa encontrada."}):l.jsx("div",{className:"divide-y divide-gray-800/70 max-h-[600px] overflow-y-auto",children:E.map(P=>{const M=v===P.id,U=A[P.id],D=P0(P.current_emotion);return l.jsx("button",{onClick:()=>b(P.id),className:["w-full text-left px-4 py-4 transition-all",M?"bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl":"hover:bg-white/5 rounded-2xl"].join(" "),children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:P.name||T0(P.phone)}),D&&l.jsxs("span",{className:`flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full ${D.bgColor} ${D.color} border ${D.borderColor}`,children:[l.jsx(D.icon,{className:"w-3 h-3"}),D.label]})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1 truncate",children:eC(P.updated_at)}),P.last_message?l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:P.last_message}):l.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Sem mensagens ainda"})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[l.jsx("div",{className:["h-2.5 w-2.5 rounded-full",U?"bg-emerald-400":"bg-gray-600"].join(" "),title:U?"Ativo":"Inativo"}),l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border",P.status==="open"?"bg-emerald-500/10 text-emerald-200 border-emerald-500/20":"bg-gray-500/10 text-gray-300 border-gray-500/20"].join(" "),children:P.status==="open"?"ABERTO":"FECHADO"}),(()=>{const W=P.paused_until&&new Date(P.paused_until)>new Date;return l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border font-medium",W?"bg-red-500/20 text-red-300 border-red-500/30":"bg-[#f57f17]/20 text-[#f57f17] border-[#f57f17]/30"].join(" "),children:W?"BOT OFF":"BOT ON"})})()]})]})},P.id)})})]})}),l.jsx(Cf,{title:_?_.name||T0(_.phone):"Chat",subtitle:_?T0(_.phone):"Selecione uma conversa",right:_?l.jsxs("div",{className:"flex items-center gap-3",children:[T&&l.jsxs("span",{className:`flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full ${T.bgColor} ${T.color} border ${T.borderColor}`,children:[l.jsx(T.icon,{className:"w-4 h-4"}),T.label]}),l.jsx("span",{className:"text-xs text-gray-400",children:_.status==="open"?"Atendimento":"Histrico"}),(()=>{const P=_.paused_until&&new Date(_.paused_until)>new Date;return l.jsx("button",{onClick:async()=>{try{const M=P?"/api/conversations/resume":"/api/conversations/pause",U=_.chat_id||`${_.phone}@c.us`;(await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P?{chatId:U}:{chatId:U,ttlMinutes:1440,by:"dashboard"})})).ok&&i(B=>B.map(I=>I.id===_.id?{...I,paused_until:P?null:new Date(Date.now()+1440*60*1e3).toISOString()}:I))}catch(M){console.error("Erro ao alternar pause:",M)}},className:["text-xs px-3 py-1.5 rounded-full border font-medium transition-all",P?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/30":"bg-red-500/20 text-red-300 border-red-500/30 hover:bg-red-500/30"].join(" "),children:P?"Reativar Bot":"Pausar Bot"})})()]}):l.jsx("span",{className:"text-xs text-gray-500",children:""}),children:_?y?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-400",children:"Carregando mensagens..."}):k?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-red-400",children:k}):w.length===0?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:"Sem mensagens nessa conversa."}):l.jsx("div",{className:"h-[520px] overflow-y-auto pr-2 space-y-3",children:w.map((P,M)=>{const U=P.from==="agent",D=U?null:P0(P.emotion||_?.current_emotion);return l.jsxs("div",{className:["max-w-[85%] rounded-2xl px-4 py-3 border relative",U?"ml-auto bg-[#f57f17]/10 border-[#f57f17]/20 text-gray-100":`mr-auto bg-black/40 text-gray-100 ${D?D.borderColor:"border-gray-800"}`].join(" "),children:[!U&&D&&l.jsx("div",{className:`absolute -top-2 -left-2 h-6 w-6 rounded-full ${D.bgColor} border ${D.borderColor} flex items-center justify-center`,children:l.jsx(D.icon,{className:`w-3 h-3 ${D.color}`})}),l.jsx("p",{className:"text-sm leading-relaxed",children:P.text}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("p",{className:"text-[11px] text-gray-500",children:eC(P.created_at)}),!U&&D&&l.jsx("span",{className:`text-[10px] ${D.color}`,children:D.label})]})]},P.id)})}):l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sr,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),l.jsx("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]})}const rC={pronto:{title:"Lead PRONTO para fechar!",suggestions:["Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?","E a, pronto pra comear? Tenho um horrio agora pra gente acertar os detalhes!","S falta um passo! Quer que eu te mande o link pra fechar?"]},empolgado:{title:"Lead EMPOLGADO - mantenha a energia!",suggestions:["Que bom que curtiu! Quer ver um exemplo real funcionando?","E a, tudo certo? Quer que eu te explique os prximos passos?","Massa! Vou te mandar um case de sucesso parecido com o seu cenrio."]},curioso:{title:"Lead CURIOSO - tire as dvidas!",suggestions:["Oi! Ficou alguma dvida? T aqui pra te ajudar!","E a, o que achou? Posso explicar melhor alguma parte?","Tem mais alguma coisa que voc gostaria de saber?"]},sensvel_preo:{title:"Lead SENSVEL A PREO - mostre valor!",suggestions:["Oi! Consegui uma condio especial pra voc. Quer saber mais?","Entendo a preocupao com investimento. Posso te mostrar o ROI tpico?","Temos opes flexveis de pagamento. Posso te explicar?"]},ctico:{title:"Lead CTICO - prove com resultados!",suggestions:["Oi! Entendo suas dvidas. Posso te mostrar alguns cases de sucesso?","Normal ter dvidas! Quer ver depoimentos de clientes parecidos com voc?","Que tal uma demonstrao prtica? Assim voc v funcionando."]},frustrado:{title:"Lead FRUSTRADO - seja emptico!",suggestions:["Oi! Vi que teve algumas dificuldades. Como posso te ajudar?","Entendi seu ponto. Vamos resolver isso juntos?","Desculpa pelo inconveniente. O que posso fazer pra melhorar sua experincia?"]}};function bJ(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function jd(t){const e=t.replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),i=r.slice(7,11);return`+55 (${n}) ${a}-${i}`}function k4(t,e,r){return Math.max(e,Math.min(r,t))}function wJ(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime();if(isNaN(r))return"";const n=e-r,a=Math.floor(n/6e4),i=Math.floor(a/60),o=Math.floor(i/24);return a<1?"agora":a<60?`h ${a}min`:i<24?`h ${i}h`:o===1?"ontem":o<7?`h ${o} dias`:`h ${Math.floor(o/7)} sem`}function xl(t){const e=(t||"curioso").toLowerCase(),r={ctico:{label:"CTICO",bg:"bg-fuchsia-500/10",border:"border-fuchsia-400/25",text:"text-fuchsia-200",glow:"shadow-[0_0_0_1px_rgba(217,70,239,0.25)]"},frustrado:{label:"FRUSTRADO",bg:"bg-orange-500/10",border:"border-orange-400/25",text:"text-orange-200",glow:"shadow-[0_0_0_1px_rgba(251,146,60,0.25)]"},curioso:{label:"CURIOSO",bg:"bg-blue-500/10",border:"border-blue-400/25",text:"text-blue-200",glow:"shadow-[0_0_0_1px_rgba(96,165,250,0.25)]"},sensvel_preo:{label:"SENSVEL A PREO",bg:"bg-cyan-500/10",border:"border-cyan-400/25",text:"text-cyan-200",glow:"shadow-[0_0_0_1px_rgba(34,211,238,0.25)]"},empolgado:{label:"EMPOLGADO",bg:"bg-emerald-500/10",border:"border-emerald-400/25",text:"text-emerald-200",glow:"shadow-[0_0_0_1px_rgba(52,211,153,0.25)]"},pronto:{label:"PRONTO",bg:"bg-green-500/10",border:"border-green-400/25",text:"text-green-200",glow:"shadow-[0_0_0_1px_rgba(74,222,128,0.25)]"}};return r[e]||r.curioso}function _d(t){const e=(t||"normal").toLowerCase(),r={low:{label:"Baixa",dot:"bg-gray-400",text:"text-gray-300",bg:"bg-white/5"},normal:{label:"Normal",dot:"bg-sky-400",text:"text-sky-200",bg:"bg-sky-500/10"},high:{label:"Alta",dot:"bg-yellow-400",text:"text-yellow-200",bg:"bg-yellow-500/10"},critical:{label:"Crtica",dot:"bg-red-400",text:"text-red-200",bg:"bg-red-500/10"}};return r[e]||r.normal}function jJ(t){const e=t||"active",r={new:{label:"Novo",bg:"bg-white/5",text:"text-gray-200",dot:"bg-sky-400"},active:{label:"Ativo",bg:"bg-emerald-500/10",text:"text-emerald-200",dot:"bg-emerald-400"},won:{label:"Ganho",bg:"bg-green-500/10",text:"text-green-200",dot:"bg-green-400"},lost:{label:"Perdido",bg:"bg-red-500/10",text:"text-red-200",dot:"bg-red-400"}};return r[e]||r.active}function _J({value:t}){const e=k4(t,0,100),r=e>=70,n=e>=45&&e<70;return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-400",children:[l.jsx("span",{children:"Health"}),l.jsx("span",{className:"text-gray-200 font-semibold",children:e})]}),l.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/5 border border-white/10 overflow-hidden",children:l.jsx("div",{style:{width:`${e}%`},className:["h-full transition-all rounded-full",r?"bg-gradient-to-r from-emerald-500 to-emerald-400":n?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"].join(" ")})})]})}function SJ({lead:t,onClose:e,onSend:r}){const n=(t.stage||"curioso").toLowerCase(),a=rC[n]||rC.curioso,[i,o]=C.useState(a.suggestions[0]),[u,d]=C.useState(!1),[f,m]=C.useState(!1);async function p(){i.trim()&&(d(!0),await new Promise(b=>setTimeout(b,500)),r(i),d(!1),e())}async function v(){m(!0),await new Promise(w=>setTimeout(w,800));const b=[`Oi ${t.name?.split(" ")[0]||""}! ${i}`,`${i} O que acha?`,`${i} T disponvel agora se quiser conversar!`];o(b[Math.floor(Math.random()*b.length)]),m(!1)}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-xl rounded-[28px] border border-white/10 bg-[#0a0a0a] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(Pa,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Follow-up Inteligente"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Para: ",t.name||jd(t.phone)]})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:l.jsx(dn,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"rounded-xl bg-[#f57f17]/5 border border-[#f57f17]/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:a.title})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Sugestes baseadas no estgio atual do lead"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Sugestes da IA"}),l.jsx("div",{className:"space-y-2",children:a.suggestions.map((b,w)=>l.jsx("button",{onClick:()=>o(b),className:`w-full text-left p-3 rounded-xl border transition text-sm ${i===b?"border-[#f57f17]/50 bg-[#f57f17]/10 text-white":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"}`,children:b},w))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem personalizada"}),l.jsxs("button",{onClick:v,disabled:f,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[f?l.jsx(bt,{className:"w-3 h-3 animate-spin"}):l.jsx(_n,{className:"w-3 h-3"}),"Gerar variao"]})]}),l.jsx("textarea",{value:i,onChange:b=>o(b.target.value),rows:3,className:"w-full p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none focus:border-[#f57f17]/30",placeholder:"Digite sua mensagem..."}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.length," caracteres"]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contexto do lead"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full ${xl(t.stage).bg} ${xl(t.stage).text} border ${xl(t.stage).border}`,children:xl(t.stage).label}),l.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-full ${_d(t.urgency_level).bg} ${_d(t.urgency_level).text} border border-white/10`,children:["Urgncia: ",_d(t.urgency_level).label]}),l.jsxs("span",{className:"text-[10px] px-2 py-1 rounded-full bg-white/5 text-gray-300 border border-white/10",children:["Health: ",t.health_score??50]})]}),t.last_message&&l.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-black/30 border border-white/5",children:[l.jsx("p",{className:"text-[10px] text-gray-500 mb-1",children:"ltima msg do lead:"}),l.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.last_message})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10",children:"Cancelar"}),l.jsxs("button",{onClick:p,disabled:u||!i.trim(),className:"h-10 px-6 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[u?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ss,{className:"w-4 h-4"}),"Enviar Follow-up"]})]})]})})}function NJ({leads:t,conversations:e,onOpenConversation:r,onSendFollowUp:n,onMarkAsWon:a}){const[i,o]=C.useState(""),[u,d]=C.useState(null),[f,m]=C.useState(null),p=C.useMemo(()=>{const j=new Map(e.map(y=>[y.lead_id,y]));return t.map(y=>{const O=j.get(y.id);return{...y,last_message:y.last_message||O?.last_message||null,conversation_id:y.conversation_id||O?.id||null}})},[t,e]),v=C.useMemo(()=>{let j=p;if(i.trim()){const y=i.toLowerCase();j=j.filter(O=>{const k=(O.name||"").toLowerCase(),S=(O.phone||"").toLowerCase(),E=(O.last_message||"").toLowerCase();return k.includes(y)||S.includes(y)||E.includes(y)})}return[...j].sort((y,O)=>{const k=(y.health_score??50)+(y.conversion_probability??0)*50;return(O.health_score??50)+(O.conversion_probability??0)*50-k})},[p,i]);function b(j){m(j)}function w(j){f&&n&&n(f,j)}return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.02] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(un,{className:"w-5 h-5 text-[#f57f17]"}),"Leads Prioritrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ordenados por temperatura (health + converso)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ta,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:i,onChange:j=>o(j.target.value),placeholder:"Buscar lead...",className:"bg-black/30 border border-white/10 rounded-2xl px-4 py-2 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30 w-60"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[380px_1fr]",children:[l.jsxs("div",{className:"border-r border-white/10 max-h-[700px] overflow-y-auto",children:[v.map((j,y)=>{const O=xl(j.stage),k=jJ(j.status),S=_d(j.urgency_level),E=k4(Math.round((j.health_score??50)+(j.conversion_probability??0)*50),0,100),_=wJ(j.updated_at);return l.jsx("button",{onClick:()=>d(j),className:["w-full text-left p-4 border-b border-white/5 transition",u?.id===j.id?"bg-[#f57f17]/10 border-l-2 border-l-[#f57f17]":"hover:bg-white/5"].join(" "),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:["h-12 w-12 rounded-2xl flex items-center justify-center text-lg font-bold border",E>=70?"bg-orange-500/20 border-orange-400/30 text-orange-200":E>=50?"bg-yellow-500/20 border-yellow-400/30 text-yellow-200":"bg-gray-500/20 border-gray-400/30 text-gray-300"].join(" "),children:bJ(j.name,j.phone)}),y<3&&l.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:y+1})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:j.name||jd(j.phone)}),l.jsx("span",{className:["text-[10px] font-bold px-1.5 py-0.5 rounded",E>=80?"bg-orange-500/30 text-orange-200":E>=60?"bg-yellow-500/30 text-yellow-200":E>=40?"bg-blue-500/30 text-blue-200":"bg-gray-500/30 text-gray-300"].join(" "),children:E})]}),l.jsxs("p",{className:"text-gray-500 text-xs truncate flex items-center gap-2",children:[l.jsx("span",{children:j.name?jd(j.phone):"Contato sem nome"}),_&&l.jsxs("span",{className:"text-gray-600",children:[" ",_]})]})]}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${k.bg} border border-white/10`,children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${k.dot}`}),l.jsx("span",{className:`text-xs font-semibold ${k.text}`,children:k.label})]})]}),l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:j.last_message||"Sem mensagens ainda  lead recm-criado."}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsx("span",{className:["text-[11px] font-bold px-2.5 py-1 rounded-full border",O.bg,O.border,O.text,O.glow].join(" "),children:O.label}),l.jsxs("span",{className:["text-[11px] font-semibold px-2.5 py-1 rounded-full border border-white/10",S.bg,S.text].join(" "),children:[l.jsx("span",{className:`inline-block h-2 w-2 rounded-full mr-2 ${S.dot}`}),S.label]}),l.jsxs("span",{className:"text-[11px] font-semibold px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-gray-200",children:[Math.round((j.conversion_probability||0)*100),"% converso"]})]})]})]})},j.id)}),v.length===0&&l.jsx("div",{className:"p-6 text-gray-400 text-sm",children:"Nenhum lead encontrado."})]}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-2xl",children:u.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[l.jsx(Gn,{className:"w-4 h-4"}),jd(u.phone)]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm",children:["Score: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(ln,{className:"w-4 h-4 text-[#f57f17]"}),"Temp: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(Ns,{className:"w-4 h-4 text-emerald-300"}),Math.round((u.conversion_probability||0)*100),"%"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white leading-relaxed",children:u.last_message||"Sem mensagens ainda  lead criado agora."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:l.jsx(_J,{value:u.health_score??50})}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Prxima ao sugerida"}),l.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(QC,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Follow-up inteligente"}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Priorize este lead com mensagem de valor + CTA. Estgio: ",u.stage,"."]})]})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-yellow-300"}),"Sinais detectados"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(u.tags||[]).length===0?l.jsx("span",{className:"text-gray-500 text-sm",children:"Sem tags ainda"}):u.tags?.map(j=>l.jsx("span",{className:"text-xs text-gray-200 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:j},j))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>u&&r?.(u),className:"rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition px-4 py-3 text-white font-semibold",children:"Abrir conversa"}),l.jsxs("button",{onClick:()=>b(u),className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition px-4 py-3 text-white font-semibold flex items-center justify-center gap-2",children:[l.jsx(Pa,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up IA"]}),l.jsx("button",{onClick:()=>u&&a?.(u),className:"rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition px-4 py-3 text-white font-semibold",children:"Marcar como ganho"})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Selecione um lead"})})]}),f&&l.jsx(SJ,{lead:f,onClose:()=>m(null),onSend:w})]})}function kJ(t){const e=Array.isArray(t?.leads)?t.leads:[],r=Array.isArray(t?.conversations)?t.conversations:[];return l.jsx("div",{className:"space-y-6",children:l.jsx(NJ,{leads:e,conversations:r,onOpenConversation:t?.onOpenConversation,onSendFollowUp:t?.onSendFollowUp,onMarkAsWon:t?.onMarkAsWon})})}function an(t,e,r){return Math.max(e,Math.min(r,t))}function OJ(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),i=r.slice(7,11);return`+55 (${n}) ${a}-${i}`}function EJ(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function AJ(t){if(!t)return"";const e=new Date(t).getTime();if(Number.isNaN(e))return"";const r=Math.round((Date.now()-e)/6e4);return r<1?"agora":r<60?`${r} min`:`${Math.round(r/60)}h`}function CJ(t){const e=(t||"normal").toLowerCase();return e==="critical"?.95:e==="high"?.75:e==="low"?.25:.45}function nC(t){const e=CJ(t.urgency_level),r=an(t.health_score??50,0,100),n=an((65-r)/65,0,1),a=t.last_touch_at?new Date(t.last_touch_at).getTime():Date.now(),i=an(Math.round(Math.abs(Date.now()-a)/6e4),0,240),o=an(i/60,0,1);return an(.55*e+.25*o+.2*n,0,1)}function aC(t){if(typeof t.conversion_probability=="number")return an(t.conversion_probability,0,1);const e=(t.stage||"").toLowerCase();return e==="pronto"?.9:e==="empolgado"?.75:e==="sensvel_preo"?.55:e==="ctico"?.35:.45}function PJ(t,e){const r=t>=.55,n=e>=.55;return r&&!n?{title:"FECHAR AGORA",hint:"Alta inteno  Baixo risco"}:r&&n?{title:"SALVAR (URGENTE)",hint:"Alta inteno  Alto risco"}:!r&&n?{title:"NUTRIR COM PROVA",hint:"Baixa inteno  Alto risco"}:{title:"AUTOMATIZAR",hint:"Baixa inteno  Baixo risco"}}function TJ(t,e){const r=an(t*.6+e*.4,0,1);return r>.75?"bg-[#f57f17] shadow-[0_0_0_12px_rgba(245,127,23,0.16)]":r>.55?"bg-emerald-400 shadow-[0_0_0_12px_rgba(52,211,153,0.16)]":r>.35?"bg-sky-400 shadow-[0_0_0_12px_rgba(56,189,248,0.16)]":"bg-white/60 shadow-[0_0_0_12px_rgba(255,255,255,0.12)]"}function RJ(t){const{anchorX:e,anchorY:r,vw:n,vh:a,cardW:i,cardH:o,pad:u}=t,d=[{x:e+16,y:r-o-16},{x:e-i-16,y:r-o-16},{x:e+16,y:r+16},{x:e-i-16,y:r+16},{x:e+16,y:r-o/2},{x:e-i-16,y:r-o/2}];for(const f of d){const m=f.x>=u&&f.x+i<=n-u,p=f.y>=u&&f.y+o<=a-u;if(m&&p)return f}return{x:an(e-i/2,u,n-i-u),y:an(r-o/2,u,a-o-u)}}function MJ({leads:t,height:e=420,highlightLeadIds:r=[],onClearHighlights:n,onOpenConversation:a,onSendFollowUp:i,onMarkAsWon:o}){const u=C.useRef(null),[d,f]=C.useState(null),[m,p]=C.useState(null),v=C.useMemo(()=>new Set(r),[r]),b=C.useMemo(()=>t.map(y=>{const O=aC(y),k=nC(y);return{lead:y,intent:O,risk:k,x:O,y:k}}),[t]);function w(y,O,k){f(y);const A=RJ({anchorX:O,anchorY:k,vw:window.innerWidth,vh:window.innerHeight,cardW:380,cardH:380,pad:12});p(A)}const j=()=>{f(null),p(null)};return l.jsxs("div",{className:"relative rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:"DOCA Emotion Map"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Inteno  Risco  clique em um ponto para aes e sugesto IA."})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs text-gray-200",children:[b.length," leads"]}),l.jsx("span",{className:"px-3 py-1.5 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-xs text-[#f57f17] font-semibold",children:"Assinatura visual DOCA"}),r.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-[#8b5cf6]/30 bg-[#8b5cf6]/15 text-xs text-white font-semibold flex items-center gap-2",children:[l.jsx(tr,{className:"w-4 h-4 text-[#8b5cf6]"}),"Plano do dia: ",r.length," destacados"]}),l.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs text-gray-200 font-semibold",children:"Limpar destaque"})]})]})]}),l.jsxs("div",{ref:u,className:"relative rounded-b-[28px] overflow-hidden",style:{height:e},children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[1]",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(245,127,23,0.10),transparent_55%)]"}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:48px_48px]"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[2]",children:[l.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/10"}),l.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/10"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 p-6 z-[3]",children:[l.jsxs("div",{className:"absolute left-6 top-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"SALVAR (URGENTE)"}),l.jsx("div",{children:"Alta inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 top-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"FECHAR AGORA"}),l.jsx("div",{children:"Alta inteno  Baixo risco"})]}),l.jsxs("div",{className:"absolute left-6 bottom-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"NUTRIR COM PROVA"}),l.jsx("div",{children:"Baixa inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 bottom-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"AUTOMATIZAR"}),l.jsx("div",{children:"Baixa inteno  Baixo risco"})]})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[4]",children:[l.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[11px] text-gray-500 rotate-[-90deg] origin-left",children:"RISCO "}),l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 text-[11px] text-gray-500",children:"INTENO "})]}),l.jsx("div",{className:"absolute inset-0 z-[10]",children:b.map(y=>{const O=an(y.x,.04,.96)*100,k=an(1-y.y,.04,.96)*100,S=v.has(y.lead.id),E=S?"bg-[#8b5cf6] shadow-[0_0_0_16px_rgba(139,92,246,0.22)]":TJ(y.intent,y.risk);return l.jsx("button",{onClick:_=>{_.stopPropagation(),w(y.lead,_.clientX,_.clientY)},className:["absolute group",S?"z-[60]":"z-[10]"].join(" "),style:{left:`${O}%`,top:`${k}%`},title:y.lead.name||y.lead.phone,children:l.jsxs("div",{className:"relative",children:[S&&l.jsx("div",{className:"absolute inset-[-22px] rounded-full bg-[#8b5cf6]/14 blur-2xl animate-pulse"}),l.jsx("div",{className:["relative rounded-full border border-black/40 transition-all",E,"group-hover:scale-[1.25]",S?"h-6 w-6":"h-4 w-4",S?"ring-4 ring-[#8b5cf6]/60":""].join(" ")}),S&&l.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-8 px-2 py-0.5 rounded-full text-[10px] font-bold border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] whitespace-nowrap",children:"PLANO"})]})},y.lead.id)})})]}),d&&m?dI.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"fixed inset-0 z-[9998] cursor-default",style:{background:"transparent"},onClick:j,"aria-label":"Fechar"}),l.jsxs("div",{className:"fixed z-[9999] w-[380px] max-w-[calc(100vw-24px)] rounded-[24px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl animate-[fadeIn_140ms_ease-out]",style:{left:m.x,top:m.y},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:EJ(d.name,d.phone)}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:d.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-2 mt-0.5",children:[l.jsx(Gn,{className:"w-4 h-4"}),OJ(d.phone)]}),v.has(d.id)&&l.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] text-xs font-semibold",children:[l.jsx(tr,{className:"w-4 h-4 text-[#8b5cf6]"}),"Afetado pelo plano do dia"]})]})]}),l.jsx("button",{onClick:j,className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition flex items-center justify-center",title:"Fechar",children:l.jsx(dn,{className:"w-4 h-4 text-gray-200"})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[(()=>{const y=aC(d),O=nC(d),k=PJ(y,O);return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Quadrante"}),l.jsx("p",{className:"text-white font-bold mt-1",children:k.title}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:k.hint}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(y*100),"% inteno"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(O*100),"% risco"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["health ",d.health_score??50]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["last ",AJ(d.last_touch_at)]})]})]})})(),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white text-sm leading-relaxed",children:d.last_message||"Sem mensagens ainda."})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[#f57f17]",children:[l.jsx(ln,{className:"w-4 h-4"}),l.jsx("p",{className:"text-sm font-semibold",children:"Sugesto IA"})]}),l.jsxs("p",{className:"text-gray-200 text-sm mt-2 leading-relaxed",children:["Mensagem curta com prova social + CTA direto. Ex:"," ",l.jsx("span",{className:"text-white font-semibold",children:"Consigo te colocar em funcionamento hoje. Quer que eu te mande os planos?"})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-300",children:[l.jsx(Ns,{className:"w-4 h-4 text-emerald-300"}),"Alta chance de resposta em 1020 min"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{onClick:()=>a?.(d),className:"h-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Abrir"}),l.jsxs("button",{onClick:()=>i?.(d),className:"h-10 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(QC,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up"]}),l.jsx("button",{onClick:()=>o?.(d),className:"h-10 rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition text-sm font-semibold text-white",children:"Ganho"})]}),l.jsx("div",{className:"text-[11px] text-gray-500",children:"*MVP: inteno/risco por heurstica (depois plugamos no motor real)."})]})]}),l.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(6px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `})]}),document.body):null]})}const $J="/api/dashboard";async function IJ(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html")){const n=await e.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${t}. Exemplo: ${n.slice(0,60)}...`)}if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function DJ(){const[t,e]=C.useState(null),[r,n]=C.useState(!0),[a,i]=C.useState(null),o=C.useMemo(()=>po(),[]);return C.useEffect(()=>{let u=!0;async function d(){try{if(n(!0),i(null),o){const p=mo()?.stats;u&&e(p);return}const f=await IJ(`${$J}/metrics`);u&&e(f)}catch(f){u&&i(f?.message||"Erro desconhecido")}finally{u&&n(!1)}}return d(),()=>{u=!1}},[o]),{data:t,loading:r,error:a}}function LJ(t,e,r){return Math.max(e,Math.min(r,t))}function xi(t,e){if(t.length<=e)return t;const r=[...t],n=[];for(;n.length<e&&r.length>0;){const a=Math.floor(Math.random()*r.length);n.push(r.splice(a,1)[0])}return n}function BJ(t){if(!Array.isArray(t)||t.length===0)return[];const e=t.filter(o=>String(o.stage||"").toLowerCase()==="pronto"),r=t.filter(o=>["high","critical"].includes(String(o.urgency_level||"").toLowerCase())),n=t.filter(o=>{const u=Number(o.health_score??50),d=String(o.urgency_level||"").toLowerCase();return u<=45&&(d==="high"||d==="critical")}),a=[...xi(e,4),...xi(r,3),...xi(n,2)],i=Array.from(new Set(a.map(o=>String(o.id)).filter(Boolean)));if(i.length<5){const o=xi(t,8).map(u=>String(u.id));return Array.from(new Set([...i,...o])).slice(0,10)}return i.slice(0,10)}function iC(t){return t.reduce((e,r)=>e+r,0)}function qJ(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}const UJ=[{key:"curioso",label:"Curiosos",icon:ta,gradient:"from-blue-500 to-blue-600"},{key:"ctico",label:"Cticos",icon:Bf,gradient:"from-fuchsia-500 to-fuchsia-600"},{key:"sensvel_preo",label:"Preo",icon:no,gradient:"from-cyan-500 to-cyan-600"},{key:"empolgado",label:"Empolgados",icon:Ml,gradient:"from-emerald-500 to-emerald-600"},{key:"pronto",label:"Prontos",icon:ln,gradient:"from-orange-500 to-red-500"}];function FJ(t){DJ();const e=C.useMemo(()=>po()?mo():null,[]),r=!!e,[n,a]=C.useState(!1),i=C.useMemo(()=>{if(Array.isArray(t?.leads)&&t.leads.length)return t.leads.map(P=>({id:String(P.id),phone:String(P.phone||""),name:P.name??null,stage:P.stage,urgency_level:P.urgency_level,health_score:P.health_score??P.score??50,conversion_probability:P.conversion_probability,tags:Array.isArray(P.tags)?P.tags:[],last_message:P.last_message??P.lastMessage,last_touch_at:P.last_touch_at??P.lastTouchAt??P.updated_at}));if(r&&e?.leads?.length){const P=new Map;return Array.isArray(e.conversations)&&e.conversations.forEach(M=>{M?.phone&&M?.last_message&&P.set(M.phone,M.last_message)}),(e.leads||[]).map(M=>({id:String(M.id),phone:String(M.phone||""),name:M.name??null,stage:M.stage,urgency_level:M.urgency_level,health_score:M.health_score??50,conversion_probability:M.conversion_probability,tags:Array.isArray(M.tags)?M.tags:[],last_message:P.get(M.phone)||"",last_touch_at:M.updated_at}))}return[]},[t?.leads,r,e]),[o,u]=C.useState([]),d=i.length,f=C.useMemo(()=>i.filter(P=>String(P.stage||"").toLowerCase()==="pronto"),[i]),m=C.useMemo(()=>i.filter(P=>["high","critical"].includes(String(P.urgency_level||"").toLowerCase())),[i]),p=C.useMemo(()=>i.filter(P=>{const M=Number(P.health_score??50),U=String(P.urgency_level||"").toLowerCase();return M<=45&&(U==="high"||U==="critical")}),[i]),v=C.useMemo(()=>i.length?Math.round(iC(i.map(P=>Number(P.health_score??50)))/i.length):0,[i]),b=C.useMemo(()=>{const P=i.length?m.length/i.length:0;return LJ(140+Math.round(P*80),60,260)},[i.length,m.length]),w=C.useMemo(()=>{const P=i.length?iC(i.map(M=>Number(M.conversion_probability??.35)))/i.length:.35;return Math.round(f.length*1497*P*1.1)},[i,f.length]),j=C.useMemo(()=>{const P={};return i.forEach(M=>{const U=(M.stage||"curioso").toLowerCase();P[U]=(P[U]||0)+1}),P},[i]),y=C.useMemo(()=>o.length===0?[]:i.filter(P=>o.includes(P.id)),[i,o]),O=C.useMemo(()=>BJ(i),[i]),k=()=>{u(O),a(!0)},S=()=>{u([]),a(!1)},E=P=>{const M=i.filter(U=>(U.stage||"curioso").toLowerCase()===P);u(M.map(U=>U.id)),a(!0)},_=f.length||o.length||0,A=f.length>0?`${m.length} leads quentes e ${p.length} em risco. Execute o plano para aumentar converso.`:"A IA analisou inteno, urgncia e health. Gere um plano para destacar oportunidades.",T=C.useMemo(()=>[{id:"attack-ready",title:"Atacar leads prontos",desc:`Follow-up para ${Math.min(f.length||4,6)} leads PRONTO`,count:Math.min(f.length||4,6),action:()=>{u(xi(f.map(P=>P.id),6)),a(!0)}},{id:"save-risk",title:"Salvar esfriando",desc:`Priorizar ${Math.min(p.length||3,5)} leads em risco`,count:Math.min(p.length||3,5),action:()=>{u(xi(p.map(P=>P.id),5)),a(!0)}},{id:"price-objection",title:"Destravar preo",desc:`Responder ${Math.min(3,i.length)} sensveis a preo`,count:Math.min(3,i.length),action:()=>{const P=i.filter(M=>String(M.stage||"").toLowerCase()==="sensvel_preo");u(xi((P.length?P:i).map(M=>M.id),6)),a(!0)}}],[i,f,p]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Da,{className:"w-6 h-6 text-[#f57f17]"}),"Funil & Emoes"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["War Room: deciso + execuo",r?" (DEMO)":""]})]})}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(un,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"PLANO DO DIA"})]}),l.jsxs("div",{className:"text-3xl font-extrabold text-white",children:[_," leads prontos"]}),l.jsx("p",{className:"text-gray-500 text-sm max-w-xl",children:A}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-1",children:[l.jsxs("button",{onClick:k,className:"h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 transition text-white font-semibold flex items-center gap-2 shadow-lg shadow-[#f57f17]/20",children:[l.jsx(un,{className:"w-4 h-4"}),"Executar plano"]}),o.length>0&&l.jsx("button",{onClick:S,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-white font-semibold",children:"Limpar"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[l.jsx(ld,{title:"Ativos",value:d,color:"text-white"}),l.jsx(ld,{title:"Quentes",value:m.length,color:"text-orange-400"}),l.jsx(ld,{title:"Health",value:v,color:"text-emerald-400"}),l.jsx(ld,{title:"SLA",value:`${b}m`,color:"text-cyan-400"})]})]})}),l.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map(P=>l.jsxs("button",{onClick:P.action,className:"group text-left rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/30 hover:bg-[#f57f17]/5 transition-all",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-white font-semibold group-hover:text-[#f57f17] transition",children:P.title}),l.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-white/5 text-gray-400",children:P.count})]}),l.jsx("p",{className:"text-gray-500 text-sm",children:P.desc})]},P.id))}),w>0&&l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/5 p-4 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 border border-emerald-500/25 flex items-center justify-center",children:l.jsx(Ia,{className:"w-5 h-5 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-emerald-300 text-sm font-medium",children:"Receita esperada"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",w.toLocaleString("pt-BR")]})]})]}),p.length>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-400",children:[l.jsx(ar,{className:"w-4 h-4"}),l.jsxs("span",{children:[p.length," leads esfriando"]})]})]})})]}),n&&y.length>0&&l.jsxs("div",{className:"rounded-[28px] border border-[#f57f17]/30 bg-gradient-to-br from-[#f57f17]/10 to-transparent backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-[#f57f17]/20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(Br,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Selecionados"}),l.jsxs("p",{className:"text-gray-400 text-xs",children:[y.length," para ao"]})]})]}),l.jsx("button",{onClick:()=>a(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"max-h-[280px] overflow-y-auto divide-y divide-white/5",children:y.map(P=>{const M=P.health_score||50;return l.jsxs("div",{className:"px-4 py-3 hover:bg-white/[0.02] transition flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:["h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0",M>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":M>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"].join(" "),children:M}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:P.name||qJ(P.phone)}),l.jsx("p",{className:"text-gray-500 text-xs",children:P.stage||"curioso"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("button",{onClick:()=>t?.onOpenConversation?.(P),className:"h-8 px-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-white flex items-center gap-1.5",children:[l.jsx(sr,{className:"w-3.5 h-3.5"})," Chat"]}),l.jsxs("button",{onClick:()=>t?.onSendFollowUp?.(P),className:"h-8 px-3 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(Gn,{className:"w-3.5 h-3.5 text-[#f57f17]"})," FUP"]}),l.jsxs("button",{onClick:()=>t?.onMarkAsWon?.(P),className:"h-8 px-3 rounded-lg border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(gL,{className:"w-3.5 h-3.5 text-emerald-400"})," Won"]})]})]},P.id)})})]}),l.jsx(MJ,{leads:i,height:460,highlightLeadIds:o,onClearHighlights:S,onOpenConversation:P=>t?.onOpenConversation?.(P),onSendFollowUp:P=>t?.onSendFollowUp?.(P),onMarkAsWon:P=>t?.onMarkAsWon?.(P)}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Distribuio por estgio emocional"})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("span",{className:"text-white font-semibold",children:d})," leads"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:UJ.map(P=>{const M=j[P.key]||0,U=d>0?M/d*100:0,D=P.icon;return l.jsx("button",{onClick:()=>E(P.key),className:"w-full group",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl bg-gradient-to-br ${P.gradient} flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-105 transition`,children:l.jsx(D,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("span",{className:"text-sm text-gray-300 font-medium group-hover:text-white transition",children:P.label}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:M}),l.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(U),"%"]})]})]}),l.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${P.gradient} rounded-full transition-all duration-500 group-hover:opacity-80`,style:{width:`${Math.max(U,2)}%`}})})]}),l.jsx(tx,{className:"w-5 h-5 text-gray-700 group-hover:text-[#f57f17] group-hover:translate-x-1 transition-all flex-shrink-0"})]})},P.key)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Cf,{title:"Insights",subtitle:"O que est acontecendo",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(R0,{label:"Oportunidade",value:f.length>0?`${f.length} leads prontos para fechar`:"Sem leads prontos",good:f.length>0}),l.jsx(R0,{label:"Urgncia",value:m.length>0?`${m.length} leads com alta urgncia`:"Sem urgncias",good:!1}),l.jsx(R0,{label:"Sade",value:v>=60?"Funil saudvel":v>=40?"Funil mdio":"Funil precisa ateno",good:v>=60})]})}),l.jsx(Cf,{title:"Aes Recomendadas",subtitle:"Prximos passos",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(M0,{title:"Foco em prontos",desc:"Follow-up imediato com CTA de call"}),l.jsx(M0,{title:"Destravar cticos",desc:"Prova social e cases de sucesso"}),l.jsx(M0,{title:"Sensveis a preo",desc:"Mostrar ROI e opes de pagamento"})]})})]})]})}function ld({title:t,value:e,color:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:t}),l.jsx("p",{className:`text-xl font-bold ${r}`,children:e})]})}function R0({label:t,value:e,good:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 rounded-xl border border-white/5 bg-black/20",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:t}),l.jsx("span",{className:`text-sm font-medium ${r?"text-emerald-400":"text-gray-300"}`,children:e})]})}function M0({title:t,desc:e}){return l.jsxs("div",{className:"px-4 py-3 rounded-xl border border-white/5 bg-black/20 hover:border-[#f57f17]/20 transition",children:[l.jsx("p",{className:"text-white font-medium text-sm",children:t}),l.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:e})]})}const zJ="modulepreload",WJ=function(t){return"/"+t},sC={},oC=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");a=d(r.map(f=>{if(f=WJ(f),f in sC)return;sC[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":zJ,m||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};async function HJ(t,e={}){if(!t)throw new Error("exportElementToPdf: element is required.");const{filename:r="DOCA-Relatorio.pdf",backgroundColor:n="#0b0f19",scale:a=2,marginMm:i=8,orientation:o="p"}=e,[{default:u},{jsPDF:d}]=await Promise.all([oC(()=>import("./html2canvas.esm-DXEQVQnt.js"),[]),oC(()=>import("./jspdf.es.min-Du-QMoYD.js").then(P=>P.j),[])]),m=await(u||u)(t,{scale:Number(a)||2,backgroundColor:n,useCORS:!0,logging:!1,removeContainer:!0}),p=m.toDataURL("image/png",1),v=new d({orientation:o,unit:"mm",format:"a4"}),b=v.internal.pageSize.getWidth(),w=v.internal.pageSize.getHeight(),j=b-i*2,y=w-i*2,O=m.width,k=m.height,S=O/k;let E=j,_=E/S;_>y&&(_=y,E=_*S);const A=(b-E)/2,T=i;v.addImage(p,"PNG",A,T,E,_,void 0,"FAST"),v.save(r)}const $0=[{key:"today",label:"Hoje"},{key:"7d",label:"7 dias"},{key:"30d",label:"30 dias"},{key:"90d",label:"90 dias"}];function VJ({leads:t,conversations:e,onGoToFunnel:r}){const n=po(),a=C.useMemo(()=>n?mo():null,[n]),i=C.useMemo(()=>t&&t.length>0?t:n&&a?.leads?a.leads:[],[t,n,a]),o=C.useMemo(()=>e&&e.length>0?e:n&&a?.conversations?a.conversations:[],[e,n,a]),u=C.useRef(null),[d,f]=C.useState("7d"),[m,p]=C.useState(!1),[v,b]=C.useState(!1),w=C.useMemo(()=>{const _=i.length,A=o.length,T=i.map(X=>X.health_score??X.score??50).filter(Boolean),P=T.length>0?Math.round(T.reduce((X,$e)=>X+$e,0)/T.length):0,M=i.map(X=>X.conversion_probability??.4),U=M.length>0?Math.round(M.reduce((X,$e)=>X+$e,0)/M.length*100):0,D={};i.forEach(X=>{const $e=X.stage||"curioso";D[$e]=(D[$e]||0)+1});const W=i.filter(X=>X.urgency_level==="high"||X.urgency_level==="critical").length,B=i.filter(X=>X.urgency_level==="critical").length,I=i.filter(X=>X.urgency_level==="normal"||!X.urgency_level).length,G=i.filter(X=>X.urgency_level==="low").length,F=i.filter(X=>(X.stage||"").toLowerCase()==="pronto").length,Z=i.filter(X=>(X.stage||"").toLowerCase()==="empolgado").length,K=i.filter(X=>(X.stage||"").toLowerCase()==="curioso").length,J=i.filter(X=>(X.stage||"").toLowerCase()==="ctico").length,q=i.filter(X=>(X.stage||"").toLowerCase().includes("preo")).length,$=_>0?Math.round(F/_*100):0,H=i.filter(X=>X.status==="new").length,ie=i.filter(X=>X.status==="contacted").length,he=i.filter(X=>X.status==="qualified").length,ae=i.filter(X=>X.status==="won").length,ve=i.filter(X=>X.status==="lost").length,Pe=i.filter(X=>(X.health_score??50)<=40&&(X.urgency_level==="high"||X.urgency_level==="critical")).length,ge=i.filter(X=>(X.health_score??50)>=70).length,se=i.filter(X=>(X.health_score??50)<=30).length,be={};i.forEach(X=>{(X.tags||[]).forEach($e=>{be[$e]=(be[$e]||0)+1})});const Ne=Object.entries(be).sort((X,$e)=>$e[1]-X[1]).slice(0,5).map(([X,$e])=>({tag:X,count:$e}));return{totalLeads:_,totalConvs:A,avgHealth:P,avgConversion:U,stages:D,urgencyHigh:W,urgencyCritical:B,urgencyNormal:I,urgencyLow:G,prontos:F,empolgados:Z,curiosos:K,ceticos:J,preco:q,conversionRate:$,statusNew:H,statusContacted:ie,statusQualified:he,statusWon:ae,statusLost:ve,emRisco:Pe,quentes:ge,frios:se,topTags:Ne}},[i,o]),j=C.useMemo(()=>{const _=[];return w.conversionRate>=20?_.push({type:"success",text:"Excelente! Seu funil est com alta converso."}):w.conversionRate>=10?_.push({type:"warning",text:"Bom potencial. Aumente follow-ups nos leads quentes."}):w.totalLeads>0&&_.push({type:"danger",text:"Converso baixa. Foco em remover objees e criar urgncia."}),w.avgHealth>=70?_.push({type:"success",text:"Health mdio alto! Leads engajados."}):w.avgHealth>=50?_.push({type:"warning",text:"Health mdio OK. Alguns leads podem esfriar."}):w.totalLeads>0&&_.push({type:"danger",text:"Health mdio baixo. Risco de perder leads."}),w.emRisco>0&&_.push({type:"danger",text:`${w.emRisco} lead(s) em risco crtico precisam de ateno.`}),w.urgencyHigh>0&&_.push({type:"warning",text:`${w.urgencyHigh} lead(s) com urgncia alta aguardando ao.`}),w.prontos>0&&_.push({type:"success",text:`${w.prontos} lead(s) prontos para fechar!`}),w.frios>0&&_.push({type:"warning",text:`${w.frios} lead(s) frios precisam de reativao.`}),_.length===0&&_.push({type:"warning",text:"Sem dados suficientes para gerar insights."}),_},[w]),y=C.useMemo(()=>{const _=["curioso","ctico","sensvel_preo","empolgado","pronto"],A={curioso:"Curiosos",ctico:"Cticos",sensvel_preo:"Sensveis a Preo",empolgado:"Empolgados",pronto:"Prontos"},T={curioso:"bg-blue-500",ctico:"bg-fuchsia-500",sensvel_preo:"bg-cyan-500",empolgado:"bg-emerald-500",pronto:"bg-orange-500"},P={curioso:ta,ctico:Bf,sensvel_preo:no,empolgado:Ml,pronto:ln},M=i.length||1;return _.map(U=>({key:U,label:A[U]||U,count:w.stages[U]||0,pct:Math.round((w.stages[U]||0)/M*100),color:T[U]||"bg-gray-500",Icon:P[U]||Br}))},[i,w.stages]);async function O(){if(u.current){b(!0);try{const _=$0.find(P=>P.key===d)?.label||d,A=new Date().toLocaleDateString("pt-BR"),T=new Date().toLocaleTimeString("pt-BR");await HJ(u.current,{filename:`Relatorio-DOCA-${_}-${A.replace(/\//g,"-")}.pdf`,scale:2,backgroundColor:"#0a0a0a",orientation:"p"})}catch(_){console.error("Erro ao exportar PDF:",_),alert("Erro ao exportar PDF: "+(_?.message||"Erro desconhecido"))}finally{b(!1)}}}const k=$0.find(_=>_.key===d)?.label||d,S=new Date().toLocaleDateString("pt-BR"),E=new Date().toLocaleTimeString("pt-BR");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(_i,{className:"w-6 h-6 text-[#f57f17]"}),"Relatrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Performance do funil, mtricas e insights"})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("div",{className:"h-10 px-3 rounded-xl border border-white/10 bg-white/5 flex items-center gap-2",children:[l.jsx(QD,{className:"w-4 h-4 text-gray-400"}),l.jsx("select",{value:d,onChange:_=>f(_.target.value),className:"bg-transparent outline-none text-sm text-gray-200",children:$0.map(_=>l.jsx("option",{value:_.key,className:"bg-black",children:_.label},_.key))})]}),l.jsxs("button",{onClick:()=>p(!0),className:"h-10 px-4 rounded-xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(tr,{className:"w-4 h-4 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:O,disabled:v,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Ta,{className:"w-4 h-4 animate-spin"}),"Gerando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Db,{className:"w-4 h-4"}),"Exportar PDF"]})}),l.jsxs("button",{onClick:r,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(Da,{className:"w-4 h-4"}),"Ir para Funil"]})]})]}),l.jsxs("div",{ref:u,className:"space-y-6 bg-[#0a0a0a] p-6 rounded-[28px]",children:[l.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-2xl bg-[#f57f17]/20 border border-[#f57f17]/30 flex items-center justify-center",children:l.jsx(_s,{className:"w-6 h-6 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Relatrio DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Central de Comando - Anlise de Performance"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white font-semibold",children:["Perodo: ",k]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Gerado em ",S," s ",E]})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(ZD,{className:"w-5 h-5 text-[#f57f17]"}),"Resumo Executivo"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(cd,{label:"Total de Leads",value:w.totalLeads,icon:Br,color:"text-blue-400"}),l.jsx(cd,{label:"Conversas",value:w.totalConvs,icon:_i,color:"text-purple-400"}),l.jsx(cd,{label:"Health Mdio",value:`${w.avgHealth}%`,icon:Ml,color:w.avgHealth>=70?"text-emerald-400":w.avgHealth>=50?"text-yellow-400":"text-red-400"}),l.jsx(cd,{label:"Converso Mdia",value:`${w.avgConversion}%`,icon:Ia,color:"text-cyan-400"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Da,{className:"w-5 h-5 text-[#f57f17]"}),"Distribuio do Pipeline"]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:y.map(_=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`h-10 w-10 mx-auto rounded-xl ${_.color}/20 flex items-center justify-center mb-2`,children:l.jsx(_.Icon,{className:`w-5 h-5 ${_.color.replace("bg-","text-")}`})}),l.jsx("p",{className:"text-2xl font-bold text-white",children:_.count}),l.jsx("p",{className:"text-xs text-gray-500",children:_.label}),l.jsxs("p",{className:"text-xs text-gray-600",children:[_.pct,"%"]})]},_.key))}),l.jsx("div",{className:"space-y-2",children:y.map(_=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs text-gray-400 w-24",children:_.label}),l.jsx("div",{className:"flex-1 h-3 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${_.color} rounded-full`,style:{width:`${_.pct}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[_.count," (",_.pct,"%)"]})]},_.key))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status dos Leads"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(qn,{label:"Novos",value:w.statusNew,total:w.totalLeads,color:"bg-blue-500"}),l.jsx(qn,{label:"Contatados",value:w.statusContacted,total:w.totalLeads,color:"bg-yellow-500"}),l.jsx(qn,{label:"Qualificados",value:w.statusQualified,total:w.totalLeads,color:"bg-purple-500"}),l.jsx(qn,{label:"Ganhos",value:w.statusWon,total:w.totalLeads,color:"bg-emerald-500"}),l.jsx(qn,{label:"Perdidos",value:w.statusLost,total:w.totalLeads,color:"bg-red-500"})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nvel de Urgncia"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(qn,{label:"Crtica",value:w.urgencyCritical,total:w.totalLeads,color:"bg-red-500"}),l.jsx(qn,{label:"Alta",value:w.urgencyHigh-w.urgencyCritical,total:w.totalLeads,color:"bg-orange-500"}),l.jsx(qn,{label:"Normal",value:w.urgencyNormal,total:w.totalLeads,color:"bg-gray-500"}),l.jsx(qn,{label:"Baixa",value:w.urgencyLow,total:w.totalLeads,color:"bg-blue-500"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Sade dos Leads"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/10 p-5 text-center",children:[l.jsx(ln,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-300",children:w.quentes}),l.jsx("p",{className:"text-sm text-emerald-400",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  70"})]}),l.jsxs("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/10 p-5 text-center",children:[l.jsx(Br,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:w.totalLeads-w.quentes-w.frios}),l.jsx("p",{className:"text-sm text-yellow-400",children:"Leads Mornos"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health 31-69"})]}),l.jsxs("div",{className:"rounded-2xl border border-blue-500/20 bg-blue-500/10 p-5 text-center",children:[l.jsx(ar,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-300",children:w.frios}),l.jsx("p",{className:"text-sm text-blue-400",children:"Leads Frios"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  30"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Mtricas de Converso"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(ud,{label:"Taxa de Converso",value:`${w.conversionRate}%`,hint:"Prontos / Total",tone:w.conversionRate>=15?"good":w.conversionRate>=8?"mid":"bad"}),l.jsx(ud,{label:"Leads Prontos",value:w.prontos,hint:"Estgio final",tone:"good"}),l.jsx(ud,{label:"Em Risco",value:w.emRisco,hint:"Health baixo + Urgncia alta",tone:w.emRisco>0?"bad":"good"}),l.jsx(ud,{label:"Aguardando Ao",value:w.urgencyHigh,hint:"Urgncia alta",tone:w.urgencyHigh>3?"bad":w.urgencyHigh>0?"mid":"good"})]})})]}),w.topTags.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tags Mais Frequentes"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:w.topTags.map(({tag:_,count:A})=>l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm text-gray-300",children:[_," ",l.jsxs("span",{className:"text-gray-500",children:["(",A,")"]})]},_))})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(tr,{className:"w-5 h-5 text-[#f57f17]"}),"Insights da IA"]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 space-y-3",children:j.map((_,A)=>l.jsx("div",{className:`p-3 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx($a,{className:"w-4 h-4"}):l.jsx(ar,{className:"w-4 h-4"}),_.text]})},A))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Aes Recomendadas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dd,{title:"1. Atacar leads prontos",desc:"CTA direto + agendamento. A janela  curta.",pill:`${w.prontos} leads`,priority:w.prontos>0}),l.jsx(dd,{title:"2. Follow-up urgentes",desc:"Leads com urgncia alta precisam de resposta rpida.",pill:`${w.urgencyHigh} leads`,priority:w.urgencyHigh>0}),l.jsx(dd,{title:"3. Recuperar em risco",desc:"Health baixo + urgncia alta = risco de perder.",pill:`${w.emRisco} leads`,priority:w.emRisco>0}),l.jsx(dd,{title:"4. Reativar leads frios",desc:"Nutrio com contedo relevante para reaquecer.",pill:`${w.frios} leads`,priority:w.frios>0})]})]}),l.jsx("div",{className:"border-t border-white/10 pt-6 mt-6",children:l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"DOCA AI - Central de Comando"}),l.jsxs("span",{children:["Relatrio gerado automaticamente em ",S," s ",E]})]})})]}),m&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(tr,{className:"w-5 h-5 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:()=>p(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"space-y-3",children:j.map((_,A)=>l.jsx("div",{className:`p-4 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx($a,{className:"w-4 h-4"}):l.jsx(ar,{className:"w-4 h-4"}),_.text]})},A))}),l.jsx("button",{onClick:()=>p(!1),className:"mt-6 w-full h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white",children:"Entendi"})]})})]})}function cd({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(r,{className:`w-4 h-4 ${n}`}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function qn({label:t,value:e,total:r,color:n}){const a=r>0?Math.round(e/r*100):0;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-3 w-3 rounded-full ${n}`}),l.jsx("span",{className:"text-sm text-gray-300 w-24",children:t}),l.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${n} rounded-full`,style:{width:`${a}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-20 text-right",children:[e," (",a,"%)"]})]})}function ud({label:t,value:e,hint:r,tone:n}){const a={good:"text-emerald-400",mid:"text-yellow-400",bad:"text-red-400"};return l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-3xl font-bold ${a[n]}`,children:e}),l.jsx("p",{className:"text-sm text-white mt-1",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]})}function dd({title:t,desc:e,pill:r,priority:n}){return l.jsx("div",{className:`rounded-xl border p-4 ${n?"border-[#f57f17]/30 bg-[#f57f17]/5":"border-white/10 bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e})]}),l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-semibold whitespace-nowrap ${n?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-[#f57f17]":"bg-white/5 border border-white/10 text-gray-400"}`,children:r})]})})}const KJ=[{id:"vendas",name:"Vendas Consultivas",description:"Foco em entender necessidades e fechar com valor",tags:["vendas","consultivo"],prompt:`Voc  um especialista em vendas consultivas da DOCA AI.

OBJETIVO: Entender as necessidades do lead e gui-lo para uma deciso de compra.

REGRAS:
- Nunca seja agressivo ou pushy
- Faa perguntas para entender o contexto
- Apresente benefcios, no features
- Use prova social quando apropriado
- Crie urgncia genuna, no artificial

TOM DE VOZ:
- Profissional mas humano
- Emptico e consultivo
- Direto ao ponto
- Sem emojis excessivos

ESTRUTURA DE RESPOSTA:
1. Reconhea a dvida/necessidade
2. Responda de forma clara
3. Faa uma pergunta de qualificao OU apresente prximo passo`},{id:"suporte",name:"Suporte ao Cliente",description:"Resolver problemas com empatia e eficincia",tags:["suporte","atendimento"],prompt:`Voc  um especialista em suporte da DOCA AI.

OBJETIVO: Resolver problemas rapidamente mantendo o cliente satisfeito.

REGRAS:
- Priorize resolver o problema
- Se no souber, escale para humano
- Nunca invente informaes
- Documente o problema para melhoria

TOM DE VOZ:
- Emptico e paciente
- Tcnico quando necessrio
- Sempre oferea alternativas

ESTRUTURA:
1. Reconhea o problema
2. Apresente a soluo
3. Confirme se resolveu`},{id:"qualificacao",name:"Qualificao de Leads",description:"Identificar leads qualificados rapidamente",tags:["vendas","qualificao"],prompt:`Voc  um especialista em qualificao de leads da DOCA AI.

OBJETIVO: Identificar se o lead tem fit com nossa soluo.

CRITRIOS DE QUALIFICAO:
- Budget: Tem oramento para investir?
- Authority:  o decisor?
- Need: Tem uma dor real que resolvemos?
- Timeline: Precisa resolver em quanto tempo?

PERGUNTAS CHAVE:
- Qual seu maior desafio hoje em [rea]?
- Quantos leads/ms vocs recebem?
- Quem mais participa da deciso?
- Qual prazo ideal para implementar?

TOM: Curioso, consultivo, sem presso.`},{id:"reativacao",name:"Reativao de Leads",description:"Reengajar leads frios com valor",tags:["nutrio","reativao"],prompt:`Voc  especialista em reativao de leads da DOCA AI.

OBJETIVO: Reengajar leads que esfriaram oferecendo valor.

ESTRATGIAS:
- Compartilhe novidades relevantes
- Oferea contedo educativo
- Mencione cases de sucesso recentes
- Crie FOMO genuno

NUNCA:
- Seja invasivo ou repetitivo
- Pressione por resposta
- Ignore o contexto anterior

TOM: Amigvel, informativo, sem cobrana.`}];async function Ac(t,e){const r=await fetch(t,{headers:{Accept:"application/json",...e?.headers||{}},...e});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}async function GJ(){try{return(await Ac("/api/settings?key=agent_prompt"))?.value||""}catch{return""}}async function YJ(t){await Ac("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_prompt",value:t})})}async function XJ(){try{const t=await Ac("/api/knowledge");return Array.isArray(t)?t:[]}catch{return[]}}async function lC(t){await Ac("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function JJ(t){await Ac("/api/knowledge",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})}function QJ(){const[t,e]=C.useState("prompt"),[r,n]=C.useState(null),[a,i]=C.useState(""),[o,u]=C.useState(""),[d,f]=C.useState(!0),[m,p]=C.useState(!1),[v,b]=C.useState(!1),[w,j]=C.useState([]),[y,O]=C.useState(!0),[k,S]=C.useState(""),[E,_]=C.useState("all"),[A,T]=C.useState(!1),[P,M]=C.useState(null),[U,D]=C.useState(!1),[W,B]=C.useState(!1),[I,G]=C.useState([{id:"sp-1",type:"depoimento",title:"Atendimento 24/7",content:"Depois que implementamos a DOCA, nosso atendimento nunca mais parou. Os clientes adoram a rapidez!",author:"Maria Silva",company:"Clnica Esttica",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face",active:!0,created_at:new Date().toISOString()},{id:"sp-2",type:"case",title:"Aumento de 40% em converses",content:"Restaurante que triplicou pedidos pelo WhatsApp usando IA para atendimento automtico.",result:"+40% converso em 30 dias",company:"Pizzaria Napolitana",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()},{id:"sp-3",type:"metrica",title:"Tempo de resposta",content:"Mdia de 8 segundos para primeira resposta, contra 15 minutos do atendimento manual.",result:"8s vs 15min",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()}]),[F,Z]=C.useState(!1),[K,J]=C.useState(null),[q,$]=C.useState(!1),[H,ie]=C.useState("all"),[he,ae]=C.useState(""),[ve,Pe]=C.useState(""),[ge,se]=C.useState(!1),[be,Ne]=C.useState([]),X=(ee,Re)=>{n({type:ee,text:Re}),setTimeout(()=>n(null),3e3)};C.useEffect(()=>{$e(),Te()},[]);async function $e(){f(!0);const ee=await GJ();i(ee),u(ee),f(!1)}async function Te(){O(!0);const ee=await XJ();j(ee),O(!1)}async function Qe(){if(!a.trim()){X("error","Prompt vazio");return}p(!0);try{await YJ(a),u(a),X("success","Prompt salvo!")}catch{X("error","Erro ao salvar")}p(!1)}function Ze(ee){i(ee.prompt),b(!1),X("success",`Template "${ee.name}" aplicado`)}const ft=C.useMemo(()=>{const ee=new Set;return w.forEach(Re=>Re.category&&ee.add(Re.category)),["all",...Array.from(ee).sort()]},[w]),qt=C.useMemo(()=>{const ee=k.toLowerCase();return w.filter(Re=>E!=="all"&&Re.category!==E?!1:ee?`${Re.question} ${Re.answer} ${(Re.tags||[]).join(" ")}`.toLowerCase().includes(ee):!0)},[w,k,E]),Gt=C.useMemo(()=>({total:w.length,categories:new Set(w.map(ee=>ee.category).filter(Boolean)).size,avgPriority:w.length>0?(w.reduce((ee,Re)=>ee+(Re.priority||3),0)/w.length).toFixed(1):"0"}),[w]);async function or(ee){if(!ee.question?.trim()||!ee.answer?.trim()){X("error","Pergunta e resposta obrigatrias");return}D(!0);try{await lC(ee),X("success",ee.id?"Atualizado!":"Adicionado!"),T(!1),M(null),await Te()}catch{X("error","Erro ao salvar")}D(!1)}async function fe(ee){if(confirm("Remover este item?"))try{await JJ(ee),X("success","Removido!"),await Te()}catch{X("error","Erro ao remover")}}function ze(){const ee=w.map(({id:qe,question:Ut,answer:Wa,category:wh,priority:Cc,tags:Pc})=>({question:Ut,answer:Wa,category:wh,priority:Cc,tags:Pc})),Re=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),Xe=URL.createObjectURL(Re),Be=document.createElement("a");Be.href=Xe,Be.download=`knowledge-base-${new Date().toISOString().split("T")[0]}.json`,Be.click(),X("success","Exportado!")}function Ie(ee){const Re=new FileReader;Re.onload=async Xe=>{try{const Be=JSON.parse(Xe.target?.result);if(!Array.isArray(Be))throw new Error("Formato invlido");let qe=0;for(const Ut of Be)Ut.question&&Ut.answer&&(await lC({question:Ut.question,answer:Ut.answer,category:Ut.category||null,priority:Ut.priority||3,tags:Ut.tags||[]}),qe++);X("success",`${qe} itens importados!`),await Te(),B(!1)}catch{X("error","Erro ao importar arquivo")}},Re.readAsText(ee)}async function wt(){if(!he.trim())return;se(!0),Ne(Be=>[...Be,{role:"user",text:he}]),await new Promise(Be=>setTimeout(Be,800));const ee=he.toLowerCase(),Re=w.filter(Be=>Be.question.toLowerCase().includes(ee)||Be.answer.toLowerCase().includes(ee)||(Be.tags||[]).some(qe=>qe.toLowerCase().includes(ee))).slice(0,2);let Xe="";Re.length>0?(Xe=`Baseado na base de conhecimento:

${Re[0].answer}`,Re.length>1&&(Xe+=`

Tambm relacionado: ${Re[1].question}`)):Xe="No encontrei uma resposta especfica na base de conhecimento. Considere adicionar esse tpico ao KB ou escalar para humano.",Ne(Be=>[...Be,{role:"ai",text:Xe}]),Pe(Xe),ae(""),se(!1)}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Pa,{className:"w-6 h-6 text-[#f57f17]"}),"Treinamento"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento e conhecimento do agente"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"prompt",label:"Prompt",icon:_i},{key:"knowledge",label:"Base de Conhecimento",icon:Om},{key:"social",label:"Prova Social",icon:Em},{key:"playground",label:"Playground",icon:mS}].map(ee=>l.jsxs("button",{onClick:()=>e(ee.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${t===ee.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(ee.icon,{className:"w-4 h-4"}),ee.label]},ee.key))})]}),t==="prompt"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(yn,{icon:_i,label:"Caracteres",value:a.length.toLocaleString()}),l.jsx(yn,{icon:Ia,label:"Linhas",value:a.split(`
`).length}),l.jsx(yn,{icon:Ta,label:"Status",value:a===o?"Salvo":"Alterado",color:a===o?"text-emerald-400":"text-yellow-400"})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"System Prompt"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Define personalidade, regras e tom de voz do agente"})]}),l.jsxs("button",{onClick:()=>b(!0),className:"h-9 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(tr,{className:"w-4 h-4"}),"Templates"]})]}),d?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(bt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):l.jsx("textarea",{value:a,onChange:ee=>i(ee.target.value),className:"w-full h-80 bg-black/30 border border-white/10 rounded-xl p-4 text-gray-200 text-sm font-mono resize-none outline-none focus:border-[#f57f17]/50",placeholder:"Digite o system prompt do agente..."}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:a!==o&&"Alteraes no salvas"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>i(o),disabled:a===o,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(uP,{className:"w-4 h-4"}),"Restaurar"]}),l.jsxs("button",{onClick:Qe,disabled:m||a===o,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[m?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar"]})]})]})]})]}),t==="knowledge"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(yn,{icon:Om,label:"Total de FAQs",value:Gt.total}),l.jsx(yn,{icon:_s,label:"Categorias",value:Gt.categories}),l.jsx(yn,{icon:Ia,label:"Prioridade Mdia",value:Gt.avgPriority})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{value:k,onChange:ee=>S(ee.target.value),placeholder:"Buscar...",className:"h-10 pl-10 pr-4 w-64 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsx("select",{value:E,onChange:ee=>_(ee.target.value),className:"h-10 px-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none",children:ft.map(ee=>l.jsx("option",{value:ee,className:"bg-black",children:ee==="all"?"Todas categorias":ee},ee))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>B(!0),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(nx,{className:"w-4 h-4"}),"Importar"]}),l.jsxs("button",{onClick:ze,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(Db,{className:"w-4 h-4"}),"Exportar"]}),l.jsxs("button",{onClick:()=>{M(null),T(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Adicionar"]})]})]}),l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 overflow-hidden",children:y?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(bt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):qt.length===0?l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500",children:[l.jsx(Om,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Nenhum item encontrado"})]}):l.jsx("div",{className:"divide-y divide-white/5",children:qt.map(ee=>l.jsx("div",{className:"p-4 hover:bg-white/5 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium",children:ee.question}),l.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:ee.answer}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[ee.category&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#f57f17]/10 text-[#f57f17]",children:ee.category}),ee.priority&&l.jsxs("span",{className:"text-xs text-gray-500",children:["P",ee.priority]}),(ee.tags||[]).slice(0,3).map(Re=>l.jsxs("span",{className:"text-xs text-gray-600",children:["#",Re]},Re))]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>{M(ee),T(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(fS,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>ee.id&&fe(ee.id),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(Ps,{className:"w-4 h-4 text-red-400"})})]})]})},ee.id))})})]}),t==="social"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsx(yn,{icon:Em,label:"Total",value:I.length}),l.jsx(yn,{icon:cP,label:"Depoimentos",value:I.filter(ee=>ee.type==="depoimento").length}),l.jsx(yn,{icon:eP,label:"Cases",value:I.filter(ee=>ee.type==="case").length}),l.jsx(yn,{icon:Da,label:"Mtricas",value:I.filter(ee=>ee.type==="metrica").length})]}),l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(tr,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Como funciona a Prova Social"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"O agente usa essas informaes para gerar confiana durante a conversa. Depoimentos, cases e mtricas so inseridos automaticamente quando relevante."})]})]})}),l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsx("div",{className:"flex items-center gap-2",children:["all","depoimento","case","metrica"].map(ee=>l.jsx("button",{onClick:()=>ie(ee),className:`h-9 px-3 rounded-lg text-sm font-medium transition ${H===ee?"bg-[#f57f17]/20 text-white":"bg-white/5 text-gray-400 hover:text-white"}`,children:ee==="all"?"Todos":ee==="depoimento"?"Depoimentos":ee==="case"?"Cases":"Mtricas"},ee))}),l.jsxs("button",{onClick:()=>{J(null),Z(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Adicionar"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.filter(ee=>H==="all"||ee.type===H).map(ee=>l.jsxs("div",{className:`rounded-[20px] border overflow-hidden transition ${ee.active?"border-white/10 bg-white/5":"border-white/5 bg-white/[0.02] opacity-50"}`,children:[ee.image&&ee.type!=="depoimento"&&l.jsx("div",{className:"h-32 w-full overflow-hidden bg-black/20",children:l.jsx("img",{src:ee.image,alt:ee.title,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[ee.type==="depoimento"&&l.jsx("div",{className:"flex-shrink-0",children:ee.image?l.jsx("img",{src:ee.image,alt:ee.author||"Cliente",className:"w-14 h-14 rounded-full object-cover border-2 border-white/10"}):l.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-500/20 border-2 border-purple-500/30 flex items-center justify-center",children:l.jsx(bd,{className:"w-6 h-6 text-purple-400"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ee.type==="depoimento"?"bg-purple-500/20 text-purple-300":ee.type==="case"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/20 text-blue-300"}`,children:ee.type==="depoimento"?"Depoimento":ee.type==="case"?"Case":"Mtrica"}),!ee.active&&l.jsx("span",{className:"text-xs text-gray-500",children:"Inativo"})]}),l.jsx("h4",{className:"text-white font-semibold",children:ee.title}),ee.type==="depoimento"?l.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',ee.content,'"']}):l.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:ee.content}),(ee.author||ee.company)&&l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ee.author&&l.jsx("span",{className:"font-medium text-gray-400",children:ee.author}),ee.author&&ee.company&&l.jsx("span",{children:"  "}),ee.company&&l.jsx("span",{children:ee.company})]}),ee.result&&l.jsx("div",{className:"mt-3 inline-block px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:l.jsx("span",{className:"text-sm text-emerald-300 font-bold",children:ee.result})})]}),l.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{G(Re=>Re.map(Xe=>Xe.id===ee.id?{...Xe,active:!Xe.active}:Xe))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",title:ee.active?"Desativar":"Ativar",children:ee.active?l.jsx(mL,{className:"w-4 h-4 text-emerald-400"}):l.jsx(pL,{className:"w-4 h-4 text-gray-500"})}),l.jsx("button",{onClick:()=>{J(ee),Z(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(fS,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>{confirm("Remover este item?")&&G(Re=>Re.filter(Xe=>Xe.id!==ee.id))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(Ps,{className:"w-4 h-4 text-red-400"})})]})]})})]},ee.id))}),I.filter(ee=>H==="all"||ee.type===H).length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Em,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Nenhuma prova social encontrada"})]})]}),t==="playground"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10",children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(sr,{className:"w-5 h-5 text-[#f57f17]"}),"Testar Agente"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Simule conversas para validar respostas"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[be.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(mS,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"})]}):be.map((ee,Re)=>l.jsx("div",{className:`flex ${ee.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${ee.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:ee.text})})},Re)),ge&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsx(bt,{className:"w-4 h-4 text-gray-400 animate-spin"})})})]}),l.jsxs("div",{className:"p-4 border-t border-white/10",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:he,onChange:ee=>ae(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&!ee.shiftKey&&wt(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),l.jsx("button",{onClick:wt,disabled:ge||!he.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(Ss,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:()=>Ne([]),className:"mt-2 text-xs text-gray-500 hover:text-gray-400",children:"Limpar conversa"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Como funciona"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[l.jsx("p",{children:"1. O playground busca na Base de Conhecimento"}),l.jsx("p",{children:"2. Se encontrar match, usa a resposta cadastrada"}),l.jsx("p",{children:"3. Se no encontrar, sugere adicionar ao KB"}),l.jsx("p",{children:"4. Em produo, usa o prompt + Claude API"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Sugestes de teste"}),l.jsx("div",{className:"space-y-2",children:["Quanto custa?","Como funciona?","Vocs tm suporte?","Qual o prazo?"].map(ee=>l.jsx("button",{onClick:()=>ae(ee),className:"w-full text-left px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-sm text-gray-300 transition",children:ee},ee))})]}),l.jsxs("div",{className:"rounded-[28px] border border-emerald-500/20 bg-emerald-500/5 p-6",children:[l.jsxs("h3",{className:"text-emerald-300 font-bold mb-2 flex items-center gap-2",children:[l.jsx(un,{className:"w-5 h-5"}),"Dica"]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Adicione perguntas frequentes ao KB para melhorar a qualidade das respostas automticas."})]})]})]}),v&&l.jsx(cC,{title:"Templates de Prompt",onClose:()=>b(!1),children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:KJ.map(ee=>l.jsx("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:ee.name}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:ee.description}),l.jsx("div",{className:"flex gap-1 mt-2",children:ee.tags.map(Re=>l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-gray-400",children:Re},Re))})]}),l.jsx("button",{onClick:()=>Ze(ee),className:"h-8 px-3 rounded-lg bg-[#f57f17]/20 text-[#f57f17] text-sm font-medium",children:"Usar"})]})},ee.id))})}),A&&l.jsx(ZJ,{item:P,saving:U,onClose:()=>{T(!1),M(null)},onSave:or}),W&&l.jsx(cC,{title:"Importar Base de Conhecimento",onClose:()=>B(!1),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Importe um arquivo JSON com array de objetos contendo: question, answer, category, priority, tags"}),l.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-8 text-center",children:[l.jsx("input",{type:"file",accept:".json",onChange:ee=>ee.target.files?.[0]&&Ie(ee.target.files[0]),className:"hidden",id:"import-file"}),l.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[l.jsx(nx,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-400",children:"Clique para selecionar arquivo"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:".json"})]})]})]})}),F&&l.jsx(eQ,{item:K,saving:q,onClose:()=>{Z(!1),J(null)},onSave:ee=>{$(!0),setTimeout(()=>{ee.id?G(Re=>Re.map(Xe=>Xe.id===ee.id?ee:Xe)):G(Re=>[...Re,{...ee,id:`sp-${Date.now()}`,created_at:new Date().toISOString()}]),Z(!1),J(null),$(!1),X("success",ee.id?"Atualizado!":"Adicionado!")},300)}}),r&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${r.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[r.type==="success"?l.jsx($a,{className:"w-4 h-4"}):l.jsx(Ib,{className:"w-4 h-4"}),r.text]})]})}function yn({icon:t,label:e,value:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(t,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:e})]}),l.jsx("p",{className:`text-xl font-bold ${n||"text-white"}`,children:r})]})}function cC({title:t,children:e,onClose:r}){return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),e]})})}function ZJ({item:t,saving:e,onClose:r,onSave:n}){const[a,i]=C.useState(t?.question||""),[o,u]=C.useState(t?.answer||""),[d,f]=C.useState(t?.category||""),[m,p]=C.useState(t?.priority||3),[v,b]=C.useState((t?.tags||[]).join(", "));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar FAQ":"Nova FAQ"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Pergunta"}),l.jsx("input",{value:a,onChange:w=>i(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Quanto custa o plano?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resposta"}),l.jsx("textarea",{value:o,onChange:w=>u(w.target.value),className:"w-full h-32 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Ex: Temos planos a partir de R$ 297/ms..."})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Categoria"}),l.jsx("input",{value:d,onChange:w=>f(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Preo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Prioridade"}),l.jsx("select",{value:m,onChange:w=>p(Number(w.target.value)),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[1,2,3,4,5].map(w=>l.jsx("option",{value:w,className:"bg-black",children:w},w))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tags (vrgula)"}),l.jsx("input",{value:v,onChange:w=>b(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"preo, plano"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id,question:a,answer:o,category:d||null,priority:m,tags:v.split(",").map(w=>w.trim()).filter(Boolean)}),disabled:e,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar"]})]})]})})}function eQ({item:t,saving:e,onClose:r,onSave:n}){const[a,i]=C.useState(t?.type||"depoimento"),[o,u]=C.useState(t?.title||""),[d,f]=C.useState(t?.content||""),[m,p]=C.useState(t?.author||""),[v,b]=C.useState(t?.company||""),[w,j]=C.useState(t?.result||""),[y,O]=C.useState(t?.image||""),[k,S]=C.useState(t?.active??!0);return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar Prova Social":"Nova Prova Social"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Tipo"}),l.jsx("div",{className:"flex gap-2",children:[{key:"depoimento",label:"Depoimento",icon:cP},{key:"case",label:"Case de Sucesso",icon:eP},{key:"metrica",label:"Mtrica",icon:Da}].map(E=>l.jsxs("button",{type:"button",onClick:()=>i(E.key),className:`flex-1 h-11 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${a===E.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:a==="depoimento"?"Foto do Cliente":"Imagem/Print"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{value:y,onChange:E=>O(E.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Cole a URL da imagem..."}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a==="depoimento"?"Foto do cliente para aparecer junto ao depoimento":"Print de resultado, grfico ou imagem ilustrativa"})]}),l.jsx("div",{className:`flex-shrink-0 ${a==="depoimento"?"w-16 h-16":"w-24 h-16"} rounded-xl border border-white/10 bg-black/30 overflow-hidden flex items-center justify-center`,children:y?l.jsx("img",{src:y,alt:"Preview",className:`w-full h-full object-cover ${a==="depoimento"?"rounded-full":""}`,onError:E=>{E.target.style.display="none"}}):l.jsx(nL,{className:"w-6 h-6 text-gray-600"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Ttulo"}),l.jsx("input",{value:o,onChange:E=>u(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Aumento de 40% em converses"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:a==="depoimento"?"Depoimento":a==="case"?"Descrio do Case":"Descrio da Mtrica"}),l.jsx("textarea",{value:d,onChange:E=>f(E.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:a==="depoimento"?"Ex: Depois que implementamos a DOCA, nosso atendimento nunca mais parou...":a==="case"?"Ex: Restaurante que triplicou pedidos pelo WhatsApp...":"Ex: Tempo mdio de resposta reduziu de 15min para 8 segundos"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a==="depoimento"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Autor"}),l.jsx("input",{value:m,onChange:E=>p(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Maria Silva"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Empresa"}),l.jsx("input",{value:v,onChange:E=>b(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Clnica Esttica"})]}),(a==="case"||a==="metrica")&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resultado"}),l.jsx("input",{value:w,onChange:E=>j(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: +40% converso em 30 dias"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Ativo"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Disponvel para o agente usar"})]}),l.jsx("button",{type:"button",onClick:()=>S(!k),className:`h-8 w-14 rounded-full transition ${k?"bg-emerald-500":"bg-gray-600"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition transform ${k?"translate-x-7":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id||"",type:a,title:o,content:d,author:m||void 0,company:v||void 0,result:w||void 0,image:y||void 0,active:k,created_at:t?.created_at}),disabled:e||!o.trim()||!d.trim(),className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar"]})]})]})})}const tQ=[{id:"supabase",name:"Supabase",description:"Banco de dados e autenticao",icon:Ed,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://supabase.com/docs"},{id:"claude",name:"Claude API",description:"Inteligncia artificial para respostas",icon:Pa,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://docs.anthropic.com/"},{id:"waha",name:"WAHA",description:"WhatsApp HTTP API (self-hosted)",icon:sP,status:"checking",category:"whatsapp",configurable:!0,docsUrl:"https://waha.devlike.pro/docs/",active:!0},{id:"zapi",name:"Z-API",description:"WhatsApp API (cloud)",icon:Gn,status:"disconnected",category:"whatsapp",configurable:!0,docsUrl:"https://developer.z-api.io/",active:!1},{id:"calendar",name:"Google Calendar",description:"Agendamento de reunies",icon:tP,status:"checking",category:"comunicacao",configurable:!0,docsUrl:"https://developers.google.com/calendar"},{id:"webhook",name:"Webhooks",description:"Notificaes em tempo real",icon:vL,status:"disconnected",category:"comunicacao",configurable:!0},{id:"email",name:"Email (SMTP)",description:"Envio de emails automticos",icon:$l,status:"disconnected",category:"futuro",configurable:!1}];function rQ(){const[t,e]=C.useState(tQ),[r,n]=C.useState(!1),[a,i]=C.useState(null),[o,u]=C.useState(null);C.useEffect(()=>{d()},[]);async function d(){n(!0),await new Promise(S=>setTimeout(S,1500)),e(S=>S.map(E=>E.id==="waha"?{...E,status:"connected"}:E.id==="supabase"?{...E,status:"connected"}:E.id==="claude"?{...E,status:"connected"}:E.id==="calendar"?{...E,status:"connected"}:E)),n(!1)}async function f(S){e(_=>_.map(A=>A.id===S?{...A,status:"checking"}:A)),await new Promise(_=>setTimeout(_,1e3));const E=["waha","supabase","claude","calendar"].includes(S);e(_=>_.map(A=>A.id===S?{...A,status:E?"connected":"disconnected"}:A))}function m(S){e(E=>E.map(_=>_.category==="whatsapp"?{..._,active:_.id===S}:_)),p(`${S==="waha"?"WAHA":"Z-API"} definido como ativo`)}const p=S=>{u(S),setTimeout(()=>u(null),3e3)},v=t.filter(S=>S.category==="essencial"),b=t.filter(S=>S.category==="whatsapp"),w=t.filter(S=>S.category==="comunicacao"),j=t.filter(S=>S.category==="futuro"),y=t.filter(S=>S.status==="connected").length,O=v.filter(S=>S.status==="connected").length,k=b.find(S=>S.active&&S.status==="connected");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(rx,{className:"w-6 h-6 text-[#f57f17]"}),"Integraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gerencie conexes com servios externos"})]}),l.jsxs("button",{onClick:d,disabled:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(_n,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Verificar Tudo"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(I0,{label:"Conectadas",value:`${y}/${t.length}`,icon:rx,color:y>=4?"emerald":"yellow"}),l.jsx(I0,{label:"Essenciais",value:`${O}/${v.length}`,icon:un,color:O===v.length?"emerald":"red"}),l.jsx(I0,{label:"WhatsApp",value:k?"Conectado":"Desconectado",icon:sP,color:k?"emerald":"red"})]}),l.jsx(fd,{title:"Essenciais",desc:"Banco de dados e IA",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id)},S.id))})}),l.jsx(fd,{title:"WhatsApp Provider",desc:"Escolha qual provedor usar (pode alternar entre clientes)",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id),isActive:S.active,onSetActive:()=>m(S.id)},S.id))})}),l.jsx(fd,{title:"Comunicao e Agendamento",desc:"Calendrio e webhooks",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id)},S.id))})}),l.jsx(fd,{title:"Em Breve",desc:"Planejado para futuras verses",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(S=>l.jsx(hd,{integration:S,onCheck:()=>{},onConfigure:()=>{},disabled:!0},S.id))})}),a&&l.jsx(nQ,{integration:t.find(S=>S.id===a),onClose:()=>i(null),onSave:()=>{i(null),p("Configuraes salvas!")}}),o&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx($a,{className:"w-4 h-4"}),o]})]})}function I0({label:t,value:e,icon:r,color:n}){const a={emerald:"text-emerald-400",yellow:"text-yellow-400",red:"text-red-400"};return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(r,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:`text-xl font-bold ${a[n]}`,children:e})]})}function fd({title:t,desc:e,children:r}){return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm",children:e})]}),r]})}function hd({integration:t,onCheck:e,onConfigure:r,disabled:n,isActive:a,onSetActive:i}){const{name:o,description:u,icon:d,status:f,configurable:m,docsUrl:p,category:v}=t,b={connected:"text-emerald-400",disconnected:"text-gray-500",error:"text-red-400",checking:"text-yellow-400"},j={connected:$a,disconnected:Ib,error:ar,checking:bt}[f],y=v==="whatsapp";return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-[#f57f17]/50 bg-[#f57f17]/5":"border-white/10 bg-white/5"} p-5 ${n?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl ${a?"bg-[#f57f17]/20 border-[#f57f17]/30":"bg-[#f57f17]/10 border-[#f57f17]/20"} border flex items-center justify-center`,children:l.jsx(d,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"text-white font-semibold",children:o}),a&&l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f57f17]/20 text-[#f57f17] font-medium",children:"ATIVO"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:u})]})]}),l.jsxs("div",{className:`flex items-center gap-1 ${b[f]}`,children:[l.jsx(j,{className:`w-4 h-4 ${f==="checking"?"animate-spin":""}`}),l.jsx("span",{className:"text-xs",children:f==="connected"?"OK":f==="disconnected"?"Off":f==="error"?"Erro":"..."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:e,className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-300 hover:bg-white/10 flex items-center justify-center gap-1",children:[l.jsx(_n,{className:"w-3 h-3"}),"Testar"]}),m&&l.jsxs("button",{onClick:r,className:"flex-1 h-9 rounded-lg bg-[#f57f17]/10 border border-[#f57f17]/20 text-xs text-[#f57f17] hover:bg-[#f57f17]/20 flex items-center justify-center gap-1",children:[l.jsx(Sn,{className:"w-3 h-3"}),"Config"]}),y&&i&&!a&&l.jsx("button",{onClick:i,className:"h-9 px-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-xs text-emerald-400 hover:bg-emerald-500/20",children:"Usar"})]}),n&&l.jsx("div",{className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-500 flex items-center justify-center",children:"Em breve"}),p&&!n&&l.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/10 flex items-center justify-center",children:l.jsx(nP,{className:"w-3 h-3"})})]})]})}function nQ({integration:t,onClose:e,onSave:r}){const[n,a]=C.useState(!1),[i,o]=C.useState(!1),d={waha:[{label:"API URL",placeholder:"http://localhost:3000"},{label:"Session Name",placeholder:"default"},{label:"API Key",placeholder:"sua-api-key",secret:!0}],zapi:[{label:"Instance ID",placeholder:"sua-instance-id"},{label:"Token",placeholder:"seu-token-zapi",secret:!0},{label:"Webhook URL",placeholder:"https://seu-servidor/webhook"}],supabase:[{label:"Project URL",placeholder:"https://xxx.supabase.co"},{label:"Anon Key",placeholder:"eyJhbG...",secret:!0},{label:"Service Key",placeholder:"eyJhbG...",secret:!0}],claude:[{label:"API Key",placeholder:"sk-ant-...",secret:!0},{label:"Model",placeholder:"claude-sonnet-4-20250514"}],calendar:[{label:"Client ID",placeholder:"xxx.apps.googleusercontent.com"},{label:"Client Secret",placeholder:"GOCSPX-...",secret:!0},{label:"Calendar ID",placeholder:"primary"}],webhook:[{label:"Endpoint URL",placeholder:"https://seu-servidor/webhook"},{label:"Secret",placeholder:"webhook-secret",secret:!0}]}[t.id]||[];async function f(){o(!0),await new Promise(m=>setTimeout(m,800)),o(!1),r()}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(t.icon,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:t.name}),l.jsx("p",{className:"text-xs text-gray-500",children:"Configuraes"})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:""})]}),l.jsx("div",{className:"space-y-4",children:d.map((m,p)=>l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:m.label}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:m.secret&&!n?"password":"text",placeholder:m.placeholder,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),m.secret&&l.jsx("button",{onClick:()=>a(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:n?l.jsx(Lb,{className:"w-4 h-4"}):l.jsx(Lf,{className:"w-4 h-4"})})]})]},p))}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:f,disabled:i,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[i?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx($a,{className:"w-4 h-4"}),"Salvar"]})]}),t.docsUrl&&l.jsxs("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[l.jsx(nP,{className:"w-3 h-3"}),"Ver documentao"]})]})})}const aQ={companyName:"DOCA Agncia IA",ownerName:"Douglas",email:"contato@docaia.com.br",phone:"(19) 99154-7727",address:"Limeira, SP",businessHours:{enabled:!0,start:"08:00",end:"18:00",days:["seg","ter","qua","qui","sex"]},timezone:"America/Sao_Paulo",notifyNewLead:!0,notifyUrgent:!0,notifyDaily:!1,notifyEmail:!1,language:"pt-BR",theme:"dark",autoBackup:!0,agentName:"Assistente DOCA",welcomeMessage:"Oi! Como posso ajudar?",offlineMessage:"Estamos fora do horrio. Retornaremos em breve!"},iQ=[{key:"seg",label:"Seg"},{key:"ter",label:"Ter"},{key:"qua",label:"Qua"},{key:"qui",label:"Qui"},{key:"sex",label:"Sex"},{key:"sab",label:"Sb"},{key:"dom",label:"Dom"}];function sQ(){const[t,e]=C.useState("perfil"),[r,n]=C.useState(aQ),[a,i]=C.useState(!1),[o,u]=C.useState(null),[d,f]=C.useState(!1),m=y=>{u(y),setTimeout(()=>u(null),3e3)};async function p(){i(!0),await new Promise(y=>setTimeout(y,800)),i(!1),m("Configuraes salvas!")}function v(y,O){n(k=>({...k,[y]:O}))}function b(y,O){n(k=>({...k,businessHours:{...k.businessHours,[y]:O}}))}function w(y){const O=r.businessHours.days,k=O.includes(y)?O.filter(S=>S!==y):[...O,y];b("days",k)}const j=[{key:"perfil",label:"Perfil",icon:on},{key:"horario",label:"Horrio",icon:Ta},{key:"notificacoes",label:"Notificaes",icon:Q0},{key:"sistema",label:"Sistema",icon:Sn},{key:"agente",label:"Agente",icon:bd},{key:"dados",label:"Dados",icon:Ed}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Sn,{className:"w-6 h-6 text-[#f57f17]"}),"Configuraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize o sistema conforme suas necessidades"})]}),l.jsxs("button",{onClick:p,disabled:a,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[a?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar Tudo"]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(y=>l.jsxs("button",{onClick:()=>e(y.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium whitespace-nowrap transition ${t===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))}),t==="perfil"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Empresa",icon:on,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Nome da Empresa",value:r.companyName,onChange:y=>v("companyName",y),icon:on}),l.jsx(us,{label:"Responsvel",value:r.ownerName,onChange:y=>v("ownerName",y),icon:bd}),l.jsx(us,{label:"Endereo",value:r.address,onChange:y=>v("address",y),icon:iP})]})}),l.jsx(br,{title:"Contato",icon:Gn,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Email",value:r.email,onChange:y=>v("email",y),icon:$l,type:"email"}),l.jsx(us,{label:"Telefone",value:r.phone,onChange:y=>v("phone",y),icon:Gn})]})})]}),t==="horario"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Horrio de Funcionamento",icon:Ta,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Respeitar horrio comercial",desc:"Fora do horrio, envia mensagem de ausncia",value:r.businessHours.enabled,onChange:y=>b("enabled",y)}),r.businessHours.enabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Incio"}),l.jsx("input",{type:"time",value:r.businessHours.start,onChange:y=>b("start",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Fim"}),l.jsx("input",{type:"time",value:r.businessHours.end,onChange:y=>b("end",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Dias de funcionamento"}),l.jsx("div",{className:"flex gap-2 mt-2",children:iQ.map(y=>l.jsx("button",{onClick:()=>w(y.key),className:`h-10 w-10 rounded-lg text-xs font-medium transition ${r.businessHours.days.includes(y.key)?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-500"}`,children:y.label},y.key))})]})]})]})}),l.jsx(br,{title:"Fuso Horrio",icon:rL,children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Timezone"}),l.jsxs("select",{value:r.timezone,onChange:y=>v("timezone",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"America/Sao_Paulo",className:"bg-black",children:"So Paulo (GMT-3)"}),l.jsx("option",{value:"America/Manaus",className:"bg-black",children:"Manaus (GMT-4)"}),l.jsx("option",{value:"America/Fortaleza",className:"bg-black",children:"Fortaleza (GMT-3)"}),l.jsx("option",{value:"America/Recife",className:"bg-black",children:"Recife (GMT-3)"})]})]})})]}),t==="notificacoes"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Alertas no Sistema",icon:Q0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Novo lead",desc:"Notificar quando chegar um lead novo",value:r.notifyNewLead,onChange:y=>v("notifyNewLead",y)}),l.jsx(ds,{label:"Leads urgentes",desc:"Notificar leads com urgncia alta/crtica",value:r.notifyUrgent,onChange:y=>v("notifyUrgent",y)}),l.jsx(ds,{label:"Resumo dirio",desc:"Receber resumo do dia s 18h",value:r.notifyDaily,onChange:y=>v("notifyDaily",y)})]})}),l.jsx(br,{title:"Notificaes Externas",icon:$l,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Email",desc:"Enviar cpia das notificaes por email",value:r.notifyEmail,onChange:y=>v("notifyEmail",y)}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Email de notificao"}),l.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r.email})]})]})})]}),t==="sistema"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Aparncia",icon:cL,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tema"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[{key:"dark",label:"Escuro",icon:lL},{key:"light",label:"Claro",icon:fL},{key:"auto",label:"Auto",icon:Sn}].map(y=>l.jsxs("button",{onClick:()=>v("theme",y.key),className:`h-12 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${r.theme===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Idioma"}),l.jsxs("select",{value:r.language,onChange:y=>v("language",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"pt-BR",className:"bg-black",children:"Portugus (Brasil)"}),l.jsx("option",{value:"en-US",className:"bg-black",children:"English (US)"}),l.jsx("option",{value:"es",className:"bg-black",children:"Espaol"})]})]})]})}),l.jsx(br,{title:"Segurana",icon:dP,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"API Key do Sistema"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:d?"text":"password",value:"doca_sk_live_xxxxxxxxxxxxxxxx",readOnly:!0,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-400 outline-none"}),l.jsx("button",{onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d?l.jsx(Lb,{className:"w-4 h-4"}):l.jsx(Lf,{className:"w-4 h-4"})})]}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(Df,{className:"w-4 h-4"})}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(_n,{className:"w-4 h-4"})})]})]})})})]}),t==="agente"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Identidade do Agente",icon:bd,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Nome do Agente",value:r.agentName,onChange:y=>v("agentName",y),placeholder:"Ex: Assistente DOCA"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem de Boas-vindas"}),l.jsx("textarea",{value:r.welcomeMessage,onChange:y=>v("welcomeMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem inicial do agente..."})]})]})}),l.jsx(br,{title:"Mensagens Automticas",icon:Ta,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem Fora do Horrio"}),l.jsx("textarea",{value:r.offlineMessage,onChange:y=>v("offlineMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem quando estiver offline..."})]})})})]}),t==="dados"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Backup",icon:Ed,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Backup automtico",desc:"Salvar dados automaticamente todo dia s 3h",value:r.autoBackup,onChange:y=>v("autoBackup",y)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(Db,{className:"w-4 h-4"}),"Exportar Dados"]}),l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(nx,{className:"w-4 h-4"}),"Importar Dados"]})]})]})}),l.jsx(br,{title:"Zona de Perigo",icon:ar,danger:!0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:l.jsxs("p",{className:"text-red-300 text-sm flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4"}),"Aes irreversveis"]})}),l.jsxs("button",{className:"w-full h-11 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400 hover:bg-red-500/20 flex items-center justify-center gap-2",children:[l.jsx(Ps,{className:"w-4 h-4"}),"Limpar Todos os Dados"]})]})}),l.jsx(br,{title:"Sobre",icon:aL,className:"lg:col-span-2",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(pd,{label:"Verso",value:"2.0.0"}),l.jsx(pd,{label:"Build",value:"2025.01.13"}),l.jsx(pd,{label:"Ambiente",value:"Produo"}),l.jsx(pd,{label:"Uptime",value:"99.9%"})]})})]}),o&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx($a,{className:"w-4 h-4"}),o]})]})}function br({title:t,icon:e,children:r,className:n,danger:a}){return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-red-500/20 bg-red-500/5":"border-white/10 bg-white/5"} p-6 ${n||""}`,children:[l.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-2 ${a?"text-red-400":"text-white"}`,children:[l.jsx(e,{className:`w-5 h-5 ${a?"text-red-400":"text-[#f57f17]"}`}),t]}),r]})}function us({label:t,value:e,onChange:r,icon:n,type:a,placeholder:i}){return l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:t}),l.jsxs("div",{className:"relative mt-1",children:[n&&l.jsx(n,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:a||"text",value:e,onChange:o=>r(o.target.value),placeholder:i,className:`w-full h-11 ${n?"pl-11":"pl-4"} pr-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none`})]})]})}function ds({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function pd({label:t,value:e}){return l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500",children:t}),l.jsx("p",{className:"text-white font-semibold mt-1",children:e})]})}function oQ(t){if(!t)return"";const e=Date.now()-new Date(t).getTime(),r=Math.max(0,Math.floor(e/6e4));if(r<60)return`${r}m`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`}function dl(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function uC(t){return{pronto:"Pronto",empolgado:"Empolgado",curioso:"Curioso",sensvel_preo:"Preo",ctico:"Ctico",frustrado:"Frustrado"}[t||""]||t||""}function md(t,e,r){const n=t?.name||e?.name||"a",a=(t?.stage||e?.current_emotion||"curioso").toLowerCase(),i=t?.urgency_level||"normal",o=i==="high"||i==="critical",u=[`Oi ${n}!`,`Fala ${n}!`,`Ol ${n}!`,`E a ${n}!`],d=u[Math.floor(Math.random()*u.length)],f=[];return a.includes("pronto")||a.includes("ready")?(f.push({id:"fu-1",title:"Fechamento direto",goal:"Encaminhar contrato/pagamento",timing:"Agora",confidence:.92,stage:"fechamento",text:`${d} Perfeito! Pra fechar hoje, preciso de: 1) plano (mensal/anual) e 2) CNPJ ou CPF pro contrato. Te mando o link assim que confirmar.`}),f.push({id:"fu-2",title:"Onboarding rpido",goal:"Reduzir atrito ps-venda",timing:"Aps pagamento",confidence:.85,stage:"fechamento",text:`${d} Assim que confirmar, j te mando o checklist do onboarding (leva 15min) e ativamos a IA com seu tom de voz.`})):a.includes("ctico")||a.includes("skept")?(f.push({id:"fu-1",title:"Prova social + teste",goal:"Gerar confiana",timing:o?"Agora":"Em 4h",confidence:.88,stage:"objees",text:`${d} Totalmente justo ser p no cho. Pra no ficar no "achismo", te mostro 2 cases reais e fazemos um teste assistido. Qual seu maior receio: ficar robtico, errar info ou no converter?`}),f.push({id:"fu-2",title:"Demo rpida",goal:"Mostrar tom humano na prtica",timing:"Em 1 dia",confidence:.78,stage:"objees",text:`${d} Se topar, fao uma demo em 10min com um exemplo real seu (uma objeo comum do seu cliente) e voc v funcionando.`})):a.includes("preo")||a.includes("price")?(f.push({id:"fu-1",title:"Ancorar ROI",goal:"Converter objeo de preo em valor",timing:o?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Vi que voc est comparando preo. Pra ficar justo: com seu volume, a DOCA normalmente reduz tempo de resposta e aumenta converso. Quantos leads/ms e quantos atendentes hoje? Simulo o ROI rapidinho.`}),f.push({id:"fu-2",title:"2 opes de pagamento",goal:"Dar escolha e remover atrito",timing:"Em 1 dia",confidence:.8,stage:"valor",text:`${d} Pra facilitar: 1) mensal (flexvel) e 2) anual (com desconto). Quer que eu mande as duas opes?`})):a.includes("frustr")?f.push({id:"fu-1",title:"Reparao + prioridade",goal:"Desarmar tenso",timing:"Agora",confidence:.9,stage:"objees",text:`${d} Voc tem razo, isso no  experincia aceitvel. Vou priorizar seu caso agora. Me diz em 1 frase o que precisa resolver primeiro.`}):(f.push({id:"fu-1",title:"Qualificao rpida",goal:"Entender contexto",timing:o?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Pra te orientar certo: 1) qual seu tipo de negcio? 2) quantos leads/ms? 3) qual seu maior gargalo hoje?`}),f.push({id:"fu-2",title:"Agendamento",goal:"Mover para call",timing:"Em 1 dia",confidence:.75,stage:"fechamento",text:`${d} Se preferir, a gente resolve em uma call curta. Voc prefere s 09:30 ou 10:00?`})),f.push({id:"fu-nurt",title:"Reativao leve",goal:"Retomar contato",timing:"Em 2 dias",confidence:.72,stage:"nutrio",text:"Oi! Passando rapidinho pra saber se ficou alguma dvida. Se fizer sentido, te mando os prximos passos em 1 minuto."}),f}function lQ(t){const e=po(),r=C.useMemo(()=>e?mo():null,[e]),[n,a]=C.useState([]),[i,o]=C.useState([]),[u,d]=C.useState([]),[f,m]=C.useState(null),[p,v]=C.useState([]),[b,w]=C.useState(!0),[j,y]=C.useState(""),[O,k]=C.useState(null),[S,E]=C.useState(null),[_,A]=C.useState(!1),T=C.useMemo(()=>{if(!f)return null;const I=(f.phone||"").replace("@c.us","");return i.find(G=>G.phone.replace("@c.us","")===I||G.id===f.lead_id)||null},[f,i]);async function P(){w(!0);try{if(e&&r){a(r.conversations||[]),o(r.leads||[]);const $=r.conversations?.[0]||null;if(m($),$){const H=(r.messages||[]).filter(ie=>ie.conversation_id===$.id);d(H),v(md(null,$,H))}w(!1);return}const F=(await(await fetch("/api/conversations?limit=100")).json()||[]).map($=>({id:$.id,lead_id:$.lead_id,phone:$.phone||$.chat_id||"",name:$.name,status:$.status,updated_at:$.updated_at,created_at:$.created_at,last_message:$.last_message,current_emotion:$.current_emotion,temperature:$.temperature,tags:$.tags||[]}));a(F);const J=(await(await fetch("/api/leads?limit=200")).json()||[]).map($=>({id:$.id,phone:($.phone||"").replace("@c.us",""),name:$.name,health_score:$.health_score??$.score??50,stage:$.stage??"curioso",urgency_level:$.urgency_level??"normal",conversion_probability:$.conversion_probability??.4,tags:$.tags||[],updated_at:$.updated_at}));o(J);const q=F[0]||null;m(q),q&&await M(q),w(!1)}catch(I){console.error(I),w(!1)}}async function M(I){m(I),d([]),v([]);try{if(e&&r){const J=(r.messages||[]).filter($=>$.conversation_id===I.id);d(J);const q=i.find($=>$.id===I.lead_id)||null;v(md(q,I,J));return}const Z=(await(await fetch(`/api/messages?conversation_id=${encodeURIComponent(I.id)}&limit=50`)).json()||[]).map(J=>({id:J.id,conversation_id:J.conversation_id,from:J.role==="user"?"lead":J.role==="assistant"?"agent":J.from||"lead",text:J.content||J.text||"",created_at:J.timestamp||J.created_at||new Date().toISOString()}));d(Z);const K=i.find(J=>J.phone.replace("@c.us","")===(I.phone||"").replace("@c.us",""))||null;v(md(K,I,Z))}catch(G){console.error(G)}}C.useEffect(()=>{P()},[]);const U=C.useMemo(()=>{const I=n.filter(F=>{const Z=(F.phone||"").toLowerCase(),K=(F.name||"").toLowerCase();return!(Z.includes("@broadcast")||Z.includes("@lid")||Z.includes("@g.us")||Z.includes("status@broadcast")||Z.includes("landing:")||K.includes("landing:")||Z.includes("sess_")||K.includes("sess_")||!Z||Z.length<8||Z.replace(/\D/g,"").length<8)}),G=j.trim().toLowerCase();return G?I.filter(F=>(F.name||"").toLowerCase().includes(G)||(F.phone||"").toLowerCase().includes(G)||(F.last_message||"").toLowerCase().includes(G)):I},[n,j]);async function D(I,G){try{await navigator.clipboard.writeText(I),k(G),setTimeout(()=>k(null),1500)}catch{k(G),setTimeout(()=>k(null),1500)}}function W(I){T&&E({lead:T,message:I.text})}async function B(){if(S){A(!0);try{t.onSendFollowUp?t.onSendFollowUp(S.lead,S.message):await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:S.lead.phone,message:S.message})}),E(null)}catch(I){console.error(I)}finally{A(!1)}}}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(uS,{className:"w-6 h-6 text-[#f57f17]"}),"Anlise IA"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Follow-ups inteligentes baseados em estgio, emoo e urgncia"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-semibold flex items-center gap-1.5",children:[l.jsx(tr,{className:"w-3.5 h-3.5"}),"IA Ativa"]}),l.jsxs("button",{onClick:P,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(_n,{className:"w-4 h-4"}),"Atualizar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 flex items-center justify-between gap-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold",children:"Conversas"}),l.jsx("span",{className:"text-xs text-gray-500",children:U.length})]})}),l.jsx("div",{className:"p-3 border-b border-white/10",children:l.jsxs("div",{className:"relative",children:[l.jsx(ta,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{value:j,onChange:I=>y(I.target.value),placeholder:"Buscar...",className:"w-full h-9 rounded-xl bg-black/30 border border-white/10 pl-9 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:border-[#f57f17]/50"})]})}),l.jsx("div",{className:"max-h-[520px] overflow-auto",children:b?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Carregando..."}):U.length===0?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Nenhuma conversa"}):l.jsx("div",{className:"divide-y divide-white/5",children:U.map(I=>{const G=f?.id===I.id,F=i.find(q=>q.id===I.lead_id||q.phone.replace("@c.us","")===(I.phone||"").replace("@c.us","")),Z=F?.health_score||50,K=I.name||F?.name||null,J=dl((I.phone||"").replace("@c.us",""));return l.jsx("button",{onClick:()=>M(I),className:`w-full text-left px-4 py-3 transition-all ${G?"bg-[#f57f17]/10":"hover:bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0 ${Z>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":Z>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"}`,children:Z}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-medium truncate",children:K||J}),l.jsx("span",{className:"text-[10px] text-gray-600",children:oQ(I.updated_at)})]}),K&&l.jsx("p",{className:"text-[11px] text-gray-500",children:J}),l.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:I.last_message||""}),l.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-gray-400",children:uC(F?.stage)}),F?.urgency_level==="high"||F?.urgency_level==="critical"?l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300",children:"Urgente"}):null]})]})]})},I.id)})})})]}),l.jsx("div",{className:"xl:col-span-8 space-y-6",children:f?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-5",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-14 w-14 rounded-2xl border-2 flex items-center justify-center text-xl font-bold ${(T?.health_score||50)>=70?"bg-emerald-500/20 border-emerald-500 text-emerald-300":(T?.health_score||50)>=40?"bg-yellow-500/20 border-yellow-500 text-yellow-300":"bg-red-500/20 border-red-500 text-red-300"}`,children:T?.health_score||50}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:f.name||T?.name||dl(f.phone||"")}),l.jsx("p",{className:"text-gray-500 text-sm",children:dl(f.phone||"")})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Estgio"}),l.jsx("p",{className:"text-white font-semibold",children:uC(T?.stage)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"}),l.jsxs("p",{className:"text-emerald-400 font-semibold",children:[Math.round((T?.conversion_probability||.4)*100),"%"]})]}),T&&l.jsxs("button",{onClick:()=>t.onOpenConversation?.(T),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm text-white flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4"}),"Abrir chat"]})]})]}),l.jsxs("div",{className:"mt-4 rounded-xl bg-black/20 border border-white/5 p-3 max-h-[140px] overflow-auto",children:[u.slice(-6).map(I=>l.jsxs("div",{className:`text-sm mb-2 px-3 py-2 rounded-xl ${I.from==="lead"?"bg-white/5 text-gray-300":"bg-[#f57f17]/10 text-white"}`,children:[l.jsx("span",{className:"text-[10px] text-gray-500 mr-2",children:I.from==="lead"?"Cliente":"Bot"}),I.text.slice(0,150),I.text.length>150?"...":""]},I.id)),u.length===0&&l.jsx("p",{className:"text-gray-600 text-sm",children:"Sem mensagens"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-5 h-5 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-bold",children:"Follow-ups Sugeridos"})]}),l.jsxs("button",{onClick:()=>v(md(T,f)),className:"h-9 px-3 rounded-xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs font-semibold text-[#f57f17] flex items-center gap-1.5",children:[l.jsx(_n,{className:"w-3.5 h-3.5"}),"Regenerar"]})]}),l.jsxs("div",{className:"p-5 space-y-3",children:[p.map(I=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/20 transition",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold",children:I.title}),l.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${I.confidence>=.85?"bg-emerald-500/20 text-emerald-300":I.confidence>=.75?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-400"}`,children:[Math.round(I.confidence*100),"%"]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:I.goal})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(Ta,{className:"w-3.5 h-3.5"}),I.timing]})]}),l.jsx("div",{className:"rounded-xl bg-black/30 border border-white/5 p-3 mb-3",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:I.text})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-white/5 text-gray-500",children:I.stage}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>D(I.text,I.id),className:"h-8 px-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",title:"Copiar mensagem",children:[l.jsx(Df,{className:"w-3.5 h-3.5"}),O===I.id?"Copiado!":""]}),l.jsxs("button",{onClick:()=>W(I),disabled:!T,className:"h-8 px-4 rounded-lg bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-xs font-semibold text-white flex items-center gap-1.5",children:[l.jsx(Ss,{className:"w-3.5 h-3.5"}),"Enviar"]})]})]})]},I.id)),p.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-8",children:'Nenhum follow-up gerado. Clique em "Regenerar".'})]})]})]}):l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-12 text-center",children:[l.jsx(uS,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Selecione uma conversa para anlise"})]})})]}),S&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(Ss,{className:"w-5 h-5 text-[#f57f17]"}),"Confirmar Envio"]}),l.jsx("button",{onClick:()=>E(null),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Para"}),l.jsx("p",{className:"text-white font-medium",children:S.lead.name||dl(S.lead.phone)}),l.jsx("p",{className:"text-gray-500 text-sm",children:dl(S.lead.phone)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Mensagem"}),l.jsx("div",{className:"rounded-xl bg-black/40 border border-white/10 p-4 max-h-[200px] overflow-auto",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:S.message})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>E(null),className:"flex-1 h-11 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:B,disabled:_,className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center justify-center gap-2",children:_?l.jsxs(l.Fragment,{children:[l.jsx(_n,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{className:"w-4 h-4"}),"Enviar Agora"]})})]})]})})]})}const cQ=[{key:"default",label:"Padro DOCA",hint:"Geral / multi-negcio"},{key:"clinic",label:"Clnica",hint:"Sade / esttica / procedimentos"},{key:"realestate",label:"Imobiliria",hint:"Compra / venda / locao"},{key:"aesthetics",label:"Esttica",hint:"Studio / beleza / tratamentos"},{key:"law",label:"Advocacia",hint:"Consultoria / casos / contratos"},{key:"ecommerce",label:"E-commerce",hint:"Loja online / carrinho / ofertas"}];function uQ(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}function dQ(){const[t,e]=C.useState(""),[r,n]=C.useState("clinic"),[a,i]=C.useState("So Paulo"),[o,u]=C.useState(""),[d,f]=C.useState(""),[m,p]=C.useState(""),[v,b]=C.useState(""),[w,j]=C.useState("preo, confiana"),[y,O]=C.useState(120),[k,S]=C.useState(60),[E,_]=C.useState(null),[A,T]=C.useState(!1),P=C.useMemo(()=>hJ(),[E]);function M(){const B=uQ(t||"cliente"),I=new Date,G=I.getFullYear(),F=String(I.getMonth()+1).padStart(2,"0"),Z=String(I.getDate()).padStart(2,"0"),K=String(I.getHours()).padStart(2,"0"),J=String(I.getMinutes()).padStart(2,"0");return`${B}-${r}-${G}${F}${Z}-${K}${J}`.slice(0,80)}function U(){const B=M(),I=fJ({key:B,niche:r,businessName:t||"Cliente",city:a,instagram:o,website:d,offer:m,mainPain:v,objections:w,leadsPerMonth:Number(y||0),conversationsCount:Number(k||0)});_(I.key)}async function D(){if(E)try{await navigator.clipboard.writeText(E),T(!0),setTimeout(()=>T(!1),1200)}catch{T(!1)}}function W(B){confirm(`Remover demo gerada "${B.label}" (${B.key})?`)&&(pJ(B.key),_(G=>G===B.key?null:G))}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Pd,{className:"w-6 h-6 text-[#f57f17]"}),"Demo Generator"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gere demos completas para o DEV (conversas, leads, mensagens e stats) e faa elas aparecerem no dropdown automaticamente."})]}),E&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200",children:["ltima demo:"," ",l.jsx("span",{className:"text-white font-semibold",children:E})]}),l.jsxs("button",{onClick:D,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Copiar key",children:[A?l.jsx(Cs,{className:"w-4 h-4 text-emerald-400"}):l.jsx(Df,{className:"w-4 h-4 text-[#f57f17]"}),A?"Copiado":"Copiar key"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Dados do cliente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha o bsico. O gerador cria uma base realista e coerente."})]}),l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(tr,{className:"w-4 h-4"}),"DEV-only"]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(xn,{label:"Nome do negcio",children:l.jsx("input",{value:t,onChange:B=>e(B.target.value),placeholder:"Ex: Clnica Capilar Lux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Nicho",children:l.jsx("select",{value:r,onChange:B=>n(B.target.value),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent",children:cQ.map(B=>l.jsxs("option",{value:B.key,children:[B.label,"  ",B.hint]},B.key))})}),l.jsx(xn,{label:"Cidade",children:l.jsx("input",{value:a,onChange:B=>i(B.target.value),placeholder:"Ex: So Paulo",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Instagram (opcional)",children:l.jsx("input",{value:o,onChange:B=>u(B.target.value),placeholder:"Ex: @clinicacapilarlux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Site / LP (opcional)",children:l.jsx("input",{value:d,onChange:B=>f(B.target.value),placeholder:"Ex: https://site.com",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Oferta (opcional)",children:l.jsx("input",{value:m,onChange:B=>p(B.target.value),placeholder:"Ex: Avaliao grtis + plano de tratamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Dor principal (opcional)",full:!0,children:l.jsx("input",{value:v,onChange:B=>b(B.target.value),placeholder:"Ex: queda de cabelo + autoestima",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Objees comuns (separe por vrgula)",full:!0,children:l.jsx("input",{value:w,onChange:B=>j(B.target.value),placeholder:"Ex: preo, confiana, tempo, parcelamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(xn,{label:"Leads/ms (aprox.)",children:l.jsx("input",{type:"number",value:y,onChange:B=>O(Number(B.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"N de conversas (mock)",children:l.jsx("input",{type:"number",value:k,onChange:B=>S(Number(B.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-7 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:U,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(Pd,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Gerar demo"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"*Isso salva no localStorage do navegador (DEV). Depois a gente pluga no Supabase.*"})]})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Demos geradas"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Essas aparecem no dropdown do DEV automaticamente."})]}),l.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:P.length})]}),l.jsx("div",{className:"mt-6 space-y-3",children:P.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma demo gerada ainda. Crie a primeira usando o formulrio."}):P.map(B=>l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:B.label}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["key: ",l.jsx("span",{className:"text-gray-300 font-semibold",children:B.key})]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["niche: ",l.jsx("span",{className:"text-gray-400",children:B.niche})," "," ",l.jsx("span",{className:"text-gray-500",children:new Date(B.createdAt).toLocaleString("pt-BR")})]})]}),l.jsx("button",{onClick:()=>W(B),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Excluir demo",children:l.jsx(Ps,{className:"w-4 h-4 text-red-300"})})]})},B.key))}),l.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Dica: pra abrir uma demo gerada, selecione ela no dropdown do topo e recarregue a pgina (ou o sistema recarrega sozinho se voc j estiver em modo demo)."})]})]})]})}function xn({label:t,children:e,full:r}){return l.jsxs("div",{className:r?"md:col-span-2":"",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:t}),e]})}const bb={enabled:!0,personality:"friendly",responseSpeed:"human",maxBubbles:2,maxEmojisPerBubble:1,useEmojis:!1,delayBase:450,delayPerChar:18,delayCap:1750,stageBehavior:{cold:{maxBubbles:2,requireQuestion:!0,ctaLevel:"soft"},warm:{maxBubbles:2,requireQuestion:!0,ctaLevel:"medium"},hot:{maxBubbles:2,requireQuestion:!1,ctaLevel:"hard"}},emotionMultipliers:{anxious:.6,skeptical:1.15,frustrated:1,excited:.9,price_sensitive:1.08,ready:.92,curious:1},escalateOnFrustration:!0,templates:{primeiro_contato:{bubble1:"Oi! Prazer, sou da DOCA.",bubble2:"Me conta: voc busca melhorar marketing, vendas ou operao?"},cliente_bravo:{bubble1:"Entendi. Sinto muito por isso.",bubble2:"Me diz o que aconteceu que eu resolvo pra voc agora."},orcamento:{bubble1:"Consigo sim! Pra eu te passar certinho:",bubble2:" pra voc ou pra equipe? E qual objetivo principal?"},agendamento:{bubble1:"Perfeito! Vamos marcar.",bubble2:"Qual melhor dia e horrio pra voc?"}}},O4="/api";async function fQ(){try{const t=await fetch(`${O4}/api/settings?key=agent_studio_config`);if(!t.ok)return null;const e=await t.json();return e?.value?{...bb,...e.value}:null}catch{return null}}async function hQ(t){try{return(await fetch(`${O4}/api/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_studio_config",value:t})})).ok}catch{return!1}}function pQ(){const[t,e]=C.useState("basico"),[r,n]=C.useState(bb),[a,i]=C.useState(bb),[o,u]=C.useState(!0),[d,f]=C.useState(!1),[m,p]=C.useState(null),[v,b]=C.useState("warm"),[w,j]=C.useState("curious"),[y,O]=C.useState([]),[k,S]=C.useState(""),[E,_]=C.useState(!1),A=C.useRef(null);C.useEffect(()=>{fQ().then(q=>{q&&(n(q),i(q)),u(!1)})},[]),C.useEffect(()=>{A.current?.scrollIntoView({behavior:"smooth"})},[y]);const T=C.useMemo(()=>JSON.stringify(r)!==JSON.stringify(a),[r,a]),P=(q,$)=>{p({type:q,text:$}),setTimeout(()=>p(null),3e3)};async function M(){f(!0);const q=await hQ(r);f(!1),q?(i(r),P("success","Configuraes salvas!")):P("error","Erro ao salvar")}function U(){n(a),P("success","Alteraes descartadas")}function D(q,$){n(H=>({...H,[q]:$}))}function W(q,$){n(H=>({...H,stageBehavior:{...H.stageBehavior,[q]:$}}))}function B(q,$){n(H=>({...H,emotionMultipliers:{...H.emotionMultipliers,[q]:$}}))}function I(q,$,H){n(ie=>({...ie,templates:{...ie.templates,[q]:{...ie.templates[q],[$]:H}}}))}function G(q){const $=r.emotionMultipliers[w],H=r.delayBase,ie=r.delayPerChar*q.length,he=(H+ie)*$;return Math.min(Math.round(he),r.delayCap)}function F(q){const $=q.toLowerCase();return $.includes("preo")||$.includes("valor")||$.includes("quanto custa")||$.includes("oramento")?"orcamento":$.includes("agendar")||$.includes("marcar")||$.includes("horrio")||$.includes("reunio")?"agendamento":$.includes("problema")||$.includes("no funciona")||$.includes("erro")||$.includes("reclamar")?"cliente_bravo":"primeiro_contato"}async function Z(){if(!k.trim()||E)return;const q=k.trim();S(""),O(ae=>[...ae,{role:"user",text:q}]),_(!0);const $=F(q),H=r.templates[$],ie=r.stageBehavior[v],he=G(H.bubble1);if(await new Promise(ae=>setTimeout(ae,he)),O(ae=>[...ae,{role:"agent",text:H.bubble1,delay:he}]),ie.maxBubbles>=2&&H.bubble2){const ae=G(H.bubble2);await new Promise(Pe=>setTimeout(Pe,ae));let ve=H.bubble2;ie.requireQuestion&&!ve.includes("?")&&(ve+={soft:" Me conta mais sobre seu cenrio?",medium:" Quer que eu te mostre um exemplo?",hard:" Bora marcar 15 min hoje ou amanh?"}[ie.ctaLevel]),O(Pe=>[...Pe,{role:"agent",text:ve,delay:ae}])}_(!1)}const K=C.useMemo(()=>{const q=r.emotionMultipliers[w],$=r.delayBase*q;return Math.round(Math.min($,r.delayCap))},[r,w]),J=[{key:"basico",label:"Bsico",icon:Sn},{key:"estagio",label:"Por Estgio",icon:dS},{key:"emocao",label:"Por Emoo",icon:Pa},{key:"templates",label:"Templates",icon:_i},{key:"preview",label:"Preview",icon:hS}];return o?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Z0,{className:"w-6 h-6 text-[#f57f17]"}),"Agent Studio"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento avanado do agente IA"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:U,disabled:!T||d,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 flex items-center gap-2 disabled:opacity-50",children:[l.jsx(uP,{className:"w-4 h-4"}),"Descartar"]}),l.jsxs("button",{onClick:M,disabled:!T||d,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2 disabled:opacity-50",children:[d?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar"]})]})]}),l.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between ${r.enabled?"bg-emerald-500/10 border border-emerald-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${r.enabled?"bg-emerald-500/20":"bg-red-500/20"}`,children:l.jsx(lP,{className:`w-5 h-5 ${r.enabled?"text-emerald-400":"text-red-400"}`})}),l.jsxs("div",{children:[l.jsxs("p",{className:`font-semibold ${r.enabled?"text-emerald-300":"text-red-300"}`,children:["Agente ",r.enabled?"Ativo":"Desativado"]}),l.jsx("p",{className:"text-xs text-gray-500",children:r.enabled?"Respondendo automaticamente":"Apenas humanos respondem"})]})]}),l.jsx("button",{onClick:()=>D("enabled",!r.enabled),className:`h-10 px-4 rounded-xl text-sm font-medium transition ${r.enabled?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:r.enabled?"Desativar":"Ativar"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(q=>l.jsxs("button",{onClick:()=>e(q.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${t===q.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(q.icon,{className:"w-4 h-4"}),q.label]},q.key))}),t==="basico"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Sa,{title:"Personalidade",icon:Z0,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(fs,{selected:r.personality==="formal",onClick:()=>D("personality","formal"),title:"Formal",desc:"Linguagem corporativa",hint:"B2B, jurdico"}),l.jsx(fs,{selected:r.personality==="casual",onClick:()=>D("personality","casual"),title:"Casual",desc:"Descontrado",hint:"Varejo, jovem"}),l.jsx(fs,{selected:r.personality==="friendly",onClick:()=>D("personality","friendly"),title:"Amigvel",desc:"Acolhedor",hint:"Servios, sade"})]})}),l.jsx(Sa,{title:"Velocidade de Resposta",icon:hL,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(fs,{selected:r.responseSpeed==="fast",onClick:()=>D("responseSpeed","fast"),title:"Rpido",desc:"< 1 segundo",hint:"Bot evidente"}),l.jsx(fs,{selected:r.responseSpeed==="normal",onClick:()=>D("responseSpeed","normal"),title:"Normal",desc:"1-2 segundos",hint:"Balanceado"}),l.jsx(fs,{selected:r.responseSpeed==="human",onClick:()=>D("responseSpeed","human"),title:"Humano",desc:"2-4 segundos",hint:"Mais natural"})]})}),l.jsx(Sa,{title:"Limites de Resposta",icon:sr,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Mx. bolhas por resposta",value:r.maxBubbles,min:1,max:4,onChange:q=>D("maxBubbles",q)}),l.jsx(wb,{label:"Usar emojis",desc:"Adiciona emojis nas respostas",value:r.useEmojis,onChange:q=>D("useEmojis",q)}),r.useEmojis&&l.jsx(vs,{label:"Mx. emojis por bolha",value:r.maxEmojisPerBubble,min:0,max:3,onChange:q=>D("maxEmojisPerBubble",q)})]})}),l.jsx(Sa,{title:"Delay de Digitao",icon:Ta,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Delay base (ms)",value:r.delayBase,min:100,max:1e3,onChange:q=>D("delayBase",q)}),l.jsx(vs,{label:"Delay por caractere (ms)",value:r.delayPerChar,min:5,max:50,onChange:q=>D("delayPerChar",q)}),l.jsx(vs,{label:"Delay mximo (ms)",value:r.delayCap,min:500,max:5e3,onChange:q=>D("delayCap",q)}),l.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Delay estimado para 50 chars:"}),l.jsxs("p",{className:"text-white font-semibold",children:[Math.min(r.delayBase+r.delayPerChar*50,r.delayCap),"ms"]})]})]})})]}),t==="estagio"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(tr,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Comportamento por Temperatura"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure como o agente se comporta em cada fase do funil. Leads frios precisam de mais perguntas, leads quentes podem receber CTAs mais diretos."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(D0,{stage:"cold",icon:pS,color:"blue",title:"Frio",desc:"Primeiro contato, desconhecido",behavior:r.stageBehavior.cold,onChange:q=>W("cold",q)}),l.jsx(D0,{stage:"warm",icon:Cd,color:"yellow",title:"Morno",desc:"Engajado, considerando",behavior:r.stageBehavior.warm,onChange:q=>W("warm",q)}),l.jsx(D0,{stage:"hot",icon:ln,color:"orange",title:"Quente",desc:"Pronto para fechar",behavior:r.stageBehavior.hot,onChange:q=>W("hot",q)})]})]}),t==="emocao"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Pa,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Multiplicadores de Emoo"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ajuste o tempo de resposta baseado na emoo detectada. Valores menores = resposta mais rpida. Lead ansioso? Responda rpido. Lead ctico? D tempo para digerir."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(oi,{emotion:"anxious",icon:ar,label:"Ansioso",desc:"Preocupado, urgente",value:r.emotionMultipliers.anxious,onChange:q=>B("anxious",q),hint:"Responda rpido para acalmar"}),l.jsx(oi,{emotion:"skeptical",icon:rP,label:"Ctico",desc:"Desconfiado, questionador",value:r.emotionMultipliers.skeptical,onChange:q=>B("skeptical",q),hint:"D tempo para processar"}),l.jsx(oi,{emotion:"frustrated",icon:aP,label:"Frustrado",desc:"Irritado, problema",value:r.emotionMultipliers.frustrated,onChange:q=>B("frustrated",q),hint:"Resposta imediata + escalar se persistir"}),l.jsx(oi,{emotion:"excited",icon:dL,label:"Empolgado",desc:"Animado, positivo",value:r.emotionMultipliers.excited,onChange:q=>B("excited",q),hint:"Mantenha a energia"}),l.jsx(oi,{emotion:"price_sensitive",icon:no,label:"Sensvel a Preo",desc:"Preocupado com custo",value:r.emotionMultipliers.price_sensitive,onChange:q=>B("price_sensitive",q),hint:"Construa valor antes do preo"}),l.jsx(oi,{emotion:"ready",icon:Ia,label:"Pronto",desc:"Decidido, quer fechar",value:r.emotionMultipliers.ready,onChange:q=>B("ready",q),hint:"Agilize o fechamento"}),l.jsx(oi,{emotion:"curious",icon:Lf,label:"Curioso",desc:"Explorando, interessado",value:r.emotionMultipliers.curious,onChange:q=>B("curious",q),hint:"Padro - neutro"})]}),l.jsx(wb,{label:"Escalar em frustrao",desc:"Notificar humano se frustrao persistir",value:r.escalateOnFrustration,onChange:q=>D("escalateOnFrustration",q)})]}),t==="templates"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(_i,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Templates por Inteno"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure as respostas padro para cada tipo de inteno detectada. O agente usa estes templates como base e adapta conforme o contexto."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(gd,{intent:"primeiro_contato",title:"Primeiro Contato",desc:"Lead novo, primeira interao",template:r.templates.primeiro_contato,onChange:(q,$)=>I("primeiro_contato",q,$)}),l.jsx(gd,{intent:"cliente_bravo",title:"Cliente Bravo",desc:"Reclamao ou problema",template:r.templates.cliente_bravo,onChange:(q,$)=>I("cliente_bravo",q,$)}),l.jsx(gd,{intent:"orcamento",title:"Oramento",desc:"Pergunta sobre preo",template:r.templates.orcamento,onChange:(q,$)=>I("orcamento",q,$)}),l.jsx(gd,{intent:"agendamento",title:"Agendamento",desc:"Quer marcar reunio",template:r.templates.agendamento,onChange:(q,$)=>I("agendamento",q,$)})]})]}),t==="preview"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(hS,{className:"w-5 h-5 text-[#f57f17]"}),"Preview em Tempo Real"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Teste suas configuraes"})]}),l.jsxs("button",{onClick:()=>O([]),className:"h-8 px-3 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",children:[l.jsx(Ps,{className:"w-3 h-3"}),"Limpar"]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[y.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(sr,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"}),l.jsx("p",{className:"text-xs mt-1",children:"Use os controles ao lado para simular cenrios"})]}):y.map((q,$)=>l.jsx("div",{className:`flex ${q.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${q.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:[l.jsx("p",{className:"text-sm",children:q.text}),q.delay&&l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[" ",q.delay,"ms"]})]})},$)),E&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),l.jsx("div",{ref:A})]}),l.jsx("div",{className:"p-4 border-t border-white/10",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:k,onChange:q=>S(q.target.value),onKeyDown:q=>q.key==="Enter"&&!q.shiftKey&&Z(),placeholder:"Digite uma mensagem de teste...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",disabled:E}),l.jsx("button",{onClick:Z,disabled:E||!k.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(Ss,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Sa,{title:"Estgio Simulado",icon:dS,children:l.jsx("div",{className:"space-y-2",children:[{key:"cold",label:"Frio",icon:pS},{key:"warm",label:"Morno",icon:Cd},{key:"hot",label:"Quente",icon:ln}].map(q=>l.jsxs("button",{onClick:()=>b(q.key),className:`w-full p-3 rounded-xl flex items-center gap-3 transition ${v===q.key?"bg-[#f57f17]/20 border border-[#f57f17]/30":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[l.jsx(q.icon,{className:`w-4 h-4 ${v===q.key?"text-[#f57f17]":"text-gray-400"}`}),l.jsx("span",{className:v===q.key?"text-white":"text-gray-400",children:q.label})]},q.key))})}),l.jsxs(Sa,{title:"Emoo Simulada",icon:Pa,children:[l.jsxs("select",{value:w,onChange:q=>j(q.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"curious",className:"bg-black",children:"Curioso"}),l.jsx("option",{value:"anxious",className:"bg-black",children:"Ansioso"}),l.jsx("option",{value:"skeptical",className:"bg-black",children:"Ctico"}),l.jsx("option",{value:"frustrated",className:"bg-black",children:"Frustrado"}),l.jsx("option",{value:"excited",className:"bg-black",children:"Empolgado"}),l.jsx("option",{value:"price_sensitive",className:"bg-black",children:"Sensvel a Preo"}),l.jsx("option",{value:"ready",className:"bg-black",children:"Pronto"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Multiplicador: ",l.jsxs("span",{className:"text-white font-semibold",children:[r.emotionMultipliers[w].toFixed(2),"x"]})]})]}),l.jsx(Sa,{title:"Configurao Ativa",icon:tL,children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Delay base"}),l.jsxs("span",{className:"text-white",children:[K,"ms"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Max bolhas"}),l.jsx("span",{className:"text-white",children:r.stageBehavior[v].maxBubbles})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"CTA level"}),l.jsx("span",{className:"text-white capitalize",children:r.stageBehavior[v].ctaLevel})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Exige pergunta"}),l.jsx("span",{className:"text-white",children:r.stageBehavior[v].requireQuestion?"Sim":"No"})]})]})}),l.jsx(Sa,{title:"Testes Rpidos",icon:un,children:l.jsx("div",{className:"space-y-2",children:["Oi, quero saber mais","Quanto custa?","Quero agendar uma reunio","No t funcionando!"].map(q=>l.jsx("button",{onClick:()=>S(q),className:"w-full text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-300 transition",children:q},q))})})]})]}),m&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${m.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[m.type==="success"?l.jsx($a,{className:"w-4 h-4"}):l.jsx(Ib,{className:"w-4 h-4"}),m.text]})]})}function Sa({title:t,icon:e,children:r,className:n}){return l.jsxs("div",{className:`rounded-[28px] border border-white/10 bg-white/5 p-6 ${n||""}`,children:[t&&l.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e&&l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),t]}),r]})}function fs({selected:t,onClick:e,title:r,desc:n,hint:a}){return l.jsxs("button",{onClick:e,className:`p-4 rounded-xl border text-left transition ${t?"border-[#f57f17]/50 bg-[#f57f17]/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[l.jsx("p",{className:"text-white font-semibold",children:r}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n}),a&&l.jsx("p",{className:"text-xs text-[#f57f17] mt-1",children:a})]})}function vs({label:t,value:e,min:r,max:n,onChange:a}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsxs("p",{className:"text-xs text-gray-500",children:[r," - ",n]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:r,max:n,value:e,onChange:i=>a(Number(i.target.value)),className:"w-24 accent-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold w-12 text-right",children:e})]})]})}function wb({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function D0({stage:t,icon:e,color:r,title:n,desc:a,behavior:i,onChange:o}){const u={blue:"border-blue-500/30 bg-blue-500/5",yellow:"border-yellow-500/30 bg-yellow-500/5",orange:"border-[#f57f17]/30 bg-[#f57f17]/5"},d={blue:"text-blue-400",yellow:"text-yellow-400",orange:"text-[#f57f17]"};return l.jsxs("div",{className:`rounded-[28px] border ${u[r]} p-6`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 flex items-center justify-center",children:l.jsx(e,{className:`w-5 h-5 ${d[r]}`})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:n}),l.jsx("p",{className:"text-xs text-gray-500",children:a})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Mx bolhas",value:i.maxBubbles,min:1,max:4,onChange:f=>o({...i,maxBubbles:f})}),l.jsx(wb,{label:"Exigir pergunta",desc:"Sempre termina com pergunta",value:i.requireQuestion,onChange:f=>o({...i,requireQuestion:f})}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-white font-medium mb-2",children:"Nvel do CTA"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["soft","medium","hard"].map(f=>l.jsx("button",{onClick:()=>o({...i,ctaLevel:f}),className:`h-9 rounded-lg text-xs font-medium capitalize transition ${i.ctaLevel===f?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:f},f))})]})]})]})}function oi({emotion:t,icon:e,label:r,desc:n,value:a,onChange:i,hint:o}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:r}),l.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:a,onChange:u=>i(Number(u.target.value)),className:"flex-1 accent-[#f57f17]"}),l.jsxs("span",{className:"text-white font-semibold w-12 text-right",children:[a.toFixed(2),"x"]})]}),o&&l.jsx("p",{className:"text-xs text-gray-600 mt-2",children:o})]})}function gd({intent:t,title:e,desc:r,template:n,onChange:a}){return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:e}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 1"}),l.jsx("textarea",{value:n.bubble1,onChange:i=>a("bubble1",i.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 2"}),l.jsx("textarea",{value:n.bubble2,onChange:i=>a("bubble2",i.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]})]})]})}const fl="/api",dC={admin:{label:"Admin",color:"text-red-400",bg:"bg-red-500/20"},manager:{label:"Gerente",color:"text-amber-400",bg:"bg-amber-500/20"},user:{label:"Usurio",color:"text-blue-400",bg:"bg-blue-500/20"}};function mQ(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,i]=C.useState(!0),[o,u]=C.useState(""),[d,f]=C.useState(null),[m,p]=C.useState(null),[v,b]=C.useState(!1),[w,j]=C.useState(null),[y,O]=C.useState(!1),[k,S]=C.useState(""),[E,_]=C.useState(""),[A,T]=C.useState("user"),[P,M]=C.useState("");C.useEffect(()=>{U()},[]);const U=async()=>{try{i(!0);const[F,Z]=await Promise.all([fetch(`${fl}/users`),fetch(`${fl}/tenants`)]),K=await F.json(),J=await Z.json();e(K||[]),n(J||[])}catch(F){console.error("Error loading data:",F)}finally{i(!1)}},D=()=>{j(null),S(""),_(""),T("user"),M(r[0]?.id||""),b(!0)},W=F=>{j(F),S(F.name),_(F.email),T(F.role),M(F.tenant_id),b(!0)},B=async()=>{if(!(!k||!E||!P))try{O(!0),w?await fetch(`${fl}/users?id=${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k,email:E,role:A,tenant_id:P})}):await fetch(`${fl}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k,email:E,role:A,tenant_id:P})}),b(!1),U()}catch(F){console.error("Error saving user:",F)}finally{O(!1)}},I=async F=>{if(confirm(`Deseja remover ${F.name}?`))try{await fetch(`${fl}/users?id=${F.id}`,{method:"DELETE"}),U()}catch(Z){console.error("Error deleting user:",Z)}},G=t.filter(F=>!(o&&!F.name.toLowerCase().includes(o.toLowerCase())&&!F.email.toLowerCase().includes(o.toLowerCase())||d&&F.tenant_id!==d||m&&F.role!==m));return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Br,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Usurios"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," usurios cadastrados"]})]}),l.jsxs("button",{onClick:D,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Novo Usurio"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[l.jsx(ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:o,onChange:F=>u(F.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("select",{value:d||"",onChange:F=>f(F.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Clientes"}),r.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]}),l.jsxs("select",{value:m||"",onChange:F=>p(F.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"user",children:"Usurio"})]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Usurio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Cliente"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-400 uppercase",children:"Aes"})]})}),l.jsx("tbody",{children:G.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum usurio encontrado"})}):G.map(F=>{const Z=dC[F.role]||dC.user;return l.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02]",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:F.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-white",children:F.name}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx($l,{className:"w-3 h-3"}),F.email]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(on,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-300",children:F.tenant?.name||""})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold ${Z.bg} ${Z.color}`,children:[l.jsx(dP,{className:"w-3 h-3"}),Z.label]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>W(F),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-all",title:"Editar",children:l.jsx(oP,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>I(F),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/20 flex items-center justify-center text-gray-400 hover:text-red-400 transition-all",title:"Excluir",children:l.jsx(Ps,{className:"w-4 h-4"})})]})})]},F.id)})})]})}),v&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>b(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:w?"Editar Usurio":"Novo Usurio"}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-white",children:l.jsx(dn,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome"}),l.jsx("input",{type:"text",value:k,onChange:F=>S(F.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Nome completo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:E,onChange:F=>_(F.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"email@exemplo.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cliente"}),l.jsxs("select",{value:P,onChange:F=>M(F.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Selecione..."}),r.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),l.jsxs("select",{value:A,onChange:F=>T(F.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"user",children:"Usurio"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>b(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:B,disabled:y||!k||!E||!P,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Cs,{className:"w-4 h-4"}),w?"Salvar":"Criar"]})]})]})})]})]})}const vd="/api";function gQ({onConfigure:t}){const[e,r]=C.useState([]),[n,a]=C.useState(!0),[i,o]=C.useState(""),[u,d]=C.useState(!1),[f,m]=C.useState(null),[p,v]=C.useState(!1),[b,w]=C.useState(""),[j,y]=C.useState(""),[O,k]=C.useState(""),[S,E]=C.useState(""),[_,A]=C.useState("");C.useEffect(()=>{T()},[]);const T=async()=>{try{a(!0);const G=await(await fetch(`${vd}/tenants`)).json();r(G||[])}catch(I){console.error("Error loading tenants:",I)}finally{a(!1)}},P=I=>I.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),M=()=>{m(null),w(""),y(""),k(""),E(""),A(""),d(!0)},U=I=>{m(I),w(I.name),y(I.slug),k(I.phone||""),E(I.address||""),A(I.specialty||""),d(!0)},D=async()=>{if(!(!b||!j))try{v(!0),f?await fetch(`${vd}/tenants?id=${f.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,slug:j,phone:O||null,address:S||null,specialty:_||null})}):await fetch(`${vd}/tenants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,slug:j,phone:O||null,address:S||null,specialty:_||null})}),d(!1),T()}catch(I){console.error("Error saving tenant:",I)}finally{v(!1)}},W=async I=>{try{await fetch(`${vd}/tenants?id=${I.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!I.active})}),T()}catch(G){console.error("Error toggling tenant:",G)}},B=e.filter(I=>!(i&&!I.name.toLowerCase().includes(i.toLowerCase())&&!I.slug.toLowerCase().includes(i.toLowerCase())));return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(on,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Clientes"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," clientes cadastrados"]})]}),l.jsxs("button",{onClick:M,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Novo Cliente"]})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:i,onChange:I=>o(I.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(I=>l.jsxs("div",{className:`rounded-2xl border bg-white/[0.02] p-5 transition-all ${I.active?"border-white/10":"border-red-500/30 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold",children:I.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white",children:I.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",I.slug]})]})]}),l.jsx("button",{onClick:()=>W(I),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${I.active?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,title:I.active?"Desativar":"Ativar",children:l.jsx(lP,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[I.specialty&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(JD,{className:"w-4 h-4"}),l.jsx("span",{children:I.specialty})]}),I.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(Gn,{className:"w-4 h-4"}),l.jsx("span",{children:I.phone})]}),I.address&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(iP,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate",children:I.address})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>U(I),className:"flex-1 h-9 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-sm text-gray-300 flex items-center justify-center gap-2 transition-all",children:[l.jsx(oP,{className:"w-4 h-4"}),"Editar"]}),t&&l.jsxs("button",{onClick:()=>t(I.id),className:"flex-1 h-9 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm text-[#f57f17] flex items-center justify-center gap-2 transition-all",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Config"]})]})]},I.id))}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>d(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:f?"Editar Cliente":"Novo Cliente"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-white",children:l.jsx(dn,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome da Empresa"}),l.jsx("input",{type:"text",value:b,onChange:I=>{w(I.target.value),f||y(P(I.target.value))},className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Ex: Clnica Dr. Hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Slug"}),l.jsx("input",{type:"text",value:j,onChange:I=>y(I.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"clinica-dr-hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Especialidade"}),l.jsx("input",{type:"text",value:_,onChange:I=>A(I.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Transplante Capilar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),l.jsx("input",{type:"text",value:O,onChange:I=>k(I.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"+55 31 99999-9999"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Endereo"}),l.jsx("input",{type:"text",value:S,onChange:I=>E(I.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Rua, nmero, cidade"})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>d(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:D,disabled:p||!b||!j,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Cs,{className:"w-4 h-4"}),f?"Salvar":"Criar"]})]})]})})]})]})}const vQ={admin:["view_all_tenants","manage_users","manage_tenants","view_metrics","export_data","manage_settings"],manager:["view_metrics","export_data"],user:[]};function yQ(){const{profile:t,tenant:e}=If(),r=t?.role||"user",n=vQ[r]||[],a=v=>n.includes(v),i=a("view_all_tenants"),o=a("manage_users"),u=a("manage_tenants"),d=a("view_metrics"),f=a("export_data"),m=a("manage_settings"),p=i?null:e?.id;return{role:r,permissions:n,hasPermission:a,canViewAllTenants:i,canManageUsers:o,canManageTenants:u,canViewMetrics:d,canExportData:f,canManageSettings:m,allowedTenantId:p,isAdmin:r==="admin",isManager:r==="manager",isUser:r==="user"}}const xQ="/api";function hl({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-500 uppercase",children:t}),l.jsx(r,{className:`w-4 h-4 ${n}`})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function bQ(){const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(!1);C.useEffect(()=>{o()},[]);const o=async(d=!1)=>{try{d?i(!0):n(!0);const m=await(await fetch(`${xQ}/tenants/metrics`)).json();e(Array.isArray(m)?m:[m])}catch(f){console.error("Error loading metrics:",f)}finally{n(!1),i(!1)}},u=t.reduce((d,f)=>({conversations:d.conversations+f.metrics.conversations,leads:d.leads+f.metrics.leads,qualified:d.qualified+f.metrics.qualified_leads,messages:d.messages+f.metrics.messages,tokens:d.tokens+f.metrics.tokens_used}),{conversations:0,leads:0,qualified:0,messages:0,tokens:0});return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(_s,{className:"w-6 h-6 text-[#f57f17]"}),"Mtricas por Cliente"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consumo e performance de cada tenant"})]}),l.jsxs("button",{onClick:()=>o(!0),disabled:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-gray-300 font-medium flex items-center gap-2 disabled:opacity-50",children:[l.jsx(_n,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Atualizar"]})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/5 p-5",children:[l.jsx("h3",{className:"text-sm font-semibold text-[#f57f17] mb-4",children:"TOTAIS GERAIS"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsx(hl,{label:"Conversas",value:u.conversations,icon:sr,color:"text-blue-400"}),l.jsx(hl,{label:"Leads",value:u.leads,icon:Br,color:"text-emerald-400"}),l.jsx(hl,{label:"Qualificados",value:u.qualified,icon:Da,color:"text-amber-400"}),l.jsx(hl,{label:"Mensagens",value:u.messages,icon:sr,color:"text-cyan-400"}),l.jsx(hl,{label:"Tokens",value:u.tokens.toLocaleString(),icon:un,color:"text-purple-400"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase",children:"Por Cliente"}),t.map(d=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-5",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx(on,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white",children:d.tenant_name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",d.tenant_slug]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.conversations}),l.jsx("p",{className:"text-xs text-gray-500",children:"Conversas"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Leads"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-emerald-400",children:d.metrics.qualified_leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Qualificados"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsxs("p",{className:"text-lg font-bold text-amber-400",children:[d.metrics.conversion_rate,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mensagens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-cyan-400",children:d.metrics.assistant_messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Respostas IA"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-purple-400",children:d.metrics.tokens_used.toLocaleString()}),l.jsx("p",{className:"text-xs text-gray-500",children:"Tokens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.avg_messages_per_conversation}),l.jsx("p",{className:"text-xs text-gray-500",children:"Msgs/Conv"})]})]})]},d.tenant_id))]})]})}const fC="/api",wQ=[{id:"mon",label:"Seg"},{id:"tue",label:"Ter"},{id:"wed",label:"Qua"},{id:"thu",label:"Qui"},{id:"fri",label:"Sex"},{id:"sat",label:"Sb"},{id:"sun",label:"Dom"}];function jQ({tenantId:t,onBack:e}){const[r,n]=C.useState(null),[a,i]=C.useState(!0),[o,u]=C.useState(!1),[d,f]=C.useState("agent"),[m,p]=C.useState(""),[v,b]=C.useState(""),[w,j]=C.useState(""),[y,O]=C.useState(!0),[k,S]=C.useState("friendly"),[E,_]=C.useState(!0),[A,T]=C.useState(2),[P,M]=C.useState(450),[U,D]=C.useState(18),[W,B]=C.useState(1750),[I,G]=C.useState(["mon","tue","wed","thu","fri"]),[F,Z]=C.useState("09:00"),[K,J]=C.useState("18:00"),[q,$]=C.useState("");C.useEffect(()=>{t&&H(t)},[t]);const H=async ae=>{try{i(!0);const ge=(await(await fetch(`${fC}/tenants`)).json()).find(se=>se.id===ae);ge&&(n(ge),p(ge.zapi_config?.instance_id||""),b(ge.zapi_config?.token||""),j(ge.zapi_config?.clientToken||""),O(ge.agent_config?.enabled??!0),S(ge.agent_config?.personality||"friendly"),_(ge.agent_config?.useEmojis??!0),T(ge.agent_config?.maxBubbles??2),M(ge.agent_config?.delays?.base??450),D(ge.agent_config?.delays?.perChar??18),B(ge.agent_config?.delays?.cap??1750),G(ge.business_hours?.days||["mon","tue","wed","thu","fri"]),Z(ge.business_hours?.open||"09:00"),J(ge.business_hours?.close||"18:00"),$(ge.prompt||""))}catch(ve){console.error("Error loading tenant:",ve)}finally{i(!1)}},ie=async()=>{if(r)try{u(!0);const ae={};d==="zapi"?ae.zapi_config={instance_id:m||null,token:v||null,clientToken:w||null}:d==="agent"?ae.agent_config={enabled:y,personality:k,useEmojis:E,maxBubbles:A,delays:{base:P,perChar:U,cap:W}}:d==="hours"?ae.business_hours={days:I,open:F,close:K}:d==="prompt"&&(ae.prompt=q),await fetch(`${fC}/tenants?id=${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),alert("Configuraes salvas!")}catch(ae){console.error("Error saving:",ae),alert("Erro ao salvar")}finally{u(!1)}},he=ae=>{G(ve=>ve.includes(ae)?ve.filter(Pe=>Pe!==ae):[...ve,ae])};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[e&&l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(XD,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Sn,{className:"w-6 h-6 text-[#f57f17]"}),"Configurar: ",r.name]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",r.slug]})]})]}),l.jsx("div",{className:"flex gap-2 border-b border-white/10 pb-2",children:[{id:"agent",label:"Agente IA",icon:Z0},{id:"zapi",label:"Z-API",icon:Gn},{id:"hours",label:"Horrios",icon:Ta},{id:"prompt",label:"Prompt",icon:sr}].map(ae=>l.jsxs("button",{onClick:()=>f(ae.id),className:`px-4 py-2 rounded-xl flex items-center gap-2 text-sm font-medium transition-all ${d===ae.id?"bg-[#f57f17]/20 text-[#f57f17] border border-[#f57f17]/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[l.jsx(ae.icon,{className:"w-4 h-4"}),ae.label]},ae.id))}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-6",children:[d==="zapi"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao Z-API"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instance ID"}),l.jsx("input",{type:"text",value:m,onChange:ae=>p(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"3E9D7E00D9E221F57F51AAEE8857FDA1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Token"}),l.jsx("input",{type:"password",value:v,onChange:ae=>b(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Client Token"}),l.jsx("input",{type:"password",value:w,onChange:ae=>j(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]})]}),d==="agent"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao do Agente"}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Agente Ativo"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ativar/desativar respostas automticas"})]}),l.jsx("button",{onClick:()=>O(!y),className:`h-8 w-14 rounded-full transition-all ${y?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${y?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Personalidade"}),l.jsxs("select",{value:k,onChange:ae=>S(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"friendly",children:"Amigvel"}),l.jsx("option",{value:"professional",children:"Profissional"}),l.jsx("option",{value:"casual",children:"Casual"}),l.jsx("option",{value:"formal",children:"Formal"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Usar Emojis"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Incluir emojis nas respostas"})]}),l.jsx("button",{onClick:()=>_(!E),className:`h-8 w-14 rounded-full transition-all ${E?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${E?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Mx. Bolhas por Resposta"}),l.jsx("input",{type:"number",value:A,onChange:ae=>T(parseInt(ae.target.value)||2),min:1,max:5,className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Base (ms)"}),l.jsx("input",{type:"number",value:P,onChange:ae=>M(parseInt(ae.target.value)||450),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay/Char (ms)"}),l.jsx("input",{type:"number",value:U,onChange:ae=>D(parseInt(ae.target.value)||18),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Mx (ms)"}),l.jsx("input",{type:"number",value:W,onChange:ae=>B(parseInt(ae.target.value)||1750),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="hours"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Horrio de Funcionamento"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Dias Ativos"}),l.jsx("div",{className:"flex gap-2",children:wQ.map(ae=>l.jsx("button",{onClick:()=>he(ae.id),className:`h-10 w-12 rounded-lg text-sm font-medium transition-all ${I.includes(ae.id)?"bg-[#f57f17] text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:ae.label},ae.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Abre s"}),l.jsx("input",{type:"time",value:F,onChange:ae=>Z(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fecha s"}),l.jsx("input",{type:"time",value:K,onChange:ae=>J(ae.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="prompt"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Prompt do Agente"}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Instrues personalizadas para o agente deste cliente"}),l.jsx("textarea",{value:q,onChange:ae=>$(ae.target.value),rows:12,className:"w-full px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50 resize-none font-mono text-sm",placeholder:"Voc  um assistente especializado em..."})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:ie,disabled:o,className:"h-10 px-6 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50",children:[o?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ao,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]}):l.jsx("div",{className:"text-center text-gray-500 py-12",children:"Selecione um cliente para configurar"})}function _Q({open:t,onClose:e,title:r,subtitle:n,children:a,maxWidthClass:i="max-w-3xl"}){return C.useEffect(()=>{if(!t)return;const o=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),t?l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:l.jsxs("div",{className:["w-full",i,"rounded-[28px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl"].join(" "),children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[r&&l.jsx("h3",{className:"text-lg font-bold text-white truncate",children:r}),n&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Fechar",children:l.jsx(dn,{className:"w-4 h-4 text-gray-300"})})]}),l.jsx("div",{className:"p-6",children:a})]})})]}):null}function SQ(t){return t==="alto"?"border-emerald-500/25 bg-emerald-500/10 text-emerald-300":t==="mdio"?"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]":"border-white/10 bg-white/5 text-gray-300"}function NQ(t){return t==="green"?"text-emerald-400":t==="cyan"?"text-cyan-400":t==="red"?"text-red-400":"text-[#f57f17]"}function kQ(t){return t==="green"?"border-emerald-500/30 bg-emerald-500/10":t==="cyan"?"border-cyan-500/30 bg-cyan-500/10":t==="red"?"border-red-500/30 bg-red-500/10":"border-[#f57f17]/25 bg-[#f57f17]/10"}function OQ({open:t,onClose:e,onGoToAnalysis:r}){const[n,a]=C.useState(null),i=C.useMemo(()=>[{id:"s1",title:"Fila de follow-up (Prontos  agendar)",reason:"Voc tem leads com alta inteno. Se voc chamar agora, aumenta muito a chance de agendar.",impact:"alto",actionLabel:"Copiar mensagem",messageToCopy:"Oi! Vi que voc ficou com interesse  consigo te ajudar a agendar uma avaliao rpida. Qual melhor horrio hoje ou amanh?",icon:tP,tone:"green"},{id:"s2",title:"Responder objeo de preo com ROI e prova social",reason:"Quando preo aparece, a melhor rota  reduzir risco: mostrar resultado + comparao + garantia.",impact:"alto",actionLabel:"Copiar argumento",messageToCopy:"Entendo total sobre o preo. Pra ficar claro: o objetivo  gerar resultado e se pagar. Posso te mostrar cases e como funciona na prtica  e a voc decide com segurana.",icon:Ns,tone:"orange"},{id:"s3",title:"Qualificao rpida (curioso  pronto)",reason:"Muita gente fica no curioso por falta de clareza. Faa 2 perguntas e j direciona pra oferta certa.",impact:"mdio",actionLabel:"Copiar roteiro",messageToCopy:"Pra eu te orientar certinho: 1) qual seu objetivo principal agora? 2) voc quer algo mais rpido (resultado em curto prazo) ou algo mais definitivo?",icon:Ia,tone:"cyan"},{id:"s4",title:"Atalho: mandar udio humano + CTA simples",reason:"Quando o lead est ctico/frustrado, uma mensagem humana reduz resistncia e acelera resposta.",impact:"mdio",actionLabel:"Copiar texto",messageToCopy:"Vou ser bem direto e humano: eu entendi seu caso. Se voc topar, eu te explico o melhor caminho em 2 minutos e te digo se vale a pena pra voc. Pode ser?",icon:sr,tone:"red"}],[]);async function o(u,d){try{await navigator.clipboard.writeText(u),a(d),setTimeout(()=>a(null),1200)}catch{a(null)}}return l.jsxs(_Q,{open:t,onClose:e,title:"Sugestes IA",subtitle:"Aes prontas para aumentar converso (copie e aplique em 1 clique).",maxWidthClass:"max-w-4xl",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-[#f57f17]/25 bg-[#f57f17]/10 flex items-center justify-center",children:l.jsx(tr,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Sugestes geradas automaticamente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hoje isso  mock. Amanh a IA vai puxar das conversas e do funil."})]})]}),r&&l.jsxs("button",{onClick:()=>{e(),r()},className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(un,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),l.jsx(ZC,{className:"w-4 h-4 text-[#f57f17]"})]})]}),l.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.map(u=>l.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-black/50 p-5 hover:bg-black/60 transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[l.jsx("div",{className:["h-11 w-11 rounded-2xl border flex items-center justify-center shrink-0",kQ(u.tone)].join(" "),children:l.jsx(u.icon,{className:["w-5 h-5",NQ(u.tone)].join(" ")})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:u.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.reason})]})]}),l.jsxs("span",{className:["shrink-0 text-[11px] font-semibold rounded-full border px-2.5 py-1",SQ(u.impact)].join(" "),children:["Impacto ",u.impact]})]}),l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Mensagem pronta"}),l.jsx("p",{className:"text-sm text-gray-200 mt-2 leading-relaxed",children:u.messageToCopy}),l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>o(u.messageToCopy,u.id),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[n===u.id?l.jsx(Cs,{className:"w-4 h-4 text-emerald-400"}):l.jsx(Df,{className:"w-4 h-4 text-[#f57f17]"}),n===u.id?"Copiado":u.actionLabel]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Cole no WhatsApp e mande."})]})]})]},u.id))}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 flex-wrap",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Prximo upgrade: a IA vai gerar sugestes por conversa, estgio do funil e objees detectadas."}),l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Fechar"})]})]})}function EQ(){return"/api".replace(/\/$/,"")}const E4=EQ();async function AQ(){const t=await fetch(`${E4}/agent/status`);if(!t.ok)throw new Error(await t.text());return t.json()}async function CQ(t){const e=await fetch(`${E4}/agent/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(!e.ok)throw new Error(await e.text());return e.json()}function PQ(){const[t,e]=C.useState(null),[r,n]=C.useState(!1);C.useEffect(()=>{AQ().then(e).catch(()=>e({enabled:!1,updated_at:null}))},[]);const a=async()=>{if(t){n(!0);try{const o=await CQ(!t.enabled);e(o)}finally{n(!1)}}},i=!!t?.enabled;return l.jsxs("button",{onClick:a,disabled:r,className:["h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",i?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-red-500/30 bg-red-500/10 text-red-200",r?"opacity-70 cursor-not-allowed":"hover:opacity-90"].join(" "),title:"Liga/desliga o agente globalmente",children:[l.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:i?"#34d399":"#ef4444"}}),"Agente: ",i?"ON":"OFF"]})}function TQ({value:t,onChange:e}){const[r,n]=C.useState([]),[a,i]=C.useState(!1),[o,u]=C.useState(!0);C.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await _L();n(p||[])}catch(p){console.error("Failed to load tenants:",p)}finally{u(!1)}},f=r.find(p=>p.id===t),m=f?f.name:"Todos os Clientes";return o?l.jsxs("div",{className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(on,{className:"w-4 h-4 animate-pulse"}),l.jsx("span",{children:"Carregando..."})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(p=>!p),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx(on,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"max-w-[160px] truncate",children:m}),l.jsx(ex,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Selecionar Cliente"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filtrar dados por cliente"})]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[l.jsxs("button",{onClick:()=>{e(null),i(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t?"":"bg-[#f57f17]/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-white/10 flex items-center justify-center",children:l.jsx(on,{className:"w-4 h-4 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Todos os Clientes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Viso geral"})]})]}),!t&&l.jsx(Cs,{className:"w-4 h-4 text-[#f57f17]"})]}),r.map(p=>l.jsxs("button",{onClick:()=>{e(p.id),i(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t===p.id?"bg-[#f57f17]/10":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:p.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:p.name}),l.jsx("p",{className:"text-xs text-gray-500",children:p.specialty||p.slug})]})]}),t===p.id&&l.jsx(Cs,{className:"w-4 h-4 text-[#f57f17]"})]},p.id))]})]})]})]})}function pl(...t){return t.filter(Boolean).join(" ")}function RQ(t){const r=new Date().getTime()-t.getTime(),n=Math.floor(r/6e4),a=Math.floor(n/60),i=Math.floor(a/24);return n<1?"Agora":n<60?`${n}min atrs`:a<24?`${a}h atrs`:`${i}d atrs`}function MQ(){const[t,e]=C.useState("dashboard"),[r,n]=C.useState(null),[a,i]=C.useState([]),[o,u]=C.useState([]),[d,f]=C.useState(null),[m,p]=C.useState(null),[v,b]=C.useState(null),[w,j]=C.useState(!1),[y,O]=C.useState([]),[k,S]=C.useState(!0),[E,_]=C.useState(new Date),[A,T]=C.useState(!1),[P,M]=C.useState(!1),[U,D]=C.useState(!1),[W,B]=C.useState(!1),[I,G]=C.useState([]),[F,Z]=C.useState(null),K=po(),{isAdmin:J,canManageUsers:q,canManageTenants:$,canViewMetrics:H}=yQ(),{profile:ie,tenant:he}=If();C.useEffect(()=>{!J&&he?.id&&!m&&p(he.id)},[J,he,m]);const ae=K?N4():"default",ve=K?mo():null,Pe=C.useMemo(()=>K?dJ():[],[K]),ge=C.useMemo(()=>{const fe=[{id:"dashboard",label:"Dashboard",icon:iL},{id:"conversations",label:"Conversas",icon:sr},{id:"leads",label:"Leads",icon:Br},{id:"funnel",label:"Funil",icon:Da},{id:"analysis",label:"Anlise IA",icon:_s},{id:"reports",label:"Relatrios",icon:_i},{id:"training",label:"Treinamento",icon:Pa},{id:"integrations",label:"Integraes",icon:rx},{id:"agent-studio",label:"Agent Studio",icon:uL},{id:"settings",label:"Configuraes",icon:Sn}];return q&&fe.push({id:"users",label:"Usurios",icon:Br}),$&&fe.push({id:"tenants",label:"Clientes",icon:on}),H&&fe.push({id:"metrics",label:"Mtricas",icon:_s}),K&&fe.splice(5,0,{id:"demo-generator",label:"Demo Generator",icon:Pd}),fe},[K,q,$,H]),se=I.filter(fe=>!fe.read).length,be=fe=>{G(ze=>ze.map(Ie=>Ie.id===fe?{...Ie,read:!0}:Ie))},Ne=()=>{G(fe=>fe.map(ze=>({...ze,read:!0})))};C.useEffect(()=>{if(X(!0),K)return;const fe=setInterval(()=>{_(new Date),X(!1,m)},3e4);return()=>clearInterval(fe)},[]),C.useEffect(()=>{K||X(!1,m)},[m]);const X=async(fe=!1,ze)=>{const Ie=ze!==void 0?ze:m;try{if(fe&&S(!0),T(!0),K&&ve){n(ve.stats);const Xe=(ve.conversations||[]).map(qe=>({id:qe.id,chat_id:qe.phone,phone:qe.phone,name:qe.name,last_message:qe.last_message,status:qe.status,updated_at:qe.updated_at,created_at:qe.created_at??qe.updated_at,current_emotion:qe.current_emotion,lead_id:qe.lead_id,tags:qe.tags||[]})),Be=(ve.leads||[]).map(qe=>({id:qe.id,name:qe.name,phone:qe.phone,status:qe.status??"new",score:qe.score,tags:qe.tags||[],stage:qe.stage,urgency_level:qe.urgency_level,health_score:qe.health_score,conversion_probability:qe.conversion_probability,created_at:qe.created_at,updated_at:qe.updated_at}));i(Xe),u(Be),_(new Date),S(!1),T(!1);return}const[wt,ee,Re]=await Promise.all([jL(),SL(50,Ie||void 0),NL(50,Ie||void 0)]);n(wt),i(ee||[]),u(Re||[]),_(new Date)}catch(wt){console.error("Error loading data:",wt)}finally{S(!1),T(!1)}},$e=async fe=>{if(f(fe),K&&ve){const ze=(ve.messages||[]).filter(Ie=>Ie.conversation_id===fe.id).sort((Ie,wt)=>Ie.created_at>wt.created_at?1:-1).map(Ie=>({id:Ie.id,conversation_id:Ie.conversation_id,sender:Ie.from,content:Ie.text,text:Ie.text,created_at:Ie.created_at}));O(ze);return}O([])},Te=(fe,ze)=>{Z({type:fe,message:ze}),setTimeout(()=>Z(null),4e3)},Qe=fe=>{const ze=a.find(Ie=>Ie?.lead_id===fe?.id)||a.find(Ie=>Ie?.phone===fe?.phone)||null;e("conversations"),ze&&(f(ze),$e(ze))},Ze=async(fe,ze)=>{const Ie=fe.phone?.replace("@c.us","").replace(/\D/g,"");if(!Ie){Te("error","Lead sem telefone vlido");return}let wt=ze;if(!wt){const ee={pronto:"Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?",empolgado:"E a, tudo certo? Quer que eu te explique os prximos passos?",curioso:"Oi! Ficou alguma dvida? T aqui pra te ajudar!",sensvel_preo:"Oi! Consegui uma condio especial pra voc. Quer saber mais?",ctico:"Oi! Entendo suas dvidas. Posso te mostrar alguns casos de sucesso?",frustrado:"Oi! Vi que teve algumas dificuldades. Como posso te ajudar?"},Re=(fe.stage||"curioso").toLowerCase();wt=ee[Re]||"Oi! Tudo bem? Posso te ajudar com algo?"}try{if(!(await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:Ie.startsWith("55")?Ie:`55${Ie}`,message:wt})})).ok)throw new Error("Falha ao enviar");const Re=new Date().toISOString();u(Xe=>Xe.map(Be=>{if(Be.id!==fe.id)return Be;const qe=Array.from(new Set([...Be.tags||[],"followup_sent"])),Ut=Math.min(100,(Be.health_score??50)+6);return{...Be,tags:qe,health_score:Ut,updated_at:Re,status:Be.status==="new"?"contacted":Be.status}})),i(Xe=>Xe.map(Be=>Be?.lead_id===fe?.id||Be?.phone&&Be.phone===fe?.phone?{...Be,last_message:wt,updated_at:Re}:Be)),Te("success",`Follow-up enviado para ${fe.name||Ie}`)}catch(ee){console.error("Erro ao enviar follow-up:",ee),Te("error","Erro ao enviar follow-up")}},ft=async fe=>{try{const ze=await fetch(`/api/leads?id=${fe.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"won"})}),Ie=new Date().toISOString();u(wt=>wt.map(ee=>ee.id!==fe.id?ee:{...ee,status:"won",updated_at:Ie,tags:Array.from(new Set([...ee.tags||[],"won"]))})),Te("success",`${fe.name||"Lead"} marcado como GANHO!`)}catch(ze){console.error("Erro ao marcar como ganho:",ze),Te("error","Erro ao marcar como ganho")}},qt=ge.find(fe=>fe.id===t)?.label??"Dashboard",Gt=t==="dashboard"?"Viso executiva e insights em tempo real":t==="conversations"?"Mensagens e atendimentos em tempo real":t==="leads"?"Pipeline e leads qualificados":t==="funnel"?"War Room: decises + aes + previso":t==="analysis"?"Follow-ups inteligentes, insights e automaes":t==="reports"?"Performance do funil, exportaes e relatrios por perodo":t==="training"?"Configure prompt, base de conhecimento e prova social":t==="integrations"?"Conecte WhatsApp, banco e ferramentas":t==="settings"?"Preferncias e ajustes do sistema":t==="agent-studio"?"Controle total do comportamento do agente":t==="demo-generator"?"Crie demos realistas":"Viso geral do sistema";if(k)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mx-auto mb-5 w-14 h-14",children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-[#f57f17]/15 blur-xl"}),l.jsx("div",{className:"relative w-14 h-14 rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:l.jsx(_n,{className:"w-7 h-7 text-[#f57f17] animate-spin"})})]}),l.jsx("p",{className:"text-gray-300 font-medium",children:"Carregando DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Central de Comando"})]})});const or=Pe.find(fe=>fe.key===ae)?.label||(ae?String(ae):"Demo");return l.jsxs("div",{className:"min-h-screen text-white bg-black",children:[l.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[l.jsx("div",{className:"absolute -top-32 left-[-140px] h-[520px] w-[520px] rounded-full bg-[#f57f17]/18 blur-3xl"}),l.jsx("div",{className:"absolute top-12 right-[-220px] h-[560px] w-[560px] rounded-full bg-cyan-500/12 blur-3xl"}),l.jsx("div",{className:"absolute bottom-[-260px] left-[18%] h-[620px] w-[620px] rounded-full bg-emerald-500/10 blur-3xl"})]}),l.jsxs("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/45 backdrop-blur-xl",children:[l.jsxs("div",{className:"px-6 py-3 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"leading-tight",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA AI"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Central de Comando"})]}),l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-[#f57f17]/10 text-[#f57f17] border border-[#f57f17]/20",children:"BETA"}),K&&l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-white/5 text-gray-200 border border-white/10",children:"DEMO"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!K&&J&&l.jsx(TQ,{value:m,onChange:p}),K&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>M(fe=>!fe),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx("span",{className:"hidden sm:inline",children:or}),l.jsx(ex,{className:"w-4 h-4 text-gray-400"})]}),P&&l.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:Pe.map(fe=>l.jsx("a",{href:`/?demo=${fe.key}`,className:"block px-4 py-3 text-sm text-gray-200 hover:bg-white/5",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate",children:fe.label}),l.jsx("span",{className:"text-[11px] rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-gray-400",children:fe.source==="generated"?"GERADA":"FIXA"})]})},fe.key))})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>B(fe=>!fe),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center relative",title:"Notificaes",children:[l.jsx(Q0,{className:"w-4 h-4 text-gray-300"}),se>0&&l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:se})]}),W&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>B(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notificaes"}),se>0&&l.jsx("button",{onClick:Ne,className:"text-xs text-[#f57f17] hover:underline",children:"Marcar todas como lidas"})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto",children:I.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Nenhuma notificao"}):I.map(fe=>l.jsx("button",{onClick:()=>be(fe.id),className:pl("w-full px-4 py-3 text-left hover:bg-white/5 border-b border-white/5 last:border-0",!fe.read&&"bg-white/5"),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:pl("h-8 w-8 rounded-lg flex items-center justify-center flex-shrink-0",fe.type==="urgent"&&"bg-red-500/20 text-red-400",fe.type==="lead"&&"bg-emerald-500/20 text-emerald-400",fe.type==="system"&&"bg-white/10 text-gray-400"),children:[fe.type==="urgent"&&l.jsx(ar,{className:"w-4 h-4"}),fe.type==="lead"&&l.jsx(Br,{className:"w-4 h-4"}),fe.type==="system"&&l.jsx(Sn,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:fe.title}),!fe.read&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f57f17] flex-shrink-0"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:fe.message}),l.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:RQ(fe.time)})]})]})},fe.id))}),l.jsx("div",{className:"px-4 py-2 border-t border-white/10",children:l.jsx("button",{onClick:()=>{B(!1),e("settings")},className:"w-full h-9 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400",children:"Configurar notificaes"})})]})]})]}),!K&&l.jsx(PQ,{}),l.jsxs("button",{onClick:()=>X(!1),disabled:A,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200 disabled:opacity-50",title:"Atualizar",children:[l.jsx(_n,{className:pl("w-4 h-4 text-[#f57f17]",A&&"animate-spin")}),l.jsx("span",{className:"hidden sm:inline",children:A?"Atualizando...":"Atualizar"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>j(!w),className:"h-10 px-3 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center gap-3 transition-all",children:[l.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:"D"})}),l.jsxs("div",{className:"leading-tight hidden sm:block",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]}),l.jsx(ex,{className:`w-4 h-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-white/10 bg-black/95 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA Agncia IA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"admin@docaperformance.com.br"})]}),l.jsxs("div",{className:"py-2",children:[l.jsxs("button",{onClick:()=>{e("users"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(Br,{className:"w-4 h-4"}),"Usurios"]}),l.jsxs("button",{onClick:()=>{e("tenants"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(on,{className:"w-4 h-4"}),"Clientes"]}),l.jsxs("button",{onClick:()=>{e("metrics"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(_s,{className:"w-4 h-4"}),"Mtricas"]})]}),l.jsx("div",{className:"py-2 border-t border-white/10",children:l.jsxs("button",{onClick:()=>{e("settings"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Configuraes"]})})]})]})]})]})]}),l.jsx("div",{className:"px-6 py-2 border-t border-white/5",children:l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ge.map(fe=>{const ze=t===fe.id;return l.jsxs("button",{onClick:()=>e(fe.id),className:pl("h-9 px-3 rounded-xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",ze?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[l.jsx(fe.icon,{className:"w-4 h-4 text-[#f57f17]"}),fe.label]},fe.id)})})}),l.jsxs("div",{className:"px-6 pb-4 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-gray-500",children:["DOCA AI ",l.jsx("span",{className:"mx-2 text-gray-700",children:""})," ",l.jsx("span",{className:"text-gray-300 font-semibold",children:qt})]}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-1",children:qt}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Gt})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-500 mt-1",children:[l.jsxs("div",{children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:K?"DEMO":"Online"})]}),l.jsxs("div",{children:["Atualizado: ",E.toLocaleTimeString("pt-BR")]})]})]})]}),l.jsxs("main",{className:"px-6 py-6",children:[l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:l.jsxs("div",{className:"p-8",children:[t==="dashboard"&&l.jsx(oJ,{demoMode:K,stats:r,conversations:a,leads:o,onOpenSuggestions:()=>D(!0),onOpenInsights:()=>e("analysis"),onActivateAI:()=>e("analysis"),onGoToAnalysis:()=>e("analysis"),onOpenEvents:()=>e("reports")}),t==="conversations"&&l.jsx(xJ,{tenantId:m}),t==="leads"&&l.jsx(kJ,{leads:o,conversations:a,onOpenConversation:Qe,onSendFollowUp:Ze,onMarkAsWon:ft}),t==="funnel"&&l.jsx(FJ,{leads:o,conversations:a,onOpenConversation:Qe,onSendFollowUp:Ze,onMarkAsWon:ft}),t==="analysis"&&l.jsx(lQ,{conversations:a,leads:o,onSendFollowUp:Ze,onOpenConversation:Qe}),t==="reports"&&l.jsx(VJ,{leads:o,conversations:a,onGoToFunnel:()=>e("funnel")}),t==="training"&&l.jsx(QJ,{}),t==="integrations"&&l.jsx(rQ,{}),t==="agent-studio"&&l.jsx(pQ,{}),t==="settings"&&l.jsx(sQ,{}),t==="users"&&l.jsx(mQ,{}),t==="tenants"&&l.jsx(gQ,{onConfigure:fe=>{b(fe),e("tenant-config")}}),t==="metrics"&&l.jsx(bQ,{}),t==="tenant-config"&&v&&l.jsx(jQ,{tenantId:v,onBack:()=>e("tenants")}),t==="demo-generator"&&l.jsx(dQ,{})]})}),l.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[" ",new Date().getFullYear()," DOCA AI"]}),l.jsxs("span",{className:"text-gray-500",children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:K?"DEMO":"Online"})]})]})]}),l.jsx(OQ,{open:U,onClose:()=>D(!1),onGoToAnalysis:()=>e("analysis")}),F&&l.jsx("div",{className:pl("fixed bottom-6 right-6 z-50 px-5 py-3 rounded-2xl border shadow-xl backdrop-blur-xl transition-all animate-in slide-in-from-bottom-4",F.type==="success"?"bg-emerald-500/20 border-emerald-400/30 text-emerald-200":"bg-red-500/20 border-red-400/30 text-red-200"),children:l.jsx("p",{className:"text-sm font-medium",children:F.message})})]})}function $Q(){const t=kb(),{signIn:e,signUp:r}=If(),[n,a]=C.useState("login"),[i,o]=C.useState(""),[u,d]=C.useState(""),[f,m]=C.useState(""),[p,v]=C.useState(!1),[b,w]=C.useState(!1),[j,y]=C.useState(null);async function O(k){k.preventDefault(),y(null),w(!0);try{n==="login"?await e(i,u):await r(i,u,f),t("/")}catch(S){y(S.message||"Erro ao autenticar")}finally{w(!1)}}return l.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f57f17]/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#f57f17]/5 rounded-full blur-3xl"})]}),l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA AI",className:"h-16 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Automao Inteligente WhatsApp"})]}),l.jsxs("div",{className:"rounded-[32px] border border-white/10 bg-white/5 backdrop-blur-xl p-8",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:n==="login"?"Entrar":"Criar conta"}),j&&l.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[l.jsx(eL,{className:"w-5 h-5 text-red-400 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-300",children:j})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n==="register"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nome"}),l.jsx("input",{type:"text",value:f,onChange:k=>m(k.target.value),placeholder:"Seu nome",className:"w-full h-12 px-4 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx($l,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{type:"email",value:i,onChange:k=>o(k.target.value),placeholder:"seu@email.com",className:"w-full h-12 pl-12 pr-4 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(sL,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{type:p?"text":"password",value:u,onChange:k=>d(k.target.value),placeholder:"",className:"w-full h-12 pl-12 pr-12 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:p?l.jsx(Lb,{className:"w-5 h-5"}):l.jsx(Lf,{className:"w-5 h-5"})})]})]}),n==="login"&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",className:"text-sm text-[#f57f17] hover:underline",children:"Esqueci minha senha"})}),l.jsx("button",{type:"submit",disabled:b,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:b?l.jsx(bt,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(tr,{className:"w-5 h-5"}),n==="login"?"Entrar":"Criar conta"]})})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:[n==="login"?"No tem conta?":"J tem conta?"," ",l.jsx("button",{onClick:()=>{a(n==="login"?"register":"login"),y(null)},className:"text-[#f57f17] hover:underline",children:n==="login"?"Criar conta":"Fazer login"})]})})]}),l.jsx("p",{className:"text-center text-gray-600 text-xs mt-6",children:" 2025 DOCA AI. Todos os direitos reservados."})]})]})}TM.createRoot(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx(eI,{children:l.jsx(VD,{children:l.jsxs(C$,{children:[l.jsx(B0,{path:"/login",element:l.jsx($Q,{})}),l.jsx(B0,{path:"/*",element:l.jsx(yL,{children:l.jsx(MQ,{})})})]})})})}));export{oC as _,Bu as c,tt as g};
