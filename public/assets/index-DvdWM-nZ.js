(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dm={exports:{}},Jo={},fm={exports:{}},De={};var O_;function SM(){if(O_)return De;O_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function y(M,U,ne){this.props=M,this.context=U,this.refs=w,this.updater=ne||x}y.prototype.isReactComponent={},y.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=y.prototype;function k(M,U,ne){this.props=M,this.context=U,this.refs=w,this.updater=ne||x}var S=k.prototype=new O;S.constructor=k,j(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(M,U,ne){var se,ie={},me=null,Re=null;if(U!=null)for(se in U.ref!==void 0&&(Re=U.ref),U.key!==void 0&&(me=""+U.key),U)_.call(U,se)&&!T.hasOwnProperty(se)&&(ie[se]=U[se]);var ge=arguments.length-2;if(ge===1)ie.children=ne;else if(1<ge){for(var oe=Array(ge),be=0;be<ge;be++)oe[be]=arguments[be+2];ie.children=oe}if(M&&M.defaultProps)for(se in ge=M.defaultProps,ge)ie[se]===void 0&&(ie[se]=ge[se]);return{$$typeof:t,type:M,key:me,ref:Re,props:ie,_owner:A.current}}function $(M,U){return{$$typeof:t,type:M.type,key:U,ref:M.ref,props:M.props,_owner:M._owner}}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function I(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return U[ne]})}var F=/\/+/g;function L(M,U){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):U.toString(36)}function G(M,U,ne,se,ie){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(me){case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case t:case e:Re=!0}}if(Re)return Re=M,ie=ie(Re),M=se===""?"."+L(Re,0):se,E(ie)?(ne="",M!=null&&(ne=M.replace(F,"$&/")+"/"),G(ie,U,ne,"",function(be){return be})):ie!=null&&(B(ie)&&(ie=$(ie,ne+(!ie.key||Re&&Re.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+M)),U.push(ie)),1;if(Re=0,se=se===""?".":se+":",E(M))for(var ge=0;ge<M.length;ge++){me=M[ge];var oe=se+L(me,ge);Re+=G(me,U,ne,oe,ie)}else if(oe=v(M),typeof oe=="function")for(M=oe.call(M),ge=0;!(me=M.next()).done;)me=me.value,oe=se+L(me,ge++),Re+=G(me,U,ne,oe,ie);else if(me==="object")throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Re}function q(M,U,ne){if(M==null)return M;var se=[],ie=0;return G(M,se,"","",function(me){return U.call(ne,me,ie++)}),se}function z(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var ee={current:null},H={transition:null},W={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:A};function J(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:q,forEach:function(M,U,ne){q(M,function(){U.apply(this,arguments)},ne)},count:function(M){var U=0;return q(M,function(){U++}),U},toArray:function(M){return q(M,function(U){return U})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=y,De.Fragment=r,De.Profiler=a,De.PureComponent=k,De.StrictMode=n,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,De.act=J,De.cloneElement=function(M,U,ne){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var se=j({},M.props),ie=M.key,me=M.ref,Re=M._owner;if(U!=null){if(U.ref!==void 0&&(me=U.ref,Re=A.current),U.key!==void 0&&(ie=""+U.key),M.type&&M.type.defaultProps)var ge=M.type.defaultProps;for(oe in U)_.call(U,oe)&&!T.hasOwnProperty(oe)&&(se[oe]=U[oe]===void 0&&ge!==void 0?ge[oe]:U[oe])}var oe=arguments.length-2;if(oe===1)se.children=ne;else if(1<oe){ge=Array(oe);for(var be=0;be<oe;be++)ge[be]=arguments[be+2];se.children=ge}return{$$typeof:t,type:M.type,key:ie,ref:me,props:se,_owner:Re}},De.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},De.createElement=P,De.createFactory=function(M){var U=P.bind(null,M);return U.type=M,U},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:u,render:M}},De.isValidElement=B,De.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:z}},De.memo=function(M,U){return{$$typeof:f,type:M,compare:U===void 0?null:U}},De.startTransition=function(M){var U=H.transition;H.transition={};try{M()}finally{H.transition=U}},De.unstable_act=J,De.useCallback=function(M,U){return ee.current.useCallback(M,U)},De.useContext=function(M){return ee.current.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M){return ee.current.useDeferredValue(M)},De.useEffect=function(M,U){return ee.current.useEffect(M,U)},De.useId=function(){return ee.current.useId()},De.useImperativeHandle=function(M,U,ne){return ee.current.useImperativeHandle(M,U,ne)},De.useInsertionEffect=function(M,U){return ee.current.useInsertionEffect(M,U)},De.useLayoutEffect=function(M,U){return ee.current.useLayoutEffect(M,U)},De.useMemo=function(M,U){return ee.current.useMemo(M,U)},De.useReducer=function(M,U,ne){return ee.current.useReducer(M,U,ne)},De.useRef=function(M){return ee.current.useRef(M)},De.useState=function(M){return ee.current.useState(M)},De.useSyncExternalStore=function(M,U,ne){return ee.current.useSyncExternalStore(M,U,ne)},De.useTransition=function(){return ee.current.useTransition()},De.version="18.3.1",De}var E_;function Sb(){return E_||(E_=1,fm.exports=SM()),fm.exports}var A_;function NM(){if(A_)return Jo;A_=1;var t=Sb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var p,m={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:v,ref:x,props:m,_owner:a.current}}return Jo.Fragment=r,Jo.jsx=o,Jo.jsxs=o,Jo}var C_;function kM(){return C_||(C_=1,dm.exports=NM()),dm.exports}var l=kM(),C=Sb();const X=Qe(C);var qu={},hm={exports:{}},fr={},pm={exports:{}},mm={};var P_;function OM(){return P_||(P_=1,(function(t){function e(H,W){var J=H.length;H.push(W);e:for(;0<J;){var M=J-1>>>1,U=H[M];if(0<a(U,W))H[M]=W,H[J]=U,J=M;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var W=H[0],J=H.pop();if(J!==W){H[0]=J;e:for(var M=0,U=H.length,ne=U>>>1;M<ne;){var se=2*(M+1)-1,ie=H[se],me=se+1,Re=H[me];if(0>a(ie,J))me<U&&0>a(Re,ie)?(H[M]=Re,H[me]=J,M=me):(H[M]=ie,H[se]=J,M=se);else if(me<U&&0>a(Re,J))H[M]=Re,H[me]=J,M=me;else break e}}return W}function a(H,W){var J=H.sortIndex-W.sortIndex;return J!==0?J:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,m=null,v=3,x=!1,j=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var W=r(f);W!==null;){if(W.callback===null)n(f);else if(W.startTime<=H)n(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(f)}}function E(H){if(w=!1,S(H),!j)if(r(d)!==null)j=!0,z(_);else{var W=r(f);W!==null&&ee(E,W.startTime-H)}}function _(H,W){j=!1,w&&(w=!1,O(P),P=-1),x=!0;var J=v;try{for(S(W),m=r(d);m!==null&&(!(m.expirationTime>W)||H&&!I());){var M=m.callback;if(typeof M=="function"){m.callback=null,v=m.priorityLevel;var U=M(m.expirationTime<=W);W=t.unstable_now(),typeof U=="function"?m.callback=U:m===r(d)&&n(d),S(W)}else n(d);m=r(d)}if(m!==null)var ne=!0;else{var se=r(f);se!==null&&ee(E,se.startTime-W),ne=!1}return ne}finally{m=null,v=J,x=!1}}var A=!1,T=null,P=-1,$=5,B=-1;function I(){return!(t.unstable_now()-B<$)}function F(){if(T!==null){var H=t.unstable_now();B=H;var W=!0;try{W=T(!0,H)}finally{W?L():(A=!1,T=null)}}else A=!1}var L;if(typeof k=="function")L=function(){k(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=F,L=function(){q.postMessage(null)}}else L=function(){y(F,0)};function z(H){T=H,A||(A=!0,L())}function ee(H,W){P=y(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,z(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var J=v;v=W;try{return H()}finally{v=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=v;v=H;try{return W()}finally{v=J}},t.unstable_scheduleCallback=function(H,W,J){var M=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?M+J:M):J=M,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,H={id:p++,callback:W,priorityLevel:H,startTime:J,expirationTime:U,sortIndex:-1},J>M?(H.sortIndex=J,e(f,H),r(d)===null&&H===r(f)&&(w?(O(P),P=-1):w=!0,ee(E,J-M))):(H.sortIndex=U,e(d,H),j||x||(j=!0,z(_))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var W=v;return function(){var J=v;v=W;try{return H.apply(this,arguments)}finally{v=J}}}})(mm)),mm}var T_;function EM(){return T_||(T_=1,pm.exports=OM()),pm.exports}var R_;function AM(){if(R_)return fr;R_=1;var t=Sb(),e=EM();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,c){o(s,c),o(s+"Capture",c)}function o(s,c){for(a[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(s){return d.call(m,s)?!0:d.call(p,s)?!1:f.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,c,h,g){if(c===null||typeof c>"u"||x(s,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(s,c,h,g,b,N,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=s,this.type=c,this.sanitizeURL=N,this.removeEmptyString=R}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new w(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(O,k);y[c]=new w(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(O,k);y[c]=new w(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(O,k);y[c]=new w(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,h,g){var b=y.hasOwnProperty(c)?y[c]:null;(b!==null?b.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,h,b,g)&&(h=null),g||b===null?v(c)&&(h===null?s.removeAttribute(c):s.setAttribute(c,""+h)):b.mustUseProperty?s[b.propertyName]=h===null?b.type===3?!1:"":h:(c=b.attributeName,g=b.attributeNamespace,h===null?s.removeAttribute(c):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?s.setAttributeNS(g,c,h):s.setAttribute(c,h))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,M;function U(s){if(M===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);M=c&&c[1]||""}return`
`+M+s}var ne=!1;function se(s,c){if(!s||ne)return"";ne=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var g=re}Reflect.construct(s,[],c)}else{try{c.call()}catch(re){g=re}s.call(c.prototype)}else{try{throw Error()}catch(re){g=re}s()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var b=re.stack.split(`
`),N=g.stack.split(`
`),R=b.length-1,D=N.length-1;1<=R&&0<=D&&b[R]!==N[D];)D--;for(;1<=R&&0<=D;R--,D--)if(b[R]!==N[D]){if(R!==1||D!==1)do if(R--,D--,0>D||b[R]!==N[D]){var V=`
`+b[R].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=R&&0<=D);break}}}finally{ne=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?U(s):""}function ie(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case A:return"Portal";case $:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case I:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return c=s.displayName||null,c!==null?c:me(s.type)||"Memo";case z:c=s._payload,s=s._init;try{return me(s(c))}catch{}}return null}function Re(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(c);case 8:return c===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function be(s){var c=oe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,N=h.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return b.call(this)},set:function(R){g=""+R,N.call(this,R)}}),Object.defineProperty(s,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ke(s){s._valueTracker||(s._valueTracker=be(s))}function Z(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return s&&(g=oe(s)?s.checked?"true":"false":s.value),s=g,s!==h?(c.setValue(s),!0):!1}function Se(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ie(s,c){var h=c.checked;return J({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Ve(s,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=ge(c.value!=null?c.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function et(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function vt(s,c){et(s,c);var h=ge(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?Ue(s,c.type,h):c.hasOwnProperty("defaultValue")&&Ue(s,c.type,ge(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function he(s,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,h||c===s.value||(s.value=c),s.defaultValue=c}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Ue(s,c,h){(c!=="number"||Se(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Me=Array.isArray;function Ye(s,c,h,g){if(s=s.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<s.length;h++)b=c.hasOwnProperty("$"+s[h].value),s[h].selected!==b&&(s[h].selected=b),b&&g&&(s[h].defaultSelected=!0)}else{for(h=""+ge(h),c=null,b=0;b<s.length;b++){if(s[b].value===h){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}c!==null||s[b].disabled||(c=s[b])}c!==null&&(c.selected=!0)}}function at(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function er(s,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(Me(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}s._wrapperState={initialValue:ge(h)}}function mr(s,c){var h=ge(c.value),g=ge(c.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),c.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function lt(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function Y(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?Y(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ct,Et=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,b){MSApp.execUnsafeLocalFunction(function(){return s(c,h,g,b)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ct.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Wr(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(s){wh.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),tr[c]=tr[s]})});function Cc(s,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||tr.hasOwnProperty(s)&&tr[s]?(""+c).trim():c+"px"}function Pc(s,c){s=s.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=Cc(h,c[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,b):s[h]=b}}var jh=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _h(s,c){if(c){if(jh[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Sh(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function kh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Oh=null,Ti=null,Ri=null;function Ww(s){if(s=Io(s)){if(typeof Oh!="function")throw Error(r(280));var c=s.stateNode;c&&(c=eu(c),Oh(s.stateNode,s.type,c))}}function Hw(s){Ti?Ri?Ri.push(s):Ri=[s]:Ti=s}function Vw(){if(Ti){var s=Ti,c=Ri;if(Ri=Ti=null,Ww(s),c)for(s=0;s<c.length;s++)Ww(c[s])}}function Kw(s,c){return s(c)}function Gw(){}var Eh=!1;function Yw(s,c,h){if(Eh)return s(c,h);Eh=!0;try{return Kw(s,c,h)}finally{Eh=!1,(Ti!==null||Ri!==null)&&(Gw(),Vw())}}function mo(s,c){var h=s.stateNode;if(h===null)return null;var g=eu(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Ah=!1;if(u)try{var go={};Object.defineProperty(go,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ah=!1}function C4(s,c,h,g,b,N,R,D,V){var re=Array.prototype.slice.call(arguments,3);try{c.apply(h,re)}catch(ce){this.onError(ce)}}var vo=!1,Tc=null,Rc=!1,Ch=null,P4={onError:function(s){vo=!0,Tc=s}};function T4(s,c,h,g,b,N,R,D,V){vo=!1,Tc=null,C4.apply(P4,arguments)}function R4(s,c,h,g,b,N,R,D,V){if(T4.apply(this,arguments),vo){if(vo){var re=Tc;vo=!1,Tc=null}else throw Error(r(198));Rc||(Rc=!0,Ch=re)}}function Ha(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function Xw(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Jw(s){if(Ha(s)!==s)throw Error(r(188))}function M4(s){var c=s.alternate;if(!c){if(c=Ha(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,g=c;;){var b=h.return;if(b===null)break;var N=b.alternate;if(N===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===h)return Jw(b),s;if(N===g)return Jw(b),c;N=N.sibling}throw Error(r(188))}if(h.return!==g.return)h=b,g=N;else{for(var R=!1,D=b.child;D;){if(D===h){R=!0,h=b,g=N;break}if(D===g){R=!0,g=b,h=N;break}D=D.sibling}if(!R){for(D=N.child;D;){if(D===h){R=!0,h=N,g=b;break}if(D===g){R=!0,g=N,h=b;break}D=D.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function Qw(s){return s=M4(s),s!==null?Zw(s):null}function Zw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=Zw(s);if(c!==null)return c;s=s.sibling}return null}var e1=e.unstable_scheduleCallback,t1=e.unstable_cancelCallback,$4=e.unstable_shouldYield,I4=e.unstable_requestPaint,jt=e.unstable_now,D4=e.unstable_getCurrentPriorityLevel,Ph=e.unstable_ImmediatePriority,r1=e.unstable_UserBlockingPriority,Mc=e.unstable_NormalPriority,L4=e.unstable_LowPriority,n1=e.unstable_IdlePriority,$c=null,hn=null;function B4(s){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot($c,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:F4,q4=Math.log,U4=Math.LN2;function F4(s){return s>>>=0,s===0?32:31-(q4(s)/U4|0)|0}var Ic=64,Dc=4194304;function yo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Lc(s,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,b=s.suspendedLanes,N=s.pingedLanes,R=h&268435455;if(R!==0){var D=R&~b;D!==0?g=yo(D):(N&=R,N!==0&&(g=yo(N)))}else R=h&~b,R!==0?g=yo(R):N!==0&&(g=yo(N));if(g===0)return 0;if(c!==0&&c!==g&&(c&b)===0&&(b=g&-g,N=c&-c,b>=N||b===16&&(N&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)h=31-Hr(c),b=1<<h,g|=s[h],c&=~b;return g}function z4(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W4(s,c){for(var h=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,N=s.pendingLanes;0<N;){var R=31-Hr(N),D=1<<R,V=b[R];V===-1?((D&h)===0||(D&g)!==0)&&(b[R]=z4(D,c)):V<=c&&(s.expiredLanes|=D),N&=~D}}function Th(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function a1(){var s=Ic;return Ic<<=1,(Ic&4194240)===0&&(Ic=64),s}function Rh(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function xo(s,c,h){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-Hr(c),s[c]=h}function H4(s,c){var h=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var b=31-Hr(h),N=1<<b;c[b]=0,g[b]=-1,s[b]=-1,h&=~N}}function Mh(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var g=31-Hr(h),b=1<<g;b&c|s[g]&c&&(s[g]|=c),h&=~b}}var Xe=0;function i1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var s1,$h,o1,l1,c1,Ih=!1,Bc=[],oa=null,la=null,ca=null,bo=new Map,wo=new Map,ua=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u1(s,c){switch(s){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":bo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(c.pointerId)}}function jo(s,c,h,g,b,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:N,targetContainers:[b]},c!==null&&(c=Io(c),c!==null&&$h(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),s)}function K4(s,c,h,g,b){switch(c){case"focusin":return oa=jo(oa,s,c,h,g,b),!0;case"dragenter":return la=jo(la,s,c,h,g,b),!0;case"mouseover":return ca=jo(ca,s,c,h,g,b),!0;case"pointerover":var N=b.pointerId;return bo.set(N,jo(bo.get(N)||null,s,c,h,g,b)),!0;case"gotpointercapture":return N=b.pointerId,wo.set(N,jo(wo.get(N)||null,s,c,h,g,b)),!0}return!1}function d1(s){var c=Va(s.target);if(c!==null){var h=Ha(c);if(h!==null){if(c=h.tag,c===13){if(c=Xw(h),c!==null){s.blockedOn=c,c1(s.priority,function(){o1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qc(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=Lh(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Nh=g,h.target.dispatchEvent(g),Nh=null}else return c=Io(h),c!==null&&$h(c),s.blockedOn=h,!1;c.shift()}return!0}function f1(s,c,h){qc(s)&&h.delete(c)}function G4(){Ih=!1,oa!==null&&qc(oa)&&(oa=null),la!==null&&qc(la)&&(la=null),ca!==null&&qc(ca)&&(ca=null),bo.forEach(f1),wo.forEach(f1)}function _o(s,c){s.blockedOn===c&&(s.blockedOn=null,Ih||(Ih=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G4)))}function So(s){function c(b){return _o(b,s)}if(0<Bc.length){_o(Bc[0],s);for(var h=1;h<Bc.length;h++){var g=Bc[h];g.blockedOn===s&&(g.blockedOn=null)}}for(oa!==null&&_o(oa,s),la!==null&&_o(la,s),ca!==null&&_o(ca,s),bo.forEach(c),wo.forEach(c),h=0;h<ua.length;h++)g=ua[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<ua.length&&(h=ua[0],h.blockedOn===null);)d1(h),h.blockedOn===null&&ua.shift()}var Mi=E.ReactCurrentBatchConfig,Uc=!0;function Y4(s,c,h,g){var b=Xe,N=Mi.transition;Mi.transition=null;try{Xe=1,Dh(s,c,h,g)}finally{Xe=b,Mi.transition=N}}function X4(s,c,h,g){var b=Xe,N=Mi.transition;Mi.transition=null;try{Xe=4,Dh(s,c,h,g)}finally{Xe=b,Mi.transition=N}}function Dh(s,c,h,g){if(Uc){var b=Lh(s,c,h,g);if(b===null)tp(s,c,g,Fc,h),u1(s,g);else if(K4(b,s,c,h,g))g.stopPropagation();else if(u1(s,g),c&4&&-1<V4.indexOf(s)){for(;b!==null;){var N=Io(b);if(N!==null&&s1(N),N=Lh(s,c,h,g),N===null&&tp(s,c,g,Fc,h),N===b)break;b=N}b!==null&&g.stopPropagation()}else tp(s,c,g,null,h)}}var Fc=null;function Lh(s,c,h,g){if(Fc=null,s=kh(g),s=Va(s),s!==null)if(c=Ha(s),c===null)s=null;else if(h=c.tag,h===13){if(s=Xw(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Fc=s,null}function h1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D4()){case Ph:return 1;case r1:return 4;case Mc:case L4:return 16;case n1:return 536870912;default:return 16}default:return 16}}var da=null,Bh=null,zc=null;function p1(){if(zc)return zc;var s,c=Bh,h=c.length,g,b="value"in da?da.value:da.textContent,N=b.length;for(s=0;s<h&&c[s]===b[s];s++);var R=h-s;for(g=1;g<=R&&c[h-g]===b[N-g];g++);return zc=b.slice(s,1<g?1-g:void 0)}function Wc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Hc(){return!0}function m1(){return!1}function gr(s){function c(h,g,b,N,R){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(h=s[D],this[D]=h?h(N):N[D]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Hc:m1,this.isPropagationStopped=m1,this}return J(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),c}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=gr($i),No=J({},$i,{view:0,detail:0}),J4=gr(No),Uh,Fh,ko,Vc=J({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ko&&(ko&&s.type==="mousemove"?(Uh=s.screenX-ko.screenX,Fh=s.screenY-ko.screenY):Fh=Uh=0,ko=s),Uh)},movementY:function(s){return"movementY"in s?s.movementY:Fh}}),g1=gr(Vc),Q4=J({},Vc,{dataTransfer:0}),Z4=gr(Q4),eR=J({},No,{relatedTarget:0}),zh=gr(eR),tR=J({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=gr(tR),nR=J({},$i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),aR=gr(nR),iR=J({},$i,{data:0}),v1=gr(iR),sR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=lR[s])?!!c[s]:!1}function Wh(){return cR}var uR=J({},No,{key:function(s){if(s.key){var c=sR[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Wc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?oR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(s){return s.type==="keypress"?Wc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dR=gr(uR),fR=J({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y1=gr(fR),hR=J({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),pR=gr(hR),mR=J({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=gr(mR),vR=J({},Vc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=gr(vR),xR=[9,13,27,32],Hh=u&&"CompositionEvent"in window,Oo=null;u&&"documentMode"in document&&(Oo=document.documentMode);var bR=u&&"TextEvent"in window&&!Oo,x1=u&&(!Hh||Oo&&8<Oo&&11>=Oo),b1=" ",w1=!1;function j1(s,c){switch(s){case"keyup":return xR.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function wR(s,c){switch(s){case"compositionend":return _1(c);case"keypress":return c.which!==32?null:(w1=!0,b1);case"textInput":return s=c.data,s===b1&&w1?null:s;default:return null}}function jR(s,c){if(Ii)return s==="compositionend"||!Hh&&j1(s,c)?(s=p1(),zc=Bh=da=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return x1&&c.locale!=="ko"?null:c.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!_R[s.type]:c==="textarea"}function N1(s,c,h,g){Hw(g),c=Jc(c,"onChange"),0<c.length&&(h=new qh("onChange","change",null,h,g),s.push({event:h,listeners:c}))}var Eo=null,Ao=null;function SR(s){z1(s,0)}function Kc(s){var c=Ui(s);if(Z(c))return s}function NR(s,c){if(s==="change")return c}var k1=!1;if(u){var Vh;if(u){var Kh="oninput"in document;if(!Kh){var O1=document.createElement("div");O1.setAttribute("oninput","return;"),Kh=typeof O1.oninput=="function"}Vh=Kh}else Vh=!1;k1=Vh&&(!document.documentMode||9<document.documentMode)}function E1(){Eo&&(Eo.detachEvent("onpropertychange",A1),Ao=Eo=null)}function A1(s){if(s.propertyName==="value"&&Kc(Ao)){var c=[];N1(c,Ao,s,kh(s)),Yw(SR,c)}}function kR(s,c,h){s==="focusin"?(E1(),Eo=c,Ao=h,Eo.attachEvent("onpropertychange",A1)):s==="focusout"&&E1()}function OR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(Ao)}function ER(s,c){if(s==="click")return Kc(c)}function AR(s,c){if(s==="input"||s==="change")return Kc(c)}function CR(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Vr=typeof Object.is=="function"?Object.is:CR;function Co(s,c){if(Vr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!d.call(c,b)||!Vr(s[b],c[b]))return!1}return!0}function C1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P1(s,c){var h=C1(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=c&&g>=c)return{node:h,offset:c-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=C1(h)}}function T1(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?T1(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function R1(){for(var s=window,c=Se();c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=Se(s.document)}return c}function Gh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function PR(s){var c=R1(),h=s.focusedElem,g=s.selectionRange;if(c!==h&&h&&h.ownerDocument&&T1(h.ownerDocument.documentElement,h)){if(g!==null&&Gh(h)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(s,h.value.length);else if(s=(c=h.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var b=h.textContent.length,N=Math.min(g.start,b);g=g.end===void 0?N:Math.min(g.end,b),!s.extend&&N>g&&(b=g,g=N,N=b),b=P1(h,N);var R=P1(h,g);b&&R&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),s.removeAllRanges(),N>g?(s.addRange(c),s.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),s.addRange(c)))}}for(c=[],s=h;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)s=c[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var TR=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Yh=null,Po=null,Xh=!1;function M1(s,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xh||Di==null||Di!==Se(g)||(g=Di,"selectionStart"in g&&Gh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Po&&Co(Po,g)||(Po=g,g=Jc(Yh,"onSelect"),0<g.length&&(c=new qh("onSelect","select",null,c,h),s.push({event:c,listeners:g}),c.target=Di)))}function Gc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var Li={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Jh={},$1={};u&&($1=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Yc(s){if(Jh[s])return Jh[s];if(!Li[s])return s;var c=Li[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in $1)return Jh[s]=c[h];return s}var I1=Yc("animationend"),D1=Yc("animationiteration"),L1=Yc("animationstart"),B1=Yc("transitionend"),q1=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(s,c){q1.set(s,c),i(c,[s])}for(var Qh=0;Qh<U1.length;Qh++){var Zh=U1[Qh],RR=Zh.toLowerCase(),MR=Zh[0].toUpperCase()+Zh.slice(1);fa(RR,"on"+MR)}fa(I1,"onAnimationEnd"),fa(D1,"onAnimationIteration"),fa(L1,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(B1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function F1(s,c,h){var g=s.type||"unknown-event";s.currentTarget=h,R4(g,c,void 0,s),s.currentTarget=null}function z1(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],b=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var R=g.length-1;0<=R;R--){var D=g[R],V=D.instance,re=D.currentTarget;if(D=D.listener,V!==N&&b.isPropagationStopped())break e;F1(b,D,re),N=V}else for(R=0;R<g.length;R++){if(D=g[R],V=D.instance,re=D.currentTarget,D=D.listener,V!==N&&b.isPropagationStopped())break e;F1(b,D,re),N=V}}}if(Rc)throw s=Ch,Rc=!1,Ch=null,s}function it(s,c){var h=c[op];h===void 0&&(h=c[op]=new Set);var g=s+"__bubble";h.has(g)||(W1(c,s,2,!1),h.add(g))}function ep(s,c,h){var g=0;c&&(g|=4),W1(h,s,g,c)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Ro(s){if(!s[Xc]){s[Xc]=!0,n.forEach(function(h){h!=="selectionchange"&&($R.has(h)||ep(h,!1,s),ep(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Xc]||(c[Xc]=!0,ep("selectionchange",!1,c))}}function W1(s,c,h,g){switch(h1(c)){case 1:var b=Y4;break;case 4:b=X4;break;default:b=Dh}h=b.bind(null,c,h,s),b=void 0,!Ah||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(c,h,{capture:!0,passive:b}):s.addEventListener(c,h,!0):b!==void 0?s.addEventListener(c,h,{passive:b}):s.addEventListener(c,h,!1)}function tp(s,c,h,g,b){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var D=g.stateNode.containerInfo;if(D===b||D.nodeType===8&&D.parentNode===b)break;if(R===4)for(R=g.return;R!==null;){var V=R.tag;if((V===3||V===4)&&(V=R.stateNode.containerInfo,V===b||V.nodeType===8&&V.parentNode===b))return;R=R.return}for(;D!==null;){if(R=Va(D),R===null)return;if(V=R.tag,V===5||V===6){g=N=R;continue e}D=D.parentNode}}g=g.return}Yw(function(){var re=N,ce=kh(h),ue=[];e:{var le=q1.get(s);if(le!==void 0){var ve=qh,we=s;switch(s){case"keypress":if(Wc(h)===0)break e;case"keydown":case"keyup":ve=dR;break;case"focusin":we="focus",ve=zh;break;case"focusout":we="blur",ve=zh;break;case"beforeblur":case"afterblur":ve=zh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Z4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=pR;break;case I1:case D1:case L1:ve=rR;break;case B1:ve=gR;break;case"scroll":ve=J4;break;case"wheel":ve=yR;break;case"copy":case"cut":case"paste":ve=aR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=y1}var je=(c&4)!==0,_t=!je&&s==="scroll",Q=je?le!==null?le+"Capture":null:le;je=[];for(var K=re,te;K!==null;){te=K;var fe=te.stateNode;if(te.tag===5&&fe!==null&&(te=fe,Q!==null&&(fe=mo(K,Q),fe!=null&&je.push(Mo(K,fe,te)))),_t)break;K=K.return}0<je.length&&(le=new ve(le,we,null,h,ce),ue.push({event:le,listeners:je}))}}if((c&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",le&&h!==Nh&&(we=h.relatedTarget||h.fromElement)&&(Va(we)||we[Pn]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(we=h.relatedTarget||h.toElement,ve=re,we=we?Va(we):null,we!==null&&(_t=Ha(we),we!==_t||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=re),ve!==we)){if(je=g1,fe="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(je=y1,fe="onPointerLeave",Q="onPointerEnter",K="pointer"),_t=ve==null?le:Ui(ve),te=we==null?le:Ui(we),le=new je(fe,K+"leave",ve,h,ce),le.target=_t,le.relatedTarget=te,fe=null,Va(ce)===re&&(je=new je(Q,K+"enter",we,h,ce),je.target=te,je.relatedTarget=_t,fe=je),_t=fe,ve&&we)t:{for(je=ve,Q=we,K=0,te=je;te;te=Bi(te))K++;for(te=0,fe=Q;fe;fe=Bi(fe))te++;for(;0<K-te;)je=Bi(je),K--;for(;0<te-K;)Q=Bi(Q),te--;for(;K--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=Bi(je),Q=Bi(Q)}je=null}else je=null;ve!==null&&H1(ue,le,ve,je,!1),we!==null&&_t!==null&&H1(ue,_t,we,je,!0)}}e:{if(le=re?Ui(re):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var _e=NR;else if(S1(le))if(k1)_e=AR;else{_e=OR;var Oe=kR}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(_e=ER);if(_e&&(_e=_e(s,re))){N1(ue,_e,h,ce);break e}Oe&&Oe(s,le,re),s==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Ue(le,"number",le.value)}switch(Oe=re?Ui(re):window,s){case"focusin":(S1(Oe)||Oe.contentEditable==="true")&&(Di=Oe,Yh=re,Po=null);break;case"focusout":Po=Yh=Di=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,M1(ue,h,ce);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":M1(ue,h,ce)}var Ee;if(Hh)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ii?j1(s,h)&&(Te="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Te="onCompositionStart");Te&&(x1&&h.locale!=="ko"&&(Ii||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ii&&(Ee=p1()):(da=ce,Bh="value"in da?da.value:da.textContent,Ii=!0)),Oe=Jc(re,Te),0<Oe.length&&(Te=new v1(Te,s,null,h,ce),ue.push({event:Te,listeners:Oe}),Ee?Te.data=Ee:(Ee=_1(h),Ee!==null&&(Te.data=Ee)))),(Ee=bR?wR(s,h):jR(s,h))&&(re=Jc(re,"onBeforeInput"),0<re.length&&(ce=new v1("onBeforeInput","beforeinput",null,h,ce),ue.push({event:ce,listeners:re}),ce.data=Ee))}z1(ue,c)})}function Mo(s,c,h){return{instance:s,listener:c,currentTarget:h}}function Jc(s,c){for(var h=c+"Capture",g=[];s!==null;){var b=s,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=mo(s,h),N!=null&&g.unshift(Mo(s,N,b)),N=mo(s,c),N!=null&&g.push(Mo(s,N,b))),s=s.return}return g}function Bi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function H1(s,c,h,g,b){for(var N=c._reactName,R=[];h!==null&&h!==g;){var D=h,V=D.alternate,re=D.stateNode;if(V!==null&&V===g)break;D.tag===5&&re!==null&&(D=re,b?(V=mo(h,N),V!=null&&R.unshift(Mo(h,V,D))):b||(V=mo(h,N),V!=null&&R.push(Mo(h,V,D)))),h=h.return}R.length!==0&&s.push({event:c,listeners:R})}var IR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function V1(s){return(typeof s=="string"?s:""+s).replace(IR,`
`).replace(DR,"")}function Qc(s,c,h){if(c=V1(c),V1(s)!==c&&h)throw Error(r(425))}function Zc(){}var rp=null,np=null;function ap(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(s){return K1.resolve(null).then(s).catch(qR)}:ip;function qR(s){setTimeout(function(){throw s})}function sp(s,c){var h=c,g=0;do{var b=h.nextSibling;if(s.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){s.removeChild(b),So(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);So(c)}function ha(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function G1(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return s;c--}else h==="/$"&&c++}s=s.previousSibling}return null}var qi=Math.random().toString(36).slice(2),pn="__reactFiber$"+qi,$o="__reactProps$"+qi,Pn="__reactContainer$"+qi,op="__reactEvents$"+qi,UR="__reactListeners$"+qi,FR="__reactHandles$"+qi;function Va(s){var c=s[pn];if(c)return c;for(var h=s.parentNode;h;){if(c=h[Pn]||h[pn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=G1(s);s!==null;){if(h=s[pn])return h;s=G1(s)}return c}s=h,h=s.parentNode}return null}function Io(s){return s=s[pn]||s[Pn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ui(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function eu(s){return s[$o]||null}var lp=[],Fi=-1;function pa(s){return{current:s}}function st(s){0>Fi||(s.current=lp[Fi],lp[Fi]=null,Fi--)}function tt(s,c){Fi++,lp[Fi]=s.current,s.current=c}var ma={},Kt=pa(ma),or=pa(!1),Ka=ma;function zi(s,c){var h=s.type.contextTypes;if(!h)return ma;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in h)b[N]=c[N];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=b),b}function lr(s){return s=s.childContextTypes,s!=null}function tu(){st(or),st(Kt)}function Y1(s,c,h){if(Kt.current!==ma)throw Error(r(168));tt(Kt,c),tt(or,h)}function X1(s,c,h){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in c))throw Error(r(108,Re(s)||"Unknown",b));return J({},h,g)}function ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ma,Ka=Kt.current,tt(Kt,s),tt(or,or.current),!0}function J1(s,c,h){var g=s.stateNode;if(!g)throw Error(r(169));h?(s=X1(s,c,Ka),g.__reactInternalMemoizedMergedChildContext=s,st(or),st(Kt),tt(Kt,s)):st(or),tt(or,h)}var Tn=null,nu=!1,cp=!1;function Q1(s){Tn===null?Tn=[s]:Tn.push(s)}function zR(s){nu=!0,Q1(s)}function ga(){if(!cp&&Tn!==null){cp=!0;var s=0,c=Xe;try{var h=Tn;for(Xe=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}Tn=null,nu=!1}catch(b){throw Tn!==null&&(Tn=Tn.slice(s+1)),e1(Ph,ga),b}finally{Xe=c,cp=!1}}return null}var Wi=[],Hi=0,au=null,iu=0,Ar=[],Cr=0,Ga=null,Rn=1,Mn="";function Ya(s,c){Wi[Hi++]=iu,Wi[Hi++]=au,au=s,iu=c}function Z1(s,c,h){Ar[Cr++]=Rn,Ar[Cr++]=Mn,Ar[Cr++]=Ga,Ga=s;var g=Rn;s=Mn;var b=32-Hr(g)-1;g&=~(1<<b),h+=1;var N=32-Hr(c)+b;if(30<N){var R=b-b%5;N=(g&(1<<R)-1).toString(32),g>>=R,b-=R,Rn=1<<32-Hr(c)+b|h<<b|g,Mn=N+s}else Rn=1<<N|h<<b|g,Mn=s}function up(s){s.return!==null&&(Ya(s,1),Z1(s,1,0))}function dp(s){for(;s===au;)au=Wi[--Hi],Wi[Hi]=null,iu=Wi[--Hi],Wi[Hi]=null;for(;s===Ga;)Ga=Ar[--Cr],Ar[Cr]=null,Mn=Ar[--Cr],Ar[Cr]=null,Rn=Ar[--Cr],Ar[Cr]=null}var vr=null,yr=null,ut=!1,Kr=null;function ej(s,c){var h=Mr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=s,c=s.deletions,c===null?(s.deletions=[h],s.flags|=16):c.push(h)}function tj(s,c){switch(s.tag){case 5:var h=s.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,vr=s,yr=ha(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,vr=s,yr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ga!==null?{id:Rn,overflow:Mn}:null,s.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Mr(18,null,null,0),h.stateNode=c,h.return=s,s.child=h,vr=s,yr=null,!0):!1;default:return!1}}function fp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function hp(s){if(ut){var c=yr;if(c){var h=c;if(!tj(s,c)){if(fp(s))throw Error(r(418));c=ha(h.nextSibling);var g=vr;c&&tj(s,c)?ej(g,h):(s.flags=s.flags&-4097|2,ut=!1,vr=s)}}else{if(fp(s))throw Error(r(418));s.flags=s.flags&-4097|2,ut=!1,vr=s}}}function rj(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function su(s){if(s!==vr)return!1;if(!ut)return rj(s),ut=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!ap(s.type,s.memoizedProps)),c&&(c=yr)){if(fp(s))throw nj(),Error(r(418));for(;c;)ej(s,c),c=ha(c.nextSibling)}if(rj(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(c===0){yr=ha(s.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}s=s.nextSibling}yr=null}}else yr=vr?ha(s.stateNode.nextSibling):null;return!0}function nj(){for(var s=yr;s;)s=ha(s.nextSibling)}function Vi(){yr=vr=null,ut=!1}function pp(s){Kr===null?Kr=[s]:Kr.push(s)}var WR=E.ReactCurrentBatchConfig;function Do(s,c,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,s));var b=g,N=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(R){var D=b.refs;R===null?delete D[N]:D[N]=R},c._stringRef=N,c)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function ou(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function aj(s){var c=s._init;return c(s._payload)}function ij(s){function c(Q,K){if(s){var te=Q.deletions;te===null?(Q.deletions=[K],Q.flags|=16):te.push(K)}}function h(Q,K){if(!s)return null;for(;K!==null;)c(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function b(Q,K){return Q=Sa(Q,K),Q.index=0,Q.sibling=null,Q}function N(Q,K,te){return Q.index=te,s?(te=Q.alternate,te!==null?(te=te.index,te<K?(Q.flags|=2,K):te):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function D(Q,K,te,fe){return K===null||K.tag!==6?(K=im(te,Q.mode,fe),K.return=Q,K):(K=b(K,te),K.return=Q,K)}function V(Q,K,te,fe){var _e=te.type;return _e===T?ce(Q,K,te.props.children,fe,te.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===z&&aj(_e)===K.type)?(fe=b(K,te.props),fe.ref=Do(Q,K,te),fe.return=Q,fe):(fe=Pu(te.type,te.key,te.props,null,Q.mode,fe),fe.ref=Do(Q,K,te),fe.return=Q,fe)}function re(Q,K,te,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=sm(te,Q.mode,fe),K.return=Q,K):(K=b(K,te.children||[]),K.return=Q,K)}function ce(Q,K,te,fe,_e){return K===null||K.tag!==7?(K=ni(te,Q.mode,fe,_e),K.return=Q,K):(K=b(K,te),K.return=Q,K)}function ue(Q,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=im(""+K,Q.mode,te),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return te=Pu(K.type,K.key,K.props,null,Q.mode,te),te.ref=Do(Q,null,K),te.return=Q,te;case A:return K=sm(K,Q.mode,te),K.return=Q,K;case z:var fe=K._init;return ue(Q,fe(K._payload),te)}if(Me(K)||W(K))return K=ni(K,Q.mode,te,null),K.return=Q,K;ou(Q,K)}return null}function le(Q,K,te,fe){var _e=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return _e!==null?null:D(Q,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===_e?V(Q,K,te,fe):null;case A:return te.key===_e?re(Q,K,te,fe):null;case z:return _e=te._init,le(Q,K,_e(te._payload),fe)}if(Me(te)||W(te))return _e!==null?null:ce(Q,K,te,fe,null);ou(Q,te)}return null}function ve(Q,K,te,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(te)||null,D(K,Q,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return Q=Q.get(fe.key===null?te:fe.key)||null,V(K,Q,fe,_e);case A:return Q=Q.get(fe.key===null?te:fe.key)||null,re(K,Q,fe,_e);case z:var Oe=fe._init;return ve(Q,K,te,Oe(fe._payload),_e)}if(Me(fe)||W(fe))return Q=Q.get(te)||null,ce(K,Q,fe,_e,null);ou(K,fe)}return null}function we(Q,K,te,fe){for(var _e=null,Oe=null,Ee=K,Te=K=0,Lt=null;Ee!==null&&Te<te.length;Te++){Ee.index>Te?(Lt=Ee,Ee=null):Lt=Ee.sibling;var We=le(Q,Ee,te[Te],fe);if(We===null){Ee===null&&(Ee=Lt);break}s&&Ee&&We.alternate===null&&c(Q,Ee),K=N(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We,Ee=Lt}if(Te===te.length)return h(Q,Ee),ut&&Ya(Q,Te),_e;if(Ee===null){for(;Te<te.length;Te++)Ee=ue(Q,te[Te],fe),Ee!==null&&(K=N(Ee,K,Te),Oe===null?_e=Ee:Oe.sibling=Ee,Oe=Ee);return ut&&Ya(Q,Te),_e}for(Ee=g(Q,Ee);Te<te.length;Te++)Lt=ve(Ee,Q,Te,te[Te],fe),Lt!==null&&(s&&Lt.alternate!==null&&Ee.delete(Lt.key===null?Te:Lt.key),K=N(Lt,K,Te),Oe===null?_e=Lt:Oe.sibling=Lt,Oe=Lt);return s&&Ee.forEach(function(Na){return c(Q,Na)}),ut&&Ya(Q,Te),_e}function je(Q,K,te,fe){var _e=W(te);if(typeof _e!="function")throw Error(r(150));if(te=_e.call(te),te==null)throw Error(r(151));for(var Oe=_e=null,Ee=K,Te=K=0,Lt=null,We=te.next();Ee!==null&&!We.done;Te++,We=te.next()){Ee.index>Te?(Lt=Ee,Ee=null):Lt=Ee.sibling;var Na=le(Q,Ee,We.value,fe);if(Na===null){Ee===null&&(Ee=Lt);break}s&&Ee&&Na.alternate===null&&c(Q,Ee),K=N(Na,K,Te),Oe===null?_e=Na:Oe.sibling=Na,Oe=Na,Ee=Lt}if(We.done)return h(Q,Ee),ut&&Ya(Q,Te),_e;if(Ee===null){for(;!We.done;Te++,We=te.next())We=ue(Q,We.value,fe),We!==null&&(K=N(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We);return ut&&Ya(Q,Te),_e}for(Ee=g(Q,Ee);!We.done;Te++,We=te.next())We=ve(Ee,Q,Te,We.value,fe),We!==null&&(s&&We.alternate!==null&&Ee.delete(We.key===null?Te:We.key),K=N(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We);return s&&Ee.forEach(function(_M){return c(Q,_M)}),ut&&Ya(Q,Te),_e}function _t(Q,K,te,fe){if(typeof te=="object"&&te!==null&&te.type===T&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var _e=te.key,Oe=K;Oe!==null;){if(Oe.key===_e){if(_e=te.type,_e===T){if(Oe.tag===7){h(Q,Oe.sibling),K=b(Oe,te.props.children),K.return=Q,Q=K;break e}}else if(Oe.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===z&&aj(_e)===Oe.type){h(Q,Oe.sibling),K=b(Oe,te.props),K.ref=Do(Q,Oe,te),K.return=Q,Q=K;break e}h(Q,Oe);break}else c(Q,Oe);Oe=Oe.sibling}te.type===T?(K=ni(te.props.children,Q.mode,fe,te.key),K.return=Q,Q=K):(fe=Pu(te.type,te.key,te.props,null,Q.mode,fe),fe.ref=Do(Q,K,te),fe.return=Q,Q=fe)}return R(Q);case A:e:{for(Oe=te.key;K!==null;){if(K.key===Oe)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){h(Q,K.sibling),K=b(K,te.children||[]),K.return=Q,Q=K;break e}else{h(Q,K);break}else c(Q,K);K=K.sibling}K=sm(te,Q.mode,fe),K.return=Q,Q=K}return R(Q);case z:return Oe=te._init,_t(Q,K,Oe(te._payload),fe)}if(Me(te))return we(Q,K,te,fe);if(W(te))return je(Q,K,te,fe);ou(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(h(Q,K.sibling),K=b(K,te),K.return=Q,Q=K):(h(Q,K),K=im(te,Q.mode,fe),K.return=Q,Q=K),R(Q)):h(Q,K)}return _t}var Ki=ij(!0),sj=ij(!1),lu=pa(null),cu=null,Gi=null,mp=null;function gp(){mp=Gi=cu=null}function vp(s){var c=lu.current;st(lu),s._currentValue=c}function yp(s,c,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===h)break;s=s.return}}function Yi(s,c){cu=s,mp=Gi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(cr=!0),s.firstContext=null)}function Pr(s){var c=s._currentValue;if(mp!==s)if(s={context:s,memoizedValue:c,next:null},Gi===null){if(cu===null)throw Error(r(308));Gi=s,cu.dependencies={lanes:0,firstContext:s}}else Gi=Gi.next=s;return c}var Xa=null;function xp(s){Xa===null?Xa=[s]:Xa.push(s)}function oj(s,c,h,g){var b=c.interleaved;return b===null?(h.next=h,xp(c)):(h.next=b.next,b.next=h),c.interleaved=h,$n(s,g)}function $n(s,c){s.lanes|=c;var h=s.alternate;for(h!==null&&(h.lanes|=c),h=s,s=s.return;s!==null;)s.childLanes|=c,h=s.alternate,h!==null&&(h.childLanes|=c),h=s,s=s.return;return h.tag===3?h.stateNode:null}var va=!1;function bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lj(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function In(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ya(s,c,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Fe&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,$n(s,h)}return b=g.interleaved,b===null?(c.next=c,xp(g)):(c.next=b.next,b.next=c),g.interleaved=c,$n(s,h)}function uu(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Mh(s,h)}}function cj(s,c){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};N===null?b=N=R:N=N.next=R,h=h.next}while(h!==null);N===null?b=N=c:N=N.next=c}else b=N=c;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}function du(s,c,h,g){var b=s.updateQueue;va=!1;var N=b.firstBaseUpdate,R=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var V=D,re=V.next;V.next=null,R===null?N=re:R.next=re,R=V;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==R&&(D===null?ce.firstBaseUpdate=re:D.next=re,ce.lastBaseUpdate=V))}if(N!==null){var ue=b.baseState;R=0,ce=re=V=null,D=N;do{var le=D.lane,ve=D.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var we=s,je=D;switch(le=c,ve=h,je.tag){case 1:if(we=je.payload,typeof we=="function"){ue=we.call(ve,ue,le);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,le=typeof we=="function"?we.call(ve,ue,le):we,le==null)break e;ue=J({},ue,le);break e;case 2:va=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,le=b.effects,le===null?b.effects=[D]:le.push(D))}else ve={eventTime:ve,lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(re=ce=ve,V=ue):ce=ce.next=ve,R|=le;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;le=D,D=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);if(ce===null&&(V=ue),b.baseState=V,b.firstBaseUpdate=re,b.lastBaseUpdate=ce,c=b.shared.interleaved,c!==null){b=c;do R|=b.lane,b=b.next;while(b!==c)}else N===null&&(b.shared.lanes=0);Za|=R,s.lanes=R,s.memoizedState=ue}}function uj(s,c,h){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var Lo={},mn=pa(Lo),Bo=pa(Lo),qo=pa(Lo);function Ja(s){if(s===Lo)throw Error(r(174));return s}function wp(s,c){switch(tt(qo,c),tt(Bo,s),tt(mn,Lo),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:$e(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=$e(c,s)}st(mn),tt(mn,c)}function Xi(){st(mn),st(Bo),st(qo)}function dj(s){Ja(qo.current);var c=Ja(mn.current),h=$e(c,s.type);c!==h&&(tt(Bo,s),tt(mn,h))}function jp(s){Bo.current===s&&(st(mn),st(Bo))}var ht=pa(0);function fu(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var _p=[];function Sp(){for(var s=0;s<_p.length;s++)_p[s]._workInProgressVersionPrimary=null;_p.length=0}var hu=E.ReactCurrentDispatcher,Np=E.ReactCurrentBatchConfig,Qa=0,pt=null,At=null,It=null,pu=!1,Uo=!1,Fo=0,HR=0;function Gt(){throw Error(r(321))}function kp(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!Vr(s[h],c[h]))return!1;return!0}function Op(s,c,h,g,b,N){if(Qa=N,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,hu.current=s===null||s.memoizedState===null?YR:XR,s=h(g,b),Uo){N=0;do{if(Uo=!1,Fo=0,25<=N)throw Error(r(301));N+=1,It=At=null,c.updateQueue=null,hu.current=JR,s=h(g,b)}while(Uo)}if(hu.current=vu,c=At!==null&&At.next!==null,Qa=0,It=At=pt=null,pu=!1,c)throw Error(r(300));return s}function Ep(){var s=Fo!==0;return Fo=0,s}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?pt.memoizedState=It=s:It=It.next=s,It}function Tr(){if(At===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var c=It===null?pt.memoizedState:It.next;if(c!==null)It=c,At=s;else{if(s===null)throw Error(r(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},It===null?pt.memoizedState=It=s:It=It.next=s}return It}function zo(s,c){return typeof c=="function"?c(s):c}function Ap(s){var c=Tr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=At,b=g.baseQueue,N=h.pending;if(N!==null){if(b!==null){var R=b.next;b.next=N.next,N.next=R}g.baseQueue=b=N,h.pending=null}if(b!==null){N=b.next,g=g.baseState;var D=R=null,V=null,re=N;do{var ce=re.lane;if((Qa&ce)===ce)V!==null&&(V=V.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:s(g,re.action);else{var ue={lane:ce,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};V===null?(D=V=ue,R=g):V=V.next=ue,pt.lanes|=ce,Za|=ce}re=re.next}while(re!==null&&re!==N);V===null?R=g:V.next=D,Vr(g,c.memoizedState)||(cr=!0),c.memoizedState=g,c.baseState=R,c.baseQueue=V,h.lastRenderedState=g}if(s=h.interleaved,s!==null){b=s;do N=b.lane,pt.lanes|=N,Za|=N,b=b.next;while(b!==s)}else b===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Cp(s){var c=Tr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,b=h.pending,N=c.memoizedState;if(b!==null){h.pending=null;var R=b=b.next;do N=s(N,R.action),R=R.next;while(R!==b);Vr(N,c.memoizedState)||(cr=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),h.lastRenderedState=N}return[N,g]}function fj(){}function hj(s,c){var h=pt,g=Tr(),b=c(),N=!Vr(g.memoizedState,b);if(N&&(g.memoizedState=b,cr=!0),g=g.queue,Pp(gj.bind(null,h,g,s),[s]),g.getSnapshot!==c||N||It!==null&&It.memoizedState.tag&1){if(h.flags|=2048,Wo(9,mj.bind(null,h,g,b,c),void 0,null),Dt===null)throw Error(r(349));(Qa&30)!==0||pj(h,c,b)}return b}function pj(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function mj(s,c,h,g){c.value=h,c.getSnapshot=g,vj(c)&&yj(s)}function gj(s,c,h){return h(function(){vj(c)&&yj(s)})}function vj(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!Vr(s,h)}catch{return!0}}function yj(s){var c=$n(s,1);c!==null&&Jr(c,s,1,-1)}function xj(s){var c=gn();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},c.queue=s,s=s.dispatch=GR.bind(null,pt,s),[c.memoizedState,s]}function Wo(s,c,h,g){return s={tag:s,create:c,destroy:h,deps:g,next:null},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.lastEffect=s.next=s):(h=c.lastEffect,h===null?c.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,c.lastEffect=s)),s}function bj(){return Tr().memoizedState}function mu(s,c,h,g){var b=gn();pt.flags|=s,b.memoizedState=Wo(1|c,h,void 0,g===void 0?null:g)}function gu(s,c,h,g){var b=Tr();g=g===void 0?null:g;var N=void 0;if(At!==null){var R=At.memoizedState;if(N=R.destroy,g!==null&&kp(g,R.deps)){b.memoizedState=Wo(c,h,N,g);return}}pt.flags|=s,b.memoizedState=Wo(1|c,h,N,g)}function wj(s,c){return mu(8390656,8,s,c)}function Pp(s,c){return gu(2048,8,s,c)}function jj(s,c){return gu(4,2,s,c)}function _j(s,c){return gu(4,4,s,c)}function Sj(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Nj(s,c,h){return h=h!=null?h.concat([s]):null,gu(4,4,Sj.bind(null,c,s),h)}function Tp(){}function kj(s,c){var h=Tr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&kp(c,g[1])?g[0]:(h.memoizedState=[s,c],s)}function Oj(s,c){var h=Tr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&kp(c,g[1])?g[0]:(s=s(),h.memoizedState=[s,c],s)}function Ej(s,c,h){return(Qa&21)===0?(s.baseState&&(s.baseState=!1,cr=!0),s.memoizedState=h):(Vr(h,c)||(h=a1(),pt.lanes|=h,Za|=h,s.baseState=!0),c)}function VR(s,c){var h=Xe;Xe=h!==0&&4>h?h:4,s(!0);var g=Np.transition;Np.transition={};try{s(!1),c()}finally{Xe=h,Np.transition=g}}function Aj(){return Tr().memoizedState}function KR(s,c,h){var g=ja(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Cj(s))Pj(c,h);else if(h=oj(s,c,h,g),h!==null){var b=nr();Jr(h,s,g,b),Tj(h,c,g)}}function GR(s,c,h){var g=ja(s),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Cj(s))Pj(c,b);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var R=c.lastRenderedState,D=N(R,h);if(b.hasEagerState=!0,b.eagerState=D,Vr(D,R)){var V=c.interleaved;V===null?(b.next=b,xp(c)):(b.next=V.next,V.next=b),c.interleaved=b;return}}catch{}h=oj(s,c,b,g),h!==null&&(b=nr(),Jr(h,s,g,b),Tj(h,c,g))}}function Cj(s){var c=s.alternate;return s===pt||c!==null&&c===pt}function Pj(s,c){Uo=pu=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function Tj(s,c,h){if((h&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Mh(s,h)}}var vu={readContext:Pr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},YR={readContext:Pr,useCallback:function(s,c){return gn().memoizedState=[s,c===void 0?null:c],s},useContext:Pr,useEffect:wj,useImperativeHandle:function(s,c,h){return h=h!=null?h.concat([s]):null,mu(4194308,4,Sj.bind(null,c,s),h)},useLayoutEffect:function(s,c){return mu(4194308,4,s,c)},useInsertionEffect:function(s,c){return mu(4,2,s,c)},useMemo:function(s,c){var h=gn();return c=c===void 0?null:c,s=s(),h.memoizedState=[s,c],s},useReducer:function(s,c,h){var g=gn();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=KR.bind(null,pt,s),[g.memoizedState,s]},useRef:function(s){var c=gn();return s={current:s},c.memoizedState=s},useState:xj,useDebugValue:Tp,useDeferredValue:function(s){return gn().memoizedState=s},useTransition:function(){var s=xj(!1),c=s[0];return s=VR.bind(null,s[1]),gn().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,h){var g=pt,b=gn();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Dt===null)throw Error(r(349));(Qa&30)!==0||pj(g,c,h)}b.memoizedState=h;var N={value:h,getSnapshot:c};return b.queue=N,wj(gj.bind(null,g,N,s),[s]),g.flags|=2048,Wo(9,mj.bind(null,g,N,h,c),void 0,null),h},useId:function(){var s=gn(),c=Dt.identifierPrefix;if(ut){var h=Mn,g=Rn;h=(g&~(1<<32-Hr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=Fo++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=HR++,c=":"+c+"r"+h.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},XR={readContext:Pr,useCallback:kj,useContext:Pr,useEffect:Pp,useImperativeHandle:Nj,useInsertionEffect:jj,useLayoutEffect:_j,useMemo:Oj,useReducer:Ap,useRef:bj,useState:function(){return Ap(zo)},useDebugValue:Tp,useDeferredValue:function(s){var c=Tr();return Ej(c,At.memoizedState,s)},useTransition:function(){var s=Ap(zo)[0],c=Tr().memoizedState;return[s,c]},useMutableSource:fj,useSyncExternalStore:hj,useId:Aj,unstable_isNewReconciler:!1},JR={readContext:Pr,useCallback:kj,useContext:Pr,useEffect:Pp,useImperativeHandle:Nj,useInsertionEffect:jj,useLayoutEffect:_j,useMemo:Oj,useReducer:Cp,useRef:bj,useState:function(){return Cp(zo)},useDebugValue:Tp,useDeferredValue:function(s){var c=Tr();return At===null?c.memoizedState=s:Ej(c,At.memoizedState,s)},useTransition:function(){var s=Cp(zo)[0],c=Tr().memoizedState;return[s,c]},useMutableSource:fj,useSyncExternalStore:hj,useId:Aj,unstable_isNewReconciler:!1};function Gr(s,c){if(s&&s.defaultProps){c=J({},c),s=s.defaultProps;for(var h in s)c[h]===void 0&&(c[h]=s[h]);return c}return c}function Rp(s,c,h,g){c=s.memoizedState,h=h(g,c),h=h==null?c:J({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var yu={isMounted:function(s){return(s=s._reactInternals)?Ha(s)===s:!1},enqueueSetState:function(s,c,h){s=s._reactInternals;var g=nr(),b=ja(s),N=In(g,b);N.payload=c,h!=null&&(N.callback=h),c=ya(s,N,b),c!==null&&(Jr(c,s,b,g),uu(c,s,b))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var g=nr(),b=ja(s),N=In(g,b);N.tag=1,N.payload=c,h!=null&&(N.callback=h),c=ya(s,N,b),c!==null&&(Jr(c,s,b,g),uu(c,s,b))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=nr(),g=ja(s),b=In(h,g);b.tag=2,c!=null&&(b.callback=c),c=ya(s,b,g),c!==null&&(Jr(c,s,g,h),uu(c,s,g))}};function Rj(s,c,h,g,b,N,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,N,R):c.prototype&&c.prototype.isPureReactComponent?!Co(h,g)||!Co(b,N):!0}function Mj(s,c,h){var g=!1,b=ma,N=c.contextType;return typeof N=="object"&&N!==null?N=Pr(N):(b=lr(c)?Ka:Kt.current,g=c.contextTypes,N=(g=g!=null)?zi(s,b):ma),c=new c(h,N),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=yu,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=N),c}function $j(s,c,h,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==s&&yu.enqueueReplaceState(c,c.state,null)}function Mp(s,c,h,g){var b=s.stateNode;b.props=h,b.state=s.memoizedState,b.refs={},bp(s);var N=c.contextType;typeof N=="object"&&N!==null?b.context=Pr(N):(N=lr(c)?Ka:Kt.current,b.context=zi(s,N)),b.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Rp(s,c,N,h),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&yu.enqueueReplaceState(b,b.state,null),du(s,h,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,c){try{var h="",g=c;do h+=ie(g),g=g.return;while(g);var b=h}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:s,source:c,stack:b,digest:null}}function $p(s,c,h){return{value:s,source:null,stack:h??null,digest:c??null}}function Ip(s,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function Ij(s,c,h){h=In(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){Nu||(Nu=!0,Jp=g),Ip(s,c)},h}function Dj(s,c,h){h=In(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;h.payload=function(){return g(b)},h.callback=function(){Ip(s,c)}}var N=s.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(h.callback=function(){Ip(s,c),typeof g!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),h}function Lj(s,c,h){var g=s.pingCache;if(g===null){g=s.pingCache=new QR;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(h)||(b.add(h),s=fM.bind(null,s,c,h),c.then(s,s))}function Bj(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function qj(s,c,h,g,b){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=In(-1,1),c.tag=2,ya(h,c,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var ZR=E.ReactCurrentOwner,cr=!1;function rr(s,c,h,g){c.child=s===null?sj(c,null,h,g):Ki(c,s.child,h,g)}function Uj(s,c,h,g,b){h=h.render;var N=c.ref;return Yi(c,b),g=Op(s,c,h,g,N,b),h=Ep(),s!==null&&!cr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~b,Dn(s,c,b)):(ut&&h&&up(c),c.flags|=1,rr(s,c,g,b),c.child)}function Fj(s,c,h,g,b){if(s===null){var N=h.type;return typeof N=="function"&&!am(N)&&N.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=N,zj(s,c,N,g,b)):(s=Pu(h.type,null,g,c,c.mode,b),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,(s.lanes&b)===0){var R=N.memoizedProps;if(h=h.compare,h=h!==null?h:Co,h(R,g)&&s.ref===c.ref)return Dn(s,c,b)}return c.flags|=1,s=Sa(N,g),s.ref=c.ref,s.return=c,c.child=s}function zj(s,c,h,g,b){if(s!==null){var N=s.memoizedProps;if(Co(N,g)&&s.ref===c.ref)if(cr=!1,c.pendingProps=g=N,(s.lanes&b)!==0)(s.flags&131072)!==0&&(cr=!0);else return c.lanes=s.lanes,Dn(s,c,b)}return Dp(s,c,h,g,b)}function Wj(s,c,h){var g=c.pendingProps,b=g.children,N=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Zi,xr),xr|=h;else{if((h&1073741824)===0)return s=N!==null?N.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,tt(Zi,xr),xr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:h,tt(Zi,xr),xr|=g}else N!==null?(g=N.baseLanes|h,c.memoizedState=null):g=h,tt(Zi,xr),xr|=g;return rr(s,c,b,h),c.child}function Hj(s,c){var h=c.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Dp(s,c,h,g,b){var N=lr(h)?Ka:Kt.current;return N=zi(c,N),Yi(c,b),h=Op(s,c,h,g,N,b),g=Ep(),s!==null&&!cr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~b,Dn(s,c,b)):(ut&&g&&up(c),c.flags|=1,rr(s,c,h,b),c.child)}function Vj(s,c,h,g,b){if(lr(h)){var N=!0;ru(c)}else N=!1;if(Yi(c,b),c.stateNode===null)bu(s,c),Mj(c,h,g),Mp(c,h,g,b),g=!0;else if(s===null){var R=c.stateNode,D=c.memoizedProps;R.props=D;var V=R.context,re=h.contextType;typeof re=="object"&&re!==null?re=Pr(re):(re=lr(h)?Ka:Kt.current,re=zi(c,re));var ce=h.getDerivedStateFromProps,ue=typeof ce=="function"||typeof R.getSnapshotBeforeUpdate=="function";ue||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(D!==g||V!==re)&&$j(c,R,g,re),va=!1;var le=c.memoizedState;R.state=le,du(c,g,R,b),V=c.memoizedState,D!==g||le!==V||or.current||va?(typeof ce=="function"&&(Rp(c,h,ce,g),V=c.memoizedState),(D=va||Rj(c,h,D,g,le,V,re))?(ue||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=V),R.props=g,R.state=V,R.context=re,g=D):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{R=c.stateNode,lj(s,c),D=c.memoizedProps,re=c.type===c.elementType?D:Gr(c.type,D),R.props=re,ue=c.pendingProps,le=R.context,V=h.contextType,typeof V=="object"&&V!==null?V=Pr(V):(V=lr(h)?Ka:Kt.current,V=zi(c,V));var ve=h.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(D!==ue||le!==V)&&$j(c,R,g,V),va=!1,le=c.memoizedState,R.state=le,du(c,g,R,b);var we=c.memoizedState;D!==ue||le!==we||or.current||va?(typeof ve=="function"&&(Rp(c,h,ve,g),we=c.memoizedState),(re=va||Rj(c,h,re,g,le,we,V)||!1)?(ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(g,we,V),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(g,we,V)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||D===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=we),R.props=g,R.state=we,R.context=V,g=re):(typeof R.componentDidUpdate!="function"||D===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),g=!1)}return Lp(s,c,h,g,N,b)}function Lp(s,c,h,g,b,N){Hj(s,c);var R=(c.flags&128)!==0;if(!g&&!R)return b&&J1(c,h,!1),Dn(s,c,N);g=c.stateNode,ZR.current=c;var D=R&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&R?(c.child=Ki(c,s.child,null,N),c.child=Ki(c,null,D,N)):rr(s,c,D,N),c.memoizedState=g.state,b&&J1(c,h,!0),c.child}function Kj(s){var c=s.stateNode;c.pendingContext?Y1(s,c.pendingContext,c.pendingContext!==c.context):c.context&&Y1(s,c.context,!1),wp(s,c.containerInfo)}function Gj(s,c,h,g,b){return Vi(),pp(b),c.flags|=256,rr(s,c,h,g),c.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function qp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Yj(s,c,h){var g=c.pendingProps,b=ht.current,N=!1,R=(c.flags&128)!==0,D;if((D=R)||(D=s!==null&&s.memoizedState===null?!1:(b&2)!==0),D?(N=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),tt(ht,b&1),s===null)return hp(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(R=g.children,s=g.fallback,N?(g=c.mode,N=c.child,R={mode:"hidden",children:R},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=Tu(R,g,0,null),s=ni(s,g,h,null),N.return=c,s.return=c,N.sibling=s,c.child=N,c.child.memoizedState=qp(h),c.memoizedState=Bp,s):Up(c,R));if(b=s.memoizedState,b!==null&&(D=b.dehydrated,D!==null))return eM(s,c,R,g,D,b,h);if(N){N=g.fallback,R=c.mode,b=s.child,D=b.sibling;var V={mode:"hidden",children:g.children};return(R&1)===0&&c.child!==b?(g=c.child,g.childLanes=0,g.pendingProps=V,c.deletions=null):(g=Sa(b,V),g.subtreeFlags=b.subtreeFlags&14680064),D!==null?N=Sa(D,N):(N=ni(N,R,h,null),N.flags|=2),N.return=c,g.return=c,g.sibling=N,c.child=g,g=N,N=c.child,R=s.child.memoizedState,R=R===null?qp(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=s.childLanes&~h,c.memoizedState=Bp,g}return N=s.child,s=N.sibling,g=Sa(N,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,s!==null&&(h=c.deletions,h===null?(c.deletions=[s],c.flags|=16):h.push(s)),c.child=g,c.memoizedState=null,g}function Up(s,c){return c=Tu({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function xu(s,c,h,g){return g!==null&&pp(g),Ki(c,s.child,null,h),s=Up(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function eM(s,c,h,g,b,N,R){if(h)return c.flags&256?(c.flags&=-257,g=$p(Error(r(422))),xu(s,c,R,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(N=g.fallback,b=c.mode,g=Tu({mode:"visible",children:g.children},b,0,null),N=ni(N,b,R,null),N.flags|=2,g.return=c,N.return=c,g.sibling=N,c.child=g,(c.mode&1)!==0&&Ki(c,s.child,null,R),c.child.memoizedState=qp(R),c.memoizedState=Bp,N);if((c.mode&1)===0)return xu(s,c,R,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var D=g.dgst;return g=D,N=Error(r(419)),g=$p(N,g,void 0),xu(s,c,R,g)}if(D=(R&s.childLanes)!==0,cr||D){if(g=Dt,g!==null){switch(R&-R){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|R))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,$n(s,b),Jr(g,s,b,-1))}return nm(),g=$p(Error(r(421))),xu(s,c,R,g)}return b.data==="$?"?(c.flags|=128,c.child=s.child,c=hM.bind(null,s),b._reactRetry=c,null):(s=N.treeContext,yr=ha(b.nextSibling),vr=c,ut=!0,Kr=null,s!==null&&(Ar[Cr++]=Rn,Ar[Cr++]=Mn,Ar[Cr++]=Ga,Rn=s.id,Mn=s.overflow,Ga=c),c=Up(c,g.children),c.flags|=4096,c)}function Xj(s,c,h){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),yp(s.return,c,h)}function Fp(s,c,h,g,b){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=h,N.tailMode=b)}function Jj(s,c,h){var g=c.pendingProps,b=g.revealOrder,N=g.tail;if(rr(s,c,g.children,h),g=ht.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xj(s,h,c);else if(s.tag===19)Xj(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(tt(ht,g),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(h=c.child,b=null;h!==null;)s=h.alternate,s!==null&&fu(s)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),Fp(c,!1,b,h,N);break;case"backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(s=b.alternate,s!==null&&fu(s)===null){c.child=b;break}s=b.sibling,b.sibling=h,h=b,b=s}Fp(c,!0,h,null,N);break;case"together":Fp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function bu(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Dn(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),Za|=c.lanes,(h&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=Sa(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=Sa(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function tM(s,c,h){switch(c.tag){case 3:Kj(c),Vi();break;case 5:dj(c);break;case 1:lr(c.type)&&ru(c);break;case 4:wp(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,b=c.memoizedProps.value;tt(lu,g._currentValue),g._currentValue=b;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(tt(ht,ht.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Yj(s,c,h):(tt(ht,ht.current&1),s=Dn(s,c,h),s!==null?s.sibling:null);tt(ht,ht.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(s.flags&128)!==0){if(g)return Jj(s,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),tt(ht,ht.current),g)break;return null;case 22:case 23:return c.lanes=0,Wj(s,c,h)}return Dn(s,c,h)}var Qj,zp,Zj,e_;Qj=function(s,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},zp=function(){},Zj=function(s,c,h,g){var b=s.memoizedProps;if(b!==g){s=c.stateNode,Ja(mn.current);var N=null;switch(h){case"input":b=Ie(s,b),g=Ie(s,g),N=[];break;case"select":b=J({},b,{value:void 0}),g=J({},g,{value:void 0}),N=[];break;case"textarea":b=at(s,b),g=at(s,g),N=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Zc)}_h(h,g);var R;h=null;for(re in b)if(!g.hasOwnProperty(re)&&b.hasOwnProperty(re)&&b[re]!=null)if(re==="style"){var D=b[re];for(R in D)D.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?N||(N=[]):(N=N||[]).push(re,null));for(re in g){var V=g[re];if(D=b?.[re],g.hasOwnProperty(re)&&V!==D&&(V!=null||D!=null))if(re==="style")if(D){for(R in D)!D.hasOwnProperty(R)||V&&V.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in V)V.hasOwnProperty(R)&&D[R]!==V[R]&&(h||(h={}),h[R]=V[R])}else h||(N||(N=[]),N.push(re,h)),h=V;else re==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(N=N||[]).push(re,V)):re==="children"?typeof V!="string"&&typeof V!="number"||(N=N||[]).push(re,""+V):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(V!=null&&re==="onScroll"&&it("scroll",s),N||D===V||(N=[])):(N=N||[]).push(re,V))}h&&(N=N||[]).push("style",h);var re=N;(c.updateQueue=re)&&(c.flags|=4)}},e_=function(s,c,h,g){h!==g&&(c.flags|=4)};function Ho(s,c){if(!ut)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Yt(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(c)for(var b=s.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=h,c}function rM(s,c,h){var g=c.pendingProps;switch(dp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(c),null;case 1:return lr(c.type)&&tu(),Yt(c),null;case 3:return g=c.stateNode,Xi(),st(or),st(Kt),Sp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(su(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Kr!==null&&(em(Kr),Kr=null))),zp(s,c),Yt(c),null;case 5:jp(c);var b=Ja(qo.current);if(h=c.type,s!==null&&c.stateNode!=null)Zj(s,c,h,g,b),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Yt(c),null}if(s=Ja(mn.current),su(c)){g=c.stateNode,h=c.type;var N=c.memoizedProps;switch(g[pn]=c,g[$o]=N,s=(c.mode&1)!==0,h){case"dialog":it("cancel",g),it("close",g);break;case"iframe":case"object":case"embed":it("load",g);break;case"video":case"audio":for(b=0;b<To.length;b++)it(To[b],g);break;case"source":it("error",g);break;case"img":case"image":case"link":it("error",g),it("load",g);break;case"details":it("toggle",g);break;case"input":Ve(g,N),it("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},it("invalid",g);break;case"textarea":er(g,N),it("invalid",g)}_h(h,N),b=null;for(var R in N)if(N.hasOwnProperty(R)){var D=N[R];R==="children"?typeof D=="string"?g.textContent!==D&&(N.suppressHydrationWarning!==!0&&Qc(g.textContent,D,s),b=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(N.suppressHydrationWarning!==!0&&Qc(g.textContent,D,s),b=["children",""+D]):a.hasOwnProperty(R)&&D!=null&&R==="onScroll"&&it("scroll",g)}switch(h){case"input":ke(g),he(g,N,!0);break;case"textarea":ke(g),lt(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=Zc)}g=b,c.updateQueue=g,g!==null&&(c.flags|=4)}else{R=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Y(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=R.createElement(h,{is:g.is}):(s=R.createElement(h),h==="select"&&(R=s,g.multiple?R.multiple=!0:g.size&&(R.size=g.size))):s=R.createElementNS(s,h),s[pn]=c,s[$o]=g,Qj(s,c,!1,!1),c.stateNode=s;e:{switch(R=Sh(h,g),h){case"dialog":it("cancel",s),it("close",s),b=g;break;case"iframe":case"object":case"embed":it("load",s),b=g;break;case"video":case"audio":for(b=0;b<To.length;b++)it(To[b],s);b=g;break;case"source":it("error",s),b=g;break;case"img":case"image":case"link":it("error",s),it("load",s),b=g;break;case"details":it("toggle",s),b=g;break;case"input":Ve(s,g),b=Ie(s,g),it("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=J({},g,{value:void 0}),it("invalid",s);break;case"textarea":er(s,g),b=at(s,g),it("invalid",s);break;default:b=g}_h(h,b),D=b;for(N in D)if(D.hasOwnProperty(N)){var V=D[N];N==="style"?Pc(s,V):N==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Et(s,V)):N==="children"?typeof V=="string"?(h!=="textarea"||V!=="")&&Wr(s,V):typeof V=="number"&&Wr(s,""+V):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?V!=null&&N==="onScroll"&&it("scroll",s):V!=null&&S(s,N,V,R))}switch(h){case"input":ke(s),he(s,g,!1);break;case"textarea":ke(s),lt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ge(g.value));break;case"select":s.multiple=!!g.multiple,N=g.value,N!=null?Ye(s,!!g.multiple,N,!1):g.defaultValue!=null&&Ye(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Zc)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Yt(c),null;case 6:if(s&&c.stateNode!=null)e_(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(h=Ja(qo.current),Ja(mn.current),su(c)){if(g=c.stateNode,h=c.memoizedProps,g[pn]=c,(N=g.nodeValue!==h)&&(s=vr,s!==null))switch(s.tag){case 3:Qc(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Qc(g.nodeValue,h,(s.mode&1)!==0)}N&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[pn]=c,c.stateNode=g}return Yt(c),null;case 13:if(st(ht),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&yr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)nj(),Vi(),c.flags|=98560,N=!1;else if(N=su(c),g!==null&&g.dehydrated!==null){if(s===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[pn]=c}else Vi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),N=!1}else Kr!==null&&(em(Kr),Kr=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(ht.current&1)!==0?Ct===0&&(Ct=3):nm())),c.updateQueue!==null&&(c.flags|=4),Yt(c),null);case 4:return Xi(),zp(s,c),s===null&&Ro(c.stateNode.containerInfo),Yt(c),null;case 10:return vp(c.type._context),Yt(c),null;case 17:return lr(c.type)&&tu(),Yt(c),null;case 19:if(st(ht),N=c.memoizedState,N===null)return Yt(c),null;if(g=(c.flags&128)!==0,R=N.rendering,R===null)if(g)Ho(N,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(R=fu(s),R!==null){for(c.flags|=128,Ho(N,!1),g=R.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)N=h,s=g,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=s,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,s=R.dependencies,N.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return tt(ht,ht.current&1|2),c.child}s=s.sibling}N.tail!==null&&jt()>es&&(c.flags|=128,g=!0,Ho(N,!1),c.lanes=4194304)}else{if(!g)if(s=fu(R),s!==null){if(c.flags|=128,g=!0,h=s.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Ho(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!ut)return Yt(c),null}else 2*jt()-N.renderingStartTime>es&&h!==1073741824&&(c.flags|=128,g=!0,Ho(N,!1),c.lanes=4194304);N.isBackwards?(R.sibling=c.child,c.child=R):(h=N.last,h!==null?h.sibling=R:c.child=R,N.last=R)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=jt(),c.sibling=null,h=ht.current,tt(ht,g?h&1|2:h&1),c):(Yt(c),null);case 22:case 23:return rm(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Yt(c),c.subtreeFlags&6&&(c.flags|=8192)):Yt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function nM(s,c){switch(dp(c),c.tag){case 1:return lr(c.type)&&tu(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Xi(),st(or),st(Kt),Sp(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return jp(c),null;case 13:if(st(ht),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Vi()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return st(ht),null;case 4:return Xi(),null;case 10:return vp(c.type._context),null;case 22:case 23:return rm(),null;case 24:return null;default:return null}}var wu=!1,Xt=!1,aM=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Qi(s,c){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){yt(s,c,g)}else h.current=null}function Wp(s,c,h){try{h()}catch(g){yt(s,c,g)}}var t_=!1;function iM(s,c){if(rp=Uc,s=R1(),Gh(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var R=0,D=-1,V=-1,re=0,ce=0,ue=s,le=null;t:for(;;){for(var ve;ue!==h||b!==0&&ue.nodeType!==3||(D=R+b),ue!==N||g!==0&&ue.nodeType!==3||(V=R+g),ue.nodeType===3&&(R+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===s)break t;if(le===h&&++re===b&&(D=R),le===N&&++ce===g&&(V=R),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}h=D===-1||V===-1?null:{start:D,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(np={focusedElem:s,selectionRange:h},Uc=!1,ye=c;ye!==null;)if(c=ye,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ye=s;else for(;ye!==null;){c=ye;try{var we=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,_t=we.memoizedState,Q=c.stateNode,K=Q.getSnapshotBeforeUpdate(c.elementType===c.type?je:Gr(c.type,je),_t);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){yt(c,c.return,fe)}if(s=c.sibling,s!==null){s.return=c.return,ye=s;break}ye=c.return}return we=t_,t_=!1,we}function Vo(s,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var N=b.destroy;b.destroy=void 0,N!==void 0&&Wp(c,h,N)}b=b.next}while(b!==g)}}function ju(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function Hp(s){var c=s.ref;if(c!==null){var h=s.stateNode;s.tag,s=h,typeof c=="function"?c(s):c.current=s}}function r_(s){var c=s.alternate;c!==null&&(s.alternate=null,r_(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[pn],delete c[$o],delete c[op],delete c[UR],delete c[FR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function n_(s){return s.tag===5||s.tag===3||s.tag===4}function a_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||n_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vp(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(s,c):h.insertBefore(s,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(s,h)):(c=h,c.appendChild(s)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Zc));else if(g!==4&&(s=s.child,s!==null))for(Vp(s,c,h),s=s.sibling;s!==null;)Vp(s,c,h),s=s.sibling}function Kp(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Kp(s,c,h),s=s.sibling;s!==null;)Kp(s,c,h),s=s.sibling}var Ut=null,Yr=!1;function xa(s,c,h){for(h=h.child;h!==null;)i_(s,c,h),h=h.sibling}function i_(s,c,h){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount($c,h)}catch{}switch(h.tag){case 5:Xt||Qi(h,c);case 6:var g=Ut,b=Yr;Ut=null,xa(s,c,h),Ut=g,Yr=b,Ut!==null&&(Yr?(s=Ut,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Ut.removeChild(h.stateNode));break;case 18:Ut!==null&&(Yr?(s=Ut,h=h.stateNode,s.nodeType===8?sp(s.parentNode,h):s.nodeType===1&&sp(s,h),So(s)):sp(Ut,h.stateNode));break;case 4:g=Ut,b=Yr,Ut=h.stateNode.containerInfo,Yr=!0,xa(s,c,h),Ut=g,Yr=b;break;case 0:case 11:case 14:case 15:if(!Xt&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var N=b,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&Wp(h,c,R),b=b.next}while(b!==g)}xa(s,c,h);break;case 1:if(!Xt&&(Qi(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(D){yt(h,c,D)}xa(s,c,h);break;case 21:xa(s,c,h);break;case 22:h.mode&1?(Xt=(g=Xt)||h.memoizedState!==null,xa(s,c,h),Xt=g):xa(s,c,h);break;default:xa(s,c,h)}}function s_(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new aM),c.forEach(function(g){var b=pM.bind(null,s,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Xr(s,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var N=s,R=c,D=R;e:for(;D!==null;){switch(D.tag){case 5:Ut=D.stateNode,Yr=!1;break e;case 3:Ut=D.stateNode.containerInfo,Yr=!0;break e;case 4:Ut=D.stateNode.containerInfo,Yr=!0;break e}D=D.return}if(Ut===null)throw Error(r(160));i_(N,R,b),Ut=null,Yr=!1;var V=b.alternate;V!==null&&(V.return=null),b.return=null}catch(re){yt(b,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)o_(c,s),c=c.sibling}function o_(s,c){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xr(c,s),vn(s),g&4){try{Vo(3,s,s.return),ju(3,s)}catch(je){yt(s,s.return,je)}try{Vo(5,s,s.return)}catch(je){yt(s,s.return,je)}}break;case 1:Xr(c,s),vn(s),g&512&&h!==null&&Qi(h,h.return);break;case 5:if(Xr(c,s),vn(s),g&512&&h!==null&&Qi(h,h.return),s.flags&32){var b=s.stateNode;try{Wr(b,"")}catch(je){yt(s,s.return,je)}}if(g&4&&(b=s.stateNode,b!=null)){var N=s.memoizedProps,R=h!==null?h.memoizedProps:N,D=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{D==="input"&&N.type==="radio"&&N.name!=null&&et(b,N),Sh(D,R);var re=Sh(D,N);for(R=0;R<V.length;R+=2){var ce=V[R],ue=V[R+1];ce==="style"?Pc(b,ue):ce==="dangerouslySetInnerHTML"?Et(b,ue):ce==="children"?Wr(b,ue):S(b,ce,ue,re)}switch(D){case"input":vt(b,N);break;case"textarea":mr(b,N);break;case"select":var le=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var ve=N.value;ve!=null?Ye(b,!!N.multiple,ve,!1):le!==!!N.multiple&&(N.defaultValue!=null?Ye(b,!!N.multiple,N.defaultValue,!0):Ye(b,!!N.multiple,N.multiple?[]:"",!1))}b[$o]=N}catch(je){yt(s,s.return,je)}}break;case 6:if(Xr(c,s),vn(s),g&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,N=s.memoizedProps;try{b.nodeValue=N}catch(je){yt(s,s.return,je)}}break;case 3:if(Xr(c,s),vn(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{So(c.containerInfo)}catch(je){yt(s,s.return,je)}break;case 4:Xr(c,s),vn(s);break;case 13:Xr(c,s),vn(s),b=s.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||(Xp=jt())),g&4&&s_(s);break;case 22:if(ce=h!==null&&h.memoizedState!==null,s.mode&1?(Xt=(re=Xt)||ce,Xr(c,s),Xt=re):Xr(c,s),vn(s),g&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!ce&&(s.mode&1)!==0)for(ye=s,ce=s.child;ce!==null;){for(ue=ye=ce;ye!==null;){switch(le=ye,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Vo(4,le,le.return);break;case 1:Qi(le,le.return);var we=le.stateNode;if(typeof we.componentWillUnmount=="function"){g=le,h=le.return;try{c=g,we.props=c.memoizedProps,we.state=c.memoizedState,we.componentWillUnmount()}catch(je){yt(g,h,je)}}break;case 5:Qi(le,le.return);break;case 22:if(le.memoizedState!==null){u_(ue);continue}}ve!==null?(ve.return=le,ye=ve):u_(ue)}ce=ce.sibling}e:for(ce=null,ue=s;;){if(ue.tag===5){if(ce===null){ce=ue;try{b=ue.stateNode,re?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(D=ue.stateNode,V=ue.memoizedProps.style,R=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=Cc("display",R))}catch(je){yt(s,s.return,je)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=re?"":ue.memoizedProps}catch(je){yt(s,s.return,je)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Xr(c,s),vn(s),g&4&&s_(s);break;case 21:break;default:Xr(c,s),vn(s)}}function vn(s){var c=s.flags;if(c&2){try{e:{for(var h=s.return;h!==null;){if(n_(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Wr(b,""),g.flags&=-33);var N=a_(s);Kp(s,N,b);break;case 3:case 4:var R=g.stateNode.containerInfo,D=a_(s);Vp(s,D,R);break;default:throw Error(r(161))}}catch(V){yt(s,s.return,V)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function sM(s,c,h){ye=s,l_(s)}function l_(s,c,h){for(var g=(s.mode&1)!==0;ye!==null;){var b=ye,N=b.child;if(b.tag===22&&g){var R=b.memoizedState!==null||wu;if(!R){var D=b.alternate,V=D!==null&&D.memoizedState!==null||Xt;D=wu;var re=Xt;if(wu=R,(Xt=V)&&!re)for(ye=b;ye!==null;)R=ye,V=R.child,R.tag===22&&R.memoizedState!==null?d_(b):V!==null?(V.return=R,ye=V):d_(b);for(;N!==null;)ye=N,l_(N),N=N.sibling;ye=b,wu=D,Xt=re}c_(s)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,ye=N):c_(s)}}function c_(s){for(;ye!==null;){var c=ye;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Xt||ju(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Xt)if(h===null)g.componentDidMount();else{var b=c.elementType===c.type?h.memoizedProps:Gr(c.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&uj(c,N,g);break;case 3:var R=c.updateQueue;if(R!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}uj(c,R,h)}break;case 5:var D=c.stateNode;if(h===null&&c.flags&4){h=D;var V=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&h.focus();break;case"img":V.src&&(h.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var ce=re.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&So(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xt||c.flags&512&&Hp(c)}catch(le){yt(c,c.return,le)}}if(c===s){ye=null;break}if(h=c.sibling,h!==null){h.return=c.return,ye=h;break}ye=c.return}}function u_(s){for(;ye!==null;){var c=ye;if(c===s){ye=null;break}var h=c.sibling;if(h!==null){h.return=c.return,ye=h;break}ye=c.return}}function d_(s){for(;ye!==null;){var c=ye;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{ju(4,c)}catch(V){yt(c,h,V)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var b=c.return;try{g.componentDidMount()}catch(V){yt(c,b,V)}}var N=c.return;try{Hp(c)}catch(V){yt(c,N,V)}break;case 5:var R=c.return;try{Hp(c)}catch(V){yt(c,R,V)}}}catch(V){yt(c,c.return,V)}if(c===s){ye=null;break}var D=c.sibling;if(D!==null){D.return=c.return,ye=D;break}ye=c.return}}var oM=Math.ceil,_u=E.ReactCurrentDispatcher,Gp=E.ReactCurrentOwner,Rr=E.ReactCurrentBatchConfig,Fe=0,Dt=null,St=null,Ft=0,xr=0,Zi=pa(0),Ct=0,Ko=null,Za=0,Su=0,Yp=0,Go=null,ur=null,Xp=0,es=1/0,Ln=null,Nu=!1,Jp=null,ba=null,ku=!1,wa=null,Ou=0,Yo=0,Qp=null,Eu=-1,Au=0;function nr(){return(Fe&6)!==0?jt():Eu!==-1?Eu:Eu=jt()}function ja(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Ft!==0?Ft&-Ft:WR.transition!==null?(Au===0&&(Au=a1()),Au):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:h1(s.type)),s)}function Jr(s,c,h,g){if(50<Yo)throw Yo=0,Qp=null,Error(r(185));xo(s,h,g),((Fe&2)===0||s!==Dt)&&(s===Dt&&((Fe&2)===0&&(Su|=h),Ct===4&&_a(s,Ft)),dr(s,g),h===1&&Fe===0&&(c.mode&1)===0&&(es=jt()+500,nu&&ga()))}function dr(s,c){var h=s.callbackNode;W4(s,c);var g=Lc(s,s===Dt?Ft:0);if(g===0)h!==null&&t1(h),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(h!=null&&t1(h),c===1)s.tag===0?zR(h_.bind(null,s)):Q1(h_.bind(null,s)),BR(function(){(Fe&6)===0&&ga()}),h=null;else{switch(i1(g)){case 1:h=Ph;break;case 4:h=r1;break;case 16:h=Mc;break;case 536870912:h=n1;break;default:h=Mc}h=w_(h,f_.bind(null,s))}s.callbackPriority=c,s.callbackNode=h}}function f_(s,c){if(Eu=-1,Au=0,(Fe&6)!==0)throw Error(r(327));var h=s.callbackNode;if(ts()&&s.callbackNode!==h)return null;var g=Lc(s,s===Dt?Ft:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Cu(s,g);else{c=g;var b=Fe;Fe|=2;var N=m_();(Dt!==s||Ft!==c)&&(Ln=null,es=jt()+500,ti(s,c));do try{uM();break}catch(D){p_(s,D)}while(!0);gp(),_u.current=N,Fe=b,St!==null?c=0:(Dt=null,Ft=0,c=Ct)}if(c!==0){if(c===2&&(b=Th(s),b!==0&&(g=b,c=Zp(s,b))),c===1)throw h=Ko,ti(s,0),_a(s,g),dr(s,jt()),h;if(c===6)_a(s,g);else{if(b=s.current.alternate,(g&30)===0&&!lM(b)&&(c=Cu(s,g),c===2&&(N=Th(s),N!==0&&(g=N,c=Zp(s,N))),c===1))throw h=Ko,ti(s,0),_a(s,g),dr(s,jt()),h;switch(s.finishedWork=b,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:ri(s,ur,Ln);break;case 3:if(_a(s,g),(g&130023424)===g&&(c=Xp+500-jt(),10<c)){if(Lc(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){nr(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=ip(ri.bind(null,s,ur,Ln),c);break}ri(s,ur,Ln);break;case 4:if(_a(s,g),(g&4194240)===g)break;for(c=s.eventTimes,b=-1;0<g;){var R=31-Hr(g);N=1<<R,R=c[R],R>b&&(b=R),g&=~N}if(g=b,g=jt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*oM(g/1960))-g,10<g){s.timeoutHandle=ip(ri.bind(null,s,ur,Ln),g);break}ri(s,ur,Ln);break;case 5:ri(s,ur,Ln);break;default:throw Error(r(329))}}}return dr(s,jt()),s.callbackNode===h?f_.bind(null,s):null}function Zp(s,c){var h=Go;return s.current.memoizedState.isDehydrated&&(ti(s,c).flags|=256),s=Cu(s,c),s!==2&&(c=ur,ur=h,c!==null&&em(c)),s}function em(s){ur===null?ur=s:ur.push.apply(ur,s)}function lM(s){for(var c=s;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],N=b.getSnapshot;b=b.value;try{if(!Vr(N(),b))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _a(s,c){for(c&=~Yp,c&=~Su,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var h=31-Hr(c),g=1<<h;s[h]=-1,c&=~g}}function h_(s){if((Fe&6)!==0)throw Error(r(327));ts();var c=Lc(s,0);if((c&1)===0)return dr(s,jt()),null;var h=Cu(s,c);if(s.tag!==0&&h===2){var g=Th(s);g!==0&&(c=g,h=Zp(s,g))}if(h===1)throw h=Ko,ti(s,0),_a(s,c),dr(s,jt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,ri(s,ur,Ln),dr(s,jt()),null}function tm(s,c){var h=Fe;Fe|=1;try{return s(c)}finally{Fe=h,Fe===0&&(es=jt()+500,nu&&ga())}}function ei(s){wa!==null&&wa.tag===0&&(Fe&6)===0&&ts();var c=Fe;Fe|=1;var h=Rr.transition,g=Xe;try{if(Rr.transition=null,Xe=1,s)return s()}finally{Xe=g,Rr.transition=h,Fe=c,(Fe&6)===0&&ga()}}function rm(){xr=Zi.current,st(Zi)}function ti(s,c){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,LR(h)),St!==null)for(h=St.return;h!==null;){var g=h;switch(dp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&tu();break;case 3:Xi(),st(or),st(Kt),Sp();break;case 5:jp(g);break;case 4:Xi();break;case 13:st(ht);break;case 19:st(ht);break;case 10:vp(g.type._context);break;case 22:case 23:rm()}h=h.return}if(Dt=s,St=s=Sa(s.current,null),Ft=xr=c,Ct=0,Ko=null,Yp=Su=Za=0,ur=Go=null,Xa!==null){for(c=0;c<Xa.length;c++)if(h=Xa[c],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,N=h.pending;if(N!==null){var R=N.next;N.next=b,g.next=R}h.pending=g}Xa=null}return s}function p_(s,c){do{var h=St;try{if(gp(),hu.current=vu,pu){for(var g=pt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}pu=!1}if(Qa=0,It=At=pt=null,Uo=!1,Fo=0,Gp.current=null,h===null||h.return===null){Ct=1,Ko=c,St=null;break}e:{var N=s,R=h.return,D=h,V=c;if(c=Ft,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=V,ce=D,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=Bj(R);if(ve!==null){ve.flags&=-257,qj(ve,R,D,N,c),ve.mode&1&&Lj(N,re,c),c=ve,V=re;var we=c.updateQueue;if(we===null){var je=new Set;je.add(V),c.updateQueue=je}else we.add(V);break e}else{if((c&1)===0){Lj(N,re,c),nm();break e}V=Error(r(426))}}else if(ut&&D.mode&1){var _t=Bj(R);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),qj(_t,R,D,N,c),pp(Ji(V,D));break e}}N=V=Ji(V,D),Ct!==4&&(Ct=2),Go===null?Go=[N]:Go.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var Q=Ij(N,V,c);cj(N,Q);break e;case 1:D=V;var K=N.type,te=N.stateNode;if((N.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ba===null||!ba.has(te)))){N.flags|=65536,c&=-c,N.lanes|=c;var fe=Dj(N,D,c);cj(N,fe);break e}}N=N.return}while(N!==null)}v_(h)}catch(_e){c=_e,St===h&&h!==null&&(St=h=h.return);continue}break}while(!0)}function m_(){var s=_u.current;return _u.current=vu,s===null?vu:s}function nm(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Dt===null||(Za&268435455)===0&&(Su&268435455)===0||_a(Dt,Ft)}function Cu(s,c){var h=Fe;Fe|=2;var g=m_();(Dt!==s||Ft!==c)&&(Ln=null,ti(s,c));do try{cM();break}catch(b){p_(s,b)}while(!0);if(gp(),Fe=h,_u.current=g,St!==null)throw Error(r(261));return Dt=null,Ft=0,Ct}function cM(){for(;St!==null;)g_(St)}function uM(){for(;St!==null&&!$4();)g_(St)}function g_(s){var c=b_(s.alternate,s,xr);s.memoizedProps=s.pendingProps,c===null?v_(s):St=c,Gp.current=null}function v_(s){var c=s;do{var h=c.alternate;if(s=c.return,(c.flags&32768)===0){if(h=rM(h,c,xr),h!==null){St=h;return}}else{if(h=nM(h,c),h!==null){h.flags&=32767,St=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ct=6,St=null;return}}if(c=c.sibling,c!==null){St=c;return}St=c=s}while(c!==null);Ct===0&&(Ct=5)}function ri(s,c,h){var g=Xe,b=Rr.transition;try{Rr.transition=null,Xe=1,dM(s,c,h,g)}finally{Rr.transition=b,Xe=g}return null}function dM(s,c,h,g){do ts();while(wa!==null);if((Fe&6)!==0)throw Error(r(327));h=s.finishedWork;var b=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var N=h.lanes|h.childLanes;if(H4(s,N),s===Dt&&(St=Dt=null,Ft=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ku||(ku=!0,w_(Mc,function(){return ts(),null})),N=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||N){N=Rr.transition,Rr.transition=null;var R=Xe;Xe=1;var D=Fe;Fe|=4,Gp.current=null,iM(s,h),o_(h,s),PR(np),Uc=!!rp,np=rp=null,s.current=h,sM(h),I4(),Fe=D,Xe=R,Rr.transition=N}else s.current=h;if(ku&&(ku=!1,wa=s,Ou=b),N=s.pendingLanes,N===0&&(ba=null),B4(h.stateNode),dr(s,jt()),c!==null)for(g=s.onRecoverableError,h=0;h<c.length;h++)b=c[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Nu)throw Nu=!1,s=Jp,Jp=null,s;return(Ou&1)!==0&&s.tag!==0&&ts(),N=s.pendingLanes,(N&1)!==0?s===Qp?Yo++:(Yo=0,Qp=s):Yo=0,ga(),null}function ts(){if(wa!==null){var s=i1(Ou),c=Rr.transition,h=Xe;try{if(Rr.transition=null,Xe=16>s?16:s,wa===null)var g=!1;else{if(s=wa,wa=null,Ou=0,(Fe&6)!==0)throw Error(r(331));var b=Fe;for(Fe|=4,ye=s.current;ye!==null;){var N=ye,R=N.child;if((ye.flags&16)!==0){var D=N.deletions;if(D!==null){for(var V=0;V<D.length;V++){var re=D[V];for(ye=re;ye!==null;){var ce=ye;switch(ce.tag){case 0:case 11:case 15:Vo(8,ce,N)}var ue=ce.child;if(ue!==null)ue.return=ce,ye=ue;else for(;ye!==null;){ce=ye;var le=ce.sibling,ve=ce.return;if(r_(ce),ce===re){ye=null;break}if(le!==null){le.return=ve,ye=le;break}ye=ve}}}var we=N.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var _t=je.sibling;je.sibling=null,je=_t}while(je!==null)}}ye=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,ye=R;else e:for(;ye!==null;){if(N=ye,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Vo(9,N,N.return)}var Q=N.sibling;if(Q!==null){Q.return=N.return,ye=Q;break e}ye=N.return}}var K=s.current;for(ye=K;ye!==null;){R=ye;var te=R.child;if((R.subtreeFlags&2064)!==0&&te!==null)te.return=R,ye=te;else e:for(R=K;ye!==null;){if(D=ye,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:ju(9,D)}}catch(_e){yt(D,D.return,_e)}if(D===R){ye=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,ye=fe;break e}ye=D.return}}if(Fe=b,ga(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot($c,s)}catch{}g=!0}return g}finally{Xe=h,Rr.transition=c}}return!1}function y_(s,c,h){c=Ji(h,c),c=Ij(s,c,1),s=ya(s,c,1),c=nr(),s!==null&&(xo(s,1,c),dr(s,c))}function yt(s,c,h){if(s.tag===3)y_(s,s,h);else for(;c!==null;){if(c.tag===3){y_(c,s,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))){s=Ji(h,s),s=Dj(c,s,1),c=ya(c,s,1),s=nr(),c!==null&&(xo(c,1,s),dr(c,s));break}}c=c.return}}function fM(s,c,h){var g=s.pingCache;g!==null&&g.delete(c),c=nr(),s.pingedLanes|=s.suspendedLanes&h,Dt===s&&(Ft&h)===h&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>jt()-Xp?ti(s,0):Yp|=h),dr(s,c)}function x_(s,c){c===0&&((s.mode&1)===0?c=1:(c=Dc,Dc<<=1,(Dc&130023424)===0&&(Dc=4194304)));var h=nr();s=$n(s,c),s!==null&&(xo(s,c,h),dr(s,h))}function hM(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),x_(s,h)}function pM(s,c){var h=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),x_(s,h)}var b_;b_=function(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps||or.current)cr=!0;else{if((s.lanes&h)===0&&(c.flags&128)===0)return cr=!1,tM(s,c,h);cr=(s.flags&131072)!==0}else cr=!1,ut&&(c.flags&1048576)!==0&&Z1(c,iu,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;bu(s,c),s=c.pendingProps;var b=zi(c,Kt.current);Yi(c,h),b=Op(null,c,g,s,b,h);var N=Ep();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,lr(g)?(N=!0,ru(c)):N=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,bp(c),b.updater=yu,c.stateNode=b,b._reactInternals=c,Mp(c,g,s,h),c=Lp(null,c,g,!0,N,h)):(c.tag=0,ut&&N&&up(c),rr(null,c,b,h),c=c.child),c;case 16:g=c.elementType;e:{switch(bu(s,c),s=c.pendingProps,b=g._init,g=b(g._payload),c.type=g,b=c.tag=gM(g),s=Gr(g,s),b){case 0:c=Dp(null,c,g,s,h);break e;case 1:c=Vj(null,c,g,s,h);break e;case 11:c=Uj(null,c,g,s,h);break e;case 14:c=Fj(null,c,g,Gr(g.type,s),h);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:Gr(g,b),Dp(s,c,g,b,h);case 1:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:Gr(g,b),Vj(s,c,g,b,h);case 3:e:{if(Kj(c),s===null)throw Error(r(387));g=c.pendingProps,N=c.memoizedState,b=N.element,lj(s,c),du(c,g,null,h);var R=c.memoizedState;if(g=R.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){b=Ji(Error(r(423)),c),c=Gj(s,c,g,h,b);break e}else if(g!==b){b=Ji(Error(r(424)),c),c=Gj(s,c,g,h,b);break e}else for(yr=ha(c.stateNode.containerInfo.firstChild),vr=c,ut=!0,Kr=null,h=sj(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Vi(),g===b){c=Dn(s,c,h);break e}rr(s,c,g,h)}c=c.child}return c;case 5:return dj(c),s===null&&hp(c),g=c.type,b=c.pendingProps,N=s!==null?s.memoizedProps:null,R=b.children,ap(g,b)?R=null:N!==null&&ap(g,N)&&(c.flags|=32),Hj(s,c),rr(s,c,R,h),c.child;case 6:return s===null&&hp(c),null;case 13:return Yj(s,c,h);case 4:return wp(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Ki(c,null,g,h):rr(s,c,g,h),c.child;case 11:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:Gr(g,b),Uj(s,c,g,b,h);case 7:return rr(s,c,c.pendingProps,h),c.child;case 8:return rr(s,c,c.pendingProps.children,h),c.child;case 12:return rr(s,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,b=c.pendingProps,N=c.memoizedProps,R=b.value,tt(lu,g._currentValue),g._currentValue=R,N!==null)if(Vr(N.value,R)){if(N.children===b.children&&!or.current){c=Dn(s,c,h);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var D=N.dependencies;if(D!==null){R=N.child;for(var V=D.firstContext;V!==null;){if(V.context===g){if(N.tag===1){V=In(-1,h&-h),V.tag=2;var re=N.updateQueue;if(re!==null){re=re.shared;var ce=re.pending;ce===null?V.next=V:(V.next=ce.next,ce.next=V),re.pending=V}}N.lanes|=h,V=N.alternate,V!==null&&(V.lanes|=h),yp(N.return,h,c),D.lanes|=h;break}V=V.next}}else if(N.tag===10)R=N.type===c.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=h,D=R.alternate,D!==null&&(D.lanes|=h),yp(R,h,c),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===c){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}rr(s,c,b.children,h),c=c.child}return c;case 9:return b=c.type,g=c.pendingProps.children,Yi(c,h),b=Pr(b),g=g(b),c.flags|=1,rr(s,c,g,h),c.child;case 14:return g=c.type,b=Gr(g,c.pendingProps),b=Gr(g.type,b),Fj(s,c,g,b,h);case 15:return zj(s,c,c.type,c.pendingProps,h);case 17:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:Gr(g,b),bu(s,c),c.tag=1,lr(g)?(s=!0,ru(c)):s=!1,Yi(c,h),Mj(c,g,b),Mp(c,g,b,h),Lp(null,c,g,!0,s,h);case 19:return Jj(s,c,h);case 22:return Wj(s,c,h)}throw Error(r(156,c.tag))};function w_(s,c){return e1(s,c)}function mM(s,c,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,c,h,g){return new mM(s,c,h,g)}function am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gM(s){if(typeof s=="function")return am(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===q)return 14}return 2}function Sa(s,c){var h=s.alternate;return h===null?(h=Mr(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Pu(s,c,h,g,b,N){var R=2;if(g=s,typeof s=="function")am(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case T:return ni(h.children,b,N,c);case P:R=8,b|=8;break;case $:return s=Mr(12,h,c,b|2),s.elementType=$,s.lanes=N,s;case L:return s=Mr(13,h,c,b),s.elementType=L,s.lanes=N,s;case G:return s=Mr(19,h,c,b),s.elementType=G,s.lanes=N,s;case ee:return Tu(h,b,N,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:R=10;break e;case I:R=9;break e;case F:R=11;break e;case q:R=14;break e;case z:R=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Mr(R,h,c,b),c.elementType=s,c.type=g,c.lanes=N,c}function ni(s,c,h,g){return s=Mr(7,s,g,c),s.lanes=h,s}function Tu(s,c,h,g){return s=Mr(22,s,g,c),s.elementType=ee,s.lanes=h,s.stateNode={isHidden:!1},s}function im(s,c,h){return s=Mr(6,s,null,c),s.lanes=h,s}function sm(s,c,h){return c=Mr(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function vM(s,c,h,g,b){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function om(s,c,h,g,b,N,R,D,V){return s=new vM(s,c,h,D,V),c===1?(c=1,N===!0&&(c|=8)):c=0,N=Mr(3,null,null,c),s.current=N,N.stateNode=s,N.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(N),s}function yM(s,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:s,containerInfo:c,implementation:h}}function j_(s){if(!s)return ma;s=s._reactInternals;e:{if(Ha(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(lr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(lr(h))return X1(s,h,c)}return c}function __(s,c,h,g,b,N,R,D,V){return s=om(h,g,!0,s,b,N,R,D,V),s.context=j_(null),h=s.current,g=nr(),b=ja(h),N=In(g,b),N.callback=c??null,ya(h,N,b),s.current.lanes=b,xo(s,b,g),dr(s,g),s}function Ru(s,c,h,g){var b=c.current,N=nr(),R=ja(b);return h=j_(h),c.context===null?c.context=h:c.pendingContext=h,c=In(N,R),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=ya(b,c,R),s!==null&&(Jr(s,b,R,N),uu(s,b,R)),R}function Mu(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function S_(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function lm(s,c){S_(s,c),(s=s.alternate)&&S_(s,c)}function xM(){return null}var N_=typeof reportError=="function"?reportError:function(s){console.error(s)};function cm(s){this._internalRoot=s}$u.prototype.render=cm.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Ru(s,c,null,null)},$u.prototype.unmount=cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;ei(function(){Ru(null,s,null,null)}),c[Pn]=null}};function $u(s){this._internalRoot=s}$u.prototype.unstable_scheduleHydration=function(s){if(s){var c=l1();s={blockedOn:null,target:s,priority:c};for(var h=0;h<ua.length&&c!==0&&c<ua[h].priority;h++);ua.splice(h,0,s),h===0&&d1(s)}};function um(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Iu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function k_(){}function bM(s,c,h,g,b){if(b){if(typeof g=="function"){var N=g;g=function(){var re=Mu(R);N.call(re)}}var R=__(c,g,s,0,null,!1,!1,"",k_);return s._reactRootContainer=R,s[Pn]=R.current,Ro(s.nodeType===8?s.parentNode:s),ei(),R}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var D=g;g=function(){var re=Mu(V);D.call(re)}}var V=om(s,0,!1,null,null,!1,!1,"",k_);return s._reactRootContainer=V,s[Pn]=V.current,Ro(s.nodeType===8?s.parentNode:s),ei(function(){Ru(c,V,h,g)}),V}function Du(s,c,h,g,b){var N=h._reactRootContainer;if(N){var R=N;if(typeof b=="function"){var D=b;b=function(){var V=Mu(R);D.call(V)}}Ru(c,R,s,b)}else R=bM(h,c,s,b,g);return Mu(R)}s1=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var h=yo(c.pendingLanes);h!==0&&(Mh(c,h|1),dr(c,jt()),(Fe&6)===0&&(es=jt()+500,ga()))}break;case 13:ei(function(){var g=$n(s,1);if(g!==null){var b=nr();Jr(g,s,1,b)}}),lm(s,1)}},$h=function(s){if(s.tag===13){var c=$n(s,134217728);if(c!==null){var h=nr();Jr(c,s,134217728,h)}lm(s,134217728)}},o1=function(s){if(s.tag===13){var c=ja(s),h=$n(s,c);if(h!==null){var g=nr();Jr(h,s,c,g)}lm(s,c)}},l1=function(){return Xe},c1=function(s,c){var h=Xe;try{return Xe=s,c()}finally{Xe=h}},Oh=function(s,c,h){switch(c){case"input":if(vt(s,h),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==s&&g.form===s.form){var b=eu(g);if(!b)throw Error(r(90));Z(g),vt(g,b)}}}break;case"textarea":mr(s,h);break;case"select":c=h.value,c!=null&&Ye(s,!!h.multiple,c,!1)}},Kw=tm,Gw=ei;var wM={usingClientEntryPoint:!1,Events:[Io,Ui,eu,Hw,Vw,tm]},Xo={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jM={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qw(s),s===null?null:s.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||xM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{$c=Lu.inject(jM),hn=Lu}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wM,fr.createPortal=function(s,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(c))throw Error(r(200));return yM(s,c,null,h)},fr.createRoot=function(s,c){if(!um(s))throw Error(r(299));var h=!1,g="",b=N_;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=om(s,1,!1,null,null,h,!1,g,b),s[Pn]=c.current,Ro(s.nodeType===8?s.parentNode:s),new cm(c)},fr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Qw(c),s=s===null?null:s.stateNode,s},fr.flushSync=function(s){return ei(s)},fr.hydrate=function(s,c,h){if(!Iu(c))throw Error(r(200));return Du(null,s,c,!0,h)},fr.hydrateRoot=function(s,c,h){if(!um(s))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,b=!1,N="",R=N_;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),c=__(c,null,s,1,h??null,b,!1,N,R),s[Pn]=c.current,Ro(s),g)for(s=0;s<g.length;s++)h=g[s],b=h._getVersion,b=b(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,b]:c.mutableSourceEagerHydrationData.push(h,b);return new $u(c)},fr.render=function(s,c,h){if(!Iu(c))throw Error(r(200));return Du(null,s,c,!1,h)},fr.unmountComponentAtNode=function(s){if(!Iu(s))throw Error(r(40));return s._reactRootContainer?(ei(function(){Du(null,null,s,!1,function(){s._reactRootContainer=null,s[Pn]=null})}),!0):!1},fr.unstable_batchedUpdates=tm,fr.unstable_renderSubtreeIntoContainer=function(s,c,h,g){if(!Iu(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Du(s,c,h,!1,g)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var M_;function mC(){if(M_)return hm.exports;M_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hm.exports=AM(),hm.exports}var $_;function CM(){if($_)return qu;$_=1;var t=mC();return qu.createRoot=t.createRoot,qu.hydrateRoot=t.hydrateRoot,qu}var PM=CM();const TM=Qe(PM);var I_="popstate";function RM(t={}){function e(n,a){let{pathname:i,search:o,hash:u}=n.location;return B0("",{pathname:i,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kl(a)}return $M(e,r,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MM(){return Math.random().toString(36).substring(2,10)}function D_(t,e){return{usr:t.state,key:t.key,idx:e}}function B0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:r,key:e&&e.key||n||MM()}}function kl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function $M(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,u="POP",d=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function m(){u="POP";let y=p(),O=y==null?null:y-f;f=y,d&&d({action:u,location:w.location,delta:O})}function v(y,O){u="PUSH";let k=B0(w.location,y,O);f=p()+1;let S=D_(k,f),E=w.createHref(k);try{o.pushState(S,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(E)}i&&d&&d({action:u,location:w.location,delta:1})}function x(y,O){u="REPLACE";let k=B0(w.location,y,O);f=p();let S=D_(k,f),E=w.createHref(k);o.replaceState(S,"",E),i&&d&&d({action:u,location:w.location,delta:0})}function j(y){return IM(y)}let w={get action(){return u},get location(){return t(a,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(I_,m),d=y,()=>{a.removeEventListener(I_,m),d=null}},createHref(y){return e(a,y)},createURL:j,encodeLocation(y){let O=j(y);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:x,go(y){return o.go(y)}};return w}function IM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ft(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:kl(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function gC(t,e,r="/"){return DM(t,e,r,!1)}function DM(t,e,r,n){let a=typeof e=="string"?Zs(e):e,i=Gn(a.pathname||"/",r);if(i==null)return null;let o=vC(t);LM(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let f=YM(i);u=KM(o[d],f,n)}return u}function vC(t,e=[],r=[],n="",a=!1){let i=(o,u,d=a,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;ft(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let m=Hn([n,p.relativePath]),v=r.concat(p);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),vC(o.children,e,v,m,d)),!(o.path==null&&!o.index)&&e.push({path:m,score:HM(m,o.index),routesMeta:v})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))i(o,u);else for(let d of yC(o.path))i(o,u,!0,d)}),e}function yC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=yC(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function LM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:VM(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var BM=/^:[\w-]+$/,qM=3,UM=2,FM=1,zM=10,WM=-2,L_=t=>t==="*";function HM(t,e){let r=t.split("/"),n=r.length;return r.some(L_)&&(n+=WM),e&&(n+=UM),r.filter(a=>!L_(a)).reduce((a,i)=>a+(BM.test(i)?qM:i===""?FM:zM),n)}function VM(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function KM(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=Sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Hn([i,m.pathname]),pathnameBase:ZM(Hn([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=Hn([i,m.pathnameBase]))}return o}function Sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=GM(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let j=u[v]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const x=u[v];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:t}}function GM(t,e=!1,r=!0){Ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function YM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ur(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XM=t=>xC.test(t);function JM(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Zs(t):t,i;if(r)if(XM(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ur(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=B_(r.substring(1),"/"):i=B_(r,e)}else i=e;return{pathname:i,search:e$(n),hash:t$(a)}}function B_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gm(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QM(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Nb(t){let e=QM(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function kb(t,e,r,n=!1){let a;typeof t=="string"?a=Zs(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),gm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),gm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),gm("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}u=m>=0?e[m]:"/"}let d=JM(a,u),f=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Hn=t=>t.join("/").replace(/\/\/+/g,"/"),ZM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,r$=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function n$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function a$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wC(t,e){let r=t;if(typeof r!="string"||!xC.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(bC)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),u=Gn(o.pathname,e);o.origin===i.origin&&u!=null?r=u+o.search+o.hash:a=!0}catch{Ur(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jC=["POST","PUT","PATCH","DELETE"];new Set(jC);var i$=["GET",...jC];new Set(i$);var eo=C.createContext(null);eo.displayName="DataRouter";var Pf=C.createContext(null);Pf.displayName="DataRouterState";var s$=C.createContext(!1),_C=C.createContext({isTransitioning:!1});_C.displayName="ViewTransition";var o$=C.createContext(new Map);o$.displayName="Fetchers";var l$=C.createContext(null);l$.displayName="Await";var Er=C.createContext(null);Er.displayName="Navigation";var yc=C.createContext(null);yc.displayName="Location";var An=C.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Ob=C.createContext(null);Ob.displayName="RouteError";var SC="REACT_ROUTER_ERROR",c$="REDIRECT",u$="ROUTE_ERROR_RESPONSE";function d$(t){if(t.startsWith(`${SC}:${c$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function f$(t){if(t.startsWith(`${SC}:${u$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new r$(e.status,e.statusText,e.data)}catch{}}function h$(t,{relative:e}={}){ft(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(Er),{hash:a,pathname:i,search:o}=xc(t,{relative:e}),u=i;return r!=="/"&&(u=i==="/"?r:Hn([r,i])),n.createHref({pathname:u,search:o,hash:a})}function to(){return C.useContext(yc)!=null}function ta(){return ft(to(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(yc).location}var NC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kC(t){C.useContext(Er).static||C.useLayoutEffect(t)}function Eb(){let{isDataRoute:t}=C.useContext(An);return t?k$():p$()}function p$(){ft(to(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(eo),{basename:e,navigator:r}=C.useContext(Er),{matches:n}=C.useContext(An),{pathname:a}=ta(),i=JSON.stringify(Nb(n)),o=C.useRef(!1);return kC(()=>{o.current=!0}),C.useCallback((d,f={})=>{if(Ur(o.current,NC),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=kb(d,JSON.parse(i),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Hn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,i,a,t])}C.createContext(null);function xc(t,{relative:e}={}){let{matches:r}=C.useContext(An),{pathname:n}=ta(),a=JSON.stringify(Nb(r));return C.useMemo(()=>kb(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function m$(t,e){return OC(t,e)}function OC(t,e,r,n,a){ft(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Er),{matches:o}=C.useContext(An),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let k=m&&m.path||"";AC(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=ta(),x;if(e){let k=typeof e=="string"?Zs(e):e;ft(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=v;let j=x.pathname||"/",w=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=gC(t,{pathname:w});Ur(m||y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ur(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=b$(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Hn([p,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Hn([p,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,r,n,a);return e&&O?C.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},O):O}function g$(){let t=N$(),e=n$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:a},r):null,o)}var v$=C.createElement(g$,null),EC=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=f$(t.digest);r&&(t=r)}let e=t!==void 0?C.createElement(An.Provider,{value:this.props.routeContext},C.createElement(Ob.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(y$,{error:t},e):e}};EC.contextType=s$;var vm=new WeakMap;function y$({children:t,error:e}){let{basename:r}=C.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=d$(e.digest);if(n){let a=vm.get(e);if(a)throw a;let i=wC(n.location,r);if(bC&&!vm.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw vm.set(e,o),o}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function x$({routeContext:t,match:e,children:r}){let n=C.useContext(eo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(An.Provider,{value:t},r)}function b$(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let p=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,d=-1;if(r)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:x}=r,j=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||j){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=r&&n?(p,m)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:a$(r.matches),errorInfo:m})}:void 0;return i.reduceRight((p,m,v)=>{let x,j=!1,w=null,y=null;r&&(x=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||v$,u&&(d<0&&v===0?(AC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):d===v&&(j=!0,y=m.route.hydrateFallbackElement||null)));let O=e.concat(i.slice(0,v+1)),k=()=>{let S;return x?S=w:j?S=y:m.route.Component?S=C.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,C.createElement(x$,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?C.createElement(EC,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:f}):k()},null)}function Ab(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w$(t){let e=C.useContext(eo);return ft(e,Ab(t)),e}function j$(t){let e=C.useContext(Pf);return ft(e,Ab(t)),e}function _$(t){let e=C.useContext(An);return ft(e,Ab(t)),e}function Cb(t){let e=_$(t),r=e.matches[e.matches.length-1];return ft(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function S$(){return Cb("useRouteId")}function N$(){let t=C.useContext(Ob),e=j$("useRouteError"),r=Cb("useRouteError");return t!==void 0?t:e.errors?.[r]}function k$(){let{router:t}=w$("useNavigate"),e=Cb("useNavigate"),r=C.useRef(!1);return kC(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{Ur(r.current,NC),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var q_={};function AC(t,e,r){!e&&!q_[t]&&(q_[t]=!0,Ur(!1,r))}C.memo(O$);function O$({routes:t,future:e,state:r,onError:n}){return OC(t,void 0,r,n,e)}function E$({to:t,replace:e,state:r,relative:n}){ft(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Er);Ur(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(An),{pathname:o}=ta(),u=Eb(),d=kb(t,Nb(i),o,n==="path"),f=JSON.stringify(d);return C.useEffect(()=>{u(JSON.parse(f),{replace:e,state:r,relative:n})},[u,f,n,e,r]),null}function q0(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A$({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){ft(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[u,a,i,o]);typeof r=="string"&&(r=Zs(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:x="default"}=r,j=C.useMemo(()=>{let w=Gn(f,u);return w==null?null:{location:{pathname:w,search:p,hash:m,state:v,key:x},navigationType:n}},[u,f,p,m,v,x,n]);return Ur(j!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:C.createElement(Er.Provider,{value:d},C.createElement(yc.Provider,{children:e,value:j}))}function C$({children:t,location:e}){return m$(U0(t),e)}function U0(t,e=[]){let r=[];return C.Children.forEach(t,(n,a)=>{if(!C.isValidElement(n))return;let i=[...e,a];if(n.type===C.Fragment){r.push.apply(r,U0(n.props.children,i));return}ft(n.type===q0,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=U0(n.props.children,i)),r.push(o)}),r}var yd="get",xd="application/x-www-form-urlencoded";function Tf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function P$(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function T$(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function R$(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function M$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $$(t,e){return t.button===0&&(!e||e==="_self")&&!M$(t)}var Uu=null;function I$(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var D$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(t){return t!=null&&!D$.has(t)?(Ur(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):t}function L$(t,e){let r,n,a,i,o;if(T$(t)){let u=t.getAttribute("action");n=u?Gn(u,e):null,r=t.getAttribute("method")||yd,a=ym(t.getAttribute("enctype"))||xd,i=new FormData(t)}else if(P$(t)||R$(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Gn(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||yd,a=ym(t.getAttribute("formenctype"))||ym(u.getAttribute("enctype"))||xd,i=new FormData(u,t),!I$()){let{name:f,type:p,value:m}=t;if(p==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,m)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=yd,n=null,a=xd,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B$(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Gn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function q$(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function F$(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await q$(i,r);return o.links?o.links():[]}return[]}));return V$(n.flat(1).filter(U$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function U_(t,e,r,n,a,i){let o=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,f)=>o(d,f)||u(d,f)):i==="data"?e.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function z$(t,e,{includeHydrateFallback:r}={}){return W$(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function W$(t){return[...new Set(t)]}function H$(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function V$(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(H$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function CC(){let t=C.useContext(eo);return Pb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K$(){let t=C.useContext(Pf);return Pb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tb=C.createContext(void 0);Tb.displayName="FrameworkContext";function PC(){let t=C.useContext(Tb);return Pb(t,"You must render this element inside a <HydratedRouter> element"),t}function G$(t,e){let r=C.useContext(Tb),[n,a]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=O=>{O.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return v.current&&y.observe(v.current),()=>{y.disconnect()}}},[t]),C.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{a(!0)},j=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Qo(u,x),onBlur:Qo(d,j),onMouseEnter:Qo(f,x),onMouseLeave:Qo(p,j),onTouchStart:Qo(m,x)}]:[!1,v,{}]}function Qo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Y$({page:t,...e}){let{router:r}=CC(),n=C.useMemo(()=>gC(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?C.createElement(J$,{page:t,matches:n,...e}):null}function X$(t){let{manifest:e,routeModules:r}=PC(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return F$(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function J$({page:t,matches:e,...r}){let n=ta(),{future:a,manifest:i,routeModules:o}=PC(),{basename:u}=CC(),{loaderData:d,matches:f}=K$(),p=C.useMemo(()=>U_(t,e,f,i,n,"data"),[t,e,f,i,n]),m=C.useMemo(()=>U_(t,e,f,i,n,"assets"),[t,e,f,i,n]),v=C.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(e.forEach(k=>{let S=i.routes[k.route.id];!S||!S.hasLoader||(!p.some(E=>E.route.id===k.route.id)&&k.route.id in d&&o[k.route.id]?.shouldRevalidate||S.hasClientLoader?y=!0:w.add(k.route.id))}),w.size===0)return[];let O=B$(t,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&O.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[O.pathname+O.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,n,i,p,e,t,o]),x=C.useMemo(()=>z$(m,i),[m,i]),j=X$(m);return C.createElement(C.Fragment,null,v.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),x.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),j.map(({key:w,link:y})=>C.createElement("link",{key:w,nonce:r.nonce,...y})))}function Q$(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z$&&(window.__reactRouterVersion="7.12.0")}catch{}function eI({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=C.useRef();a.current==null&&(a.current=RM({window:n,v5Compat:!0}));let i=a.current,[o,u]=C.useState({action:i.action,location:i.location}),d=C.useCallback(f=>{r===!1?u(f):C.startTransition(()=>u(f))},[r]);return C.useLayoutEffect(()=>i.listen(d),[i,d]),C.createElement(A$,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RC=C.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...x},j){let{basename:w,unstable_useTransitions:y}=C.useContext(Er),O=typeof f=="string"&&TC.test(f),k=wC(f,w);f=k.to;let S=h$(f,{relative:a}),[E,_,A]=G$(n,x),T=aI(f,{replace:o,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y});function P(B){e&&e(B),B.defaultPrevented||T(B)}let $=C.createElement("a",{...x,...A,href:k.absoluteURL||S,onClick:k.isExternal||i?e:P,ref:Q$(j,_),target:d,"data-discover":!O&&r==="render"?"true":void 0});return E&&!O?C.createElement(C.Fragment,null,$,C.createElement(Y$,{page:S})):$});RC.displayName="Link";var tI=C.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:u,children:d,...f},p){let m=xc(o,{relative:f.relative}),v=ta(),x=C.useContext(Pf),{navigator:j,basename:w}=C.useContext(Er),y=x!=null&&cI(m)&&u===!0,O=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,k=v.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,O=O.toLowerCase()),S&&w&&(S=Gn(S,w)||S);const E=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let _=k===O||!a&&k.startsWith(O)&&k.charAt(E)==="/",A=S!=null&&(S===O||!a&&S.startsWith(O)&&S.charAt(O.length)==="/"),T={isActive:_,isPending:A,isTransitioning:y},P=_?e:void 0,$;typeof n=="function"?$=n(T):$=[n,_?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(T):i;return C.createElement(RC,{...f,"aria-current":P,className:$,ref:p,style:B,to:o,viewTransition:u},typeof d=="function"?d(T):d)});tI.displayName="NavLink";var rI=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=yd,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...x},j)=>{let{unstable_useTransitions:w}=C.useContext(Er),y=oI(),O=lI(u,{relative:f}),k=o.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&TC.test(u),E=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,T=A?.getAttribute("formmethod")||o,P=()=>y(A||_.currentTarget,{fetcherKey:e,method:T,navigate:r,replace:a,state:i,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v});w&&r!==!1?C.startTransition(()=>P()):P()};return C.createElement("form",{ref:j,method:k,action:O,onSubmit:n?d:E,...x,"data-discover":!S&&t==="render"?"true":void 0})});rI.displayName="Form";function nI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(t){let e=C.useContext(eo);return ft(e,nI(t)),e}function aI(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Eb(),p=ta(),m=xc(t,{relative:i});return C.useCallback(v=>{if($$(v,e)){v.preventDefault();let x=r!==void 0?r:kl(p)===kl(m),j=()=>f(t,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:u});d?C.startTransition(()=>j()):j()}},[p,f,m,r,n,e,t,a,i,o,u,d])}var iI=0,sI=()=>`__${String(++iI)}__`;function oI(){let{router:t}=MC("useSubmit"),{basename:e}=C.useContext(Er),r=S$(),n=t.fetch,a=t.navigate;return C.useCallback(async(i,o={})=>{let{action:u,method:d,encType:f,formData:p,body:m}=L$(i,e);if(o.navigate===!1){let v=o.fetcherKey||sI();await n(v,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await a(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,e,r])}function lI(t,{relative:e}={}){let{basename:r}=C.useContext(Er),n=C.useContext(An);ft(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...xc(t||".",{relative:e})},o=ta();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Hn([r,i.pathname])),kl(i)}function cI(t,{relative:e}={}){let r=C.useContext(_C);ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=MC("useViewTransitionState"),a=xc(t,{relative:e});if(!r.isTransitioning)return!1;let i=Gn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Gn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Sd(a.pathname,o)!=null||Sd(a.pathname,i)!=null}var uI=mC();const dI=Qe(uI);function Rf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function fI(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(p){try{f(n.next(p))}catch(m){o(m)}}function d(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):a(p.value).then(u,d)}f((n=n.apply(t,e||[])).next())})}const hI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Rb extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pI extends Rb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class F_ extends Rb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class z_ extends Rb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var F0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(F0||(F0={}));class mI{constructor(e,{headers:r={},customFetch:n,region:a=F0.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=hI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fI(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:u,method:d,body:f,signal:p,timeout:m}=n;let v={},{region:x}=n;x||(x=this.region);const j=new URL(`${this.url}/${r}`);x&&x!=="any"&&(v["x-region"]=x,j.searchParams.set("forceFunctionRegion",x));let w;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(v["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(v["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let y=p;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),p?(y=o.signal,p.addEventListener("abort",()=>o.abort())):y=o.signal);const O=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:w,signal:y}).catch(_=>{throw new pI(_)}),k=O.headers.get("x-relay-error");if(k&&k==="true")throw new F_(O);if(!O.ok)throw new z_(O);let S=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield O.json():S==="application/octet-stream"||S==="application/pdf"?E=yield O.blob():S==="text/event-stream"?E=O:S==="multipart/form-data"?E=yield O.formData():E=yield O.text(),{data:E,error:null,response:O}}catch(u){return{data:null,error:u,response:u instanceof z_||u instanceof F_?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var gI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},vI=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){var m,v;if(r.method!=="HEAD"){var x;const O=await i.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=O:u=JSON.parse(O))}const w=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),y=(v=i.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");w&&y&&y.length>1&&(d=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var j;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(u=[],o=null,f=200,p="OK")}catch{i.status===404&&w===""?(f=204,p="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(j=o.details)===null||j===void 0)&&j.includes("0 rows"))&&(o=null,f=200,p="OK"),o&&r.shouldThrowOnError)throw new gI(o)}return{error:o,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let u="";const d=i?.cause;if(d){var f,p,m,v;const j=(f=d?.message)!==null&&f!==void 0?f:"",w=(p=d?.code)!==null&&p!==void 0?p:"";u=`${(m=i?.name)!==null&&m!==void 0?m:"FetchError"}: ${i?.message}`,u+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,w&&(u+=` (${w})`),d?.stack&&(u+=`
${d.stack}`)}else{var x;u=(x=i?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},yI=class extends vI{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const W_=new RegExp("[,()]");var hs=class extends yI{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&W_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&W_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},xI=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new hs({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(i.length>0){const o=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new hs({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new hs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new hs({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new hs({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},bI=class $C{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xI(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $C(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(u="POST",f=r);const p=new Headers(this.headers);return i&&p.set("Prefer",`count=${i}`),new hs({method:u,url:d,headers:p,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class wI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jI="2.89.0",_I=`realtime-js/${jI}`,IC="1.0.0",SI="2.0.0",H_=IC,z0=1e4,NI=1e3,kI=100;var Ea;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ea||(Ea={}));var Rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rt||(Rt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var W0;(function(t){t.websocket="websocket"})(W0||(W0={}));var di;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(di||(di={}));class OI{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var a,i;const o=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+f.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let j=new DataView(x),w=0;j.setUint8(w++,this.KINDS.userBroadcastPush),j.setUint8(w++,d.length),j.setUint8(w++,u.length),j.setUint8(w++,o.length),j.setUint8(w++,f.length),j.setUint8(w++,m.length),j.setUint8(w++,r),Array.from(d,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(u,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(o,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(f,O=>j.setUint8(w++,O.charCodeAt(0))),Array.from(m,O=>j.setUint8(w++,O.charCodeAt(0)));var y=new Uint8Array(x.byteLength+n.byteLength);return y.set(new Uint8Array(x),0),y.set(new Uint8Array(n),x.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,o,u,d]=n;return r({join_ref:a,ref:i,topic:o,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+a));d=d+a;const p=n.decode(e.slice(d,d+i));d=d+i;const m=n.decode(e.slice(d,d+o));d=d+o;const v=e.slice(d,e.byteLength),x=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,j={type:this.BROADCAST_EVENT,event:p,payload:x};return o>0&&(j.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let DC=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const V_=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=EI(o,t,e,a),i),{}):{}},EI=(t,e,r,n)=>{const a=e.find(u=>u.name===t),i=a?.type,o=r[t];return i&&!n.includes(i)?LC(i,o):H0(o)},LC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return TI(e,r)}switch(t){case rt.bool:return AI(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return CI(e);case rt.json:case rt.jsonb:return PI(e);case rt.timestamp:return RI(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return H0(e);default:return H0(e)}},H0=t=>t,AI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},CI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},TI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>LC(e,u))}return t},RI=t=>typeof t=="string"?t.replace(" ","T"):t,BC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xm{constructor(e,r,n={},a=z0){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var K_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(K_||(K_={}));class xl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=xl.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=xl.syncDiff(this.state,a,i,o),u())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),u={},d={};return this.map(i,(f,p)=>{o[f]||(d[f]=p)}),this.map(o,(f,p)=>{const m=i[f];if(m){const v=p.map(y=>y.presence_ref),x=m.map(y=>y.presence_ref),j=p.filter(y=>x.indexOf(y.presence_ref)<0),w=m.filter(y=>v.indexOf(y.presence_ref)<0);j.length>0&&(u[f]=j),w.length>0&&(d[f]=w)}else u[f]=p}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const m=e[u].map(x=>x.presence_ref),v=p.filter(x=>m.indexOf(x.presence_ref)<0);e[u].unshift(...v)}n(u,p,d)}),this.map(o,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=f,a(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(G_||(G_={}));var bl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bl||(bl={}));var Fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class ys{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,tn.join,this.params,this.timeout),this.rejoinTimer=new DC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new xl(this),this.broadcastEndpointURL=BC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Fn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Fn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(j=w?.length)!==null&&j!==void 0?j:0,O=[];for(let k=0;k<y;k++){const S=w[k],{filter:{event:E,schema:_,table:A,filter:T}}=S,P=x&&x[k];if(P&&P.event===E&&ys.isFilterValueEqual(P.schema,_)&&ys.isFilterValueEqual(P.table,A)&&ys.isFilterValueEqual(P.filter,T))O.push(Object.assign(Object.assign({},S),{id:P.id}));else{this.unsubscribe(),this.state=Rt.errored,e?.(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(Fn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Rt.errored,e?.(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Rt.joined&&e===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new xm(this,tn.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xm(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=tn;if(n&&[u,d,f,p].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var j,w,y;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((y=(w=x.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(x=>x.callback(v,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var j,w,y,O,k,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const E=x.id,_=(j=x.filter)===null||j===void 0?void 0:j.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(_==="*"||_?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(k=(O=x?.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return E==="*"||E===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:w,table:y,commit_timestamp:O,type:k,errors:S}=j;v=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:O,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(j))}x.callback(v,n)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ys.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=V_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=V_(e.columns,e.old_record)),r}}const bm=()=>{},Fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MI=[1e3,2e3,5e3,1e4],$I=1e4,II=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DI{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=z0,this.transport=null,this.heartbeatIntervalMs=Fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bm,this.ref=0,this.reconnectTimer=null,this.vsn=H_,this.logger=bm,this.conn=null,this.sendBuffer=[],this.serializer=new OI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${W0.websocket}`,this.httpEndpoint=BC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return di.Connecting;case Ea.open:return di.Open;case Ea.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ys(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(NI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,u=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([II],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:_I};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,u,d,f,p,m,v,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:z0,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Fu.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:bm,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:H_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(j=>MI[j-1]||$I),this.vsn){case IC:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((j,w)=>w(JSON.stringify(j))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((j,w)=>w(JSON.parse(j)));break;case SI:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ol=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LI(t,e,r){const n=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function BI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function qI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const u=LI(t.baseUrl,n,a),d=await BI(t.auth),f=await e(u,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...o},body:i?JSON.stringify(i):void 0}),p=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!f.ok){const x=m?v:void 0,j=x?.error;throw new Ol(j?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:j?.type,icebergCode:j?.code,details:x})}return{status:f.status,headers:f.headers,data:v}}}}function zu(t){return t.join("")}var UI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(t.namespace)}`}),!0}catch(e){if(e instanceof Ol&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ol&&r.status===409)return;throw r}}};function rs(t){return t.join("")}var FI=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ol&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ol&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},zI=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=qI({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new UI(this.client,e),this.tableOps=new FI(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Mf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var WI=class extends Mf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},V0=class extends Mf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Mb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HI=()=>Response,K0=t=>{if(Array.isArray(t))return t.map(r=>K0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=K0(n)}),e},VI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function GI(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YI(t){var e=GI(t,"string");return El(e)=="symbol"?e:e+""}function XI(t,e,r){return(e=YI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(r),!0).forEach(function(n){XI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const wm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},JI=async(t,e,r)=>{t instanceof await HI()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,i=n?.statusCode||a+"";e(new WI(wm(n),a,i))}).catch(n=>{e(new V0(wm(n),n))}):e(new V0(wm(t),t))},QI=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(VI(n)?(a.headers=Pe({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Pe(Pe({},a),r))};async function bc(t,e,r,n,a,i){return new Promise((o,u)=>{t(r,QI(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>JI(d,u,n))})}async function Al(t,e,r,n){return bc(t,"GET",e,r,n)}async function en(t,e,r,n,a){return bc(t,"POST",e,n,a,r)}async function G0(t,e,r,n,a){return bc(t,"PUT",e,n,a,r)}async function ZI(t,e,r,n){return bc(t,"HEAD",e,Pe(Pe({},r),{},{noResolveJson:!0}),n)}async function $b(t,e,r,n,a){return bc(t,"DELETE",e,n,a,r)}var e3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};let qC;qC=Symbol.toStringTag;var t3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[qC]="BlobDownloadBuilder",this.promise=null}asStream(){return new e3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};const r3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var n3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Mb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let i;const o=Pe(Pe({},X_),n);let u=Pe(Pe({},a.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(u=Pe(Pe({},u),n.headers));const f=a._removeEmptyFolders(e),p=a._getFinalPath(f),m=await(t=="PUT"?G0:en)(a.fetch,`${a.url}/object/${p}`,i,Pe({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const i=a._removeEmptyFolders(t),o=a._getFinalPath(i),u=new URL(a.url+`/object/upload/sign/${o}`);u.searchParams.set("token",e);try{let d;const f=Pe({upsert:X_.upsert},n),p=Pe(Pe({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:i,fullPath:(await G0(a.fetch,u.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(mt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Pe({},r.headers);e?.upsert&&(a["x-upsert"]="true");const i=await en(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),u=o.searchParams.get("token");if(!u)throw new Mf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await en(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await en(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),i=await en(n.fetch,`${n.url}/object/sign/${a}`,Pe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await en(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Pe(Pe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Al(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new t3(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:K0(await Al(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ZI(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n)&&n instanceof V0){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const i=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await $b(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Pe(Pe(Pe({},r3),e),{},{prefix:t||""});return{data:await en(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Pe({},t);return{data:await en(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const UC="2.89.0",FC={"X-Client-Info":`storage-js/${UC}`};var a3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Pe(Pe({},FC),e),this.fetch=Mb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Al(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Al(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await en(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await G0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await $b(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},i3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},FC),e),this.fetch=Mb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Al(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await $b(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!KI(t))throw new Mf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Ib={"X-Client-Info":`storage-js/${UC}`,"Content-Type":"application/json"};var zC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var jm=class extends zC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},s3=class extends zC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l3=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const o=i?.statusCode||i?.code||n+"";e(new jm(J_(i),n,o))}).catch(()=>{const i=n+"";e(new jm(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new jm(a.statusText||`HTTP ${n} error`,n,i))}}else e(new s3(J_(t),t))},c3=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(o3(n)?(a.headers=Pe({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Pe(Pe({},a),r)):a};async function u3(t,e,r,n,a,i){return new Promise((o,u)=>{t(r,c3(e,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>l3(d,u,n))})}async function Nr(t,e,r,n,a){return u3(t,"POST",e,n,a,r)}var d3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Ib),e),this.fetch=Db(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}},f3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Ib),e),this.fetch=Db(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Nr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},h3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Ib),e),this.fetch=Db(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},p3=class extends h3{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new m3(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},m3=class extends d3{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new g3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},g3=class extends f3{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},v3=class extends a3{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new n3(this.url,this.headers,t,this.fetch)}get vectors(){return new p3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new i3(this.url+"/iceberg",this.headers,this.fetch)}};const WC="2.89.0",ps=30*1e3,Y0=3,_m=Y0*ps,y3="http://localhost:9999",x3="supabase.auth.token",b3={"X-Client-Info":`gotrue-js/${WC}`},X0="X-Supabase-Api-Version",HC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j3=600*1e3;class Cl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _3 extends Cl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function S3(t){return Ne(t)&&t.name==="AuthApiError"}class fi extends Cl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ra extends Cl{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class wr extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N3(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class ns extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wu extends ra{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hu extends ra{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k3(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class Q_ extends ra{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O3 extends ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class J0 extends ra{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Sm(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class Z_ extends ra{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Q0 extends ra{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eS=` 	
\r=`.split(""),E3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<eS.length;e+=1)t[eS[e].charCodeAt(0)]=-2;for(let e=0;e<Nd.length;e+=1)t[Nd[e].charCodeAt(0)]=e;return t})();function tS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nd[n]),e.queuedBits-=6}}function VC(t,e,r){const n=E3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rS(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{P3(o,n,r)};for(let o=0;o<t.length;o+=1)VC(t.charCodeAt(o),a,i);return e.join("")}function A3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function C3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}A3(n,e)}}function P3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function js(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)VC(t.charCodeAt(a),r,n);return new Uint8Array(e)}function T3(t){const e=[];return C3(t,r=>e.push(r)),new Uint8Array(e)}function hi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>tS(a,r,n)),tS(null,r,n),e.join("")}function R3(t){return Math.round(Date.now()/1e3)+t}function M3(){return Symbol("auth-callback")}const Wt=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},KC=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function $3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const GC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),I3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ms=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ii=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zt=async(t,e)=>{await t.removeItem(e)};class $f{constructor(){this.promise=new $f.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$f.promiseConstructor=Promise;function Nm(t){const e=t.split(".");if(e.length!==3)throw new Q0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!w3.test(e[n]))throw new Q0("JWT not in base64url format");return{header:JSON.parse(rS(e[0])),payload:JSON.parse(rS(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function D3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function L3(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function B3(t){return("0"+t.toString(16)).substr(-2)}function q3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,B3).join("")}async function U3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function F3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await U3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(t,e,r=!1){const n=q3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ms(t,`${e}-code-verifier`,a);const i=await F3(n);return[i,n===i?"plain":"s256"]}const z3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W3(t){const e=t.headers.get(X0);if(!e||!e.match(z3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function V3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!K3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G3(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function nS(t){return JSON.parse(JSON.stringify(t))}const li=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y3=[502,503,504];async function aS(t){var e;if(!I3(t))throw new J0(li(t),0);if(Y3.includes(t.status))throw new J0(li(t),t.status);let r;try{r=await t.json()}catch(i){throw new fi(li(i),i)}let n;const a=W3(t);if(a&&a.getTime()>=HC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z_(li(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Z_(li(r),t.status,r.weak_password.reasons);throw new _3(li(r),t.status||500,n)}const X3=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ce(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[X0]||(i[X0]=HC["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await J3(t,e,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function J3(t,e,r,n,a,i){const o=X3(e,n,a,i);let u;try{u=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new J0(li(d),0)}if(u.ok||await aS(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await aS(d)}}function Zr(t){var e;let r=null;eD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function iS(t){const e=Zr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q3(t){return{data:t,error:null}}function Z3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Rf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function sS(t){return t}function eD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Om=["global","local","others"];class tD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=GC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Om[0]){if(Om.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Om.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ca})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Rf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z3,redirectTo:r?.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ca})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sS});if(p.error)throw p.error;const m=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);f[`${y}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ne(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){is(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ca})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){is(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ca})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){is(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ca})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){is(e.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){is(e.userId),is(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sS});if(p.error)throw p.error;const m=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);f[`${y}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ne(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function oS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&KC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rD extends YC{}async function nD(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function XC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function iD(t){return parseInt(t,16)}function sD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function oD(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:p,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=XC(t.address),j=p?`${p}://${n}`:n,w=t.statement?`${t.statement}
`:"",y=`${j} wants you to sign in with your Ethereum account:
${x}

${w}`;let O=`URI: ${m}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),d&&(O+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const S of f){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}O+=k}return`${y}
${O}`}class kt extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class kd extends kt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function lD({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(JC(o)){if(i.rp.id!==o)return new kt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function cD({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(JC(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class uD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dD=new uD;function fD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Rf(t,["challenge","user","excludeCredentials"]),i=js(e).buffer,o=Object.assign(Object.assign({},r),{id:js(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:js(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function hD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Rf(t,["challenge","allowCredentials"]),a=js(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},u),{id:js(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function pD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hi(new Uint8Array(t.response.attestationObject)),clientDataJSON:hi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hi(new Uint8Array(a.authenticatorData)),clientDataJSON:hi(new Uint8Array(a.clientDataJSON)),signature:hi(new Uint8Array(a.signature)),userHandle:a.userHandle?hi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function JC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lS(){var t,e;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function gD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kd("Browser returned unexpected credential type",e)}:{data:null,error:new kd("Empty credential response",e)}}catch(e){return{data:null,error:lD({error:e,options:t})}}}async function vD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kd("Browser returned unexpected credential type",e)}:{data:null,error:new kd("Empty credential response",e)}}catch(e){return{data:null,error:cD({error:e,options:t})}}}const yD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const u=n[i];e(u)?n[i]=Od(u,o):n[i]=Od(o)}else n[i]=o}return n}function bD(t,e){return Od(yD,t,e||{})}function wD(t,e){return Od(xD,t,e||{})}class jD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:u};const d=a??dD.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=bD(o.webauthn.credential_options.publicKey,i?.create),{data:p,error:m}=await gD({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=wD(o.webauthn.credential_options.publicKey,i?.request),{data:p,error:m}=await vD(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Cl("rpId is required for WebAuthn authentication")};try{if(!lS())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Cl("rpId is required for WebAuthn registration")};try{if(!lS())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in register",o)}}}}aD();const _D={url:y3,storageKey:x3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cS(t,e,r){return await r()}const os={};class Pl{get jwks(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_D),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Pl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Wt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new tD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=GC(i.fetch),this.lock=i.lock||cS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Wt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=nD:this.lock=cS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:KC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=oS(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Wt()&&(r=$3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Wt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),k3(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new fi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zr}),{data:o,error:u}=i;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:p,password:m,options:v}=e;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await as(this.storage,this.storageKey)),i=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:j},xform:Zr})}else if("phone"in e){const{phone:p,password:m,options:v}=e;i=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Zr})}else throw new Wu("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:u}=e;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:iS})}else if("phone"in e){const{phone:i,password:o,options:u}=e;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:iS})}else throw new Wu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ns;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,u,d,f,p,m,v;let x,j;if("message"in e)x=e.message,j=e.signature;else{const{chain:w,wallet:y,statement:O,options:k}=e;let S;if(Wt())if(typeof y=="object")S=y;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")S=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),_=await S.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=XC(_[0]);let T=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const $=await S.request({method:"eth_chainId"});T=iD($)}const P={domain:E.host,address:A,statement:O,uri:E.href,version:"1",chainId:T,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=oD(P),j=await S.request({method:"personal_sign",params:[sD(x),A]})}try{const{data:w,error:y}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:j},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Zr});if(y)throw y;if(!w||!w.session||!w.user){const O=new ns;return this._returnResult({data:{user:null,session:null},error:O})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(Ne(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,a,i,o,u,d,f,p,m,v,x;let j,w;if("message"in e)j=e.message,w=e.signature;else{const{chain:y,wallet:O,statement:k,options:S}=e;let E;if(Wt())if(typeof O=="object")E=O;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))E=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=O}const _=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const A=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),k?{statement:k}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(p=S?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await E.signMessage(new TextEncoder().encode(j),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:y,error:O}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:hi(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zr});if(O)throw O;if(!y||!y.session||!y.user){const k=new ns;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:O})}catch(y){if(Ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await ii(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new O3;const{data:i,error:o}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Zr});if(await zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const u=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,u=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new ns;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await as(this.storage,this.storageKey));const{error:m}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Wu("You must provide either an email or phone number.")}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Zr});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await as(this.storage,this.storageKey));const f=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Q3});return!((i=f.data)===null||i===void 0)&&i.url&&Wt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wr;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:u}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new Wu("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_m:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ii(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=km()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=G3(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ca}):await this._useSession(async r=>{var n,a,i;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ca})})}catch(r){if(Ne(r))return N3(r)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new wr;const o=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await as(this.storage,this.storageKey));const{data:f,error:p}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Ca});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Nm(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:u}=r;if(u)throw u;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new wr;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Wt())throw new Hu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Q_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Q_("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=e;if(!i||!u||!o||!f)throw new Hu("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let v=p+m;d&&(v=parseInt(d));const x=v-p;x*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const j=v-m;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,p);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const O={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:v,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(S3(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=M3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await as(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,u,d,f,p;const{data:m,error:v}=i;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:u,token:d,access_token:f,nonce:p}=e,m=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Zr}),{data:v,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ns}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(a){if(await zt(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await L3(async a=>(a>0&&await D3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Sm(i)&&Date.now()+o-n<ps})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ii(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ms(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:km()}else if(a&&!a.user&&!a.user){const o=await ii(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await zt(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,a)):a.user=km()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_m;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_m}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Sm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(a.access_token);!u&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $f;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Ne(i)){const o={data:null,error:i};return Sm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ms(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=nS(a);await ms(this.storage,this.storageKey,i)}else{const a=nS(r);await ms(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ps}ms, refresh threshold is ${Y0} ticks`),a<=Y0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof YC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await as(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?pD(e.webauthn.credential_response):mD(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:fD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:hD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Nm(n.access_token);let o=null;i.aal&&(o=i.aal);let u=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=i.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wr});const o=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Wt()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wr});const o=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Wt()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wr})})}catch(e){if(Ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+j3>a)return n;const{data:i,error:o}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:j}=await this.getSession();if(j||!x.session)return this._returnResult({data:null,error:j});n=x.session.access_token}const{header:a,payload:i,signature:o,raw:{header:u,payload:d}}=Nm(n);r?.allowExpired||H3(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:o},error:null}}const p=V3(a.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,T3(`${u}.${d}`)))throw new Q0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}Pl.nextInstanceID={};const SD=Pl,ND="2.89.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const kD={"X-Client-Info":`supabase-js-${pl}/${ND}`},OD={headers:kD},ED={schema:"public"},AD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CD={};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function PD(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TD(t){var e=PD(t,"string");return Tl(e)=="symbol"?e:e+""}function RD(t,e,r){return(e=TD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){RD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const MD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$D=()=>Headers,ID=(t,e,r)=>{const n=MD(r),a=$D();return async(i,o)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new a(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,xt(xt({},o),{},{headers:f}))}};function DD(t){return t.endsWith("/")?t:t+"/"}function LD(t,e){var r,n;const{db:a,auth:i,realtime:o,global:u}=t,{db:d,auth:f,realtime:p,global:m}=e,v={db:xt(xt({},d),a),auth:xt(xt({},f),i),realtime:xt(xt({},p),o),storage:{},global:xt(xt(xt({},m),u),{},{headers:xt(xt({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function BD(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qD=class extends SD{constructor(t){super(t)}},UD=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const i=BD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:ED,realtime:CD,auth:xt(xt({},AD),{},{storageKey:o}),global:OD},d=LD(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=ID(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new bI(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new v3(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:u,debug:d,throwOnError:f},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qD({url:this.authUrl.href,headers:xt(xt({},v),p),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:u,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DI(this.realtimeUrl.href,xt(xt({},t),{},{params:xt(xt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FD=(t,e,r)=>new UD(t,e,r);function zD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WD="https://llfwrwyqaswehksgvcyr.supabase.co",HD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZndyd3lxYXN3ZWhrc2d2Y3lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1MjY5MTYsImV4cCI6MjA4MjEwMjkxNn0.A-kfpYPjYFvGqg83iVyLCJSq5BavQ8w9fSvNqHQ7DBY",Bn=FD(WD,HD),QC=C.createContext(void 0);function VD({children:t}){const[e,r]=C.useState(null),[n,a]=C.useState(null),[i,o]=C.useState(null),[u,d]=C.useState(null),[f,p]=C.useState(!0);async function m(y){try{const{data:O,error:k}=await Bn.from("user_profiles").select(`
          *,
          tenant:tenants(*)
        `).eq("id",y).single();if(k){console.error("Erro ao carregar perfil:",k);return}O&&(a(O),o(O.tenant))}catch(O){console.error("Erro ao carregar perfil:",O)}}C.useEffect(()=>{let y=!0;async function O(){try{const S=new Promise((A,T)=>setTimeout(()=>T(new Error("Timeout")),5e3)),E=Bn.auth.getSession(),{data:{session:_}}=await Promise.race([E,S]);if(!y)return;d(_),r(_?.user??null),_?.user&&await m(_.user.id)}catch(S){console.error("Erro na autenticao:",S)}finally{y&&p(!1)}}O();const{data:{subscription:k}}=Bn.auth.onAuthStateChange(async(S,E)=>{y&&(d(E),r(E?.user??null),S==="SIGNED_IN"&&E?.user?await m(E.user.id):S==="SIGNED_OUT"&&(a(null),o(null)))});return()=>{y=!1,k.unsubscribe()}},[]);async function v(y,O){const{error:k}=await Bn.auth.signInWithPassword({email:y,password:O});if(k)throw k}async function x(y,O,k){const{data:S,error:E}=await Bn.auth.signUp({email:y,password:O});if(E)throw E;if(!S.user)throw new Error("Erro ao criar usurio");const{data:_}=await Bn.from("tenants").select("id").limit(1).single(),{error:A}=await Bn.from("user_profiles").insert({id:S.user.id,email:y,name:k,tenant_id:_?.id,role:"user"});if(A)throw A}async function j(){const{error:y}=await Bn.auth.signOut();if(y)throw y}async function w(y){if(!e)throw new Error("Usurio no autenticado");const{error:O}=await Bn.from("user_profiles").update(y).eq("id",e.id);if(O)throw O;await m(e.id)}return l.jsx(QC.Provider,{value:{user:e,profile:n,tenant:i,session:u,loading:f,signIn:v,signUp:x,signOut:j,updateProfile:w},children:t})}function If(){const t=C.useContext(QC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZC=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var GD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YD=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...u},d)=>C.createElement("svg",{ref:d,...GD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ZC("lucide",a),...u},[...o.map(([f,p])=>C.createElement(f,p)),...Array.isArray(i)?i:[i]]));const de=(t,e)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(YD,{ref:i,iconNode:e,className:ZC(`lucide-${KD(t)}`,n),...a}));return r.displayName=`${t}`,r};const dS=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const XD=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const eP=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const tP=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const rP=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const Z0=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Em=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const ex=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const fS=de("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);const Ra=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const JD=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const _n=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const QD=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const nP=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Rl=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const ZD=de("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const As=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const tx=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const rx=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const eL=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Yn=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const aP=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Lb=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ma=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Df=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ed=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const ro=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Bb=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const iP=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const qb=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Lf=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _i=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const on=de("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const sP=de("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const tL=de("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const rL=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Ml=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const nL=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const aL=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const hS=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const iL=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Bf=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const wt=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const sL=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const $l=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const oP=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const oL=de("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const lP=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const sr=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const lL=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const cL=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const pS=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const cP=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Xn=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const mS=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const nx=de("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const Ad=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const uP=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const dP=de("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const Sn=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const fP=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const no=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const na=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const _s=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Nn=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ss=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const hP=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const uL=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const dL=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const gS=de("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const Zt=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Am=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const fL=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Da=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const vS=de("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);const Cd=de("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const hL=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const pL=de("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const mL=de("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const Cs=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const La=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ar=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const gL=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const ax=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const bd=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ln=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Pd=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const vL=de("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const dn=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const un=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function yL({children:t,requiredRole:e}){const{user:r,profile:n,loading:a}=If(),i=ta();return a?l.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"}),l.jsx("p",{className:"text-gray-500",children:"Carregando..."})]})}):r?e&&n?.role!==e&&n?.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Negado"}),l.jsx("p",{className:"text-gray-500",children:"Voc no tem permisso para acessar esta pgina."})]})}):l.jsx(l.Fragment,{children:t}):l.jsx(E$,{to:"/login",state:{from:i},replace:!0})}function xL(){return"/api".replace(/\/$/,"")}const bL=xL();async function qf(t,e){const r=`${bL}${t}`,n=await fetch(r,{...e,headers:{"Content-Type":"application/json"}});if(!n.ok){const a=await n.text().catch(()=>"");throw console.error(`[API] ${n.status} ${r}`,a),new Error(`API error ${n.status}: ${a||n.statusText}`)}if(n.status!==204)return n.json()}function wL(t){return t?{conversations_total:t.totalConversations??0,leads_total:t.totalLeads??0,qualified_total:t.qualifiedLeads??0,avg_response_time_seconds:t.avgResponseTimeSeconds??0,emotions_distribution:t.emotionsDistribution??{},activity_last_7_days:t.activityLast7Days??[]}:{}}async function jL(t){let e="/stats";t&&(e+=`?tenant_id=${t}`);const r=await qf(e);return wL(r)}async function _L(){return qf("/tenants")}async function SL(t=50,e){let r=`/conversations?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),qf(r)}async function NL(t=50,e){let r=`/leads?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),qf(r)}function pP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=pP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=pP(t))&&(n&&(n+=" "),n+=e);return n}var Cm,yS;function pr(){if(yS)return Cm;yS=1;var t=Array.isArray;return Cm=t,Cm}var Pm,xS;function mP(){if(xS)return Pm;xS=1;var t=typeof Bu=="object"&&Bu&&Bu.Object===Object&&Bu;return Pm=t,Pm}var Tm,bS;function Cn(){if(bS)return Tm;bS=1;var t=mP(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Tm=r,Tm}var Rm,wS;function wc(){if(wS)return Rm;wS=1;var t=Cn(),e=t.Symbol;return Rm=e,Rm}var Mm,jS;function kL(){if(jS)return Mm;jS=1;var t=wc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=r.call(o,a),d=o[a];try{o[a]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(u?o[a]=d:delete o[a]),p}return Mm=i,Mm}var $m,_S;function OL(){if(_S)return $m;_S=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return $m=r,$m}var Im,SS;function aa(){if(SS)return Im;SS=1;var t=wc(),e=kL(),r=OL(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:n:i&&i in Object(u)?e(u):r(u)}return Im=o,Im}var Dm,NS;function ia(){if(NS)return Dm;NS=1;function t(e){return e!=null&&typeof e=="object"}return Dm=t,Dm}var Lm,kS;function ao(){if(kS)return Lm;kS=1;var t=aa(),e=ia(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Lm=n,Lm}var Bm,OS;function Ub(){if(OS)return Bm;OS=1;var t=pr(),e=ao(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Bm=a,Bm}var qm,ES;function Ba(){if(ES)return qm;ES=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return qm=t,qm}var Um,AS;function Fb(){if(AS)return Um;AS=1;var t=aa(),e=Ba(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==i}return Um=o,Um}var Fm,CS;function EL(){if(CS)return Fm;CS=1;var t=Cn(),e=t["__core-js_shared__"];return Fm=e,Fm}var zm,PS;function AL(){if(PS)return zm;PS=1;var t=EL(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return zm=r,zm}var Wm,TS;function gP(){if(TS)return Wm;TS=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Wm=r,Wm}var Hm,RS;function CL(){if(RS)return Hm;RS=1;var t=Fb(),e=AL(),r=Ba(),n=gP(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var x=t(v)?p:i;return x.test(n(v))}return Hm=m,Hm}var Vm,MS;function PL(){if(MS)return Vm;MS=1;function t(e,r){return e?.[r]}return Vm=t,Vm}var Km,$S;function Ei(){if($S)return Km;$S=1;var t=CL(),e=PL();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Km=r,Km}var Gm,IS;function Uf(){if(IS)return Gm;IS=1;var t=Ei(),e=t(Object,"create");return Gm=e,Gm}var Ym,DS;function TL(){if(DS)return Ym;DS=1;var t=Uf();function e(){this.__data__=t?t(null):{},this.size=0}return Ym=e,Ym}var Xm,LS;function RL(){if(LS)return Xm;LS=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Xm=t,Xm}var Jm,BS;function ML(){if(BS)return Jm;BS=1;var t=Uf(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return n.call(o,i)?o[i]:void 0}return Jm=a,Jm}var Qm,qS;function $L(){if(qS)return Qm;qS=1;var t=Uf(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Qm=n,Qm}var Zm,US;function IL(){if(US)return Zm;US=1;var t=Uf(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Zm=r,Zm}var eg,FS;function DL(){if(FS)return eg;FS=1;var t=TL(),e=RL(),r=ML(),n=$L(),a=IL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,eg=i,eg}var tg,zS;function LL(){if(zS)return tg;zS=1;function t(){this.__data__=[],this.size=0}return tg=t,tg}var rg,WS;function zb(){if(WS)return rg;WS=1;function t(e,r){return e===r||e!==e&&r!==r}return rg=t,rg}var ng,HS;function Ff(){if(HS)return ng;HS=1;var t=zb();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return ng=e,ng}var ag,VS;function BL(){if(VS)return ag;VS=1;var t=Ff(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():r.call(i,o,1),--this.size,!0}return ag=n,ag}var ig,KS;function qL(){if(KS)return ig;KS=1;var t=Ff();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return ig=e,ig}var sg,GS;function UL(){if(GS)return sg;GS=1;var t=Ff();function e(r){return t(this.__data__,r)>-1}return sg=e,sg}var og,YS;function FL(){if(YS)return og;YS=1;var t=Ff();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return og=e,og}var lg,XS;function zf(){if(XS)return lg;XS=1;var t=LL(),e=BL(),r=qL(),n=UL(),a=FL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,lg=i,lg}var cg,JS;function Wb(){if(JS)return cg;JS=1;var t=Ei(),e=Cn(),r=t(e,"Map");return cg=r,cg}var ug,QS;function zL(){if(QS)return ug;QS=1;var t=DL(),e=zf(),r=Wb();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ug=n,ug}var dg,ZS;function WL(){if(ZS)return dg;ZS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return dg=t,dg}var fg,e2;function Wf(){if(e2)return fg;e2=1;var t=WL();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return fg=e,fg}var hg,t2;function HL(){if(t2)return hg;t2=1;var t=Wf();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return hg=e,hg}var pg,r2;function VL(){if(r2)return pg;r2=1;var t=Wf();function e(r){return t(this,r).get(r)}return pg=e,pg}var mg,n2;function KL(){if(n2)return mg;n2=1;var t=Wf();function e(r){return t(this,r).has(r)}return mg=e,mg}var gg,a2;function GL(){if(a2)return gg;a2=1;var t=Wf();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return gg=e,gg}var vg,i2;function Hb(){if(i2)return vg;i2=1;var t=zL(),e=HL(),r=VL(),n=KL(),a=GL();function i(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,vg=i,vg}var yg,s2;function vP(){if(s2)return yg;s2=1;var t=Hb(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],d=i.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,yg=r,yg}var xg,o2;function YL(){if(o2)return xg;o2=1;var t=vP(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return xg=r,xg}var bg,l2;function XL(){if(l2)return bg;l2=1;var t=YL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,d,f){i.push(d?f.replace(r,"$1"):u||o)}),i});return bg=n,bg}var wg,c2;function Vb(){if(c2)return wg;c2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return wg=t,wg}var jg,u2;function JL(){if(u2)return jg;u2=1;var t=wc(),e=Vb(),r=pr(),n=ao(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return jg=o,jg}var _g,d2;function yP(){if(d2)return _g;d2=1;var t=JL();function e(r){return r==null?"":t(r)}return _g=e,_g}var Sg,f2;function xP(){if(f2)return Sg;f2=1;var t=pr(),e=Ub(),r=XL(),n=yP();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return Sg=a,Sg}var Ng,h2;function Hf(){if(h2)return Ng;h2=1;var t=ao();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Ng=e,Ng}var kg,p2;function Kb(){if(p2)return kg;p2=1;var t=xP(),e=Hf();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return kg=r,kg}var Og,m2;function bP(){if(m2)return Og;m2=1;var t=Kb();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Og=e,Og}var QL=bP();const qr=Qe(QL);var Eg,g2;function ZL(){if(g2)return Eg;g2=1;function t(e){return e==null}return Eg=t,Eg}var e7=ZL();const qe=Qe(e7);var Ag,v2;function t7(){if(v2)return Ag;v2=1;var t=aa(),e=pr(),r=ia(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Ag=a,Ag}var r7=t7();const Si=Qe(r7);var n7=Fb();const Le=Qe(n7);var a7=Ba();const io=Qe(a7);var Cg={exports:{}},Ke={};var y2;function i7(){if(y2)return Ke;y2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var O=y.$$typeof;switch(O){case t:switch(y=y.type,y){case r:case a:case n:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case o:case d:case v:case m:case i:return y;default:return O}}case e:return O}}}return Ke.ContextConsumer=o,Ke.ContextProvider=i,Ke.Element=t,Ke.ForwardRef=d,Ke.Fragment=r,Ke.Lazy=v,Ke.Memo=m,Ke.Portal=e,Ke.Profiler=a,Ke.StrictMode=n,Ke.Suspense=f,Ke.SuspenseList=p,Ke.isAsyncMode=function(){return!1},Ke.isConcurrentMode=function(){return!1},Ke.isContextConsumer=function(y){return w(y)===o},Ke.isContextProvider=function(y){return w(y)===i},Ke.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ke.isForwardRef=function(y){return w(y)===d},Ke.isFragment=function(y){return w(y)===r},Ke.isLazy=function(y){return w(y)===v},Ke.isMemo=function(y){return w(y)===m},Ke.isPortal=function(y){return w(y)===e},Ke.isProfiler=function(y){return w(y)===a},Ke.isStrictMode=function(y){return w(y)===n},Ke.isSuspense=function(y){return w(y)===f},Ke.isSuspenseList=function(y){return w(y)===p},Ke.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===f||y===p||y===x||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===m||y.$$typeof===i||y.$$typeof===o||y.$$typeof===d||y.$$typeof===j||y.getModuleId!==void 0)},Ke.typeOf=w,Ke}var x2;function s7(){return x2||(x2=1,Cg.exports=i7()),Cg.exports}var o7=s7(),Pg,b2;function wP(){if(b2)return Pg;b2=1;var t=aa(),e=ia(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Pg=n,Pg}var Tg,w2;function l7(){if(w2)return Tg;w2=1;var t=wP();function e(r){return t(r)&&r!=+r}return Tg=e,Tg}var c7=l7();const so=Qe(c7);var u7=wP();const d7=Qe(u7);var sn=function(e){return e===0?0:e>0?1:-1},pi=function(e){return Si(e)&&e.indexOf("%")===e.length-1},pe=function(e){return d7(e)&&!so(e)},f7=function(e){return qe(e)},Mt=function(e){return pe(e)||Si(e)},h7=0,jc=function(e){var r=++h7;return"".concat(e||"").concat(r)},Ni=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!Si(e))return n;var i;if(pi(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return so(i)&&(i=n),a&&i>r&&(i=r),i},gs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},p7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Lr=function(e,r){return pe(e)&&pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Td(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):qr(n,e))===r})}var m7=function(e,r){return pe(e)&&pe(r)?e-r:Si(e)&&Si(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ns(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}var g7=["viewBox","children"],v7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j2=["points","pathLength"],Rg={svg:g7,polygon:j2,polyline:j2},Gb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!io(n))return null;var a={};return Object.keys(n).forEach(function(i){Gb.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},y7=function(e,r,n){return function(a){return e(r,n,a),null}},Md=function(e,r,n){if(!io(e)||ix(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];Gb.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=y7(o,r,n))}),a},x7=["children"],b7=["children"];function _2(t,e){if(t==null)return{};var r=w7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}var S2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},N2=null,Mg=null,Yb=function t(e){if(e===N2&&Array.isArray(Mg))return Mg;var r=[];return C.Children.forEach(e,function(n){qe(n)||(o7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Mg=r,N2=e,r};function cn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Vn(a)}):n=[Vn(e)],Yb(t).forEach(function(a){var i=qr(a,"type.displayName")||qr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function _r(t,e){var r=cn(t,e);return r&&r[0]}var k2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},j7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_7=function(e){return e&&e.type&&Si(e.type)&&j7.indexOf(e.type)>=0},S7=function(e){return e&&sx(e)==="object"&&"clipDot"in e},N7=function(e,r,n,a){var i,o=(i=Rg?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Le(e)&&(a&&o.includes(r)||v7.includes(r))||n&&Gb.includes(r)},Be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(C.isValidElement(e)&&(a=e.props),!io(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;N7((u=a)===null||u===void 0?void 0:u[o],o,r,n)&&(i[o]=a[o])}),i},ox=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return O2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!O2(i,o))return!1}return!0},O2=function(e,r){if(qe(e)&&qe(r))return!0;if(!qe(e)&&!qe(r)){var n=e.props||{},a=n.children,i=_2(n,x7),o=r.props||{},u=o.children,d=_2(o,b7);return a&&u?Ns(i,d)&&ox(a,u):!a&&!u?Ns(i,d):!1}return!1},E2=function(e,r){var n=[],a={};return Yb(e).forEach(function(i,o){if(_7(i))n.push(i);else if(i){var u=Vn(i.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!a[u])){var m=f(i,u,o);n.push(m),a[u]=!0}}}),n},k7=function(e){var r=e&&e.type;return r&&S2[r]?S2[r]:null},O7=function(e,r){return Yb(r).indexOf(e)},E7=["children","width","height","viewBox","className","style","title","desc"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function A7(t,e){if(t==null)return{};var r=C7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cx(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,d=t.desc,f=A7(t,E7),p=a||{width:r,height:n,x:0,y:0},m=ze("recharts-surface",i);return X.createElement("svg",lx({},Be(f,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,u),X.createElement("desc",null,d),e)}var P7=["children","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}function T7(t,e){if(t==null)return{};var r=R7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gt=X.forwardRef(function(t,e){var r=t.children,n=t.className,a=T7(t,P7),i=ze("recharts-layer",n);return X.createElement("g",ux({className:i},Be(a,!0),{ref:e}),r)}),bi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},$g,A2;function M7(){if(A2)return $g;A2=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return $g=t,$g}var Ig,C2;function $7(){if(C2)return Ig;C2=1;var t=M7();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return Ig=e,Ig}var Dg,P2;function jP(){if(P2)return Dg;P2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function d(f){return u.test(f)}return Dg=d,Dg}var Lg,T2;function I7(){if(T2)return Lg;T2=1;function t(e){return e.split("")}return Lg=t,Lg}var Bg,R2;function D7(){if(R2)return Bg;R2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",j=f+"?",w="["+i+"]?",y="(?:"+x+"(?:"+[p,m,v].join("|")+")"+w+j+")*",O=w+j+y,k="(?:"+[p+u+"?",u,m,v,o].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+O,"g");function E(_){return _.match(S)||[]}return Bg=E,Bg}var qg,M2;function L7(){if(M2)return qg;M2=1;var t=I7(),e=jP(),r=D7();function n(a){return e(a)?r(a):t(a)}return qg=n,qg}var Ug,$2;function B7(){if($2)return Ug;$2=1;var t=$7(),e=jP(),r=L7(),n=yP();function a(i){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[i]()+f}}return Ug=a,Ug}var Fg,I2;function q7(){if(I2)return Fg;I2=1;var t=B7(),e=t("toUpperCase");return Fg=e,Fg}var U7=q7();const Vf=Qe(U7);function nt(t){return function(){return t}}const _P=Math.cos,$d=Math.sin,fn=Math.sqrt,Id=Math.PI,Kf=2*Id,dx=Math.PI,fx=2*dx,ci=1e-6,F7=fx-ci;function SP(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function z7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SP;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class W7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SP:z7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,d=n-e,f=a-r,p=o-e,m=u-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ci)if(!(Math.abs(m*d-f*p)>ci)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,j=a-u,w=d*d+f*f,y=x*x+j*j,O=Math.sqrt(w),k=Math.sqrt(v),S=i*Math.tan((dx-Math.acos((w+v-y)/(2*O*k)))/2),E=S/k,_=S/O;Math.abs(E-1)>ci&&this._append`L${e+E*p},${r+E*m}`,this._append`A${i},${i},0,0,${+(m*x>p*j)},${this._x1=e+_*d},${this._y1=r+_*f}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=e+u,p=r+d,m=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ci||Math.abs(this._y1-p)>ci)&&this._append`L${f},${p}`,n&&(v<0&&(v=v%fx+fx),v>F7?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:v>ci&&this._append`A${n},${n},0,${+(v>=dx)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Xb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new W7(e)}function Jb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function NP(t){this._context=t}NP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gf(t){return new NP(t)}function kP(t){return t[0]}function OP(t){return t[1]}function EP(t,e){var r=nt(!0),n=null,a=Gf,i=null,o=Xb(u);t=typeof t=="function"?t:t===void 0?kP:nt(t),e=typeof e=="function"?e:e===void 0?OP:nt(e);function u(d){var f,p=(d=Jb(d)).length,m,v=!1,x;for(n==null&&(i=a(x=o())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(m,f,d),+e(m,f,d));if(x)return i=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function Vu(t,e,r){var n=null,a=nt(!0),i=null,o=Gf,u=null,d=Xb(f);t=typeof t=="function"?t:t===void 0?kP:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?OP:nt(+r);function f(m){var v,x,j,w=(m=Jb(m)).length,y,O=!1,k,S=new Array(w),E=new Array(w);for(i==null&&(u=o(k=d())),v=0;v<=w;++v){if(!(v<w&&a(y=m[v],v,m))===O)if(O=!O)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=x;--j)u.point(S[j],E[j]);u.lineEnd(),u.areaEnd()}O&&(S[v]=+t(y,v,m),E[v]=+e(y,v,m),u.point(n?+n(y,v,m):S[v],r?+r(y,v,m):E[v]))}if(k)return u=null,k+""||null}function p(){return EP().defined(a).curve(o).context(i)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:nt(!!m),f):a},f.curve=function(m){return arguments.length?(o=m,i!=null&&(u=o(i)),f):o},f.context=function(m){return arguments.length?(m==null?i=u=null:u=o(i=m),f):i},f}class AP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function H7(t){return new AP(t,!0)}function V7(t){return new AP(t,!1)}const Qb={draw(t,e){const r=fn(e/Id);t.moveTo(r,0),t.arc(0,0,r,0,Kf)}},K7={draw(t,e){const r=fn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},CP=fn(1/3),G7=CP*2,Y7={draw(t,e){const r=fn(e/G7),n=r*CP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},X7={draw(t,e){const r=fn(e),n=-r/2;t.rect(n,n,r,r)}},J7=.8908130915292852,PP=$d(Id/10)/$d(7*Id/10),Q7=$d(Kf/10)*PP,Z7=-_P(Kf/10)*PP,e6={draw(t,e){const r=fn(e*J7),n=Q7*r,a=Z7*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=Kf*i/5,u=_P(o),d=$d(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},zg=fn(3),t6={draw(t,e){const r=-fn(e/(zg*3));t.moveTo(0,r*2),t.lineTo(-zg*r,-r),t.lineTo(zg*r,-r),t.closePath()}},$r=-.5,Ir=fn(3)/2,hx=1/fn(12),r6=(hx/2+1)*3,n6={draw(t,e){const r=fn(e/r6),n=r/2,a=r*hx,i=n,o=r*hx+r,u=-i,d=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(u,d),t.lineTo($r*n-Ir*a,Ir*n+$r*a),t.lineTo($r*i-Ir*o,Ir*i+$r*o),t.lineTo($r*u-Ir*d,Ir*u+$r*d),t.lineTo($r*n+Ir*a,$r*a-Ir*n),t.lineTo($r*i+Ir*o,$r*o-Ir*i),t.lineTo($r*u+Ir*d,$r*d-Ir*u),t.closePath()}};function a6(t,e){let r=null,n=Xb(a);t=typeof t=="function"?t:nt(t||Qb),e=typeof e=="function"?e:nt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:nt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:nt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Dd(){}function Ld(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function TP(t){this._context=t}TP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new TP(t)}function RP(t){this._context=t}RP.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s6(t){return new RP(t)}function MP(t){this._context=t}MP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new MP(t)}function $P(t){this._context=t}$P.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function l6(t){return new $P(t)}function D2(t){return t<0?-1:1}function L2(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),u=(i*a+o*n)/(n+a);return(D2(i)+D2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function B2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Wg(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-n)/3;t._context.bezierCurveTo(n+u,a+u*e,i-u,o-u*r,i,o)}function Bd(t){this._context=t}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wg(this,this._t0,B2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wg(this,B2(this,r=L2(this,t,e)),r);break;default:Wg(this,this._t0,r=L2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function IP(t){this._context=new DP(t)}(IP.prototype=Object.create(Bd.prototype)).point=function(t,e){Bd.prototype.point.call(this,e,t)};function DP(t){this._context=t}DP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function c6(t){return new Bd(t)}function u6(t){return new IP(t)}function LP(t){this._context=t}LP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=q2(t),a=q2(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q2(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function d6(t){return new LP(t)}function Yf(t,e){this._context=t,this._t=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function f6(t){return new Yf(t,.5)}function h6(t){return new Yf(t,0)}function p6(t){return new Yf(t,1)}function Ps(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,u=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function px(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function m6(t,e){return t[e]}function g6(t){const e=[];return e.key=t,e}function v6(){var t=nt([]),e=px,r=Ps,n=m6;function a(i){var o=Array.from(t.apply(this,arguments),g6),u,d=o.length,f=-1,p;for(const m of i)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(m,o[u].key,f,i)]).data=m;for(u=0,p=Jb(e(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:nt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:nt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?px:typeof i=="function"?i:nt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ps,a):r},a}function y6(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Ps(t,e)}}function x6(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,u=0;o<a;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ps(t,e)}}function b6(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],m=p[n][1]||0,v=p[n-1][1]||0,x=(m-v)/2,j=0;j<u;++j){var w=t[e[j]],y=w[n][1]||0,O=w[n-1][1]||0;x+=y-O}d+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Ps(t,e)}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var w6=["type","size","sizeType"];function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mx.apply(this,arguments)}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function F2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){j6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6(t,e,r){return e=_6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6(t){var e=S6(t,"string");return Il(e)=="symbol"?e:e+""}function S6(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t,e){if(t==null)return{};var r=k6(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var BP={symbolCircle:Qb,symbolCross:K7,symbolDiamond:Y7,symbolSquare:X7,symbolStar:e6,symbolTriangle:t6,symbolWye:n6},O6=Math.PI/180,E6=function(e){var r="symbol".concat(Vf(e));return BP[r]||Qb},A6=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*O6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},C6=function(e,r){BP["symbol".concat(Vf(e))]=r},Zb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,d=N6(e,w6),f=F2(F2({},d),{},{type:n,size:i,sizeType:u}),p=function(){var y=E6(n),O=a6().type(y).size(A6(i,u,n));return O()},m=f.className,v=f.cx,x=f.cy,j=Be(f,!0);return v===+v&&x===+x&&i===+i?X.createElement("path",mx({},j,{className:ze("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:p()})):null};Zb.registerSymbol=C6;function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){Dl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UP(n.key),n)}}function M6(t,e,r){return e&&R6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $6(t,e,r){return e=qd(e),I6(t,qP()?Reflect.construct(e,r||[],qd(t).constructor):e.apply(t,r))}function I6(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6(t)}function D6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(t)}function L6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vx(t,e)}function Dl(t,e,r){return e=UP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UP(t){var e=B6(t,"string");return Ts(e)=="symbol"?e:e+""}function B6(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=32,ew=(function(t){function e(){return T6(this,e),$6(this,e,arguments)}return L6(e,t),M6(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Dr/2,o=Dr/6,u=Dr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Dr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Dr,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var f=P6({},n);return delete f.legendIcon,X.cloneElement(n.legendIcon,f)}return X.createElement(Zb,{fill:d,cx:i,cy:i,size:Dr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:Dr,height:Dr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,j){var w=x.formatter||d,y=ze(Dl(Dl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",x.inactive));if(x.type==="none")return null;var O=Le(x.value)?null:x.value;bi(!Le(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=x.inactive?f:x.color;return X.createElement("li",gx({className:y,style:m,key:"legend-item-".concat(j)},Md(n.props,x,j)),X.createElement(cx,{width:o,height:o,viewBox:p,style:v},n.renderIcon(x)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(O,x,j):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(C.PureComponent);Dl(ew,"displayName","Legend");Dl(ew,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hg,W2;function q6(){if(W2)return Hg;W2=1;var t=zf();function e(){this.__data__=new t,this.size=0}return Hg=e,Hg}var Vg,H2;function U6(){if(H2)return Vg;H2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Vg=t,Vg}var Kg,V2;function F6(){if(V2)return Kg;V2=1;function t(e){return this.__data__.get(e)}return Kg=t,Kg}var Gg,K2;function z6(){if(K2)return Gg;K2=1;function t(e){return this.__data__.has(e)}return Gg=t,Gg}var Yg,G2;function W6(){if(G2)return Yg;G2=1;var t=zf(),e=Wb(),r=Hb(),n=200;function a(i,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([i,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,o),this.size=u.size,this}return Yg=a,Yg}var Xg,Y2;function FP(){if(Y2)return Xg;Y2=1;var t=zf(),e=q6(),r=U6(),n=F6(),a=z6(),i=W6();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Xg=o,Xg}var Jg,X2;function H6(){if(X2)return Jg;X2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Jg=e,Jg}var Qg,J2;function V6(){if(J2)return Qg;J2=1;function t(e){return this.__data__.has(e)}return Qg=t,Qg}var Zg,Q2;function zP(){if(Q2)return Zg;Q2=1;var t=Hb(),e=H6(),r=V6();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Zg=n,Zg}var ev,Z2;function WP(){if(Z2)return ev;Z2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return ev=t,ev}var tv,eN;function HP(){if(eN)return tv;eN=1;function t(e,r){return e.has(r)}return tv=t,tv}var rv,tN;function VP(){if(tN)return rv;tN=1;var t=zP(),e=WP(),r=HP(),n=1,a=2;function i(o,u,d,f,p,m){var v=d&n,x=o.length,j=u.length;if(x!=j&&!(v&&j>x))return!1;var w=m.get(o),y=m.get(u);if(w&&y)return w==u&&y==o;var O=-1,k=!0,S=d&a?new t:void 0;for(m.set(o,u),m.set(u,o);++O<x;){var E=o[O],_=u[O];if(f)var A=v?f(_,E,O,u,o,m):f(E,_,O,o,u,m);if(A!==void 0){if(A)continue;k=!1;break}if(S){if(!e(u,function(T,P){if(!r(S,P)&&(E===T||p(E,T,d,f,m)))return S.push(P)})){k=!1;break}}else if(!(E===_||p(E,_,d,f,m))){k=!1;break}}return m.delete(o),m.delete(u),k}return rv=i,rv}var nv,rN;function K6(){if(rN)return nv;rN=1;var t=Cn(),e=t.Uint8Array;return nv=e,nv}var av,nN;function G6(){if(nN)return av;nN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return av=t,av}var iv,aN;function tw(){if(aN)return iv;aN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return iv=t,iv}var sv,iN;function Y6(){if(iN)return sv;iN=1;var t=wc(),e=K6(),r=zb(),n=VP(),a=G6(),i=tw(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",j="[object Set]",w="[object String]",y="[object Symbol]",O="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,E=S?S.valueOf:void 0;function _(A,T,P,$,B,I,F){switch(P){case k:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case O:return!(A.byteLength!=T.byteLength||!I(new e(A),new e(T)));case d:case f:case v:return r(+A,+T);case p:return A.name==T.name&&A.message==T.message;case x:case w:return A==T+"";case m:var L=a;case j:var G=$&o;if(L||(L=i),A.size!=T.size&&!G)return!1;var q=F.get(A);if(q)return q==T;$|=u,F.set(A,T);var z=n(L(A),L(T),$,B,I,F);return F.delete(A),z;case y:if(E)return E.call(A)==E.call(T)}return!1}return sv=_,sv}var ov,sN;function KP(){if(sN)return ov;sN=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return ov=t,ov}var lv,oN;function X6(){if(oN)return lv;oN=1;var t=KP(),e=pr();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return lv=r,lv}var cv,lN;function J6(){if(lN)return cv;lN=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var u=e[n];r(u,n,e)&&(o[i++]=u)}return o}return cv=t,cv}var uv,cN;function Q6(){if(cN)return uv;cN=1;function t(){return[]}return uv=t,uv}var dv,uN;function Z6(){if(uN)return dv;uN=1;var t=J6(),e=Q6(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return n.call(o,u)}))}:e;return dv=i,dv}var fv,dN;function e8(){if(dN)return fv;dN=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return fv=t,fv}var hv,fN;function t8(){if(fN)return hv;fN=1;var t=aa(),e=ia(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return hv=n,hv}var pv,hN;function rw(){if(hN)return pv;hN=1;var t=t8(),e=ia(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return pv=i,pv}var ml={exports:{}},mv,pN;function r8(){if(pN)return mv;pN=1;function t(){return!1}return mv=t,mv}ml.exports;var mN;function GP(){return mN||(mN=1,(function(t,e){var r=Cn(),n=r8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f})(ml,ml.exports)),ml.exports}var gv,gN;function nw(){if(gN)return gv;gN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return gv=r,gv}var vv,vN;function aw(){if(vN)return vv;vN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return vv=e,vv}var yv,yN;function n8(){if(yN)return yv;yN=1;var t=aa(),e=aw(),r=ia(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",j="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",$="[object Uint16Array]",B="[object Uint32Array]",I={};I[k]=I[S]=I[E]=I[_]=I[A]=I[T]=I[P]=I[$]=I[B]=!0,I[n]=I[a]=I[y]=I[i]=I[O]=I[o]=I[u]=I[d]=I[f]=I[p]=I[m]=I[v]=I[x]=I[j]=I[w]=!1;function F(L){return r(L)&&e(L.length)&&!!I[t(L)]}return yv=F,yv}var xv,xN;function YP(){if(xN)return xv;xN=1;function t(e){return function(r){return e(r)}}return xv=t,xv}var gl={exports:{}};gl.exports;var bN;function a8(){return bN||(bN=1,(function(t,e){var r=mP(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(gl,gl.exports)),gl.exports}var bv,wN;function XP(){if(wN)return bv;wN=1;var t=n8(),e=YP(),r=a8(),n=r&&r.isTypedArray,a=n?e(n):t;return bv=a,bv}var wv,jN;function i8(){if(jN)return wv;jN=1;var t=e8(),e=rw(),r=pr(),n=GP(),a=nw(),i=XP(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var m=r(f),v=!m&&e(f),x=!m&&!v&&n(f),j=!m&&!v&&!x&&i(f),w=m||v||x||j,y=w?t(f.length,String):[],O=y.length;for(var k in f)(p||u.call(f,k))&&!(w&&(k=="length"||x&&(k=="offset"||k=="parent")||j&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,O)))&&y.push(k);return y}return wv=d,wv}var jv,_N;function s8(){if(_N)return jv;_N=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return jv=e,jv}var _v,SN;function JP(){if(SN)return _v;SN=1;function t(e,r){return function(n){return e(r(n))}}return _v=t,_v}var Sv,NN;function o8(){if(NN)return Sv;NN=1;var t=JP(),e=t(Object.keys,Object);return Sv=e,Sv}var Nv,kN;function l8(){if(kN)return Nv;kN=1;var t=s8(),e=o8(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&o.push(u);return o}return Nv=a,Nv}var kv,ON;function _c(){if(ON)return kv;ON=1;var t=Fb(),e=aw();function r(n){return n!=null&&e(n.length)&&!t(n)}return kv=r,kv}var Ov,EN;function Xf(){if(EN)return Ov;EN=1;var t=i8(),e=l8(),r=_c();function n(a){return r(a)?t(a):e(a)}return Ov=n,Ov}var Ev,AN;function c8(){if(AN)return Ev;AN=1;var t=X6(),e=Z6(),r=Xf();function n(a){return t(a,r,e)}return Ev=n,Ev}var Av,CN;function u8(){if(CN)return Av;CN=1;var t=c8(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,u,d,f,p){var m=u&e,v=t(i),x=v.length,j=t(o),w=j.length;if(x!=w&&!m)return!1;for(var y=x;y--;){var O=v[y];if(!(m?O in o:n.call(o,O)))return!1}var k=p.get(i),S=p.get(o);if(k&&S)return k==o&&S==i;var E=!0;p.set(i,o),p.set(o,i);for(var _=m;++y<x;){O=v[y];var A=i[O],T=o[O];if(d)var P=m?d(T,A,O,o,i,p):d(A,T,O,i,o,p);if(!(P===void 0?A===T||f(A,T,u,d,p):P)){E=!1;break}_||(_=O=="constructor")}if(E&&!_){var $=i.constructor,B=o.constructor;$!=B&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof B=="function"&&B instanceof B)&&(E=!1)}return p.delete(i),p.delete(o),E}return Av=a,Av}var Cv,PN;function d8(){if(PN)return Cv;PN=1;var t=Ei(),e=Cn(),r=t(e,"DataView");return Cv=r,Cv}var Pv,TN;function f8(){if(TN)return Pv;TN=1;var t=Ei(),e=Cn(),r=t(e,"Promise");return Pv=r,Pv}var Tv,RN;function QP(){if(RN)return Tv;RN=1;var t=Ei(),e=Cn(),r=t(e,"Set");return Tv=r,Tv}var Rv,MN;function h8(){if(MN)return Rv;MN=1;var t=Ei(),e=Cn(),r=t(e,"WeakMap");return Rv=r,Rv}var Mv,$N;function p8(){if($N)return Mv;$N=1;var t=d8(),e=Wb(),r=f8(),n=QP(),a=h8(),i=aa(),o=gP(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",x=o(t),j=o(e),w=o(r),y=o(n),O=o(a),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=v||e&&k(new e)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=p||a&&k(new a)!=m)&&(k=function(S){var E=i(S),_=E==d?S.constructor:void 0,A=_?o(_):"";if(A)switch(A){case x:return v;case j:return u;case w:return f;case y:return p;case O:return m}return E}),Mv=k,Mv}var $v,IN;function m8(){if(IN)return $v;IN=1;var t=FP(),e=VP(),r=Y6(),n=u8(),a=p8(),i=pr(),o=GP(),u=XP(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function j(w,y,O,k,S,E){var _=i(w),A=i(y),T=_?p:a(w),P=A?p:a(y);T=T==f?m:T,P=P==f?m:P;var $=T==m,B=P==m,I=T==P;if(I&&o(w)){if(!o(y))return!1;_=!0,$=!1}if(I&&!$)return E||(E=new t),_||u(w)?e(w,y,O,k,S,E):r(w,y,T,O,k,S,E);if(!(O&d)){var F=$&&x.call(w,"__wrapped__"),L=B&&x.call(y,"__wrapped__");if(F||L){var G=F?w.value():w,q=L?y.value():y;return E||(E=new t),S(G,q,O,k,E)}}return I?(E||(E=new t),n(w,y,O,k,S,E)):!1}return $v=j,$v}var Iv,DN;function iw(){if(DN)return Iv;DN=1;var t=m8(),e=ia();function r(n,a,i,o,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,u)}return Iv=r,Iv}var Dv,LN;function g8(){if(LN)return Dv;LN=1;var t=FP(),e=iw(),r=1,n=2;function a(i,o,u,d){var f=u.length,p=f,m=!d;if(i==null)return!p;for(i=Object(i);f--;){var v=u[f];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++f<p;){v=u[f];var x=v[0],j=i[x],w=v[1];if(m&&v[2]){if(j===void 0&&!(x in i))return!1}else{var y=new t;if(d)var O=d(j,w,x,i,o,y);if(!(O===void 0?e(w,j,r|n,d,y):O))return!1}}return!0}return Dv=a,Dv}var Lv,BN;function ZP(){if(BN)return Lv;BN=1;var t=Ba();function e(r){return r===r&&!t(r)}return Lv=e,Lv}var Bv,qN;function v8(){if(qN)return Bv;qN=1;var t=ZP(),e=Xf();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],u=n[o];a[i]=[o,u,t(u)]}return a}return Bv=r,Bv}var qv,UN;function e5(){if(UN)return qv;UN=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return qv=t,qv}var Uv,FN;function y8(){if(FN)return Uv;FN=1;var t=g8(),e=v8(),r=e5();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return Uv=n,Uv}var Fv,zN;function x8(){if(zN)return Fv;zN=1;function t(e,r){return e!=null&&r in Object(e)}return Fv=t,Fv}var zv,WN;function b8(){if(WN)return zv;WN=1;var t=xP(),e=rw(),r=pr(),n=nw(),a=aw(),i=Hf();function o(u,d,f){d=t(d,u);for(var p=-1,m=d.length,v=!1;++p<m;){var x=i(d[p]);if(!(v=u!=null&&f(u,x)))break;u=u[x]}return v||++p!=m?v:(m=u==null?0:u.length,!!m&&a(m)&&n(x,m)&&(r(u)||e(u)))}return zv=o,zv}var Wv,HN;function w8(){if(HN)return Wv;HN=1;var t=x8(),e=b8();function r(n,a){return n!=null&&e(n,a,t)}return Wv=r,Wv}var Hv,VN;function j8(){if(VN)return Hv;VN=1;var t=iw(),e=bP(),r=w8(),n=Ub(),a=ZP(),i=e5(),o=Hf(),u=1,d=2;function f(p,m){return n(p)&&a(m)?i(o(p),m):function(v){var x=e(v,p);return x===void 0&&x===m?r(v,p):t(m,x,u|d)}}return Hv=f,Hv}var Vv,KN;function oo(){if(KN)return Vv;KN=1;function t(e){return e}return Vv=t,Vv}var Kv,GN;function _8(){if(GN)return Kv;GN=1;function t(e){return function(r){return r?.[e]}}return Kv=t,Kv}var Gv,YN;function S8(){if(YN)return Gv;YN=1;var t=Kb();function e(r){return function(n){return t(n,r)}}return Gv=e,Gv}var Yv,XN;function N8(){if(XN)return Yv;XN=1;var t=_8(),e=S8(),r=Ub(),n=Hf();function a(i){return r(i)?t(n(i)):e(i)}return Yv=a,Yv}var Xv,JN;function qa(){if(JN)return Xv;JN=1;var t=y8(),e=j8(),r=oo(),n=pr(),a=N8();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return Xv=i,Xv}var Jv,QN;function t5(){if(QN)return Jv;QN=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return Jv=t,Jv}var Qv,ZN;function k8(){if(ZN)return Qv;ZN=1;function t(e){return e!==e}return Qv=t,Qv}var Zv,ek;function O8(){if(ek)return Zv;ek=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Zv=t,Zv}var ey,tk;function E8(){if(tk)return ey;tk=1;var t=t5(),e=k8(),r=O8();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return ey=n,ey}var ty,rk;function A8(){if(rk)return ty;rk=1;var t=E8();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return ty=e,ty}var ry,nk;function C8(){if(nk)return ry;nk=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return ry=t,ry}var ny,ak;function P8(){if(ak)return ny;ak=1;function t(){}return ny=t,ny}var ay,ik;function T8(){if(ik)return ay;ik=1;var t=QP(),e=P8(),r=tw(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return ay=a,ay}var iy,sk;function R8(){if(sk)return iy;sk=1;var t=zP(),e=A8(),r=C8(),n=HP(),a=T8(),i=tw(),o=200;function u(d,f,p){var m=-1,v=e,x=d.length,j=!0,w=[],y=w;if(p)j=!1,v=r;else if(x>=o){var O=f?null:a(d);if(O)return i(O);j=!1,v=n,y=new t}else y=f?[]:w;e:for(;++m<x;){var k=d[m],S=f?f(k):k;if(k=p||k!==0?k:0,j&&S===S){for(var E=y.length;E--;)if(y[E]===S)continue e;f&&y.push(S),w.push(k)}else v(y,S,p)||(y!==w&&y.push(S),w.push(k))}return w}return iy=u,iy}var sy,ok;function M8(){if(ok)return sy;ok=1;var t=qa(),e=R8();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return sy=r,sy}var $8=M8();const lk=Qe($8);function r5(t,e,r){return e===!0?lk(t,r):Le(e)?lk(t,e):t}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var I8=["ref"];function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){Jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a5(n.key),n)}}function L8(t,e,r){return e&&uk(t.prototype,e),r&&uk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B8(t,e,r){return e=Ud(e),q8(t,n5()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function q8(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U8(t)}function U8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function F8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yx(t,e)}function Jf(t,e,r){return e=a5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a5(t){var e=z8(t,"string");return Rs(e)=="symbol"?e:e+""}function z8(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W8(t,e){if(t==null)return{};var r=H8(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V8(t){return t.value}function K8(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=W8(e,I8);return X.createElement(ew,r)}var dk=1,ks=(function(t){function e(){var r;D8(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=B8(this,e,[].concat(a)),Jf(r,"lastBoundingBox",{width:-1,height:-1}),r}return F8(e,t),L8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dk||Math.abs(a.height-this.lastBoundingBox.height)>dk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((f||0)-x.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();v={top:((p||0)-j.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return qn(qn({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,u=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,m=qn(qn({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},K8(i,qn(qn({},this.props),{},{payload:r5(p,f,V8)})))}}],[{key:"getWithHeight",value:function(n,a){var i=qn(qn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(C.PureComponent);Jf(ks,"displayName","Legend");Jf(ks,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var oy,fk;function G8(){if(fk)return oy;fk=1;var t=wc(),e=rw(),r=pr(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return oy=a,oy}var ly,hk;function i5(){if(hk)return ly;hk=1;var t=KP(),e=G8();function r(n,a,i,o,u){var d=-1,f=n.length;for(i||(i=e),u||(u=[]);++d<f;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,o,u):t(u,p):o||(u[u.length]=p)}return u}return ly=r,ly}var cy,pk;function Y8(){if(pk)return cy;pk=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),u=a(r),d=u.length;d--;){var f=u[e?d:++i];if(n(o[f],f,o)===!1)break}return r}}return cy=t,cy}var uy,mk;function X8(){if(mk)return uy;mk=1;var t=Y8(),e=t();return uy=e,uy}var dy,gk;function s5(){if(gk)return dy;gk=1;var t=X8(),e=Xf();function r(n,a){return n&&t(n,a,e)}return dy=r,dy}var fy,vk;function J8(){if(vk)return fy;vk=1;var t=_c();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,u=n?o:-1,d=Object(a);(n?u--:++u<o)&&i(d[u],u,d)!==!1;);return a}}return fy=e,fy}var hy,yk;function sw(){if(yk)return hy;yk=1;var t=s5(),e=J8(),r=e(t);return hy=r,hy}var py,xk;function o5(){if(xk)return py;xk=1;var t=sw(),e=_c();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++i]=a(u,d,f)}),o}return py=r,py}var my,bk;function Q8(){if(bk)return my;bk=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return my=t,my}var gy,wk;function Z8(){if(wk)return gy;wk=1;var t=ao();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,p=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||i&&d&&p||!a&&p||!o)return 1;if(!i&&!u&&!m&&r<n||m&&a&&o&&!i&&!u||f&&a&&o||!d&&o||!p)return-1}return 0}return gy=e,gy}var vy,jk;function eB(){if(jk)return vy;jk=1;var t=Z8();function e(r,n,a){for(var i=-1,o=r.criteria,u=n.criteria,d=o.length,f=a.length;++i<d;){var p=t(o[i],u[i]);if(p){if(i>=f)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return r.index-n.index}return vy=e,vy}var yy,_k;function tB(){if(_k)return yy;_k=1;var t=Vb(),e=Kb(),r=qa(),n=o5(),a=Q8(),i=YP(),o=eB(),u=oo(),d=pr();function f(p,m,v){m.length?m=t(m,function(w){return d(w)?function(y){return e(y,w.length===1?w[0]:w)}:w}):m=[u];var x=-1;m=t(m,i(r));var j=n(p,function(w,y,O){var k=t(m,function(S){return S(w)});return{criteria:k,index:++x,value:w}});return a(j,function(w,y){return o(w,y,v)})}return yy=f,yy}var xy,Sk;function rB(){if(Sk)return xy;Sk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return xy=t,xy}var by,Nk;function nB(){if(Nk)return by;Nk=1;var t=rB(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,u=-1,d=e(o.length-a,0),f=Array(d);++u<d;)f[u]=o[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=o[u];return p[a]=i(f),t(n,this,p)}}return by=r,by}var wy,kk;function aB(){if(kk)return wy;kk=1;function t(e){return function(){return e}}return wy=t,wy}var jy,Ok;function l5(){if(Ok)return jy;Ok=1;var t=Ei(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return jy=e,jy}var _y,Ek;function iB(){if(Ek)return _y;Ek=1;var t=aB(),e=l5(),r=oo(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return _y=n,_y}var Sy,Ak;function sB(){if(Ak)return Sy;Ak=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Sy=n,Sy}var Ny,Ck;function oB(){if(Ck)return Ny;Ck=1;var t=iB(),e=sB(),r=e(t);return Ny=r,Ny}var ky,Pk;function lB(){if(Pk)return ky;Pk=1;var t=oo(),e=nB(),r=oB();function n(a,i){return r(e(a,i,t),a+"")}return ky=n,ky}var Oy,Tk;function Qf(){if(Tk)return Oy;Tk=1;var t=zb(),e=_c(),r=nw(),n=Ba();function a(i,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],i):!1}return Oy=a,Oy}var Ey,Rk;function cB(){if(Rk)return Ey;Rk=1;var t=i5(),e=tB(),r=lB(),n=Qf(),a=r(function(i,o){if(i==null)return[];var u=o.length;return u>1&&n(i,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Ey=a,Ey}var uB=cB();const ow=Qe(uB);function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xx.apply(this,arguments)}function dB(t,e){return mB(t)||pB(t,e)||hB(t,e)||fB()}function fB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(t,e){if(t){if(typeof t=="string")return Mk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(t,e)}}function Mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function mB(t){if(Array.isArray(t))return t}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ay(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){gB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gB(t,e,r){return e=vB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=yB(t,"string");return Ll(e)=="symbol"?e:e+""}function yB(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xB(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var bB=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,x=e.wrapperClassName,j=e.labelClassName,w=e.label,y=e.labelFormatter,O=e.accessibilityLayer,k=O===void 0?!1:O,S=function(){if(p&&p.length){var F={padding:0,margin:0},L=(v?ow(p,v):p).map(function(G,q){if(G.type==="none")return null;var z=Ay({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),ee=G.formatter||m||xB,H=G.value,W=G.name,J=H,M=W;if(ee&&J!=null&&M!=null){var U=ee(H,W,G,q,p);if(Array.isArray(U)){var ne=dB(U,2);J=ne[0],M=ne[1]}else J=U}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:z},Mt(M)?X.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Mt(M)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},J),X.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},E=Ay({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Ay({margin:0},f),A=!qe(w),T=A?w:"",P=ze("recharts-default-tooltip",x),$=ze("recharts-tooltip-label",j);A&&y&&p!==void 0&&p!==null&&(T=y(w,p));var B=k?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",xx({className:P,style:E},B),X.createElement("p",{className:$,style:_},X.isValidElement(T)?T:"".concat(T)),S())};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Ku(t,e,r){return e=wB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wB(t){var e=jB(t,"string");return Bl(e)=="symbol"?e:e+""}function jB(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zo="recharts-tooltip-wrapper",_B={visibility:"hidden"};function SB(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ze(Zo,Ku(Ku(Ku(Ku({},"".concat(Zo,"-right"),pe(r)&&e&&pe(e.x)&&r>=e.x),"".concat(Zo,"-left"),pe(r)&&e&&pe(e.x)&&r<e.x),"".concat(Zo,"-bottom"),pe(n)&&e&&pe(e.y)&&n>=e.y),"".concat(Zo,"-top"),pe(n)&&e&&pe(e.y)&&n<e.y))}function Ik(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(i&&pe(i[n]))return i[n];var p=r[n]-u-a,m=r[n]+a;if(e[n])return o[n]?p:m;if(o[n]){var v=p,x=d[n];return v<x?Math.max(m,d[n]):Math.max(p,d[n])}var j=m+u,w=d[n]+f;return j>w?Math.max(p,d[n]):Math.max(m,d[n])}function NB(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function kB(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,m;return o.height>0&&o.width>0&&r?(p=Ik({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=Ik({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=NB({translateX:p,translateY:m,useTranslate3d:u})):f=_B,{cssProperties:f,cssClasses:SB({translateX:p,translateY:m,coordinate:r})}}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){wx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u5(n.key),n)}}function AB(t,e,r){return e&&EB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CB(t,e,r){return e=Fd(e),PB(t,c5()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function PB(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TB(t)}function TB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function RB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bx(t,e)}function wx(t,e,r){return e=u5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u5(t){var e=MB(t,"string");return Ms(e)=="symbol"?e:e+""}function MB(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bk=1,$B=(function(t){function e(){var r;OB(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CB(this,e,[].concat(a)),wx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wx(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return RB(e,t),AB(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Bk||Math.abs(n.height-this.state.lastBoundingBox.height)>Bk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,x=a.offset,j=a.position,w=a.reverseDirection,y=a.useTranslate3d,O=a.viewBox,k=a.wrapperStyle,S=kB({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:O}),E=S.cssClasses,_=S.cssProperties,A=Lk(Lk({transition:v&&i?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return X.createElement("div",{tabIndex:-1,className:E,style:A,ref:function(P){n.wrapperNode=P}},f)}}])})(C.PureComponent),IB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lo={isSsr:IB()};function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f5(n.key),n)}}function BB(t,e,r){return e&&LB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t,e,r){return e=zd(e),UB(t,d5()?Reflect.construct(e,r||[],zd(t).constructor):e.apply(t,r))}function UB(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FB(t)}function FB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(t)}function zB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jx(t,e)}function jx(t,e){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jx(t,e)}function lw(t,e,r){return e=f5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f5(t){var e=WB(t,"string");return $s(e)=="symbol"?e:e+""}function WB(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HB(t){return t.dataKey}function VB(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(bB,e)}var bn=(function(t){function e(){return DB(this,e),qB(this,e,arguments)}return zB(e,t),BB(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,m=a.filterNull,v=a.isAnimationActive,x=a.offset,j=a.payload,w=a.payloadUniqBy,y=a.position,O=a.reverseDirection,k=a.useTranslate3d,S=a.viewBox,E=a.wrapperStyle,_=j??[];m&&_.length&&(_=r5(j.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),w,HB));var A=_.length>0;return X.createElement($B,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:v,active:i,coordinate:p,hasPayload:A,offset:x,position:y,reverseDirection:O,useTranslate3d:k,viewBox:S,wrapperStyle:E},VB(f,Uk(Uk({},this.props),{},{payload:_})))}}])})(C.PureComponent);lw(bn,"displayName","Tooltip");lw(bn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cy,Fk;function KB(){if(Fk)return Cy;Fk=1;var t=Cn(),e=function(){return t.Date.now()};return Cy=e,Cy}var Py,zk;function GB(){if(zk)return Py;zk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Py=e,Py}var Ty,Wk;function YB(){if(Wk)return Ty;Wk=1;var t=GB(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Ty=r,Ty}var Ry,Hk;function h5(){if(Hk)return Ry;Hk=1;var t=YB(),e=Ba(),r=ao(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=i.test(f);return m||o.test(f)?u(f.slice(2),m?2:8):a.test(f)?n:+f}return Ry=d,Ry}var My,Vk;function XB(){if(Vk)return My;Vk=1;var t=Ba(),e=KB(),r=h5(),n="Expected a function",a=Math.max,i=Math.min;function o(u,d,f){var p,m,v,x,j,w,y=0,O=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(O=!!f.leading,k="maxWait"in f,v=k?a(r(f.maxWait)||0,d):v,S="trailing"in f?!!f.trailing:S);function E(L){var G=p,q=m;return p=m=void 0,y=L,x=u.apply(q,G),x}function _(L){return y=L,j=setTimeout(P,d),O?E(L):x}function A(L){var G=L-w,q=L-y,z=d-G;return k?i(z,v-q):z}function T(L){var G=L-w,q=L-y;return w===void 0||G>=d||G<0||k&&q>=v}function P(){var L=e();if(T(L))return $(L);j=setTimeout(P,A(L))}function $(L){return j=void 0,S&&p?E(L):(p=m=void 0,x)}function B(){j!==void 0&&clearTimeout(j),y=0,p=w=m=j=void 0}function I(){return j===void 0?x:$(e())}function F(){var L=e(),G=T(L);if(p=arguments,m=this,w=L,G){if(j===void 0)return _(w);if(k)return clearTimeout(j),j=setTimeout(P,d),E(w)}return j===void 0&&(j=setTimeout(P,d)),x}return F.cancel=B,F.flush=I,F}return My=o,My}var $y,Kk;function JB(){if(Kk)return $y;Kk=1;var t=XB(),e=Ba(),r="Expected a function";function n(a,i,o){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return $y=n,$y}var QB=JB();const p5=Qe(QB);function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){ZB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZB(t,e,r){return e=eq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eq(t){var e=tq(t,"string");return ql(e)=="symbol"?e:e+""}function tq(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rq(t,e){return sq(t)||iq(t,e)||aq(t,e)||nq()}function nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aq(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function sq(t){if(Array.isArray(t))return t}var oq=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,x=t.children,j=t.debounce,w=j===void 0?0:j,y=t.id,O=t.className,k=t.onResize,S=t.style,E=S===void 0?{}:S,_=C.useRef(null),A=C.useRef();A.current=k,C.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var T=C.useState({containerWidth:a.width,containerHeight:a.height}),P=rq(T,2),$=P[0],B=P[1],I=C.useCallback(function(L,G){B(function(q){var z=Math.round(L),ee=Math.round(G);return q.containerWidth===z&&q.containerHeight===ee?q:{containerWidth:z,containerHeight:ee}})},[]);C.useEffect(function(){var L=function(W){var J,M=W[0].contentRect,U=M.width,ne=M.height;I(U,ne),(J=A.current)===null||J===void 0||J.call(A,U,ne)};w>0&&(L=p5(L,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(L),q=_.current.getBoundingClientRect(),z=q.width,ee=q.height;return I(z,ee),G.observe(_.current),function(){G.disconnect()}},[I,w]);var F=C.useMemo(function(){var L=$.containerWidth,G=$.containerHeight;if(L<0||G<0)return null;bi(pi(o)||pi(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=pi(o)?L:o,z=pi(d)?G:d;r&&r>0&&(q?z=q/r:z&&(q=z*r),v&&z>v&&(z=v)),bi(q>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,z,o,d,p,m,r);var ee=!Array.isArray(x)&&Vn(x.type).endsWith("Chart");return X.Children.map(x,function(H){return X.isValidElement(H)?C.cloneElement(H,Gu({width:q,height:z},ee?{style:Gu({height:"100%",width:"100%",maxHeight:z,maxWidth:q},H.props.style)}:{})):H})},[r,x,d,v,m,p,$,o]);return X.createElement("div",{id:y?"".concat(y):void 0,className:ze("recharts-responsive-container",O),style:Gu(Gu({},E),{},{width:o,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:_},F)}),m5=function(e){return null};m5.displayName="Cell";function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){lq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lq(t,e,r){return e=cq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cq(t){var e=uq(t,"string");return Ul(e)=="symbol"?e:e+""}function uq(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ls={widthCache:{},cacheCount:0},dq=2e3,fq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jk="recharts_measurement_span";function hq(t){var e=_x({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lo.isSsr)return{width:0,height:0};var n=hq(r),a=JSON.stringify({text:e,copyStyle:n});if(ls.widthCache[a])return ls.widthCache[a];try{var i=document.getElementById(Jk);i||(i=document.createElement("span"),i.setAttribute("id",Jk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=_x(_x({},fq),n);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return ls.widthCache[a]=d,++ls.cacheCount>dq&&(ls.cacheCount=0,ls.widthCache={}),d}catch{return{width:0,height:0}}},pq=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Wd(t,e){return yq(t)||vq(t,e)||gq(t,e)||mq()}function mq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(t,e){if(t){if(typeof t=="string")return Qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(t,e)}}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function yq(t){if(Array.isArray(t))return t}function xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wq(n.key),n)}}function bq(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wq(t){var e=jq(t,"string");return Fl(e)=="symbol"?e:e+""}function jq(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_q=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nq=Object.keys(g5),xs="NaN";function kq(t,e){return t*g5[e]}var Yu=(function(){function t(e,r){xq(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_q.test(r)&&(this.num=NaN,this.unit=""),Nq.includes(r)&&(this.num=kq(e,r),this.unit="px")}return bq(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Sq.exec(r))!==null&&n!==void 0?n:[],i=Wd(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])})();function v5(t){if(t.includes(xs))return xs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=eO.exec(e))!==null&&r!==void 0?r:[],a=Wd(n,4),i=a[1],o=a[2],u=a[3],d=Yu.parse(i??""),f=Yu.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return xs;e=e.replace(eO,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=tO.exec(e))!==null&&m!==void 0?m:[],x=Wd(v,4),j=x[1],w=x[2],y=x[3],O=Yu.parse(j??""),k=Yu.parse(y??""),S=w==="+"?O.add(k):O.subtract(k);if(S.isNaN())return xs;e=e.replace(tO,S.toString())}return e}var rO=/\(([^()]*)\)/;function Oq(t){for(var e=t;e.includes("(");){var r=rO.exec(e),n=Wd(r,2),a=n[1];e=e.replace(rO,v5(a))}return e}function Eq(t){var e=t.replace(/\s+/g,"");return e=Oq(e),e=v5(e),e}function Aq(t){try{return Eq(t)}catch{return xs}}function Iy(t){var e=Aq(t.slice(5,-1));return e===xs?"":e}var Cq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pq=["dx","dy","angle","className","breakAll"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sx.apply(this,arguments)}function nO(t,e){if(t==null)return{};var r=Tq(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aO(t,e){return Iq(t)||$q(t,e)||Mq(t,e)||Rq()}function Rq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t,e){if(t){if(typeof t=="string")return iO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function Iq(t){if(Array.isArray(t))return t}var y5=/[ \f\n\r\t\v\u2028\u2029]+/,x5=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];qe(r)||(n?i=r.toString().split(""):i=r.toString().split(y5));var o=i.map(function(d){return{word:d,width:wl(d,a).width}}),u=n?0:wl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Dq=function(e,r,n,a,i){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=pe(o),m=u,v=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(z,ee){var H=ee.word,W=ee.width,J=z[z.length-1];if(J&&(a==null||i||J.width+W+n<Number(a)))J.words.push(H),J.width+=W+n;else{var M={words:[H],width:W};z.push(M)}return z},[])},x=v(r),j=function(q){return q.reduce(function(z,ee){return z.width>ee.width?z:ee})};if(!p)return x;for(var w="",y=function(q){var z=m.slice(0,q),ee=x5({breakAll:f,style:d,children:z+w}).wordsWithComputedWidth,H=v(ee),W=H.length>o||j(H).width>Number(a);return[W,H]},O=0,k=m.length-1,S=0,E;O<=k&&S<=m.length-1;){var _=Math.floor((O+k)/2),A=_-1,T=y(A),P=aO(T,2),$=P[0],B=P[1],I=y(_),F=aO(I,1),L=F[0];if(!$&&!L&&(O=_+1),$&&L&&(k=_-1),!$&&L){E=B;break}S++}return E||x},sO=function(e){var r=qe(e)?[]:e.toString().split(y5);return[{words:r}]},Lq=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!lo.isSsr){var d,f,p=x5({breakAll:o,children:a,style:i});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,f=v}else return sO(a);return Dq({breakAll:o,children:a,maxLines:u,style:i},d,f,r,n)}return sO(a)},oO="#808080",Hd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,x=v===void 0?"start":v,j=e.verticalAnchor,w=j===void 0?"end":j,y=e.fill,O=y===void 0?oO:y,k=nO(e,Cq),S=C.useMemo(function(){return Lq({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),E=k.dx,_=k.dy,A=k.angle,T=k.className,P=k.breakAll,$=nO(k,Pq);if(!Mt(n)||!Mt(i))return null;var B=n+(pe(E)?E:0),I=i+(pe(_)?_:0),F;switch(w){case"start":F=Iy("calc(".concat(f,")"));break;case"middle":F=Iy("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=Iy("calc(".concat(S.length-1," * -").concat(u,")"));break}var L=[];if(m){var G=S[0].width,q=k.width;L.push("scale(".concat((pe(q)?q/G:1)/G,")"))}return A&&L.push("rotate(".concat(A,", ").concat(B,", ").concat(I,")")),L.length&&($.transform=L.join(" ")),X.createElement("text",Sx({},Be($,!0),{x:B,y:I,className:ze("recharts-text",T),textAnchor:x,fill:O.includes("url")?oO:O}),S.map(function(z,ee){var H=z.words.join(P?"":" ");return X.createElement("tspan",{x:B,dy:ee===0?F:u,key:"".concat(H,"-").concat(ee)},H)}))};function $a(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cw(t){let e,r,n;t.length!==2?(e=$a,r=(u,d)=>$a(t(u),d),n=(u,d)=>t(u)-d):(e=t===$a||t===Bq?t:qq,r=t,n=t);function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function o(u,d,f=0,p=u.length){const m=a(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:o,right:i}}function qq(){return 0}function b5(t){return t===null?NaN:+t}function*Uq(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Fq=cw($a),Sc=Fq.right;cw(b5).center;class lO extends Map{constructor(e,r=Hq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(cO(this,e))}has(e){return super.has(cO(this,e))}set(e,r){return super.set(zq(this,e),r)}delete(e){return super.delete(Wq(this,e))}}function cO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Wq({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Hq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vq(t=$a){if(t===$a)return w5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function w5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Kq=Math.sqrt(50),Gq=Math.sqrt(10),Yq=Math.sqrt(2);function Vd(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Kq?10:i>=Gq?5:i>=Yq?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,a)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?Vd(t,e,r*2):[u,d,f]}function Nx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Vd(e,t,r):Vd(t,e,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(i-f)/-o;else for(let f=0;f<u;++f)d[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(a+f)/-o;else for(let f=0;f<u;++f)d[f]=(a+f)*o;return d}function kx(t,e,r){return e=+e,t=+t,r=+r,Vd(t,e,r)[2]}function Ox(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?kx(e,t,r):kx(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function uO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function j5(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?w5:Vq(a);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(e-f*m/d+v)),j=Math.min(n,Math.floor(e+(d-f)*m/d+v));j5(t,e,x,j,a)}const i=t[e];let o=r,u=n;for(el(t,r,e),a(t[n],i)>0&&el(t,r,n);o<u;){for(el(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[r],i)===0?el(t,r,u):(++u,el(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function el(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xq(t,e,r){if(t=Float64Array.from(Uq(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return dO(t);if(e>=1)return uO(t);var n,a=(n-1)*e,i=Math.floor(a),o=uO(j5(t,i).subarray(0,i+1)),u=dO(t.subarray(i+1));return o+(u-o)*(a-i)}}function Jq(t,e,r=b5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),u=+r(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function Qq(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function zr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ex=Symbol("implicit");function uw(){var t=new lO,e=[],r=[],n=Ex;function a(i){let o=t.get(i);if(o===void 0){if(n!==Ex)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new lO;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return uw(e,r).unknown(n)},zr.apply(a,arguments),a}function zl(){var t=uw().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var v=e().length,x=a<n,j=x?a:n,w=x?n:a;i=(w-j)/Math.max(1,v-d+f*2),u&&(i=Math.floor(i)),j+=(w-j-i*(v-d))*p,o=i*(1-d),u&&(j=Math.round(j),o=Math.round(o));var y=Qq(v).map(function(O){return j+i*O});return r(x?y.reverse():y)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return zl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(p)},zr.apply(m(),arguments)}function _5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _5(e())},t}function jl(){return _5(zl.apply(null,arguments).paddingInner(1))}function dw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function S5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Nc(){}var Wl=.7,Kd=1/Wl,Os="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zq=/^#([0-9a-f]{3,8})$/,eU=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),tU=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),rU=new RegExp(`^rgba\\(${Os},${Os},${Os},${Hl}\\)$`),nU=new RegExp(`^rgba\\(${kn},${kn},${kn},${Hl}\\)$`),aU=new RegExp(`^hsl\\(${Hl},${kn},${kn}\\)$`),iU=new RegExp(`^hsla\\(${Hl},${kn},${kn},${Hl}\\)$`),fO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dw(Nc,Vl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hO,formatHex:hO,formatHex8:sU,formatHsl:oU,formatRgb:pO,toString:pO});function hO(){return this.rgb().formatHex()}function sU(){return this.rgb().formatHex8()}function oU(){return N5(this).formatHsl()}function pO(){return this.rgb().formatRgb()}function Vl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Zq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?mO(e):r===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eU.exec(t))?new hr(e[1],e[2],e[3],1):(e=tU.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rU.exec(t))?Xu(e[1],e[2],e[3],e[4]):(e=nU.exec(t))?Xu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aU.exec(t))?yO(e[1],e[2]/100,e[3]/100,1):(e=iU.exec(t))?yO(e[1],e[2]/100,e[3]/100,e[4]):fO.hasOwnProperty(t)?mO(fO[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function mO(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function Xu(t,e,r,n){return n<=0&&(t=e=r=NaN),new hr(t,e,r,n)}function lU(t){return t instanceof Nc||(t=Vl(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function Ax(t,e,r,n){return arguments.length===1?lU(t):new hr(t,e,r,n??1)}function hr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}dw(hr,Ax,S5(Nc,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wl:Math.pow(Wl,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(wi(this.r),wi(this.g),wi(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gO,formatHex:gO,formatHex8:cU,formatRgb:vO,toString:vO}));function gO(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function cU(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function vO(){const t=Gd(this.opacity);return`${t===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${t===1?")":`, ${t})`}`}function Gd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mi(t){return t=wi(t),(t<16?"0":"")+t.toString(16)}function yO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nn(t,e,r,n)}function N5(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);if(t instanceof Nc||(t=Vl(t)),!t)return new nn;if(t instanceof nn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,u=i-a,d=(i+a)/2;return u?(e===i?o=(r-n)/u+(r<n)*6:r===i?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?i+a:2-i-a,o*=60):u=d>0&&d<1?0:o,new nn(o,u,d,t.opacity)}function uU(t,e,r,n){return arguments.length===1?N5(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}dw(nn,uU,S5(Nc,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wl:Math.pow(Wl,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new hr(Dy(t>=240?t-240:t+120,a,n),Dy(t,a,n),Dy(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new nn(xO(this.h),Ju(this.s),Ju(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gd(this.opacity);return`${t===1?"hsl(":"hsla("}${xO(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xO(t){return t=(t||0)%360,t<0?t+360:t}function Ju(t){return Math.max(0,Math.min(1,t||0))}function Dy(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const fw=t=>()=>t;function dU(t,e){return function(r){return t+r*e}}function fU(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hU(t){return(t=+t)==1?k5:function(e,r){return r-e?fU(e,r,t):fw(isNaN(e)?r:e)}}function k5(t,e){var r=e-t;return r?dU(t,r):fw(isNaN(t)?e:t)}const bO=(function t(e){var r=hU(e);function n(a,i){var o=r((a=Ax(a)).r,(i=Ax(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),f=k5(a.opacity,i.opacity);return function(p){return a.r=o(p),a.g=u(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=t,n})(1);function pU(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function mU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gU(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=co(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(u){for(o=0;o<n;++o)i[o]=a[o](u);return i}}function vU(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yU(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=co(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Cx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ly=new RegExp(Cx.source,"g");function xU(t){return function(){return t}}function bU(t){return function(e){return t(e)+""}}function wU(t,e){var r=Cx.lastIndex=Ly.lastIndex=0,n,a,i,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=Cx.exec(t))&&(a=Ly.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,d.push({i:o,x:Yd(n,a)})),r=Ly.lastIndex;return r<e.length&&(i=e.slice(r),u[o]?u[o]+=i:u[++o]=i),u.length<2?d[0]?bU(d[0].x):xU(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function co(t,e){var r=typeof e,n;return e==null||r==="boolean"?fw(e):(r==="number"?Yd:r==="string"?(n=Vl(e))?(e=n,bO):wU:e instanceof Vl?bO:e instanceof Date?vU:mU(e)?pU:Array.isArray(e)?gU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yU:Yd)(t,e)}function hw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function jU(t,e){e===void 0&&(e=t,t=co);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[u](o-u)}}function _U(t){return function(){return t}}function Xd(t){return+t}var wO=[0,1];function ir(t){return t}function Px(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_U(isNaN(e)?NaN:.5)}function SU(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NU(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=Px(a,n),i=r(o,i)):(n=Px(n,a),i=r(i,o)),function(u){return i(n(u))}}function kU(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=Px(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(u){var d=Sc(t,u,1,n)-1;return i[d](a[d](u))}}function kc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zf(){var t=wO,e=wO,r=co,n,a,i,o=ir,u,d,f;function p(){var v=Math.min(t.length,e.length);return o!==ir&&(o=SU(t[0],t[v-1])),u=v>2?kU:NU,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?i:(d||(d=u(t.map(n),e,r)))(n(o(v)))}return m.invert=function(v){return o(a((f||(f=u(e,t.map(n),Yd)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Xd),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=hw,p()},m.clamp=function(v){return arguments.length?(o=v?!0:ir,p()):o!==ir},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,x){return n=v,a=x,p()}}function pw(){return Zf()(ir,ir)}function OU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Is(t){return t=Jd(Math.abs(t)),t?t[1]:NaN}function EU(t,e){return function(r,n){for(var a=r.length,i=[],o=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function AU(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var CU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kl(t){if(!(e=CU.exec(t)))throw new Error("invalid format: "+t);var e;return new mw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kl.prototype=mw.prototype;function mw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PU(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var O5;function TU(t,e){var r=Jd(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(O5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jd(t,Math.max(0,e+i-1))[0]}function jO(t,e){var r=Jd(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _O={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OU,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jO(t*100,e),r:jO,s:TU,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SO(t){return t}var NO=Array.prototype.map,kO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RU(t){var e=t.grouping===void 0||t.thousands===void 0?SO:EU(NO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?SO:AU(NO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Kl(m);var v=m.fill,x=m.align,j=m.sign,w=m.symbol,y=m.zero,O=m.width,k=m.comma,S=m.precision,E=m.trim,_=m.type;_==="n"?(k=!0,_="g"):_O[_]||(S===void 0&&(S=12),E=!0,_="g"),(y||v==="0"&&x==="=")&&(y=!0,v="0",x="=");var A=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=w==="$"?n:/[%p]/.test(_)?o:"",P=_O[_],$=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(I){var F=A,L=T,G,q,z;if(_==="c")L=P(I)+L,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?d:P(Math.abs(I),S),E&&(I=PU(I)),ee&&+I==0&&j!=="+"&&(ee=!1),F=(ee?j==="("?j:u:j==="-"||j==="("?"":j)+F,L=(_==="s"?kO[8+O5/3]:"")+L+(ee&&j==="("?")":""),$){for(G=-1,q=I.length;++G<q;)if(z=I.charCodeAt(G),48>z||z>57){L=(z===46?a+I.slice(G+1):I.slice(G))+L,I=I.slice(0,G);break}}}k&&!y&&(I=e(I,1/0));var H=F.length+I.length+L.length,W=H<O?new Array(O-H+1).join(v):"";switch(k&&y&&(I=e(W+I,W.length?O-L.length:1/0),W=""),x){case"<":I=F+I+L+W;break;case"=":I=F+W+I+L;break;case"^":I=W.slice(0,H=W.length>>1)+F+I+L+W.slice(H);break;default:I=W+F+I+L;break}return i(I)}return B.toString=function(){return m+""},B}function p(m,v){var x=f((m=Kl(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(Is(v)/3)))*3,w=Math.pow(10,-j),y=kO[8+j/3];return function(O){return x(w*O)+y}}return{format:f,formatPrefix:p}}var Qu,gw,E5;MU({thousands:",",grouping:[3],currency:["$",""]});function MU(t){return Qu=RU(t),gw=Qu.format,E5=Qu.formatPrefix,Qu}function $U(t){return Math.max(0,-Is(Math.abs(t)))}function IU(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Is(e)/3)))*3-Is(Math.abs(t)))}function DU(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Is(e)-Is(t))+1}function A5(t,e,r,n){var a=Ox(t,e,r),i;switch(n=Kl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=IU(a,o))&&(n.precision=i),E5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=DU(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$U(a))&&(n.precision=i-(n.type==="%")*2);break}}return gw(n)}function Ua(t){var e=t.domain;return t.ticks=function(r){var n=e();return Nx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return A5(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],u=n[i],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=a,a=i,i=f);p-- >0;){if(f=kx(o,u,r),f===d)return n[a]=o,n[i]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function Qd(){var t=pw();return t.copy=function(){return kc(t,Qd())},zr.apply(t,arguments),Ua(t)}function C5(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return C5(t).unknown(e)},t=arguments.length?Array.from(t,Xd):[0,1],Ua(r)}function P5(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function OO(t){return Math.log(t)}function EO(t){return Math.exp(t)}function LU(t){return-Math.log(-t)}function BU(t){return-Math.exp(-t)}function qU(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UU(t){return t===10?qU:t===Math.E?Math.exp:e=>Math.pow(t,e)}function FU(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AO(t){return(e,r)=>-t(-e,r)}function vw(t){const e=t(OO,EO),r=e.domain;let n=10,a,i;function o(){return a=FU(n),i=UU(n),r()[0]<0?(a=AO(a),i=AO(i),t(LU,BU)):t(OO,EO),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=a(f),x=a(p),j,w;const y=u==null?10:+u;let O=[];if(!(n%1)&&x-v<y){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(j=1;j<n;++j)if(w=v<0?j/i(-v):j*i(v),!(w<f)){if(w>p)break;O.push(w)}}else for(;v<=x;++v)for(j=n-1;j>=1;--j)if(w=v>0?j/i(-v):j*i(v),!(w<f)){if(w>p)break;O.push(w)}O.length*2<y&&(O=Nx(f,p,y))}else O=Nx(v,x,Math.min(x-v,y)).map(i);return m?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Kl(d)).precision==null&&(d.trim=!0),d=gw(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},e.nice=()=>r(P5(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function T5(){const t=vw(Zf()).domain([1,10]);return t.copy=()=>kc(t,T5()).base(t.base()),zr.apply(t,arguments),t}function CO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yw(t){var e=1,r=t(CO(e),PO(e));return r.constant=function(n){return arguments.length?t(CO(e=+n),PO(e)):e},Ua(r)}function R5(){var t=yw(Zf());return t.copy=function(){return kc(t,R5()).constant(t.constant())},zr.apply(t,arguments)}function TO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zU(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WU(t){return t<0?-t*t:t*t}function xw(t){var e=t(ir,ir),r=1;function n(){return r===1?t(ir,ir):r===.5?t(zU,WU):t(TO(r),TO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ua(e)}function bw(){var t=xw(Zf());return t.copy=function(){return kc(t,bw()).exponent(t.exponent())},zr.apply(t,arguments),t}function HU(){return bw.apply(null,arguments).exponent(.5)}function RO(t){return Math.sign(t)*t*t}function VU(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M5(){var t=pw(),e=[0,1],r=!1,n;function a(i){var o=VU(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(RO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Xd)).map(RO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return M5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zr.apply(a,arguments),Ua(a)}function $5(){var t=[],e=[],r=[],n;function a(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=Jq(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Sc(r,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort($a),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $5().domain(t).range(e).unknown(n)},zr.apply(i,arguments)}function I5(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Sc(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},o.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return I5().domain([t,e]).range(a).unknown(i)},zr.apply(Ua(o),arguments)}function D5(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Sc(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return D5().domain(t).range(e).unknown(r)},zr.apply(a,arguments)}const By=new Date,qy=new Date;function $t(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return d;let f;do d.push(f=new Date(+i)),e(i,u),t(i);while(f<i&&i<o);return d},a.filter=i=>$t(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(By.setTime(+i),qy.setTime(+o),t(By),t(qy),Math.floor(r(By,qy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zd=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zd);Zd.range;const zn=1e3,Br=zn*60,Wn=Br*60,Jn=Wn*24,ww=Jn*7,MO=Jn*30,Uy=Jn*365,gi=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCSeconds());gi.range;const jw=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getMinutes());jw.range;const _w=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getUTCMinutes());_w.range;const Sw=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn-t.getMinutes()*Br)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getHours());Sw.range;const Nw=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCHours());Nw.range;const Oc=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Br)/Jn,t=>t.getDate()-1);Oc.range;const eh=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jn,t=>t.getUTCDate()-1);eh.range;const L5=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jn,t=>Math.floor(t/Jn));L5.range;function Ai(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Br)/ww)}const th=Ai(0),ef=Ai(1),KU=Ai(2),GU=Ai(3),Ds=Ai(4),YU=Ai(5),XU=Ai(6);th.range;ef.range;KU.range;GU.range;Ds.range;YU.range;XU.range;function Ci(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ww)}const rh=Ci(0),tf=Ci(1),JU=Ci(2),QU=Ci(3),Ls=Ci(4),ZU=Ci(5),eF=Ci(6);rh.range;tf.range;JU.range;QU.range;Ls.range;ZU.range;eF.range;const kw=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kw.range;const Ow=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ow.range;const Qn=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qn.range;const Zn=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Zn.range;function B5(t,e,r,n,a,i){const o=[[gi,1,zn],[gi,5,5*zn],[gi,15,15*zn],[gi,30,30*zn],[i,1,Br],[i,5,5*Br],[i,15,15*Br],[i,30,30*Br],[a,1,Wn],[a,3,3*Wn],[a,6,6*Wn],[a,12,12*Wn],[n,1,Jn],[n,2,2*Jn],[r,1,ww],[e,1,MO],[e,3,3*MO],[t,1,Uy]];function u(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const x=m&&typeof m.range=="function"?m:d(f,p,m),j=x?x.range(f,+p+1):[];return v?j.reverse():j}function d(f,p,m){const v=Math.abs(p-f)/m,x=cw(([,,y])=>y).right(o,v);if(x===o.length)return t.every(Ox(f/Uy,p/Uy,m));if(x===0)return Zd.every(Math.max(Ox(f,p,m),1));const[j,w]=o[v/o[x-1][2]<o[x][2]/v?x-1:x];return j.every(w)}return[u,d]}const[tF,rF]=B5(Zn,Ow,rh,L5,Nw,_w),[nF,aF]=B5(Qn,kw,th,Oc,Sw,jw);function Fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iF(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=rl(a),p=nl(a),m=rl(i),v=nl(i),x=rl(o),j=nl(o),w=rl(u),y=nl(u),O=rl(d),k=nl(d),S={a:ee,A:H,b:W,B:J,c:null,d:qO,e:qO,f:EF,g:LF,G:qF,H:NF,I:kF,j:OF,L:q5,m:AF,M:CF,p:M,q:U,Q:zO,s:WO,S:PF,u:TF,U:RF,V:MF,w:$F,W:IF,x:null,X:null,y:DF,Y:BF,Z:UF,"%":FO},E={a:ne,A:se,b:ie,B:me,c:null,d:UO,e:UO,f:HF,g:tz,G:nz,H:FF,I:zF,j:WF,L:F5,m:VF,M:KF,p:Re,q:ge,Q:zO,s:WO,S:GF,u:YF,U:XF,V:JF,w:QF,W:ZF,x:null,X:null,y:ez,Y:rz,Z:az,"%":FO},_={a:B,A:I,b:F,B:L,c:G,d:LO,e:LO,f:wF,g:DO,G:IO,H:BO,I:BO,j:vF,L:bF,m:gF,M:yF,p:$,q:mF,Q:_F,s:SF,S:xF,u:uF,U:dF,V:fF,w:cF,W:hF,x:q,X:z,y:DO,Y:IO,Z:pF,"%":jF};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),E.x=A(r,E),E.X=A(n,E),E.c=A(e,E);function A(oe,be){return function(ke){var Z=[],Se=-1,Ie=0,Ve=oe.length,et,vt,he;for(ke instanceof Date||(ke=new Date(+ke));++Se<Ve;)oe.charCodeAt(Se)===37&&(Z.push(oe.slice(Ie,Se)),(vt=$O[et=oe.charAt(++Se)])!=null?et=oe.charAt(++Se):vt=et==="e"?" ":"0",(he=be[et])&&(et=he(ke,vt)),Z.push(et),Ie=Se+1);return Z.push(oe.slice(Ie,Se)),Z.join("")}}function T(oe,be){return function(ke){var Z=tl(1900,void 0,1),Se=P(Z,oe,ke+="",0),Ie,Ve;if(Se!=ke.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(be&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ie=zy(tl(Z.y,0,1)),Ve=Ie.getUTCDay(),Ie=Ve>4||Ve===0?tf.ceil(Ie):tf(Ie),Ie=eh.offset(Ie,(Z.V-1)*7),Z.y=Ie.getUTCFullYear(),Z.m=Ie.getUTCMonth(),Z.d=Ie.getUTCDate()+(Z.w+6)%7):(Ie=Fy(tl(Z.y,0,1)),Ve=Ie.getDay(),Ie=Ve>4||Ve===0?ef.ceil(Ie):ef(Ie),Ie=Oc.offset(Ie,(Z.V-1)*7),Z.y=Ie.getFullYear(),Z.m=Ie.getMonth(),Z.d=Ie.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ve="Z"in Z?zy(tl(Z.y,0,1)).getUTCDay():Fy(tl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ve+5)%7:Z.w+Z.U*7-(Ve+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,zy(Z)):Fy(Z)}}function P(oe,be,ke,Z){for(var Se=0,Ie=be.length,Ve=ke.length,et,vt;Se<Ie;){if(Z>=Ve)return-1;if(et=be.charCodeAt(Se++),et===37){if(et=be.charAt(Se++),vt=_[et in $O?be.charAt(Se++):et],!vt||(Z=vt(oe,ke,Z))<0)return-1}else if(et!=ke.charCodeAt(Z++))return-1}return Z}function $(oe,be,ke){var Z=f.exec(be.slice(ke));return Z?(oe.p=p.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function B(oe,be,ke){var Z=x.exec(be.slice(ke));return Z?(oe.w=j.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function I(oe,be,ke){var Z=m.exec(be.slice(ke));return Z?(oe.w=v.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function F(oe,be,ke){var Z=O.exec(be.slice(ke));return Z?(oe.m=k.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function L(oe,be,ke){var Z=w.exec(be.slice(ke));return Z?(oe.m=y.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function G(oe,be,ke){return P(oe,e,be,ke)}function q(oe,be,ke){return P(oe,r,be,ke)}function z(oe,be,ke){return P(oe,n,be,ke)}function ee(oe){return o[oe.getDay()]}function H(oe){return i[oe.getDay()]}function W(oe){return d[oe.getMonth()]}function J(oe){return u[oe.getMonth()]}function M(oe){return a[+(oe.getHours()>=12)]}function U(oe){return 1+~~(oe.getMonth()/3)}function ne(oe){return o[oe.getUTCDay()]}function se(oe){return i[oe.getUTCDay()]}function ie(oe){return d[oe.getUTCMonth()]}function me(oe){return u[oe.getUTCMonth()]}function Re(oe){return a[+(oe.getUTCHours()>=12)]}function ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var be=A(oe+="",S);return be.toString=function(){return oe},be},parse:function(oe){var be=T(oe+="",!1);return be.toString=function(){return oe},be},utcFormat:function(oe){var be=A(oe+="",E);return be.toString=function(){return oe},be},utcParse:function(oe){var be=T(oe+="",!0);return be.toString=function(){return oe},be}}}var $O={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,sF=/^%/,oF=/[\\^$*+?|[\]().{}]/g;function He(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function lF(t){return t.replace(oF,"\\$&")}function rl(t){return new RegExp("^(?:"+t.map(lF).join("|")+")","i")}function nl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cF(t,e,r){var n=qt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function uF(t,e,r){var n=qt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function IO(t,e,r){var n=qt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function DO(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pF(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mF(t,e,r){var n=qt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function gF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function LO(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function vF(t,e,r){var n=qt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function BO(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xF(t,e,r){var n=qt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bF(t,e,r){var n=qt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wF(t,e,r){var n=qt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jF(t,e,r){var n=sF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _F(t,e,r){var n=qt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SF(t,e,r){var n=qt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function qO(t,e){return He(t.getDate(),e,2)}function NF(t,e){return He(t.getHours(),e,2)}function kF(t,e){return He(t.getHours()%12||12,e,2)}function OF(t,e){return He(1+Oc.count(Qn(t),t),e,3)}function q5(t,e){return He(t.getMilliseconds(),e,3)}function EF(t,e){return q5(t,e)+"000"}function AF(t,e){return He(t.getMonth()+1,e,2)}function CF(t,e){return He(t.getMinutes(),e,2)}function PF(t,e){return He(t.getSeconds(),e,2)}function TF(t){var e=t.getDay();return e===0?7:e}function RF(t,e){return He(th.count(Qn(t)-1,t),e,2)}function U5(t){var e=t.getDay();return e>=4||e===0?Ds(t):Ds.ceil(t)}function MF(t,e){return t=U5(t),He(Ds.count(Qn(t),t)+(Qn(t).getDay()===4),e,2)}function $F(t){return t.getDay()}function IF(t,e){return He(ef.count(Qn(t)-1,t),e,2)}function DF(t,e){return He(t.getFullYear()%100,e,2)}function LF(t,e){return t=U5(t),He(t.getFullYear()%100,e,2)}function BF(t,e){return He(t.getFullYear()%1e4,e,4)}function qF(t,e){var r=t.getDay();return t=r>=4||r===0?Ds(t):Ds.ceil(t),He(t.getFullYear()%1e4,e,4)}function UF(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function UO(t,e){return He(t.getUTCDate(),e,2)}function FF(t,e){return He(t.getUTCHours(),e,2)}function zF(t,e){return He(t.getUTCHours()%12||12,e,2)}function WF(t,e){return He(1+eh.count(Zn(t),t),e,3)}function F5(t,e){return He(t.getUTCMilliseconds(),e,3)}function HF(t,e){return F5(t,e)+"000"}function VF(t,e){return He(t.getUTCMonth()+1,e,2)}function KF(t,e){return He(t.getUTCMinutes(),e,2)}function GF(t,e){return He(t.getUTCSeconds(),e,2)}function YF(t){var e=t.getUTCDay();return e===0?7:e}function XF(t,e){return He(rh.count(Zn(t)-1,t),e,2)}function z5(t){var e=t.getUTCDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function JF(t,e){return t=z5(t),He(Ls.count(Zn(t),t)+(Zn(t).getUTCDay()===4),e,2)}function QF(t){return t.getUTCDay()}function ZF(t,e){return He(tf.count(Zn(t)-1,t),e,2)}function ez(t,e){return He(t.getUTCFullYear()%100,e,2)}function tz(t,e){return t=z5(t),He(t.getUTCFullYear()%100,e,2)}function rz(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function nz(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ls(t):Ls.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function az(){return"+0000"}function FO(){return"%"}function zO(t){return+t}function WO(t){return Math.floor(+t/1e3)}var cs,W5,H5;iz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iz(t){return cs=iF(t),W5=cs.format,cs.parse,H5=cs.utcFormat,cs.utcParse,cs}function sz(t){return new Date(t)}function oz(t){return t instanceof Date?+t:+new Date(+t)}function Ew(t,e,r,n,a,i,o,u,d,f){var p=pw(),m=p.invert,v=p.domain,x=f(".%L"),j=f(":%S"),w=f("%I:%M"),y=f("%I %p"),O=f("%a %d"),k=f("%b %d"),S=f("%B"),E=f("%Y");function _(A){return(d(A)<A?x:u(A)<A?j:o(A)<A?w:i(A)<A?y:n(A)<A?a(A)<A?O:k:r(A)<A?S:E)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?v(Array.from(A,oz)):v().map(sz)},p.ticks=function(A){var T=v();return t(T[0],T[T.length-1],A??10)},p.tickFormat=function(A,T){return T==null?_:f(T)},p.nice=function(A){var T=v();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?v(P5(T,A)):p},p.copy=function(){return kc(p,Ew(t,e,r,n,a,i,o,u,d,f))},p}function lz(){return zr.apply(Ew(nF,aF,Qn,kw,th,Oc,Sw,jw,gi,W5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cz(){return zr.apply(Ew(tF,rF,Zn,Ow,rh,eh,Nw,_w,gi,H5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nh(){var t=0,e=1,r,n,a,i,o=ir,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:o(a===0?.5:(m=(i(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(o=m,f):o};function p(m){return function(v){var x,j;return arguments.length?([x,j]=v,o=m(x,j),f):[o(0),o(1)]}}return f.range=p(co),f.rangeRound=p(hw),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),f}}function Fa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V5(){var t=Ua(nh()(ir));return t.copy=function(){return Fa(t,V5())},sa.apply(t,arguments)}function K5(){var t=vw(nh()).domain([1,10]);return t.copy=function(){return Fa(t,K5()).base(t.base())},sa.apply(t,arguments)}function G5(){var t=yw(nh());return t.copy=function(){return Fa(t,G5()).constant(t.constant())},sa.apply(t,arguments)}function Aw(){var t=xw(nh());return t.copy=function(){return Fa(t,Aw()).exponent(t.exponent())},sa.apply(t,arguments)}function uz(){return Aw.apply(null,arguments).exponent(.5)}function Y5(){var t=[],e=ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort($a),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Xq(t,i/n))},r.copy=function(){return Y5(e).domain(t)},sa.apply(r,arguments)}function ah(){var t=0,e=.5,r=1,n=1,a,i,o,u,d,f=ir,p,m=!1,v;function x(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-i)*(n*w<n*i?u:d),f(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),i=p(e=+e),o=p(r=+r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(f=w,x):f};function j(w){return function(y){var O,k,S;return arguments.length?([O,k,S]=y,f=jU(w,[O,k,S]),x):[f(0),f(.5),f(1)]}}return x.range=j(co),x.rangeRound=j(hw),x.unknown=function(w){return arguments.length?(v=w,x):v},function(w){return p=w,a=w(t),i=w(e),o=w(r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,x}}function X5(){var t=Ua(ah()(ir));return t.copy=function(){return Fa(t,X5())},sa.apply(t,arguments)}function J5(){var t=vw(ah()).domain([.1,1,10]);return t.copy=function(){return Fa(t,J5()).base(t.base())},sa.apply(t,arguments)}function Q5(){var t=yw(ah());return t.copy=function(){return Fa(t,Q5()).constant(t.constant())},sa.apply(t,arguments)}function Cw(){var t=xw(ah());return t.copy=function(){return Fa(t,Cw()).exponent(t.exponent())},sa.apply(t,arguments)}function dz(){return Cw.apply(null,arguments).exponent(.5)}const HO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zl,scaleDiverging:X5,scaleDivergingLog:J5,scaleDivergingPow:Cw,scaleDivergingSqrt:dz,scaleDivergingSymlog:Q5,scaleIdentity:C5,scaleImplicit:Ex,scaleLinear:Qd,scaleLog:T5,scaleOrdinal:uw,scalePoint:jl,scalePow:bw,scaleQuantile:$5,scaleQuantize:I5,scaleRadial:M5,scaleSequential:V5,scaleSequentialLog:K5,scaleSequentialPow:Aw,scaleSequentialQuantile:Y5,scaleSequentialSqrt:uz,scaleSequentialSymlog:G5,scaleSqrt:HU,scaleSymlog:R5,scaleThreshold:D5,scaleTime:lz,scaleUtc:cz,tickFormat:A5},Symbol.toStringTag,{value:"Module"}));var Wy,VO;function Z5(){if(VO)return Wy;VO=1;var t=ao();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var u=r[i],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):a(d,f)))var f=d,p=u}return p}return Wy=e,Wy}var Hy,KO;function fz(){if(KO)return Hy;KO=1;function t(e,r){return e>r}return Hy=t,Hy}var Vy,GO;function hz(){if(GO)return Vy;GO=1;var t=Z5(),e=fz(),r=oo();function n(a){return a&&a.length?t(a,r,e):void 0}return Vy=n,Vy}var pz=hz();const Pa=Qe(pz);var Ky,YO;function mz(){if(YO)return Ky;YO=1;function t(e,r){return e<r}return Ky=t,Ky}var Gy,XO;function gz(){if(XO)return Gy;XO=1;var t=Z5(),e=mz(),r=oo();function n(a){return a&&a.length?t(a,r,e):void 0}return Gy=n,Gy}var vz=gz();const ih=Qe(vz);var Yy,JO;function yz(){if(JO)return Yy;JO=1;var t=Vb(),e=qa(),r=o5(),n=pr();function a(i,o){var u=n(i)?t:r;return u(i,e(o,3))}return Yy=a,Yy}var Xy,QO;function xz(){if(QO)return Xy;QO=1;var t=i5(),e=yz();function r(n,a){return t(e(n,a),1)}return Xy=r,Xy}var bz=xz();const wz=Qe(bz);var Jy,ZO;function jz(){if(ZO)return Jy;ZO=1;var t=iw();function e(r,n){return t(r,n)}return Jy=e,Jy}var _z=jz();const Gl=Qe(_z);var uo=1e9,Sz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tw,dt=!0,Fr="[DecimalError] ",ji=Fr+"Invalid argument: ",Pw=Fr+"Exponent out of range: ",fo=Math.floor,ui=Math.pow,Nz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Bt=1e7,ot=7,eT=9007199254740991,rf=fo(eT/ot),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return Kn(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return Ze(Kn(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Ot(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kr))throw Error(Fr+"NaN");if(r.s<1)throw Error(Fr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(dt=!1,e=Kn(Yl(r,i),Yl(t,i),i),dt=!0,Ze(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nT(e,t):tT(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Fr+"NaN");return r.s?(dt=!1,e=Kn(r,t,0,1).times(t),dt=!0,r.minus(e)):Ze(new n(r),a)};xe.naturalExponential=xe.exp=function(){return rT(this)};xe.naturalLogarithm=xe.ln=function(){return Yl(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tT(e,t):nT(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ji+t);if(e=Ot(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,a,i,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fr+"NaN")}for(t=Ot(u),dt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=wn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=fo((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(Kn(u,i,o+2)).times(.5),wn(i.d).slice(0,o)===(e=wn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ze(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(e!="9999")break;o+=4}return dt=!0,Ze(n,r)};xe.times=xe.mul=function(t){var e,r,n,a,i,o,u,d,f,p=this,m=p.constructor,v=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=v.length,f=x.length,d<f&&(i=v,v=x,x=i,o=d,d=f,f=o),i=[],o=d+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(e=0,a=d+n;a>n;)u=i[a]+x[n]*v[a-n-1]+e,i[a--]=u%Bt|0,e=u/Bt|0;i[a]=(i[a]+e)%Bt|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,dt?Ze(t,m.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(En(t,0,uo),e===void 0?e=n.rounding:En(e,0,8),Ze(r,t+Ot(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ki(n,!0):(En(t,0,uo),e===void 0?e=a.rounding:En(e,0,8),n=Ze(new a(n),t+1,e),r=ki(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ki(a):(En(t,0,uo),e===void 0?e=i.rounding:En(e,0,8),n=Ze(new i(a),t+Ot(a)+1,e),r=ki(n.abs(),!1,t+Ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),Ot(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,a,i,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(kr);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fr+"Infinity");return u}if(u.eq(kr))return u;if(n=d.precision,t.eq(kr))return Ze(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=u.s,o){if((r=p<0?-p:p)<=eT){for(a=new d(kr),e=Math.ceil(n/ot+4),dt=!1;r%2&&(a=a.times(u),tE(a.d,e)),r=fo(r/2),r!==0;)u=u.times(u),tE(u.d,e);return dt=!0,t.s<0?new d(kr).div(a):Ze(a,n)}}else if(i<0)throw Error(Fr+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,dt=!1,a=t.times(Yl(u,n+f)),dt=!0,a=rT(a),a.s=i,a};xe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Ot(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(En(t,1,uo),e===void 0?e=i.rounding:En(e,0,8),a=Ze(new i(a),t,e),r=Ot(a),n=ki(a,t<=r||r<=i.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(En(t,1,uo),e===void 0?e=n.rounding:En(e,0,8)),Ze(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),r=t.constructor;return ki(t,e<=r.toExpNeg||e>=r.toExpPos)};function tT(t,e){var r,n,a,i,o,u,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),dt?Ze(e,m):e;if(d=t.d,f=e.d,o=t.e,a=e.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,a=o,u=d.length),o=Math.ceil(m/ot),u=o>u?o+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Bt|0,d[i]%=Bt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,dt?Ze(e,m):e}function En(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ji+t)}function wn(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=ot-n.length,r&&(i+=Aa(r)),i+=n;o=t[e],n=o+"",r=ot-n.length,r&&(i+=Aa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Kn=(function(){function t(n,a){var i,o=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+o,n[u]=i%Bt|0,o=i/Bt|0;return o&&n.unshift(o),n}function e(n,a,i,o){var u,d;if(i!=o)d=i>o?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Bt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var u,d,f,p,m,v,x,j,w,y,O,k,S,E,_,A,T,P,$=n.constructor,B=n.s==a.s?1:-1,I=n.d,F=a.d;if(!n.s)return new $(n);if(!a.s)throw Error(Fr+"Division by zero");for(d=n.e-a.e,T=F.length,_=I.length,x=new $(B),j=x.d=[],f=0;F[f]==(I[f]||0);)++f;if(F[f]>(I[f]||0)&&--d,i==null?k=i=$.precision:o?k=i+(Ot(n)-Ot(a))+1:k=i,k<0)return new $(0);if(k=k/ot+2|0,f=0,T==1)for(p=0,F=F[0],k++;(f<_||p)&&k--;f++)S=p*Bt+(I[f]||0),j[f]=S/F|0,p=S%F|0;else{for(p=Bt/(F[0]+1)|0,p>1&&(F=t(F,p),I=t(I,p),T=F.length,_=I.length),E=T,w=I.slice(0,T),y=w.length;y<T;)w[y++]=0;P=F.slice(),P.unshift(0),A=F[0],F[1]>=Bt/2&&++A;do p=0,u=e(F,w,T,y),u<0?(O=w[0],T!=y&&(O=O*Bt+(w[1]||0)),p=O/A|0,p>1?(p>=Bt&&(p=Bt-1),m=t(F,p),v=m.length,y=w.length,u=e(m,w,v,y),u==1&&(p--,r(m,T<v?P:F,v))):(p==0&&(u=p=1),m=F.slice()),v=m.length,v<y&&m.unshift(0),r(w,m,y),u==-1&&(y=w.length,u=e(F,w,T,y),u<1&&(p++,r(w,T<y?P:F,y))),y=w.length):u===0&&(p++,w=[0]),j[f++]=p,u&&w[0]?w[y++]=I[E]||0:(w=[I[E]],y=1);while((E++<_||w[0]!==void 0)&&k--)}return j[0]||j.shift(),x.e=d,Ze(x,o?i+Ot(x)+1:i)}})();function rT(t,e){var r,n,a,i,o,u,d=0,f=0,p=t.constructor,m=p.precision;if(Ot(t)>16)throw Error(Pw+Ot(t));if(!t.s)return new p(kr);for(dt=!1,u=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(ui(2,f))/Math.LN10*2+5|0,u+=n,r=a=i=new p(kr),p.precision=u;;){if(a=Ze(a.times(t),u),r=r.times(++d),o=i.plus(Kn(a,r,u)),wn(o.d).slice(0,u)===wn(i.d).slice(0,u)){for(;f--;)i=Ze(i.times(i),u);return p.precision=m,e==null?(dt=!0,Ze(i,m)):i}i=o}}function Ot(t){for(var e=t.e*ot,r=t.d[0];r>=10;r/=10)e++;return e}function Qy(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(Fr+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function Yl(t,e){var r,n,a,i,o,u,d,f,p,m=1,v=10,x=t,j=x.d,w=x.constructor,y=w.precision;if(x.s<1)throw Error(Fr+(x.s?"NaN":"-Infinity"));if(x.eq(kr))return new w(0);if(e==null?(dt=!1,f=y):f=e,x.eq(10))return e==null&&(dt=!0),Qy(w,f);if(f+=v,w.precision=f,r=wn(j),n=r.charAt(0),i=Ot(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=wn(x.d),n=r.charAt(0),m++;i=Ot(x),n>1?(x=new w("0."+r),i++):x=new w(n+"."+r.slice(1))}else return d=Qy(w,f+2,y).times(i+""),x=Yl(new w(n+"."+r.slice(1)),f-v).plus(d),w.precision=y,e==null?(dt=!0,Ze(x,y)):x;for(u=o=x=Kn(x.minus(kr),x.plus(kr),f),p=Ze(x.times(x),f),a=3;;){if(o=Ze(o.times(p),f),d=u.plus(Kn(o,new w(a),f)),wn(d.d).slice(0,f)===wn(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Qy(w,f+2,y).times(i+""))),u=Kn(u,new w(m),f),w.precision=y,e==null?(dt=!0,Ze(u,y)):u;u=d,a+=2}}function eE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=fo(r/ot),t.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ot;n<a;)t.d.push(+e.slice(n,n+=ot));e=e.slice(n),n=ot-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>rf||t.e<-rf))throw Error(Pw+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,r){var n,a,i,o,u,d,f,p,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=ot,a=e,f=m[p=0];else{if(p=Math.ceil((n+1)/ot),i=m.length,p>=i)return t;for(f=i=m[p],o=1;i>=10;i/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(i=ui(10,o-a-1),u=f/i%10|0,d=e<0||m[p+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/ui(10,o-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(i=Ot(t),m.length=1,e=e-i-1,m[0]=ui(10,(ot-e%ot)%ot),t.e=fo(-e/ot)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=ui(10,ot-n),m[p]=a>0?(f/ui(10,o-a)%ui(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Bt&&(m[0]=1,++t.e);break}else{if(m[p]+=i,m[p]!=Bt)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(dt&&(t.e>rf||t.e<-rf))throw Error(Pw+Ot(t));return t}function nT(t,e){var r,n,a,i,o,u,d,f,p,m,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),dt?Ze(e,x):e;if(d=t.d,m=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,u=m.length):(r=m,n=f,u=d.length),a=Math.max(Math.ceil(x/ot),u)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}o=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>o;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Bt-1;--d[i],d[a]+=Bt}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,dt?Ze(e,x):e):new v(0)}function ki(t,e,r){var n,a=Ot(t),i=wn(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Aa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Aa(-a-1)+i,r&&(n=r-o)>0&&(i+=Aa(n))):a>=o?(i+=Aa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Aa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Aa(n))),t.s<0?"-"+i:i}function tE(t,e){if(t.length>e)return t.length=e,!0}function aT(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ji+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eE(o,i.toString())}else if(typeof i!="string")throw Error(ji+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Nz.test(i))eE(o,i);else throw Error(ji+i)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=aT,a.config=a.set=kz,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function kz(t){if(!t||typeof t!="object")throw Error(Fr+"Object expected");var e,r,n,a=["precision",1,uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(fo(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ji+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ji+r+": "+n);return this}var Tw=aT(Sz);kr=new Tw(1);const Je=Tw;function Oz(t){return Pz(t)||Cz(t)||Az(t)||Ez()}function Ez(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(t,e){if(t){if(typeof t=="string")return Tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(t,e)}}function Cz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pz(t){if(Array.isArray(t))return Tx(t)}function Tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tz=function(e){return e},iT={},sT=function(e){return e===iT},rE=function(e){return function r(){return arguments.length===0||arguments.length===1&&sT(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Rz=function t(e,r){return e===1?r:rE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==iT}).length;return o>=e?r.apply(void 0,a):t(e-o,rE(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=a.map(function(m){return sT(m)?d.shift():m});return r.apply(void 0,Oz(p).concat(d))}))})},sh=function(e){return Rz(e.length,e)},Rx=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Mz=sh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),$z=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Tz;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Mx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oT=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(u,d){return u===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function Iz(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function Dz(t,e,r){for(var n=new Je(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Lz=sh(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Bz=sh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qz=sh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const oh={rangeStep:Dz,getDigitCount:Iz,interpolateNumber:Lz,uninterpolateNumber:Bz,uninterpolateTruncation:qz};function $x(t){return zz(t)||Fz(t)||lT(t)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zz(t){if(Array.isArray(t))return Ix(t)}function Xl(t,e){return Vz(t)||Hz(t,e)||lT(t,e)||Wz()}function Wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(t,e){if(t){if(typeof t=="string")return Ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(t,e)}}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Vz(t){if(Array.isArray(t))return t}function cT(t){var e=Xl(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function uT(t,e,r){if(t.lte(0))return new Je(0);var n=oh.getDigitCount(t.toNumber()),a=new Je(10).pow(n),i=t.div(a),o=n!==1?.05:.1,u=new Je(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=u.mul(a);return e?d:new Je(Math.ceil(d))}function Kz(t,e,r){var n=1,a=new Je(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Je(10).pow(oh.getDigitCount(t)-1),a=new Je(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Je(Math.floor(t)))}else t===0?a=new Je(Math.floor((e-1)/2)):r||(a=new Je(Math.floor(t)));var o=Math.floor((e-1)/2),u=$z(Mz(function(d){return a.add(new Je(d-o).mul(n)).toNumber()}),Rx);return u(0,e)}function dT(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var i=uT(new Je(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Je(0):(o=new Je(t).add(e).div(2),o=o.sub(new Je(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),d=Math.ceil(new Je(e).sub(o).div(i).toNumber()),f=u+d+1;return f>r?dT(t,e,r,n,a+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:i,tickMin:o.sub(new Je(u).mul(i)),tickMax:o.add(new Je(d).mul(i))})}function Gz(t){var e=Xl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=cT([r,n]),d=Xl(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat($x(Rx(0,a-1).map(function(){return 1/0}))):[].concat($x(Rx(0,a-1).map(function(){return-1/0})),[p]);return r>n?Mx(m):m}if(f===p)return Kz(f,a,i);var v=dT(f,p,o,i),x=v.step,j=v.tickMin,w=v.tickMax,y=oh.rangeStep(j,w.add(new Je(.1).mul(x)),x);return r>n?Mx(y):y}function Yz(t,e){var r=Xl(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cT([n,a]),u=Xl(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var p=Math.max(e,2),m=uT(new Je(f).sub(d).div(p-1),i,0),v=[].concat($x(oh.rangeStep(new Je(d),new Je(f).sub(new Je(.99).mul(m)),m)),[f]);return n>a?Mx(v):v}var Xz=oT(Gz),Jz=oT(Yz),Qz="Invariant failed";function Oi(t,e){throw new Error(Qz)}var Zz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nf.apply(this,arguments)}function e9(t,e){return a9(t)||n9(t,e)||r9(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function a9(t){if(Array.isArray(t))return t}function i9(t,e){if(t==null)return{};var r=s9(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pT(n.key),n)}}function c9(t,e,r){return e&&l9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u9(t,e,r){return e=af(e),d9(t,fT()?Reflect.construct(e,r||[],af(t).constructor):e.apply(t,r))}function d9(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f9(t)}function f9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fT=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(t)}function h9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dx(t,e)}function hT(t,e,r){return e=pT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pT(t){var e=p9(t,"string");return Bs(e)=="symbol"?e:e+""}function p9(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lh=(function(t){function e(){return o9(this,e),u9(this,e,arguments)}return h9(e,t),c9(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=i9(n,Zz),x=Be(v,!1);this.props.direction==="x"&&p.type!=="number"&&Oi();var j=d.map(function(w){var y=f(w,u),O=y.x,k=y.y,S=y.value,E=y.errorVal;if(!E)return null;var _=[],A,T;if(Array.isArray(E)){var P=e9(E,2);A=P[0],T=P[1]}else A=T=E;if(i==="vertical"){var $=p.scale,B=k+a,I=B+o,F=B-o,L=$(S-A),G=$(S+T);_.push({x1:G,y1:I,x2:G,y2:F}),_.push({x1:L,y1:B,x2:G,y2:B}),_.push({x1:L,y1:I,x2:L,y2:F})}else if(i==="horizontal"){var q=m.scale,z=O+a,ee=z-o,H=z+o,W=q(S-A),J=q(S+T);_.push({x1:ee,y1:J,x2:H,y2:J}),_.push({x1:z,y1:W,x2:z,y2:J}),_.push({x1:ee,y1:W,x2:H,y2:W})}return X.createElement(gt,nf({className:"recharts-errorBar",key:"bar-".concat(_.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},x),_.map(function(M){return X.createElement("line",nf({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return X.createElement(gt,{className:"recharts-errorBars"},j)}}])})(X.Component);hT(lh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hT(lh,"displayName","ErrorBar");function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){m9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m9(t,e,r){return e=g9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g9(t){var e=v9(t,"string");return Jl(e)=="symbol"?e:e+""}function v9(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mT=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=_r(r,ks);if(!o)return null;var u=ks.defaultProps,d=u!==void 0?si(si({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:i==="children"?f=(n||[]).reduce(function(p,m){var v=m.item,x=m.props,j=x.sectors||x.data||[];return p.concat(j.map(function(w){return{type:o.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,x=v!==void 0?si(si({},v),m.props):{},j=x.dataKey,w=x.name,y=x.legendType,O=x.hide;return{inactive:O,dataKey:j,type:d.iconType||y||"square",color:Rw(m),value:w||j,payload:x}}),si(si(si({},d),ks.getWithHeight(o,a)),{},{payload:f,item:o})};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function iE(t){return w9(t)||b9(t)||x9(t)||y9()}function y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(t,e){if(t){if(typeof t=="string")return Lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lx(t,e)}}function b9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w9(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Es(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=_9(t,"string");return Ql(e)=="symbol"?e:e+""}function _9(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,r){return qe(t)||qe(e)?r:Mt(e)?qr(t,e,r):Le(e)?e(t):r}function _l(t,e,r,n){var a=wz(t,function(u){return Or(u,e)});if(r==="number"){var i=a.filter(function(u){return pe(u)||parseFloat(u)});return i.length?[ih(i),Pa(i)]:[1/0,-1/0]}var o=n?a.filter(function(u){return!qe(u)}):a;return o.map(function(u){return Mt(u)||u instanceof Date?u:""})}var S9=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var p=f>0?a[f-1].coordinate:a[u-1].coordinate,m=a[f].coordinate,v=f>=u-1?a[0].coordinate:a[f+1].coordinate,x=void 0;if(sn(m-p)!==sn(v-m)){var j=[];if(sn(v-m)===sn(d[1]-d[0])){x=v;var w=m+d[1]-d[0];j[0]=Math.min(w,(w+p)/2),j[1]=Math.max(w,(w+p)/2)}else{x=p;var y=v+d[1]-d[0];j[0]=Math.min(m,(y+m)/2),j[1]=Math.max(m,(y+m)/2)}var O=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>O[0]&&e<=O[1]||e>=j[0]&&e<=j[1]){o=a[f].index;break}}else{var k=Math.min(p,v),S=Math.max(p,v);if(e>(k+m)/2&&e<=(S+m)/2){o=a[f].index;break}}}else for(var E=0;E<u;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},Rw=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},N9=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var p=i[u[d]].stackGroups,m=Object.keys(p),v=0,x=m.length;v<x;v++){var j=p[m[v]],w=j.items,y=j.cateAxisId,O=w.filter(function(T){return Vn(T.type).indexOf("Bar")>=0});if(O&&O.length){var k=O[0].type.defaultProps,S=k!==void 0?bt(bt({},k),O[0].props):O[0].props,E=S.barSize,_=S[y];o[_]||(o[_]=[]);var A=qe(E)?r:E;o[_].push({item:O[0],stackList:O.slice(1),barSize:qe(A)?void 0:Ni(A,n,0)})}}return o},k9=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Ni(r,a,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var v=!1,x=a/d,j=o.reduce(function(E,_){return E+_.barSize||0},0);j+=(d-1)*f,j>=a&&(j-=(d-1)*f,f=0),j>=a&&x>0&&(v=!0,x*=.9,j=d*x);var w=(a-j)/2>>0,y={offset:w-f,size:0};p=o.reduce(function(E,_){var A={item:_.item,position:{offset:y.offset+y.size+f,size:v?x:_.barSize}},T=[].concat(iE(E),[A]);return y=T[T.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(P){T.push({item:P,position:y})}),T},m)}else{var O=Ni(n,a,0,!0);a-2*O-(d-1)*f<=0&&(f=0);var k=(a-2*O-(d-1)*f)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;p=o.reduce(function(E,_,A){var T=[].concat(iE(E),[{item:_.item,position:{offset:O+(k+f)*A+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},m)}return p},O9=function(e,r,n,a){var i=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=mT({children:i,legendWidth:d});if(f){var p=a||{},m=p.width,v=p.height,x=f.align,j=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&x!=="center"&&pe(e[x]))return bt(bt({},e),{},Es({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&j!=="middle"&&pe(e[j]))return bt(bt({},e),{},Es({},j,e[j]+(v||0)))}return e},E9=function(e,r,n){return qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gT=function(e,r,n,a,i){var o=r.props.children,u=cn(o,lh).filter(function(f){return E9(a,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var m=Or(p,n);if(qe(m))return f;var v=Array.isArray(m)?[ih(m),Pa(m)]:[m,m],x=d.reduce(function(j,w){var y=Or(p,w,0),O=v[0]-Math.abs(Array.isArray(y)?y[0]:y),k=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(O,j[0]),Math.max(k,j[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},A9=function(e,r,n,a,i){var o=r.map(function(u){return gT(e,u,n,i,a)}).filter(function(u){return!qe(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},vT=function(e,r,n,a,i){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&gT(e,d,f,a)||_l(e,f,n,i)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},yT=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vi=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?sn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:a(v)+f,value:m,offset:f}});return p.filter(function(m){return!so(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+f,value:m,index:v,offset:f}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,v){return{coordinate:a(m)+f,value:i?i[m]:m,index:v,offset:f}})},Zy=new WeakMap,Zu=function(e,r){if(typeof r!="function")return e;Zy.has(e)||Zy.set(e,new WeakMap);var n=Zy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},C9=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:zl(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:Qd(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jl(),realScaleType:"point"}:i==="category"?{scale:zl(),realScaleType:"band"}:{scale:Qd(),realScaleType:"linear"};if(Si(a)){var d="scale".concat(Vf(a));return{scale:(HO[d]||jl)(),realScaleType:HO[d]?d:"point"}}return Le(a)?{scale:a}:{scale:jl(),realScaleType:"point"}},oE=1e-4,P9=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-oE,o=Math.max(a[0],a[1])+oE,u=e(r[0]),d=e(r[n-1]);(u<i||u>o||d<i||d>o)&&e.domain([r[0],r[n-1]])}},T9=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},R9=function(e,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!pe(e[0])||e[0]<n)&&(i[0]=n),(!pe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},M9=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,u=0;u<r;++u){var d=so(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=i,e[u][n][1]=i+d,i=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},$9=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var u=so(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},I9={sign:M9,expand:y6,none:Ps,silhouette:x6,wiggle:b6,positive:$9},D9=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),i=I9[n],o=v6().keys(a).value(function(u,d){return+Or(u,d,0)}).order(px).offset(i);return o(e)},L9=function(e,r,n,a,i,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(m,v){var x,j=(x=v.type)!==null&&x!==void 0&&x.defaultProps?bt(bt({},v.type.defaultProps),v.props):v.props,w=j.stackId,y=j.hide;if(y)return m;var O=j[n],k=m[O]||{hasStack:!1,stackGroups:{}};if(Mt(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(v),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[jc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return bt(bt({},m),{},Es({},O,k))},d),p={};return Object.keys(f).reduce(function(m,v){var x=f[v];if(x.hasStack){var j={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,y){var O=x.stackGroups[y];return bt(bt({},w),{},Es({},y,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:D9(e,O.items,i)}))},j)}return bt(bt({},m),{},Es({},v,x))},p)},B9=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=Xz(f,i,u);return e.domain([ih(p),Pa(p)]),{niceTicks:p}}if(i&&a==="number"){var m=e.domain(),v=Jz(m,i,u);return{niceTicks:v}}return null};function lE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qe(a[e.dataKey])){var u=Td(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Or(a,qe(o)?e.dataKey:o);return qe(d)?null:e.scale(d)}var cE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=Or(o,r.dataKey,r.domain[u]);return qe(d)?null:r.scale(d)-i/2+a},q9=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},U9=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Mt(i)){var o=r[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},F9=function(e){return e.reduce(function(r,n){return[ih(n.concat([r[0]]).filter(pe)),Pa(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},xT=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,d=u.reduce(function(f,p){var m=F9(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},uE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bx=function(e,r,n){if(Le(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(pe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(uE.test(e[0])){var i=+uE.exec(e[0])[1];a[0]=r[0]-i}else Le(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(pe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(dE.test(e[1])){var o=+dE.exec(e[1])[1];a[1]=r[1]+o}else Le(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},sf=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=ow(r,function(m){return m.coordinate}),o=1/0,u=1,d=i.length;u<d;u++){var f=i[u],p=i[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fE=function(e,r,n){return!e||!e.length||Gl(e,qr(n,"type.defaultProps.domain"))?r:e},bT=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return bt(bt({},Be(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:Rw(e),value:Or(r,a),type:d,payload:r,chartType:f,hide:p})};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){z9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=H9(t,"string");return Zl(e)=="symbol"?e:e+""}function H9(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of=Math.PI/180,V9=function(e){return e*180/Math.PI},Vt=function(e,r,n,a){return{x:e+Math.cos(-of*a)*n,y:r+Math.sin(-of*a)*n}},K9=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},G9=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,u=K9({x:n,y:a},{x:i,y:o});if(u<=0)return{radius:u};var d=(n-i)/u,f=Math.acos(d);return a>o&&(f=2*Math.PI-f),{radius:u,angle:V9(f),angleInRadian:f}},Y9=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},X9=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},mE=function(e,r){var n=e.x,a=e.y,i=G9({x:n,y:a},r),o=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=Y9(r),m=p.startAngle,v=p.endAngle,x=u,j;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;j=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;j=x>=v&&x<=m}return j?pE(pE({},r),{},{radius:o,angle:X9(x,r)}):null};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}var J9=["offset"];function Q9(t){return rW(t)||tW(t)||eW(t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(t,e){if(t){if(typeof t=="string")return qx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(t,e)}}function tW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rW(t){if(Array.isArray(t))return qx(t)}function qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nW(t,e){if(t==null)return{};var r=aW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){iW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iW(t,e,r){return e=sW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sW(t){var e=oW(t,"string");return ec(e)=="symbol"?e:e+""}function oW(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(this,arguments)}var lW=function(e){var r=e.value,n=e.formatter,a=qe(e.children)?r:e.children;return Le(n)?n(a):a},cW=function(e,r){var n=sn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},uW=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,d=i,f=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,x=d.startAngle,j=d.endAngle,w=d.clockWise,y=(m+v)/2,O=cW(x,j),k=O>=0?1:-1,S,E;a==="insideStart"?(S=x+k*o,E=w):a==="insideEnd"?(S=j-k*o,E=!w):a==="end"&&(S=j+k*o,E=w),E=O<=0?E:!E;var _=Vt(f,p,y,S),A=Vt(f,p,y,S+(E?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),P=qe(e.id)?jc("recharts-radial-line-"):e.id;return X.createElement("text",tc({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:P,d:T})),X.createElement("textPath",{xlinkHref:"#".concat(P)},r))},dW=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,v=(p+m)/2;if(a==="outside"){var x=Vt(o,u,f+n,v),j=x.x,w=x.y;return{x:j,y:w,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,O=Vt(o,u,y,v),k=O.x,S=O.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},fW=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,u=o.x,d=o.y,f=o.width,p=o.height,m=p>=0?1:-1,v=m*a,x=m>0?"end":"start",j=m>0?"start":"end",w=f>=0?1:-1,y=w*a,O=w>0?"end":"start",k=w>0?"start":"end";if(i==="top"){var S={x:u+f/2,y:d-m*a,textAnchor:"middle",verticalAnchor:x};return Tt(Tt({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var E={x:u+f/2,y:d+p+v,textAnchor:"middle",verticalAnchor:j};return Tt(Tt({},E),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(i==="left"){var _={x:u-y,y:d+p/2,textAnchor:O,verticalAnchor:"middle"};return Tt(Tt({},_),n?{width:Math.max(_.x-n.x,0),height:p}:{})}if(i==="right"){var A={x:u+f+y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return Tt(Tt({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var T=n?{width:f,height:p}:{};return i==="insideLeft"?Tt({x:u+y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},T):i==="insideRight"?Tt({x:u+f-y,y:d+p/2,textAnchor:O,verticalAnchor:"middle"},T):i==="insideTop"?Tt({x:u+f/2,y:d+v,textAnchor:"middle",verticalAnchor:j},T):i==="insideBottom"?Tt({x:u+f/2,y:d+p-v,textAnchor:"middle",verticalAnchor:x},T):i==="insideTopLeft"?Tt({x:u+y,y:d+v,textAnchor:k,verticalAnchor:j},T):i==="insideTopRight"?Tt({x:u+f-y,y:d+v,textAnchor:O,verticalAnchor:j},T):i==="insideBottomLeft"?Tt({x:u+y,y:d+p-v,textAnchor:k,verticalAnchor:x},T):i==="insideBottomRight"?Tt({x:u+f-y,y:d+p-v,textAnchor:O,verticalAnchor:x},T):io(i)&&(pe(i.x)||pi(i.x))&&(pe(i.y)||pi(i.y))?Tt({x:u+Ni(i.x,f),y:d+Ni(i.y,p),textAnchor:"end",verticalAnchor:"end"},T):Tt({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},hW=function(e){return"cx"in e&&pe(e.cx)};function Qt(t){var e=t.offset,r=e===void 0?5:e,n=nW(t,J9),a=Tt({offset:r},n),i=a.viewBox,o=a.position,u=a.value,d=a.children,f=a.content,p=a.className,m=p===void 0?"":p,v=a.textBreakAll;if(!i||qe(u)&&qe(d)&&!C.isValidElement(f)&&!Le(f))return null;if(C.isValidElement(f))return C.cloneElement(f,a);var x;if(Le(f)){if(x=C.createElement(f,a),C.isValidElement(x))return x}else x=lW(a);var j=hW(i),w=Be(a,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uW(a,x,w);var y=j?dW(a):fW(a);return X.createElement(Hd,tc({className:ze("recharts-label",m)},w,y,{breakAll:v}),x)}Qt.displayName="Label";var wT=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,x=e.top,j=e.left,w=e.width,y=e.height,O=e.clockWise,k=e.labelViewBox;if(k)return k;if(pe(w)&&pe(y)){if(pe(m)&&pe(v))return{x:m,y:v,width:w,height:y};if(pe(x)&&pe(j))return{x,y:j,width:w,height:y}}return pe(m)&&pe(v)?{x:m,y:v,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},pW=function(e,r){return e?e===!0?X.createElement(Qt,{key:"label-implicit",viewBox:r}):Mt(e)?X.createElement(Qt,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===Qt?C.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(Qt,{key:"label-implicit",content:e,viewBox:r}):Le(e)?X.createElement(Qt,{key:"label-implicit",content:e,viewBox:r}):io(e)?X.createElement(Qt,tc({viewBox:r},e,{key:"label-implicit"})):null:null},mW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=wT(e),o=cn(a,Qt).map(function(d,f){return C.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return o;var u=pW(e.label,r||i);return[u].concat(Q9(o))};Qt.parseViewBox=wT;Qt.renderCallByParent=mW;var e0,vE;function gW(){if(vE)return e0;vE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return e0=t,e0}var vW=gW();const yW=Qe(vW);function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}var xW=["valueAccessor"],bW=["data","dataKey","clockWise","id","textBreakAll"];function wW(t){return NW(t)||SW(t)||_W(t)||jW()}function jW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(t,e){if(t){if(typeof t=="string")return Ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(t,e)}}function SW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NW(t){if(Array.isArray(t))return Ux(t)}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lf.apply(this,arguments)}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){kW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kW(t,e,r){return e=OW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OW(t){var e=EW(t,"string");return rc(e)=="symbol"?e:e+""}function EW(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bE(t,e){if(t==null)return{};var r=AW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CW=function(e){return Array.isArray(e.value)?yW(e.value):e.value};function Ia(t){var e=t.valueAccessor,r=e===void 0?CW:e,n=bE(t,xW),a=n.data,i=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=bE(n,bW);return!a||!a.length?null:X.createElement(gt,{className:"recharts-label-list"},a.map(function(p,m){var v=qe(i)?r(p,m):Or(p&&p.payload,i),x=qe(u)?{}:{id:"".concat(u,"-").concat(m)};return X.createElement(Qt,lf({},Be(p,!0),f,x,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:Qt.parseViewBox(qe(o)?p:xE(xE({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ia.displayName="LabelList";function PW(t,e){return t?t===!0?X.createElement(Ia,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Le(t)?X.createElement(Ia,{key:"labelList-implicit",data:e,content:t}):io(t)?X.createElement(Ia,lf({data:e},t,{key:"labelList-implicit"})):null:null}function TW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=cn(n,Ia).map(function(o,u){return C.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var i=PW(t.label,e);return[i].concat(wW(a))}Ia.renderCallByParent=TW;function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fx.apply(this,arguments)}function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){RW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RW(t,e,r){return e=MW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=$W(t,"string");return nc(e)=="symbol"?e:e+""}function $W(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IW=function(e,r){var n=sn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},ed=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+a,m=Math.asin(d/p)/of,v=f?i:i+o*m,x=Vt(r,n,p,v),j=Vt(r,n,a,v),w=f?i-o*m:i,y=Vt(r,n,p*Math.cos(m*of),w);return{center:x,circleTangency:j,lineTangency:y,theta:m}},jT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,d=IW(o,u),f=o+d,p=Vt(r,n,i,o),m=Vt(r,n,i,f),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var x=Vt(r,n,a,o),j=Vt(r,n,a,f);v+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},DW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,m=sn(p-f),v=ed({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:d}),x=v.circleTangency,j=v.lineTangency,w=v.theta,y=ed({cx:r,cy:n,radius:i,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:d}),O=y.circleTangency,k=y.lineTangency,S=y.theta,E=d?Math.abs(f-p):Math.abs(f-p)-w-S;if(E<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:p});var _="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var A=ed({cx:r,cy:n,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=A.circleTangency,P=A.lineTangency,$=A.theta,B=ed({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),I=B.circleTangency,F=B.lineTangency,L=B.theta,G=d?Math.abs(f-p):Math.abs(f-p)-$-L;if(G<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},LW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_T=function(e){var r=jE(jE({},LW),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(o<i||p===m)return null;var x=ze("recharts-sector",v),j=o-i,w=Ni(u,j,0,!0),y;return w>0&&Math.abs(p-m)<360?y=DW({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=jT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:p,endAngle:m}),X.createElement("path",Fx({},Be(r,!0),{className:x,d:y,role:"img"}))};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(this,arguments)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){BW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BW(t,e,r){return e=qW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=UW(t,"string");return ac(e)=="symbol"?e:e+""}function UW(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NE={curveBasisClosed:s6,curveBasisOpen:o6,curveBasis:i6,curveBumpX:H7,curveBumpY:V7,curveLinearClosed:l6,curveLinear:Gf,curveMonotoneX:c6,curveMonotoneY:u6,curveNatural:d6,curveStep:f6,curveStepAfter:p6,curveStepBefore:h6},td=function(e){return e.x===+e.x&&e.y===+e.y},al=function(e){return e.x},il=function(e){return e.y},FW=function(e,r){if(Le(e))return e;var n="curve".concat(Vf(e));return(n==="curveMonotone"||n==="curveBump")&&r?NE["".concat(n).concat(r==="vertical"?"Y":"X")]:NE[n]||Gf},zW=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=FW(n,u),m=f?i.filter(function(w){return td(w)}):i,v;if(Array.isArray(o)){var x=f?o.filter(function(w){return td(w)}):o,j=m.map(function(w,y){return SE(SE({},w),{},{base:x[y]})});return u==="vertical"?v=Vu().y(il).x1(al).x0(function(w){return w.base.x}):v=Vu().x(al).y1(il).y0(function(w){return w.base.y}),v.defined(td).curve(p),v(j)}return u==="vertical"&&pe(o)?v=Vu().y(il).x1(al).x0(o):pe(o)?v=Vu().x(al).y1(il).y0(o):v=EP().x(al).y(il),v.defined(td).curve(p),v(m)},Sl=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?zW(e):a;return C.createElement("path",zx({},Be(e,!1),Rd(e),{className:ze("recharts-curve",r),d:o,ref:i}))},t0={exports:{}},r0,kE;function WW(){if(kE)return r0;kE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return r0=t,r0}var n0,OE;function HW(){if(OE)return n0;OE=1;var t=WW();function e(){}function r(){}return r.resetWarningCache=e,n0=function(){function n(o,u,d,f,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},n0}var EE;function VW(){return EE||(EE=1,t0.exports=HW()()),t0.exports}var KW=VW();const Ge=Qe(KW),{getOwnPropertyNames:GW,getOwnPropertySymbols:YW}=Object,{hasOwnProperty:XW}=Object.prototype;function a0(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function rd(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:i}=a,o=i.get(r),u=i.get(n);if(o&&u)return o===n&&u===r;i.set(r,n),i.set(n,r);const d=t(r,n,a);return i.delete(r),i.delete(n),d}}function JW(t){return t?.[Symbol.toStringTag]}function AE(t){return GW(t).concat(YW(t))}const QW=Object.hasOwn||((t,e)=>XW.call(t,e));function Pi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ZW="__v",eH="__o",tH="_owner",{getOwnPropertyDescriptor:CE,keys:PE}=Object;function rH(t,e){return t.byteLength===e.byteLength&&cf(new Uint8Array(t),new Uint8Array(e))}function nH(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function aH(t,e){return t.byteLength===e.byteLength&&cf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function iH(t,e){return Pi(t.getTime(),e.getTime())}function sH(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function oH(t,e){return t===e}function TE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let o,u,d=0;for(;(o=i.next())&&!o.done;){const f=e.entries();let p=!1,m=0;for(;(u=f.next())&&!u.done;){if(a[m]){m++;continue}const v=o.value,x=u.value;if(r.equals(v[0],x[0],d,m,t,e,r)&&r.equals(v[1],x[1],v[0],x[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}const lH=Pi;function cH(t,e,r){const n=PE(t);let a=n.length;if(PE(e).length!==a)return!1;for(;a-- >0;)if(!ST(t,e,r,n[a]))return!1;return!0}function sl(t,e,r){const n=AE(t);let a=n.length;if(AE(e).length!==a)return!1;let i,o,u;for(;a-- >0;)if(i=n[a],!ST(t,e,r,i)||(o=CE(t,i),u=CE(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function uH(t,e){return Pi(t.valueOf(),e.valueOf())}function dH(t,e){return t.source===e.source&&t.flags===e.flags}function RE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let o,u;for(;(o=i.next())&&!o.done;){const d=e.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function cf(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function fH(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ST(t,e,r,n){return(n===tH||n===eH||n===ZW)&&(t.$$typeof||e.$$typeof)?!0:QW(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const hH="[object ArrayBuffer]",pH="[object Arguments]",mH="[object Boolean]",gH="[object DataView]",vH="[object Date]",yH="[object Error]",xH="[object Map]",bH="[object Number]",wH="[object Object]",jH="[object RegExp]",_H="[object Set]",SH="[object String]",NH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kH="[object URL]",OH=Object.prototype.toString;function EH({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:j}){return function(y,O,k){if(y===O)return!0;if(y==null||O==null)return!1;const S=typeof y;if(S!==typeof O)return!1;if(S!=="object")return S==="number"?u(y,O,k):S==="function"?i(y,O,k):!1;const E=y.constructor;if(E!==O.constructor)return!1;if(E===Object)return d(y,O,k);if(Array.isArray(y))return e(y,O,k);if(E===Date)return n(y,O,k);if(E===RegExp)return p(y,O,k);if(E===Map)return o(y,O,k);if(E===Set)return m(y,O,k);const _=OH.call(y);if(_===vH)return n(y,O,k);if(_===jH)return p(y,O,k);if(_===xH)return o(y,O,k);if(_===_H)return m(y,O,k);if(_===wH)return typeof y.then!="function"&&typeof O.then!="function"&&d(y,O,k);if(_===kH)return x(y,O,k);if(_===yH)return a(y,O,k);if(_===pH)return d(y,O,k);if(NH[_])return v(y,O,k);if(_===hH)return t(y,O,k);if(_===gH)return r(y,O,k);if(_===mH||_===bH||_===SH)return f(y,O,k);if(j){let A=j[_];if(!A){const T=JW(y);T&&(A=j[T])}if(A)return A(y,O,k)}return!1}}function AH({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:rH,areArraysEqual:r?sl:nH,areDataViewsEqual:aH,areDatesEqual:iH,areErrorsEqual:sH,areFunctionsEqual:oH,areMapsEqual:r?a0(TE,sl):TE,areNumbersEqual:lH,areObjectsEqual:r?sl:cH,arePrimitiveWrappersEqual:uH,areRegExpsEqual:dH,areSetsEqual:r?a0(RE,sl):RE,areTypedArraysEqual:r?a0(cf,sl):cf,areUrlsEqual:fH,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=rd(n.areArraysEqual),i=rd(n.areMapsEqual),o=rd(n.areObjectsEqual),u=rd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:u})}return n}function CH(t){return function(e,r,n,a,i,o,u){return t(e,r,u)}}function PH({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:f=t?new WeakMap:void 0,meta:p}=r();return e(u,d,{cache:f,equals:n,meta:p,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,i)}}const TH=za();za({strict:!0});za({circular:!0});za({circular:!0,strict:!0});za({createInternalComparator:()=>Pi});za({strict:!0,createInternalComparator:()=>Pi});za({circular:!0,createInternalComparator:()=>Pi});za({circular:!0,createInternalComparator:()=>Pi,strict:!0});function za(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,i=AH(t),o=EH(i),u=r?r(o):CH(o);return PH({circular:e,comparator:o,createState:n,equals:u,strict:a})}function RH(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ME(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):RH(a)};requestAnimationFrame(n)}function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function MH(t){return LH(t)||DH(t)||IH(t)||$H()}function $H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return $E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LH(t){if(Array.isArray(t))return t}function BH(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,u=MH(o),d=u[0],f=u.slice(1);if(typeof d=="number"){ME(a.bind(null,f),d);return}a(d),ME(a.bind(null,f));return}Wx(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){NT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NT(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=UH(t,"string");return ic(e)==="symbol"?e:String(e)}function UH(t,e){if(ic(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FH=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},zH=function(e){return e},WH=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nl=function(e,r){return Object.keys(r).reduce(function(n,a){return DE(DE({},n),{},NT({},a,e(a,r[a])))},{})},LE=function(e,r,n){return e.map(function(a){return"".concat(WH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function HH(t,e){return GH(t)||KH(t,e)||kT(t,e)||VH()}function VH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function GH(t){if(Array.isArray(t))return t}function YH(t){return QH(t)||JH(t)||kT(t)||XH()}function XH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kT(t,e){if(t){if(typeof t=="string")return Hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(t,e)}}function JH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QH(t){if(Array.isArray(t))return Hx(t)}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uf=1e-4,OT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},ET=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BE=function(e,r){return function(n){var a=OT(e,r);return ET(a,n)}},ZH=function(e,r){return function(n){var a=OT(e,r),i=[].concat(YH(a.map(function(o,u){return o*u}).slice(1)),[0]);return ET(i,n)}},qE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=HH(f,4);a=p[0],i=p[1],o=p[2],u=p[3]}}}var m=BE(a,o),v=BE(i,u),x=ZH(a,o),j=function(O){return O>1?1:O<0?0:O},w=function(O){for(var k=O>1?1:O,S=k,E=0;E<8;++E){var _=m(S)-k,A=x(S);if(Math.abs(_-k)<uf||A<uf)return v(S);S=j(S-_/A)}return v(S)};return w.isStepper=!1,w},eV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,d=function(p,m,v){var x=-(p-m)*n,j=v*i,w=v+(x-j)*u/1e3,y=v*u/1e3+p;return Math.abs(y-m)<uf&&Math.abs(w)<uf?[m,0]:[y,w]};return d.isStepper=!0,d.dt=u,d},tV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qE(a);case"spring":return eV();default:if(a.split("(")[0]==="cubic-bezier")return qE(a)}return typeof a=="function"?a:null};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function UE(t){return aV(t)||nV(t)||AT(t)||rV()}function rV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aV(t){if(Array.isArray(t))return Kx(t)}function FE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(r),!0).forEach(function(n){Vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vx(t,e,r){return e=iV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=sV(t,"string");return sc(e)==="symbol"?e:String(e)}function sV(t,e){if(sc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oV(t,e){return uV(t)||cV(t,e)||AT(t,e)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(t,e){if(t){if(typeof t=="string")return Kx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(t,e)}}function Kx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function uV(t){if(Array.isArray(t))return t}var df=function(e,r,n){return e+(r-e)*n},Gx=function(e){var r=e.from,n=e.to;return r!==n},dV=function t(e,r,n){var a=Nl(function(i,o){if(Gx(o)){var u=e(o.from,o.to,o.velocity),d=oV(u,2),f=d[0],p=d[1];return Ht(Ht({},o),{},{from:f,velocity:p})}return o},r);return n<1?Nl(function(i,o){return Gx(o)?Ht(Ht({},o),{},{velocity:df(o.velocity,a[i].velocity,n),from:df(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const fV=(function(t,e,r,n,a){var i=FH(t,e),o=i.reduce(function(y,O){return Ht(Ht({},y),{},Vx({},O,[t[O],e[O]]))},{}),u=i.reduce(function(y,O){return Ht(Ht({},y),{},Vx({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,f,p,m=function(){return null},v=function(){return Nl(function(O,k){return k.from},u)},x=function(){return!Object.values(u).filter(Gx).length},j=function(O){f||(f=O);var k=O-f,S=k/r.dt;u=dV(r,u,S),a(Ht(Ht(Ht({},t),e),v())),f=O,x()||(d=requestAnimationFrame(m))},w=function(O){p||(p=O);var k=(O-p)/n,S=Nl(function(_,A){return df.apply(void 0,UE(A).concat([r(k)]))},o);if(a(Ht(Ht(Ht({},t),e),S)),k<1)d=requestAnimationFrame(m);else{var E=Nl(function(_,A){return df.apply(void 0,UE(A).concat([r(1)]))},o);a(Ht(Ht(Ht({},t),e),E))}};return m=r.isStepper?j:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}var hV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pV(t,e){if(t==null)return{};var r=mV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mV(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function i0(t){return xV(t)||yV(t)||vV(t)||gV()}function gV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(t,e){if(t){if(typeof t=="string")return Yx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yx(t,e)}}function yV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xV(t){if(Array.isArray(t))return Yx(t)}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vl(t,e,r){return e=CT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CT(n.key),n)}}function jV(t,e,r){return e&&wV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CT(t){var e=_V(t,"string");return qs(e)==="symbol"?e:String(e)}function _V(t,e){if(qs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xx(t,e)}function NV(t){var e=kV();return function(){var n=ff(t),a;if(e){var i=ff(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Jx(this,a)}}function Jx(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qx(t)}function Qx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(t)}var ea=(function(t){SV(r,t);var e=NV(r);function r(n,a){var i;bV(this,r),i=e.call(this,n,a);var o=i.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,m=o.steps,v=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Qx(i)),i.changeStyle=i.changeStyle.bind(Qx(i)),!u||x<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:p}),Jx(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof v=="function")return i.state={style:f},Jx(i);i.state={style:d?vl({},d,f):f}}else i.state={style:{}};return i}return jV(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,v=this.state.style;if(u){if(!o){var x={style:d?vl({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(x);return}if(!(TH(a.to,p)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||f?m:a.to;if(this.state&&v){var y={style:d?vl({},d,w):w};(d&&v[d]!==w||!d&&v!==w)&&this.setState(y)}this.runAnimation(Qr(Qr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,d=a.duration,f=a.easing,p=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,x=fV(o,u,tV(f),d,this.changeStyle),j=function(){i.stopJSAnimation=x()};this.manager.start([v,p,j,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,d=a.onAnimationStart,f=o[0],p=f.style,m=f.duration,v=m===void 0?0:m,x=function(w,y,O){if(O===0)return w;var k=y.duration,S=y.easing,E=S===void 0?"ease":S,_=y.style,A=y.properties,T=y.onAnimationEnd,P=O>0?o[O-1]:y,$=A||Object.keys(_);if(typeof E=="function"||E==="spring")return[].concat(i0(w),[i.runJSAnimation.bind(i,{from:P.style,to:_,duration:k,easing:E}),k]);var B=LE($,k,E),I=Qr(Qr(Qr({},P.style),_),{},{transition:B});return[].concat(i0(w),[I,k,T]).filter(zH)};return this.manager.start([d].concat(i0(o.reduce(x,[p,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BH());var i=a.begin,o=a.duration,u=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,x=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var w=u?vl({},u,d):d,y=LE(Object.keys(w),o,f);j.start([p,i,Qr(Qr({},w),{},{transition:y}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=pV(a,hV),f=C.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||f===0||o<=0)return i;var m=function(x){var j=x.props,w=j.style,y=w===void 0?{}:w,O=j.className,k=C.cloneElement(x,Qr(Qr({},d),{},{style:Qr(Qr({},y),p),className:O}));return k};return f===1?m(C.Children.only(i)):X.createElement("div",null,C.Children.map(i,function(v){return m(v)}))}}]),r})(C.PureComponent);ea.displayName="Animate";ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ea.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}function OV(t,e){return PV(t)||CV(t,e)||AV(t,e)||EV()}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return WE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(t,e)}}function WE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function PV(t){if(Array.isArray(t))return t}function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){TV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TV(t,e,r){return e=RV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RV(t){var e=MV(t,"string");return oc(e)=="symbol"?e:e+""}function MV(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KE=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,p;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=i[v]>o?o:i[v];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+a-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+a-u*m[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var j=Math.min(o,i);p="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(r+a-u*j," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},$V=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),p=Math.max(i,i+u),m=Math.min(o,o+d),v=Math.max(o,o+d);return n>=f&&n<=p&&a>=m&&a<=v}return!1},IV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mw=function(e){var r=VE(VE({},IV),e),n=C.useRef(),a=C.useState(-1),i=OV(a,2),o=i[0],u=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,v=r.radius,x=r.className,j=r.animationEasing,w=r.animationDuration,y=r.animationBegin,O=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var S=ze("recharts-rectangle",x);return k?X.createElement(ea,{canBegin:o>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:w,animationEasing:j,isActive:k},function(E){var _=E.width,A=E.height,T=E.x,P=E.y;return X.createElement(ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:O,easing:j},X.createElement("path",hf({},Be(r,!0),{className:S,d:KE(T,P,_,A,v),ref:n})))}):X.createElement("path",hf({},Be(r,!0),{className:S,d:KE(d,f,p,m,v)}))};function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zx.apply(this,arguments)}var $w=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=ze("recharts-dot",i);return r===+r&&n===+n&&a===+a?C.createElement("circle",Zx({},Be(e,!1),Rd(e),{className:o,cx:r,cy:n,r:a})):null};function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}var DV=["x","y","top","left","width","height","className"];function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eb.apply(this,arguments)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){BV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BV(t,e,r){return e=qV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qV(t){var e=UV(t,"string");return lc(e)=="symbol"?e:e+""}function UV(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FV(t,e){if(t==null)return{};var r=zV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var WV=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},HV=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,x=v===void 0?0:v,j=e.className,w=FV(e,DV),y=LV({x:n,y:i,top:u,left:f,width:m,height:x},w);return!pe(n)||!pe(i)||!pe(m)||!pe(x)||!pe(u)||!pe(f)?null:X.createElement("path",eb({},Be(y,!0),{className:ze("recharts-cross",j),d:WV(n,i,m,x,u,f)}))},s0,YE;function VV(){if(YE)return s0;YE=1;var t=JP(),e=t(Object.getPrototypeOf,Object);return s0=e,s0}var o0,XE;function KV(){if(XE)return o0;XE=1;var t=aa(),e=VV(),r=ia(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==d}return o0=f,o0}var GV=KV();const YV=Qe(GV);var l0,JE;function XV(){if(JE)return l0;JE=1;var t=aa(),e=ia(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return l0=n,l0}var JV=XV();const QV=Qe(JV);function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}function ZV(t,e){return nK(t)||rK(t,e)||tK(t,e)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(t,e){if(t){if(typeof t=="string")return QE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(t,e)}}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function nK(t){if(Array.isArray(t))return t}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(r),!0).forEach(function(n){aK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aK(t,e,r){return e=iK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iK(t){var e=sK(t,"string");return cc(e)=="symbol"?e:e+""}function sK(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tA=function(e,r,n,a,i){var o=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+i),u+="L ".concat(e+n-o/2-a,",").concat(r+i),u+="L ".concat(e,",").concat(r," Z"),u},oK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lK=function(e){var r=eA(eA({},oK),e),n=C.useRef(),a=C.useState(-1),i=ZV(a,2),o=i[0],u=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,x=r.className,j=r.animationEasing,w=r.animationDuration,y=r.animationBegin,O=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var k=ze("recharts-trapezoid",x);return O?X.createElement(ea,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:f},duration:w,animationEasing:j,isActive:O},function(S){var E=S.upperWidth,_=S.lowerWidth,A=S.height,T=S.x,P=S.y;return X.createElement(ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:j},X.createElement("path",pf({},Be(r,!0),{className:k,d:tA(T,P,E,_,A),ref:n})))}):X.createElement("g",null,X.createElement("path",pf({},Be(r,!0),{className:k,d:tA(d,f,p,m,v)})))},cK=["option","shapeType","propTransformer","activeClassName","isActive"];function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function uK(t,e){if(t==null)return{};var r=dK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=pK(t,"string");return uc(e)=="symbol"?e:e+""}function pK(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mK(t,e){return mf(mf({},e),t)}function gK(t,e){return t==="symbols"}function nA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(Mw,r);case"trapezoid":return X.createElement(lK,r);case"sector":return X.createElement(_T,r);case"symbols":if(gK(e))return X.createElement(Zb,r);break;default:return null}}function vK(t){return C.isValidElement(t)?t.props:t}function yK(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?mK:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,d=uK(t,cK),f;if(C.isValidElement(e))f=C.cloneElement(e,mf(mf({},d),vK(e)));else if(Le(e))f=e(d);else if(YV(e)&&!QV(e)){var p=a(e,d);f=X.createElement(nA,{shapeType:r,elementProps:p})}else{var m=d;f=X.createElement(nA,{shapeType:r,elementProps:m})}return u?X.createElement(gt,{className:o},f):f}function ch(t,e){return e!=null&&"trapezoids"in t.props}function uh(t,e){return e!=null&&"sectors"in t.props}function dc(t,e){return e!=null&&"points"in t.props}function xK(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function bK(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function wK(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function jK(t,e){var r;return ch(t,e)?r=xK:uh(t,e)?r=bK:dc(t,e)&&(r=wK),r}function _K(t,e){var r;return ch(t,e)?r="trapezoids":uh(t,e)?r="sectors":dc(t,e)&&(r="points"),r}function SK(t,e){if(ch(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dc(t,e)?e.payload:{}}function NK(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=_K(r,e),i=SK(r,e),o=n.filter(function(d,f){var p=Gl(i,d),m=r.props[a].filter(function(j){var w=jK(r,e);return w(j,e)}),v=r.props[a].indexOf(m[m.length-1]),x=f===v;return p&&x}),u=n.indexOf(o[o.length-1]);return u}var c0,aA;function kK(){if(aA)return c0;aA=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var u=-1,d=e(t((a-n)/(i||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=i;return f}return c0=r,c0}var u0,iA;function PT(){if(iA)return u0;iA=1;var t=h5(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return u0=n,u0}var d0,sA;function OK(){if(sA)return d0;sA=1;var t=kK(),e=Qf(),r=PT();function n(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),u=u===void 0?i<o?1:-1:r(u),t(i,o,u,a)}}return d0=n,d0}var f0,oA;function EK(){if(oA)return f0;oA=1;var t=OK(),e=t();return f0=e,f0}var AK=EK();const gf=Qe(AK);function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){TT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TT(t,e,r){return e=CK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CK(t){var e=PK(t,"string");return fc(e)=="symbol"?e:e+""}function PK(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TK=["Webkit","Moz","O","ms"],RK=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=TK.reduce(function(i,o){return cA(cA({},i),{},TT({},o+n,r))},{});return a[e]=r,a};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MT(n.key),n)}}function $K(t,e,r){return e&&dA(t.prototype,e),r&&dA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IK(t,e,r){return e=yf(e),DK(t,RT()?Reflect.construct(e,r||[],yf(t).constructor):e.apply(t,r))}function DK(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(t)}function LK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RT=function(){return!!t})()}function yf(t){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(t)}function BK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tb(t,e)}function jr(t,e,r){return e=MT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MT(t){var e=qK(t,"string");return Us(e)=="symbol"?e:e+""}function qK(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UK=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=jl().domain(gf(0,d)).range([i,i+o-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:p}},fA=function(e){return e.changedTouches&&!!e.changedTouches.length},Fs=(function(t){function e(r){var n;return MK(this,e),n=IK(this,e,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o?.({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var i=fA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BK(e,t),$K(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(a,i),v=Math.max(a,i),x=e.getIndexInRange(o,m),j=e.getIndexInRange(o,v);return{startIndex:x-x%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,d=Or(i[n],u,n);return Le(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,x=d.endIndex,j=d.onChange,w=n.pageX-i;w>0?w=Math.min(w,f+p-m-u,f+p-m-o):w<0&&(w=Math.max(w,f-o,f-u));var y=this.getIndex({startX:o+w,endX:u+w});(y.startIndex!==v||y.endIndex!==x)&&j&&j(y),this.setState({startX:o+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=fA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,d=a.startX,f=this.state[o],p=this.props,m=p.x,v=p.width,x=p.travellerWidth,j=p.onChange,w=p.gap,y=p.data,O={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,m+v-x-f):k<0&&(k=Math.max(k,m-f)),O[o]=f+k;var S=this.getIndex(O),E=S.startIndex,_=S.endIndex,A=function(){var P=y.length-1;return o==="startX"&&(u>d?E%w===0:_%w===0)||u<d&&_===P||o==="endX"&&(u>d?_%w===0:E%w===0)||u>d&&_===P};this.setState(jr(jr({},o,f+k),"brushMoveStartX",n.pageX),function(){j&&A()&&j(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[a],m=u.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var x=u[v];a==="startX"&&x>=f||a==="endX"&&x<=d||this.setState(jr({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return X.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=C.Children.only(f);return m?X.cloneElement(m,{x:a,y:i,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,v=d.traveller,x=d.ariaLabel,j=d.data,w=d.startIndex,y=d.endIndex,O=Math.max(n,this.props.x),k=h0(h0({},Be(this.props,!1)),{},{x:O,y:f,width:p,height:m}),S=x||"Min value: ".concat((i=j[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=j[y])===null||o===void 0?void 0:o.name);return X.createElement(gt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,k))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(n,a)+f,m=Math.max(Math.abs(a-n)-f,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,v=p.endX,x=5,j={pointerEvents:"none",fill:f};return X.createElement(gt,{className:"recharts-brush-texts"},X.createElement(Hd,vf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:o+u/2},j),this.getTextOfTick(a)),X.createElement(Hd,vf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+x,y:o+u/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,v=this.state,x=v.startX,j=v.endX,w=v.isTextActive,y=v.isSlideMoving,O=v.isTravellerMoving,k=v.isTravellerFocused;if(!a||!a.length||!pe(u)||!pe(d)||!pe(f)||!pe(p)||f<=0||p<=0)return null;var S=ze("recharts-brush",i),E=X.Children.count(o)===1,_=RK("userSelect","none");return X.createElement(gt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(x,j),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(j,"endX"),(w||y||O||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(i+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:o,height:u,fill:d,stroke:"none"}),X.createElement("line",{x1:a+1,y1:f,x2:a+o-1,y2:f,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:f+2,x2:a+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return X.isValidElement(n)?i=X.cloneElement(n,a):Le(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return h0({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},i&&i.length?UK({data:i,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+o-d]);var v=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,u=i-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>a?u=d:o=d}return a>=n[u]?u:o}}])})(C.PureComponent);jr(Fs,"displayName","Brush");jr(Fs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p0,hA;function FK(){if(hA)return p0;hA=1;var t=sw();function e(r,n){var a;return t(r,function(i,o,u){return a=n(i,o,u),!a}),!!a}return p0=e,p0}var m0,pA;function zK(){if(pA)return m0;pA=1;var t=WP(),e=qa(),r=FK(),n=pr(),a=Qf();function i(o,u,d){var f=n(o)?t:r;return d&&a(o,u,d)&&(u=void 0),f(o,e(u,3))}return m0=i,m0}var WK=zK();const HK=Qe(WK);var On=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},g0,mA;function VK(){if(mA)return g0;mA=1;var t=l5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return g0=e,g0}var v0,gA;function KK(){if(gA)return v0;gA=1;var t=VK(),e=s5(),r=qa();function n(a,i){var o={};return i=r(i,3),e(a,function(u,d,f){t(o,d,i(u,d,f))}),o}return v0=n,v0}var GK=KK();const YK=Qe(GK);var y0,vA;function XK(){if(vA)return y0;vA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return y0=t,y0}var x0,yA;function JK(){if(yA)return x0;yA=1;var t=sw();function e(r,n){var a=!0;return t(r,function(i,o,u){return a=!!n(i,o,u),a}),a}return x0=e,x0}var b0,xA;function QK(){if(xA)return b0;xA=1;var t=XK(),e=JK(),r=qa(),n=pr(),a=Qf();function i(o,u,d){var f=n(o)?t:e;return d&&a(o,u,d)&&(u=void 0),f(o,r(u,3))}return b0=i,b0}var ZK=QK();const eG=Qe(ZK);var tG=["x","y"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rb.apply(this,arguments)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){rG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rG(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=aG(t,"string");return hc(e)=="symbol"?e:e+""}function aG(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iG(t,e){if(t==null)return{};var r=sG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oG(t,e){var r=t.x,n=t.y,a=iG(t,tG),i="".concat(r),o=parseInt(i,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||a.height),p=parseInt(f,10),m="".concat(e.width||a.width),v=parseInt(m,10);return ol(ol(ol(ol(ol({},e),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function wA(t){return X.createElement(yK,rb({shapeType:"rectangle",propTransformer:oG,activeClassName:"recharts-active-bar"},t))}var lG=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=pe(n)||f7(n);return i?e(n,a):(i||Oi(),r)}},cG=["value","background"],$T;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function uG(t,e){if(t==null)return{};var r=dG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){Ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DT(n.key),n)}}function hG(t,e,r){return e&&_A(t.prototype,e),r&&_A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pG(t,e,r){return e=bf(e),mG(t,IT()?Reflect.construct(e,r||[],bf(t).constructor):e.apply(t,r))}function mG(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(t)}function gG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IT=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(t)}function vG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nb(t,e)}function Ta(t,e,r){return e=DT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DT(t){var e=yG(t,"string");return zs(e)=="symbol"?e:e+""}function yG(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ec=(function(t){function e(){var r;fG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pG(this,e,[].concat(a)),Ta(r,"state",{isAnimationFinished:!1}),Ta(r,"id",jc("recharts-bar-")),Ta(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ta(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return vG(e,t),hG(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,p=Be(this.props,!1);return n&&n.map(function(m,v){var x=v===d,j=x?f:o,w=Nt(Nt(Nt({},p),m),{},{isActive:x,option:j,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(gt,xf({className:"recharts-bar-rectangle"},Md(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),X.createElement(wA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,m=a.animationId,v=this.state.prevData;return X.createElement(ea,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var j=x.t,w=i.map(function(y,O){var k=v&&v[O];if(k){var S=Lr(k.x,y.x),E=Lr(k.y,y.y),_=Lr(k.width,y.width),A=Lr(k.height,y.height);return Nt(Nt({},y),{},{x:S(j),y:E(j),width:_(j),height:A(j)})}if(o==="horizontal"){var T=Lr(0,y.height),P=T(j);return Nt(Nt({},y),{},{y:y.y+y.height-P,height:P})}var $=Lr(0,y.width),B=$(j);return Nt(Nt({},y),{},{width:B})});return X.createElement(gt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Gl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,d=Be(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,v=uG(f,cG);if(!m)return null;var x=Nt(Nt(Nt(Nt(Nt({},v),{},{fill:"#eee"},m),d),Md(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(wA,xf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=cn(p,lh);if(!m)return null;var v=f==="vertical"?o[0].height/2:o[0].width/2,x=function(y,O){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Or(y,O)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(gt,j,m.map(function(w){return X.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,v=n.height,x=n.isAnimationActive,j=n.background,w=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,O=ze("recharts-bar",o),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=k||S,_=qe(w)?this.id:w;return X.createElement(gt,{className:O},k||S?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(_)},X.createElement("rect",{x:k?f:f-m/2,y:S?p:p-v/2,width:k?m:m*2,height:S?v:v*2}))):null,X.createElement(gt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(_,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,_),(!x||y)&&Ia.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(C.PureComponent);$T=Ec;Ta(Ec,"displayName","Bar");Ta(Ec,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ta(Ec,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,x=T9(n,r);if(!x)return null;var j=e.layout,w=r.type.defaultProps,y=w!==void 0?Nt(Nt({},w),r.props):r.props,O=y.dataKey,k=y.children,S=y.minPointSize,E=j==="horizontal"?o:i,_=f?E.scale.domain():null,A=q9({numericAxis:E}),T=cn(k,m5),P=m.map(function($,B){var I,F,L,G,q,z;f?I=R9(f[p+B],_):(I=Or($,O),Array.isArray(I)||(I=[A,I]));var ee=lG(S,$T.defaultProps.minPointSize)(I[1],B);if(j==="horizontal"){var H,W=[o.scale(I[0]),o.scale(I[1])],J=W[0],M=W[1];F=cE({axis:i,ticks:u,bandSize:a,offset:x.offset,entry:$,index:B}),L=(H=M??J)!==null&&H!==void 0?H:void 0,G=x.size;var U=J-M;if(q=Number.isNaN(U)?0:U,z={x:F,y:o.y,width:G,height:o.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var ne=sn(q||ee)*(Math.abs(ee)-Math.abs(q));L-=ne,q+=ne}}else{var se=[i.scale(I[0]),i.scale(I[1])],ie=se[0],me=se[1];if(F=ie,L=cE({axis:o,ticks:d,bandSize:a,offset:x.offset,entry:$,index:B}),G=me-ie,q=x.size,z={x:i.x,y:L,width:i.width,height:q},Math.abs(ee)>0&&Math.abs(G)<Math.abs(ee)){var Re=sn(G||ee)*(Math.abs(ee)-Math.abs(G));G+=Re}}return Nt(Nt(Nt({},$),{},{x:F,y:L,width:G,height:q,value:f?I:I[1],payload:$,background:z},T&&T[B]&&T[B].props),{},{tooltipPayload:[bT(r,$)],tooltipPosition:{x:F+G/2,y:L+q/2}})});return Nt({data:P,layout:j},v)});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function xG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LT(n.key),n)}}function bG(t,e,r){return e&&SA(t.prototype,e),r&&SA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(r),!0).forEach(function(n){dh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dh(t,e,r){return e=LT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LT(t){var e=wG(t,"string");return pc(e)=="symbol"?e:e+""}function wG(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jG=function(e,r,n,a,i){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!_r(f,Ec);return p.reduce(function(x,j){var w=r[j],y=w.orientation,O=w.domain,k=w.padding,S=k===void 0?{}:k,E=w.mirror,_=w.reversed,A="".concat(y).concat(E?"Mirror":""),T,P,$,B,I;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=O[1]-O[0],L=1/0,G=w.categoricalDomain.sort(m7);if(G.forEach(function(se,ie){ie>0&&(L=Math.min((se||0)-(G[ie-1]||0),L))}),Number.isFinite(L)){var q=L/F,z=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(T=q*z/2),w.padding==="no-gap"){var ee=Ni(e.barCategoryGap,q*z),H=q*z/2;T=H-ee-(H-ee)/z*ee}}}a==="xAxis"?P=[n.left+(S.left||0)+(T||0),n.left+n.width-(S.right||0)-(T||0)]:a==="yAxis"?P=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(T||0),n.top+n.height-(S.bottom||0)-(T||0)]:P=w.range,_&&(P=[P[1],P[0]]);var W=C9(w,i,v),J=W.scale,M=W.realScaleType;J.domain(O).range(P),P9(J);var U=B9(J,rn(rn({},w),{},{realScaleType:M}));a==="xAxis"?(I=y==="top"&&!E||y==="bottom"&&E,$=n.left,B=m[A]-I*w.height):a==="yAxis"&&(I=y==="left"&&!E||y==="right"&&E,$=m[A]-I*w.width,B=n.top);var ne=rn(rn(rn({},w),U),{},{realScaleType:M,x:$,y:B,scale:J,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return ne.bandSize=sf(ne,U),!w.hide&&a==="xAxis"?m[A]+=(I?-1:1)*ne.height:w.hide||(m[A]+=(I?-1:1)*ne.width),rn(rn({},x),{},dh({},j,ne))},{})},BT=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},_G=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return BT({x:r,y:n},{x:a,y:i})},qT=(function(){function t(e){xG(this,t),this.scale=e}return bG(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();dh(qT,"EPS",1e-4);var Iw=function(e){var r=Object.keys(e).reduce(function(n,a){return rn(rn({},n),{},dh({},a,qT.create(e[a])))},{});return rn(rn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return YK(a,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(a){return eG(a,function(i,o){return r[o].isInRange(i)})}})};function SG(t){return(t%180+180)%180}var NG=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SG(a),o=i*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},w0,kA;function kG(){if(kA)return w0;kA=1;var t=qa(),e=_c(),r=Xf();function n(a){return function(i,o,u){var d=Object(i);if(!e(i)){var f=t(o,3);i=r(i),o=function(m){return f(d[m],m,d)}}var p=a(i,o,u);return p>-1?d[f?i[p]:p]:void 0}}return w0=n,w0}var j0,OA;function OG(){if(OA)return j0;OA=1;var t=PT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return j0=e,j0}var _0,EA;function EG(){if(EA)return _0;EA=1;var t=t5(),e=qa(),r=OG(),n=Math.max;function a(i,o,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(i,e(o,3),f)}return _0=a,_0}var S0,AA;function AG(){if(AA)return S0;AA=1;var t=kG(),e=EG(),r=t(e);return S0=r,S0}AG();var CG=vP();const PG=Qe(CG);var TG=PG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UT=C.createContext(void 0),FT=C.createContext(void 0),zT=C.createContext(void 0),RG=C.createContext({}),WT=C.createContext(void 0),HT=C.createContext(0),VT=C.createContext(0),CA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=TG(i);return X.createElement(UT.Provider,{value:n},X.createElement(FT.Provider,{value:a},X.createElement(RG.Provider,{value:i},X.createElement(zT.Provider,{value:p},X.createElement(WT.Provider,{value:o},X.createElement(HT.Provider,{value:f},X.createElement(VT.Provider,{value:d},u)))))))},MG=function(){return C.useContext(WT)},KT=function(e){var r=C.useContext(UT);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},GT=function(e){var r=C.useContext(FT);r==null&&Oi();var n=r[e];return n==null&&Oi(),n},$G=function(){var e=C.useContext(zT);return e},YT=function(){return C.useContext(VT)},XT=function(){return C.useContext(HT)};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function IG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QT(n.key),n)}}function LG(t,e,r){return e&&DG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BG(t,e,r){return e=wf(e),qG(t,JT()?Reflect.construct(e,r||[],wf(t).constructor):e.apply(t,r))}function qG(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(t)}function UG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(t)}function FG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ab(t,e)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dw(t,e,r){return e=QT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QT(t){var e=zG(t,"string");return Ws(e)=="symbol"?e:e+""}function zG(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WG(t,e){return GG(t)||KG(t,e)||VG(t,e)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(t,e){if(t){if(typeof t=="string")return RA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function GG(t){if(Array.isArray(t))return t}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ib.apply(this,arguments)}var YG=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Le(e)?n=e(r):n=X.createElement("line",ib({},r,{className:"recharts-reference-line-line"})),n},XG=function(e,r,n,a,i,o,u,d,f){var p=i.x,m=i.y,v=i.width,x=i.height;if(n){var j=f.y,w=e.y.apply(j,{position:o});if(On(f,"discard")&&!e.y.isInRange(w))return null;var y=[{x:p+v,y:w},{x:p,y:w}];return d==="left"?y.reverse():y}if(r){var O=f.x,k=e.x.apply(O,{position:o});if(On(f,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:m+x},{x:k,y:m}];return u==="top"?S.reverse():S}if(a){var E=f.segment,_=E.map(function(A){return e.apply(A,{position:o})});return On(f,"discard")&&HK(_,function(A){return!e.isInRange(A)})?null:_}return null};function JG(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=MG(),p=KT(a),m=GT(i),v=$G();if(!f||!v)return null;bi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Iw({x:p.scale,y:m.scale}),j=Mt(e),w=Mt(r),y=n&&n.length===2,O=XG(x,j,w,y,v,t.position,p.orientation,m.orientation,t);if(!O)return null;var k=WG(O,2),S=k[0],E=S.x,_=S.y,A=k[1],T=A.x,P=A.y,$=On(t,"hidden")?"url(#".concat(f,")"):void 0,B=TA(TA({clipPath:$},Be(t,!0)),{},{x1:E,y1:_,x2:T,y2:P});return X.createElement(gt,{className:ze("recharts-reference-line",u)},YG(o,B),Qt.renderCallByParent(t,_G({x1:E,y1:_,x2:T,y2:P})))}var Lw=(function(t){function e(){return IG(this,e),BG(this,e,arguments)}return FG(e,t),LG(e,[{key:"render",value:function(){return X.createElement(JG,this.props)}}])})(X.Component);Dw(Lw,"displayName","ReferenceLine");Dw(Lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function MA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(r),!0).forEach(function(n){fh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e4(n.key),n)}}function eY(t,e,r){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tY(t,e,r){return e=jf(e),rY(t,ZT()?Reflect.construct(e,r||[],jf(t).constructor):e.apply(t,r))}function rY(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(t)}function nY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(t)}function aY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ob(t,e)}function fh(t,e,r){return e=e4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t){var e=iY(t,"string");return Hs(e)=="symbol"?e:e+""}function iY(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sY=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=Iw({x:a.scale,y:i.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return On(e,"discard")&&!o.isInRange(u)?null:u},hh=(function(t){function e(){return QG(this,e),tY(this,e,arguments)}return aY(e,t),eY(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=Mt(a),p=Mt(i);if(bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=sY(this.props);if(!m)return null;var v=m.x,x=m.y,j=this.props,w=j.shape,y=j.className,O=On(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=$A($A({clipPath:O},Be(this.props,!0)),{},{cx:v,cy:x});return X.createElement(gt,{className:ze("recharts-reference-dot",y)},e.renderDot(w,k),Qt.renderCallByParent(this.props,{x:v-o,y:x-o,width:2*o,height:2*o}))}}])})(X.Component);fh(hh,"displayName","ReferenceDot");fh(hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fh(hh,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Le(t)?r=t(e):r=X.createElement($w,sb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function cY(t,e,r){return e&&lY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uY(t,e,r){return e=_f(e),dY(t,t4()?Reflect.construct(e,r||[],_f(t).constructor):e.apply(t,r))}function dY(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(t)}function fY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function _f(t){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(t)}function hY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cb(t,e)}function ph(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=pY(t,"string");return Vs(e)=="symbol"?e:e+""}function pY(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mY=function(e,r,n,a,i){var o=i.x1,u=i.x2,d=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var v=Iw({x:p.scale,y:m.scale}),x={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},j={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(f,{position:"end"}):v.y.rangeMax};return On(i,"discard")&&(!v.isInRange(x)||!v.isInRange(j))?null:BT(x,j)},mh=(function(t){function e(){return oY(this,e),uY(this,e,arguments)}return hY(e,t),cY(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;bi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Mt(a),v=Mt(i),x=Mt(o),j=Mt(u),w=this.props.shape;if(!m&&!v&&!x&&!j&&!w)return null;var y=mY(m,v,x,j,this.props);if(!y&&!w)return null;var O=On(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(gt,{className:ze("recharts-reference-area",d)},e.renderRect(w,DA(DA({clipPath:O},Be(this.props,!0)),y)),Qt.renderCallByParent(this.props,y))}}])})(X.Component);ph(mh,"displayName","ReferenceArea");ph(mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ph(mh,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Le(t)?r=t(e):r=X.createElement(Mw,lb({},e,{className:"recharts-reference-area-rect"})),r});function n4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function gY(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return NG(n,r)}function vY(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:n?a:i,end:n?a+o:i+u}:{start:n?a+o:i+u,end:n?a:i}}function Sf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function yY(t,e){return n4(t,e+1)}function xY(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,m=function(){var j=n?.[d];if(j===void 0)return{v:n4(n,f)};var w=d,y,O=function(){return y===void 0&&(y=r(j,w)),y},k=j.coordinate,S=d===0||Sf(t,k,O,p,u);S||(d=0,p=o,f+=1),S&&(p=k+t*(O()/2+a),d+=f)},v;f<=i.length;)if(v=m(),v)return v.v;return[]}function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function LA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(r),!0).forEach(function(n){bY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bY(t,e,r){return e=wY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wY(t){var e=jY(t,"string");return mc(e)=="symbol"?e:e+""}function jY(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,u=e.start,d=e.end,f=function(v){var x=i[v],j,w=function(){return j===void 0&&(j=r(x,v)),j};if(v===o-1){var y=t*(x.coordinate+t*w()/2-d);i[v]=x=Jt(Jt({},x),{},{tickCoord:y>0?x.coordinate-y*t:x.coordinate})}else i[v]=x=Jt(Jt({},x),{},{tickCoord:x.coordinate});var O=Sf(t,x.tickCoord,w,u,d);O&&(d=x.tickCoord-t*(w()/2+a),i[v]=Jt(Jt({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return i}function SY(t,e,r,n,a,i){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(i){var p=n[u-1],m=r(p,u-1),v=t*(p.coordinate+t*m/2-f);o[u-1]=p=Jt(Jt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var x=Sf(t,p.tickCoord,function(){return m},d,f);x&&(f=p.tickCoord-t*(m/2+a),o[u-1]=Jt(Jt({},p),{},{isShow:!0}))}for(var j=i?u-1:u,w=function(k){var S=o[k],E,_=function(){return E===void 0&&(E=r(S,k)),E};if(k===0){var A=t*(S.coordinate-t*_()/2-d);o[k]=S=Jt(Jt({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[k]=S=Jt(Jt({},S),{},{tickCoord:S.coordinate});var T=Sf(t,S.tickCoord,_,d,f);T&&(d=S.tickCoord+t*(_()/2+a),o[k]=Jt(Jt({},S),{},{isShow:!0}))},y=0;y<j;y++)w(y);return o}function NY(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(pe(d)||lo.isSsr)return yY(a,typeof d=="number"&&pe(d)?d:0);var v=[],x=u==="top"||u==="bottom"?"width":"height",j=p&&x==="width"?wl(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,E){var _=Le(f)?f(S.value,E):S.value;return x==="width"?gY(wl(_,{fontSize:e,letterSpacing:r}),j,m):wl(_,{fontSize:e,letterSpacing:r})[x]},y=a.length>=2?sn(a[1].coordinate-a[0].coordinate):1,O=vY(i,y,x);return d==="equidistantPreserveStart"?xY(y,O,w,a,o):(d==="preserveStart"||d==="preserveStartEnd"?v=SY(y,O,w,a,o,d==="preserveStartEnd"):v=_Y(y,O,w,a,o),v.filter(function(k){return k.isShow}))}var kY=["viewBox"],OY=["viewBox"],EY=["ticks"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bs.apply(this,arguments)}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){Bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N0(t,e){if(t==null)return{};var r=AY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i4(n.key),n)}}function PY(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TY(t,e,r){return e=Nf(e),RY(t,a4()?Reflect.construct(e,r||[],Nf(t).constructor):e.apply(t,r))}function RY(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(t)}function MY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(t)}function $Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ub(t,e)}function Bw(t,e,r){return e=i4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i4(t){var e=IY(t,"string");return Ks(e)=="symbol"?e:e+""}function IY(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gh=(function(t){function e(r){var n;return CY(this,e),n=TY(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return $Y(e,t),PY(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=N0(n,kY),u=this.props,d=u.viewBox,f=N0(u,OY);return!Ns(i,d)||!Ns(o,f)||!Ns(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,u=a.width,d=a.height,f=a.orientation,p=a.tickSize,m=a.mirror,v=a.tickMargin,x,j,w,y,O,k,S=m?-1:1,E=n.tickSize||p,_=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=j=n.coordinate,y=o+ +!m*d,w=y-S*E,k=w-S*v,O=_;break;case"left":w=y=n.coordinate,j=i+ +!m*u,x=j-S*E,O=x-S*v,k=_;break;case"right":w=y=n.coordinate,j=i+ +m*u,x=j+S*E,O=x+S*v,k=_;break;default:x=j=n.coordinate,y=o+ +m*d,w=y+S*E,k=w+S*v,O=_;break}return{line:{x1:x,y1:w,x2:j,y2:y},tick:{x:O,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=Pt(Pt(Pt({},Be(this.props,!1)),Be(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);m=Pt(Pt({},m),{},{x1:a,y1:i+v*u,x2:a+o,y2:i+v*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);m=Pt(Pt({},m),{},{x1:a+x*o,y1:i,x2:a+x*o,y2:i+u})}return X.createElement("line",bs({},m,{className:ze("recharts-cartesian-axis-line",qr(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,v=u.unit,x=NY(Pt(Pt({},this.props),{},{ticks:n}),a,i),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Be(this.props,!1),O=Be(p,!1),k=Pt(Pt({},y),{},{fill:"none"},Be(d,!1)),S=x.map(function(E,_){var A=o.getTickLineCoord(E),T=A.line,P=A.tick,$=Pt(Pt(Pt(Pt({textAnchor:j,verticalAnchor:w},y),{},{stroke:"none",fill:f},O),P),{},{index:_,payload:E,visibleTicksCount:x.length,tickFormatter:m});return X.createElement(gt,bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Md(o.props,E,_)),d&&X.createElement("line",bs({},k,T,{className:ze("recharts-cartesian-axis-tick-line",qr(d,"className"))})),p&&e.renderTickItem(p,$,"".concat(Le(m)?m(E.value,_):E.value).concat(v||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var m=this.props,v=m.ticks,x=N0(m,EY),j=v;return Le(d)&&(j=v&&v.length>0?d(this.props):d(x)),o<=0||u<=0||!j||!j.length?null:X.createElement(gt,{className:ze("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,u=ze(a.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,Pt(Pt({},a),{},{className:u})):Le(n)?o=n(Pt(Pt({},a),{},{className:u})):o=X.createElement(Hd,bs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(C.Component);Bw(gh,"displayName","CartesianAxis");Bw(gh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DY=["layout","type","stroke","connectNulls","isRange","ref"],LY=["key"],s4;function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function o4(t,e){if(t==null)return{};var r=BY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yi.apply(this,arguments)}function UA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(r),!0).forEach(function(n){jn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c4(n.key),n)}}function UY(t,e,r){return e&&FA(t.prototype,e),r&&FA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FY(t,e,r){return e=kf(e),zY(t,l4()?Reflect.construct(e,r||[],kf(t).constructor):e.apply(t,r))}function zY(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},db(t,e)}function jn(t,e,r){return e=c4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4(t){var e=VY(t,"string");return Gs(e)=="symbol"?e:e+""}function VY(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wa=(function(t){function e(){var r;qY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FY(this,e,[].concat(a)),jn(r,"state",{isAnimationFinished:!0}),jn(r,"id",jc("recharts-area-")),jn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Le(o)&&o()}),jn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Le(o)&&o()}),r}return HY(e,t),UY(e,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var d=this.props,f=d.dot,p=d.points,m=d.dataKey,v=Be(this.props,!1),x=Be(f,!0),j=p.map(function(y,O){var k=Oa(Oa(Oa({key:"dot-".concat(O),r:3},v),x),{},{index:O,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:p});return e.renderDotItem(f,k)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return X.createElement(gt,yi({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].x,f=o[o.length-1].x,p=n*Math.abs(d-f),m=Pa(o.map(function(v){return v.y||0}));return pe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Pa(i.map(function(v){return v.y||0})),m)),pe(m)?X.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].y,f=o[o.length-1].y,p=n*Math.abs(d-f),m=Pa(o.map(function(v){return v.x||0}));return pe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Pa(i.map(function(v){return v.x||0})),m)),pe(m)?X.createElement("rect",{x:0,y:d<f?d:d-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var u=this.props,d=u.layout,f=u.type,p=u.stroke,m=u.connectNulls,v=u.isRange;u.ref;var x=o4(u,DY);return X.createElement(gt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},X.createElement(Sl,yi({},Be(x,!0),{points:n,connectNulls:m,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&X.createElement(Sl,yi({},Be(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:n})),p!=="none"&&v&&X.createElement(Sl,yi({},Be(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,u=o.points,d=o.baseLine,f=o.isAnimationActive,p=o.animationBegin,m=o.animationDuration,v=o.animationEasing,x=o.animationId,j=this.state,w=j.prevPoints,y=j.prevBaseLine;return X.createElement(ea,{begin:p,duration:m,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var k=O.t;if(w){var S=w.length/u.length,E=u.map(function(P,$){var B=Math.floor($*S);if(w[B]){var I=w[B],F=Lr(I.x,P.x),L=Lr(I.y,P.y);return Oa(Oa({},P),{},{x:F(k),y:L(k)})}return P}),_;if(pe(d)&&typeof d=="number"){var A=Lr(y,d);_=A(k)}else if(qe(d)||so(d)){var T=Lr(y,0);_=T(k)}else _=d.map(function(P,$){var B=Math.floor($*S);if(y[B]){var I=y[B],F=Lr(I.x,P.x),L=Lr(I.y,P.y);return Oa(Oa({},P),{},{x:F(k),y:L(k)})}return P});return i.renderAreaStatically(E,_,n,a)}return X.createElement(gt,null,X.createElement("defs",null,X.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(k))),X.createElement(gt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,u=i.baseLine,d=i.isAnimationActive,f=this.state,p=f.prevPoints,m=f.prevBaseLine,v=f.totalLength;return d&&o&&o.length&&(!p&&v>0||!Gl(p,o)||!Gl(m,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,u,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,u=a.points,d=a.className,f=a.top,p=a.left,m=a.xAxis,v=a.yAxis,x=a.width,j=a.height,w=a.isAnimationActive,y=a.id;if(i||!u||!u.length)return null;var O=this.state.isAnimationFinished,k=u.length===1,S=ze("recharts-area",d),E=m&&m.allowDataOverflow,_=v&&v.allowDataOverflow,A=E||_,T=qe(y)?this.id:y,P=(n=Be(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=P.r,B=$===void 0?3:$,I=P.strokeWidth,F=I===void 0?2:I,L=S7(o)?o:{},G=L.clipDot,q=G===void 0?!0:G,z=B*2+F;return X.createElement(gt,{className:S},E||_?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:E?p:p-x/2,y:_?f:f-j/2,width:E?x:x*2,height:_?j:j*2})),!q&&X.createElement("clipPath",{id:"clipPath-dots-".concat(T)},X.createElement("rect",{x:p-z/2,y:f-z/2,width:x+z,height:j+z}))):null,k?null:this.renderArea(A,T),(o||k)&&this.renderDots(A,q,T),(!w||O)&&Ia.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(C.PureComponent);s4=Wa;jn(Wa,"displayName","Area");jn(Wa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!lo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});jn(Wa,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,o=e.props.baseValue,u=o??i;if(pe(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});jn(Wa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,d=t.dataKey,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,x=e.layout,j=f&&f.length,w=s4.getBaseValue(e,r,n,a),y=x==="horizontal",O=!1,k=m.map(function(E,_){var A;j?A=f[p+_]:(A=Or(E,d),Array.isArray(A)?O=!0:A=[w,A]);var T=A[1]==null||j&&Or(E,d)==null;return y?{x:lE({axis:n,ticks:i,bandSize:u,entry:E,index:_}),y:T?null:a.scale(A[1]),value:A,payload:E}:{x:T?null:n.scale(A[1]),y:lE({axis:a,ticks:o,bandSize:u,entry:E,index:_}),value:A,payload:E}}),S;return j||O?S=k.map(function(E){var _=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:_!=null&&E.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:E.y}}):S=y?a.scale(w):n.scale(w),Oa({points:k,baseLine:S,layout:x,isRange:O},v)});jn(Wa,"renderDotItem",function(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(Le(t))r=t(e);else{var n=ze("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=o4(e,LY);r=X.createElement($w,yi({},i,{key:a,className:n}))}return r});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function KY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f4(n.key),n)}}function YY(t,e,r){return e&&GY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XY(t,e,r){return e=Of(e),JY(t,u4()?Reflect.construct(e,r||[],Of(t).constructor):e.apply(t,r))}function JY(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(t)}function QY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(t)}function ZY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fb(t,e)}function d4(t,e,r){return e=f4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f4(t){var e=eX(t,"string");return Ys(e)=="symbol"?e:e+""}function eX(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function tX(t){var e=t.xAxisId,r=YT(),n=XT(),a=KT(e);return a==null?null:C.createElement(gh,hb({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vi(o,!0)}}))}var vh=(function(t){function e(){return KY(this,e),XY(this,e,arguments)}return ZY(e,t),YY(e,[{key:"render",value:function(){return C.createElement(tX,this.props)}}])})(C.Component);d4(vh,"displayName","XAxis");d4(vh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function rX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m4(n.key),n)}}function aX(t,e,r){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iX(t,e,r){return e=Ef(e),sX(t,h4()?Reflect.construct(e,r||[],Ef(t).constructor):e.apply(t,r))}function sX(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oX(t)}function oX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(t)}function lX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pb(t,e)}function p4(t,e,r){return e=m4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4(t){var e=cX(t,"string");return Xs(e)=="symbol"?e:e+""}function cX(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(this,arguments)}var uX=function(e){var r=e.yAxisId,n=YT(),a=XT(),i=GT(r);return i==null?null:C.createElement(gh,mb({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return vi(u,!0)}}))},yh=(function(t){function e(){return rX(this,e),iX(this,e,arguments)}return lX(e,t),aX(e,[{key:"render",value:function(){return C.createElement(uX,this.props)}}])})(C.Component);p4(yh,"displayName","YAxis");p4(yh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zA(t){return pX(t)||hX(t)||fX(t)||dX()}function dX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(t,e){if(t){if(typeof t=="string")return gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(t,e)}}function hX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pX(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vb=function(e,r,n,a,i){var o=cn(e,Lw),u=cn(e,hh),d=[].concat(zA(o),zA(u)),f=cn(e,mh),p="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(w,y){if(y.props[p]===n&&On(y.props,"extendDomain")&&pe(y.props[m])){var O=y.props[m];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},v)),f.length){var x="".concat(m,"1"),j="".concat(m,"2");v=f.reduce(function(w,y){if(y.props[p]===n&&On(y.props,"extendDomain")&&pe(y.props[x])&&pe(y.props[j])){var O=y.props[x],k=y.props[j];return[Math.min(w[0],O,k),Math.max(w[1],O,k)]}return w},v)}return i&&i.length&&(v=i.reduce(function(w,y){return pe(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},v)),v},k0={exports:{}},WA;function mX(){return WA||(WA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,m||d,v),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],x]:d._events[j].push(x):(d._events[j]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,j=new Array(x);v<x;v++)j[v]=m[v].fn;return j},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,v,x,j){var w=r?r+f:f;if(!this._events[w])return!1;var y=this._events[w],O=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),O){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,v),!0;case 5:return y.fn.call(y.context,p,m,v,x),!0;case 6:return y.fn.call(y.context,p,m,v,x,j),!0}for(S=1,k=new Array(O-1);S<O;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var E=y.length,_;for(S=0;S<E;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),O){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,p);break;case 3:y[S].fn.call(y[S].context,p,m);break;case 4:y[S].fn.call(y[S].context,p,m,v);break;default:if(!k)for(_=1,k=new Array(O-1);_<O;_++)k[_-1]=arguments[_];y[S].fn.apply(y[S].context,k)}}return!0},u.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,v){var x=r?r+f:f;if(!this._events[x])return this;if(!p)return o(this,x),this;var j=this._events[x];if(j.fn)j.fn===p&&(!v||j.once)&&(!m||j.context===m)&&o(this,x);else{for(var w=0,y=[],O=j.length;w<O;w++)(j[w].fn!==p||v&&!j[w].once||m&&j[w].context!==m)&&y.push(j[w]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(k0)),k0.exports}var gX=mX();const vX=Qe(gX);var O0=new vX,E0="recharts.syncMouseEvents";function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function yX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g4(n.key),n)}}function bX(t,e,r){return e&&xX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A0(t,e,r){return e=g4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g4(t){var e=wX(t,"string");return gc(e)=="symbol"?e:e+""}function wX(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jX=(function(){function t(){yX(this,t),A0(this,"activeIndex",0),A0(this,"coordinateList",[]),A0(this,"layout","horizontal")}return bX(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+f,v=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function _X(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function SX(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function v4(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Vt(e,r,n,a),u=Vt(e,r,n,i);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function NX(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,m=e.angle,v=Vt(u,d,f,m),x=Vt(u,d,p,m);n=v.x,a=v.y,i=x.x,o=x.y}else return v4(e);return[{x:n,y:a},{x:i,y:o}]}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=EX(t,"string");return vc(e)=="symbol"?e:e+""}function EX(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AX(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!o||v!=="ScatterChart"&&a!=="axis")return null;var j,w=Sl;if(v==="ScatterChart")j=o,w=HV;else if(v==="BarChart")j=SX(m,o,d,p),w=Mw;else if(m==="radial"){var y=v4(o),O=y.cx,k=y.cy,S=y.radius,E=y.startAngle,_=y.endAngle;j={cx:O,cy:k,startAngle:E,endAngle:_,innerRadius:S,outerRadius:S},w=_T}else j={points:NX(m,o,d)},w=Sl;var A=nd(nd(nd(nd({stroke:"#ccc",pointerEvents:"none"},d),j),Be(x,!1)),{},{payload:u,payloadIndex:f,className:ze("recharts-tooltip-cursor",x.className)});return C.isValidElement(x)?C.cloneElement(x,A):C.createElement(w,A)}var CX=["item"],PX=["children","className","width","height","style","compact","title","desc"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ws.apply(this,arguments)}function VA(t,e){return MX(t)||RX(t,e)||x4(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return u}}function MX(t){if(Array.isArray(t))return t}function KA(t,e){if(t==null)return{};var r=$X(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $X(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b4(n.key),n)}}function LX(t,e,r){return e&&DX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BX(t,e,r){return e=Af(e),qX(t,y4()?Reflect.construct(e,r||[],Af(t).constructor):e.apply(t,r))}function qX(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UX(t)}function UX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(t)}function FX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yb(t,e)}function Qs(t){return HX(t)||WX(t)||x4(t)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return xb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xb(t,e)}}function WX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HX(t){if(Array.isArray(t))return xb(t)}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(r),!0).forEach(function(n){Ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ae(t,e,r){return e=b4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b4(t){var e=VX(t,"string");return Js(e)=="symbol"?e:e+""}function VX(t,e){if(Js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KX={xAxis:["bottom","top"],yAxis:["left","right"]},GX={width:"100%",height:"100%"},w4={x:0,y:0};function ad(t){return t}var YX=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},XX=function(e,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return ae(ae(ae({},a),Vt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var d=i.coordinate,f=a.angle;return ae(ae(ae({},a),Vt(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return w4},xh=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Qs(u),Qs(f)):u},[]);return o.length>0?o:e&&e.length&&pe(a)&&pe(i)?e.slice(a,i+1):[]};function j4(t){return t==="number"?[0,"auto"]:void 0}var bb=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,u=xh(r,e);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?u:m;v=Td(x,o.dataKey,a)}else v=m&&m[n]||u[n];return v?[].concat(Qs(d),[bT(f,v)]):d},[])},YA=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=YX(i,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=S9(o,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,v=bb(e,r,p,m),x=XX(n,u,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},JX=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,x=yT(p,i);return n.reduce(function(j,w){var y,O=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,k=O.type,S=O.dataKey,E=O.allowDataOverflow,_=O.allowDuplicatedCategory,A=O.scale,T=O.ticks,P=O.includeHidden,$=O[o];if(j[$])return j;var B=xh(e.data,{graphicalItems:a.filter(function(U){var ne,se=o in U.props?U.props[o]:(ne=U.type.defaultProps)===null||ne===void 0?void 0:ne[o];return se===$}),dataStartIndex:d,dataEndIndex:f}),I=B.length,F,L,G;_X(O.domain,E,k)&&(F=Bx(O.domain,null,E),x&&(k==="number"||A!=="auto")&&(G=_l(B,S,"category")));var q=j4(k);if(!F||F.length===0){var z,ee=(z=O.domain)!==null&&z!==void 0?z:q;if(S){if(F=_l(B,S,k),k==="category"&&x){var H=p7(F);_&&H?(L=F,F=gf(0,I)):_||(F=fE(ee,F,w).reduce(function(U,ne){return U.indexOf(ne)>=0?U:[].concat(Qs(U),[ne])},[]))}else if(k==="category")_?F=F.filter(function(U){return U!==""&&!qe(U)}):F=fE(ee,F,w).reduce(function(U,ne){return U.indexOf(ne)>=0||ne===""||qe(ne)?U:[].concat(Qs(U),[ne])},[]);else if(k==="number"){var W=A9(B,a.filter(function(U){var ne,se,ie=o in U.props?U.props[o]:(ne=U.type.defaultProps)===null||ne===void 0?void 0:ne[o],me="hide"in U.props?U.props.hide:(se=U.type.defaultProps)===null||se===void 0?void 0:se.hide;return ie===$&&(P||!me)}),S,i,p);W&&(F=W)}x&&(k==="number"||A!=="auto")&&(G=_l(B,S,"category"))}else x?F=gf(0,I):u&&u[$]&&u[$].hasStack&&k==="number"?F=v==="expand"?[0,1]:xT(u[$].stackGroups,d,f):F=vT(B,a.filter(function(U){var ne=o in U.props?U.props[o]:U.type.defaultProps[o],se="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return ne===$&&(P||!se)}),k,p,!0);if(k==="number")F=vb(m,F,$,i,T),ee&&(F=Bx(ee,F,E));else if(k==="category"&&ee){var J=ee,M=F.every(function(U){return J.indexOf(U)>=0});M&&(F=J)}}return ae(ae({},j),{},Ae({},$,ae(ae({},O),{},{axisType:i,domain:F,categoricalDomain:G,duplicateDomain:L,originalDomain:(y=O.domain)!==null&&y!==void 0?y:q,isCategorical:x,layout:p})))},{})},QX=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,v=xh(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=v.length,j=yT(p,i),w=-1;return n.reduce(function(y,O){var k=O.type.defaultProps!==void 0?ae(ae({},O.type.defaultProps),O.props):O.props,S=k[o],E=j4("number");if(!y[S]){w++;var _;return j?_=gf(0,x):u&&u[S]&&u[S].hasStack?(_=xT(u[S].stackGroups,d,f),_=vb(m,_,S,i)):(_=Bx(E,vT(v,n.filter(function(A){var T,P,$=o in A.props?A.props[o]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[o],B="hide"in A.props?A.props.hide:(P=A.type.defaultProps)===null||P===void 0?void 0:P.hide;return $===S&&!B}),"number",p),a.defaultProps.allowDataOverflow),_=vb(m,_,S,i)),ae(ae({},y),{},Ae({},S,ae(ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:qr(KX,"".concat(i,".").concat(w%2),null),domain:_,originalDomain:E,isCategorical:j,layout:p})))}return y},{})},ZX=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),v=cn(p,i),x={};return v&&v.length?x=JX(e,{axes:v,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(x=QX(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},eJ=function(e){var r=gs(e),n=vi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ow(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sf(r,n)}},XA=function(e){var r=e.children,n=e.defaultShowTooltip,a=_r(r,Fs),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},tJ=function(e){return!e||!e.length?!1:e.some(function(r){var n=Vn(r&&r.type);return n&&n.indexOf("Bar")>=0})},JA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rJ=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,v=n.margin||{},x=_r(m,Fs),j=_r(m,ks),w=Object.keys(d).reduce(function(_,A){var T=d[A],P=T.orientation;return!T.mirror&&!T.hide?ae(ae({},_),{},Ae({},P,_[P]+T.width)):_},{left:v.left||0,right:v.right||0}),y=Object.keys(o).reduce(function(_,A){var T=o[A],P=T.orientation;return!T.mirror&&!T.hide?ae(ae({},_),{},Ae({},P,qr(_,"".concat(P))+T.height)):_},{top:v.top||0,bottom:v.bottom||0}),O=ae(ae({},y),w),k=O.bottom;x&&(O.bottom+=x.props.height||Fs.defaultProps.height),j&&r&&(O=O9(O,a,n,r));var S=f-O.left-O.right,E=p-O.top-O.bottom;return ae(ae({brushBottom:k},O),{},{width:Math.max(S,0),height:Math.max(E,0)})},nJ=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},aJ=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(O,k){var S=k.graphicalItems,E=k.stackGroups,_=k.offset,A=k.updateId,T=k.dataStartIndex,P=k.dataEndIndex,$=O.barSize,B=O.layout,I=O.barGap,F=O.barCategoryGap,L=O.maxBarSize,G=JA(B),q=G.numericAxisName,z=G.cateAxisName,ee=tJ(S),H=[];return S.forEach(function(W,J){var M=xh(O.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:P}),U=W.type.defaultProps!==void 0?ae(ae({},W.type.defaultProps),W.props):W.props,ne=U.dataKey,se=U.maxBarSize,ie=U["".concat(q,"Id")],me=U["".concat(z,"Id")],Re={},ge=d.reduce(function(Ye,at){var er=k["".concat(at.axisType,"Map")],mr=U["".concat(at.axisType,"Id")];er&&er[mr]||at.axisType==="zAxis"||Oi();var lt=er[mr];return ae(ae({},Ye),{},Ae(Ae({},at.axisType,lt),"".concat(at.axisType,"Ticks"),vi(lt)))},Re),oe=ge[z],be=ge["".concat(z,"Ticks")],ke=E&&E[ie]&&E[ie].hasStack&&U9(W,E[ie].stackGroups),Z=Vn(W.type).indexOf("Bar")>=0,Se=sf(oe,be),Ie=[],Ve=ee&&N9({barSize:$,stackGroups:E,totalSize:nJ(ge,z)});if(Z){var et,vt,he=qe(se)?L:se,Ue=(et=(vt=sf(oe,be,!0))!==null&&vt!==void 0?vt:he)!==null&&et!==void 0?et:0;Ie=k9({barGap:I,barCategoryGap:F,bandSize:Ue!==Se?Ue:Se,sizeList:Ve[me],maxBarSize:he}),Ue!==Se&&(Ie=Ie.map(function(Ye){return ae(ae({},Ye),{},{position:ae(ae({},Ye.position),{},{offset:Ye.position.offset-Ue/2})})}))}var Me=W&&W.type&&W.type.getComposedData;Me&&H.push({props:ae(ae({},Me(ae(ae({},ge),{},{displayedData:M,props:O,dataKey:ne,item:W,bandSize:Se,barPosition:Ie,offset:_,stackedData:ke,layout:B,dataStartIndex:T,dataEndIndex:P}))),{},Ae(Ae(Ae({key:W.key||"item-".concat(J)},q,ge[q]),z,ge[z]),"animationId",A)),childIndex:O7(W,O.children),item:W})}),H},x=function(O,k){var S=O.props,E=O.dataStartIndex,_=O.dataEndIndex,A=O.updateId;if(!k2({props:S}))return null;var T=S.children,P=S.layout,$=S.stackOffset,B=S.data,I=S.reverseStackOrder,F=JA(P),L=F.numericAxisName,G=F.cateAxisName,q=cn(T,n),z=L9(B,q,"".concat(L,"Id"),"".concat(G,"Id"),$,I),ee=d.reduce(function(U,ne){var se="".concat(ne.axisType,"Map");return ae(ae({},U),{},Ae({},se,ZX(S,ae(ae({},ne),{},{graphicalItems:q,stackGroups:ne.axisType===L&&z,dataStartIndex:E,dataEndIndex:_}))))},{}),H=rJ(ae(ae({},ee),{},{props:S,graphicalItems:q}),k?.legendBBox);Object.keys(ee).forEach(function(U){ee[U]=p(S,ee[U],H,U.replace("Map",""),r)});var W=ee["".concat(G,"Map")],J=eJ(W),M=v(S,ae(ae({},ee),{},{dataStartIndex:E,dataEndIndex:_,updateId:A,graphicalItems:q,stackGroups:z,offset:H}));return ae(ae({formattedGraphicalItems:M,graphicalItems:q,offset:H,stackGroups:z},J),ee)},j=(function(y){function O(k){var S,E,_;return IX(this,O),_=BX(this,O,[k]),Ae(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(_,"accessibilityManager",new jX),Ae(_,"handleLegendBBoxUpdate",function(A){if(A){var T=_.state,P=T.dataStartIndex,$=T.dataEndIndex,B=T.updateId;_.setState(ae({legendBBox:A},x({props:_.props,dataStartIndex:P,dataEndIndex:$,updateId:B},ae(ae({},_.state),{},{legendBBox:A}))))}}),Ae(_,"handleReceiveSyncEvent",function(A,T,P){if(_.props.syncId===A){if(P===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(T)}}),Ae(_,"handleBrushChange",function(A){var T=A.startIndex,P=A.endIndex;if(T!==_.state.dataStartIndex||P!==_.state.dataEndIndex){var $=_.state.updateId;_.setState(function(){return ae({dataStartIndex:T,dataEndIndex:P},x({props:_.props,dataStartIndex:T,dataEndIndex:P,updateId:$},_.state))}),_.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Ae(_,"handleMouseEnter",function(A){var T=_.getMouseInfo(A);if(T){var P=ae(ae({},T),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var $=_.props.onMouseEnter;Le($)&&$(P,A)}}),Ae(_,"triggeredAfterMouseMove",function(A){var T=_.getMouseInfo(A),P=T?ae(ae({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var $=_.props.onMouseMove;Le($)&&$(P,A)}),Ae(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ae(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ae(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Ae(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var P=_.props.onMouseLeave;Le(P)&&P(T,A)}),Ae(_,"handleOuterEvent",function(A){var T=k7(A),P=qr(_.props,"".concat(T));if(T&&Le(P)){var $,B;/.*touch.*/i.test(T)?B=_.getMouseInfo(A.changedTouches[0]):B=_.getMouseInfo(A),P(($=B)!==null&&$!==void 0?$:{},A)}}),Ae(_,"handleClick",function(A){var T=_.getMouseInfo(A);if(T){var P=ae(ae({},T),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var $=_.props.onClick;Le($)&&$(P,A)}}),Ae(_,"handleMouseDown",function(A){var T=_.props.onMouseDown;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ae(_,"handleMouseUp",function(A){var T=_.props.onMouseUp;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ae(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ae(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Ae(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Ae(_,"handleDoubleClick",function(A){var T=_.props.onDoubleClick;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ae(_,"handleContextMenu",function(A){var T=_.props.onContextMenu;if(Le(T)){var P=_.getMouseInfo(A);T(P,A)}}),Ae(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&O0.emit(E0,_.props.syncId,A,_.eventEmitterSymbol)}),Ae(_,"applySyncEvent",function(A){var T=_.props,P=T.layout,$=T.syncMethod,B=_.state.updateId,I=A.dataStartIndex,F=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(ae({dataStartIndex:I,dataEndIndex:F},x({props:_.props,dataStartIndex:I,dataEndIndex:F,updateId:B},_.state)));else if(A.activeTooltipIndex!==void 0){var L=A.chartX,G=A.chartY,q=A.activeTooltipIndex,z=_.state,ee=z.offset,H=z.tooltipTicks;if(!ee)return;if(typeof $=="function")q=$(H,A);else if($==="value"){q=-1;for(var W=0;W<H.length;W++)if(H[W].value===A.activeLabel){q=W;break}}var J=ae(ae({},ee),{},{x:ee.left,y:ee.top}),M=Math.min(L,J.x+J.width),U=Math.min(G,J.y+J.height),ne=H[q]&&H[q].value,se=bb(_.state,_.props.data,q),ie=H[q]?{x:P==="horizontal"?H[q].coordinate:M,y:P==="horizontal"?U:H[q].coordinate}:w4;_.setState(ae(ae({},A),{},{activeLabel:ne,activeCoordinate:ie,activePayload:se,activeTooltipIndex:q}))}else _.setState(A)}),Ae(_,"renderCursor",function(A){var T,P=_.state,$=P.isTooltipActive,B=P.activeCoordinate,I=P.activePayload,F=P.offset,L=P.activeTooltipIndex,G=P.tooltipAxisBandSize,q=_.getTooltipEventType(),z=(T=A.props.active)!==null&&T!==void 0?T:$,ee=_.props.layout,H=A.key||"_recharts-cursor";return X.createElement(AX,{key:H,activeCoordinate:B,activePayload:I,activeTooltipIndex:L,chartName:r,element:A,isActive:z,layout:ee,offset:F,tooltipAxisBandSize:G,tooltipEventType:q})}),Ae(_,"renderPolarAxis",function(A,T,P){var $=qr(A,"type.axisType"),B=qr(_.state,"".concat($,"Map")),I=A.type.defaultProps,F=I!==void 0?ae(ae({},I),A.props):A.props,L=B&&B[F["".concat($,"Id")]];return C.cloneElement(A,ae(ae({},L),{},{className:ze($,L.className),key:A.key||"".concat(T,"-").concat(P),ticks:vi(L,!0)}))}),Ae(_,"renderPolarGrid",function(A){var T=A.props,P=T.radialLines,$=T.polarAngles,B=T.polarRadius,I=_.state,F=I.radiusAxisMap,L=I.angleAxisMap,G=gs(F),q=gs(L),z=q.cx,ee=q.cy,H=q.innerRadius,W=q.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray($)?$:vi(q,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(B)?B:vi(G,!0).map(function(J){return J.coordinate}),cx:z,cy:ee,innerRadius:H,outerRadius:W,key:A.key||"polar-grid",radialLines:P})}),Ae(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,T=_.props,P=T.children,$=T.width,B=T.height,I=_.props.margin||{},F=$-(I.left||0)-(I.right||0),L=mT({children:P,formattedGraphicalItems:A,legendWidth:F,legendContent:f});if(!L)return null;var G=L.item,q=KA(L,CX);return C.cloneElement(G,ae(ae({},q),{},{chartWidth:$,chartHeight:B,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ae(_,"renderTooltip",function(){var A,T=_.props,P=T.children,$=T.accessibilityLayer,B=_r(P,bn);if(!B)return null;var I=_.state,F=I.isTooltipActive,L=I.activeCoordinate,G=I.activePayload,q=I.activeLabel,z=I.offset,ee=(A=B.props.active)!==null&&A!==void 0?A:F;return C.cloneElement(B,{viewBox:ae(ae({},z),{},{x:z.left,y:z.top}),active:ee,label:q,payload:ee?G:[],coordinate:L,accessibilityLayer:$})}),Ae(_,"renderBrush",function(A){var T=_.props,P=T.margin,$=T.data,B=_.state,I=B.offset,F=B.dataStartIndex,L=B.dataEndIndex,G=B.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Zu(_.handleBrushChange,A.props.onChange),data:$,x:pe(A.props.x)?A.props.x:I.left,y:pe(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:pe(A.props.width)?A.props.width:I.width,startIndex:F,endIndex:L,updateId:"brush-".concat(G)})}),Ae(_,"renderReferenceElement",function(A,T,P){if(!A)return null;var $=_,B=$.clipPathId,I=_.state,F=I.xAxisMap,L=I.yAxisMap,G=I.offset,q=A.type.defaultProps||{},z=A.props,ee=z.xAxisId,H=ee===void 0?q.xAxisId:ee,W=z.yAxisId,J=W===void 0?q.yAxisId:W;return C.cloneElement(A,{key:A.key||"".concat(T,"-").concat(P),xAxis:F[H],yAxis:L[J],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:B})}),Ae(_,"renderActivePoints",function(A){var T=A.item,P=A.activePoint,$=A.basePoint,B=A.childIndex,I=A.isRange,F=[],L=T.props.key,G=T.item.type.defaultProps!==void 0?ae(ae({},T.item.type.defaultProps),T.item.props):T.item.props,q=G.activeDot,z=G.dataKey,ee=ae(ae({index:B,dataKey:z,cx:P.x,cy:P.y,r:4,fill:Rw(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Be(q,!1)),Rd(q));return F.push(O.renderActiveDot(q,ee,"".concat(L,"-activePoint-").concat(B))),$?F.push(O.renderActiveDot(q,ae(ae({},ee),{},{cx:$.x,cy:$.y}),"".concat(L,"-basePoint-").concat(B))):I&&F.push(null),F}),Ae(_,"renderGraphicChild",function(A,T,P){var $=_.filterFormatItem(A,T,P);if(!$)return null;var B=_.getTooltipEventType(),I=_.state,F=I.isTooltipActive,L=I.tooltipAxis,G=I.activeTooltipIndex,q=I.activeLabel,z=_.props.children,ee=_r(z,bn),H=$.props,W=H.points,J=H.isRange,M=H.baseLine,U=$.item.type.defaultProps!==void 0?ae(ae({},$.item.type.defaultProps),$.item.props):$.item.props,ne=U.activeDot,se=U.hide,ie=U.activeBar,me=U.activeShape,Re=!!(!se&&F&&ee&&(ne||ie||me)),ge={};B!=="axis"&&ee&&ee.props.trigger==="click"?ge={onClick:Zu(_.handleItemMouseEnter,A.props.onClick)}:B!=="axis"&&(ge={onMouseLeave:Zu(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Zu(_.handleItemMouseEnter,A.props.onMouseEnter)});var oe=C.cloneElement(A,ae(ae({},$.props),ge));function be(at){return typeof L.dataKey=="function"?L.dataKey(at.payload):null}if(Re)if(G>=0){var ke,Z;if(L.dataKey&&!L.allowDuplicatedCategory){var Se=typeof L.dataKey=="function"?be:"payload.".concat(L.dataKey.toString());ke=Td(W,Se,q),Z=J&&M&&Td(M,Se,q)}else ke=W?.[G],Z=J&&M&&M[G];if(me||ie){var Ie=A.props.activeIndex!==void 0?A.props.activeIndex:G;return[C.cloneElement(A,ae(ae(ae({},$.props),ge),{},{activeIndex:Ie})),null,null]}if(!qe(ke))return[oe].concat(Qs(_.renderActivePoints({item:$,activePoint:ke,basePoint:Z,childIndex:G,isRange:J})))}else{var Ve,et=(Ve=_.getItemByXY(_.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:oe},vt=et.graphicalItem,he=vt.item,Ue=he===void 0?A:he,Me=vt.childIndex,Ye=ae(ae(ae({},$.props),ge),{},{activeIndex:Me});return[C.cloneElement(Ue,Ye),null,null]}return J?[oe,null,null]:[oe,null]}),Ae(_,"renderCustomized",function(A,T,P){return C.cloneElement(A,ae(ae({key:"recharts-customized-".concat(P)},_.props),_.state))}),Ae(_,"renderMap",{CartesianGrid:{handler:ad,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ad},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ad},YAxis:{handler:ad},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:jc("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=p5(_.triggeredAfterMouseMove,(E=k.throttleDelay)!==null&&E!==void 0?E:1e3/60),_.state={},_}return FX(O,y),LX(O,[{key:"componentDidMount",value:function(){var S,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,E=S.children,_=S.data,A=S.height,T=S.layout,P=_r(E,bn);if(P){var $=P.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,I=bb(this.state,_,$,B),F=this.state.tooltipTicks[$].coordinate,L=(this.state.offset.top+A)/2,G=T==="horizontal",q=G?{x:F,y:L}:{y:F,x:L},z=this.state.formattedGraphicalItems.find(function(H){var W=H.item;return W.type.name==="Scatter"});z&&(q=ae(ae({},q),z.props.points[$].tooltipPosition),I=z.props.points[$].tooltipPayload);var ee={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:B,activePayload:I,activeCoordinate:q};this.setState(ee),this.renderCursor(P),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){ox([_r(S.children,bn)],[_r(this.props.children,bn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=_r(this.props.children,bn);if(S&&typeof S.props.shared=="boolean"){var E=S.props.shared?"axis":"item";return u.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var E=this.container,_=E.getBoundingClientRect(),A=pq(_),T={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},P=_.width/E.offsetWidth||1,$=this.inRange(T.chartX,T.chartY,P);if(!$)return null;var B=this.state,I=B.xAxisMap,F=B.yAxisMap,L=this.getTooltipEventType(),G=YA(this.state,this.props.data,this.props.layout,$);if(L!=="axis"&&I&&F){var q=gs(I).scale,z=gs(F).scale,ee=q&&q.invert?q.invert(T.chartX):null,H=z&&z.invert?z.invert(T.chartY):null;return ae(ae({},T),{},{xValue:ee,yValue:H},G)}return G?ae(ae({},T),G):null}},{key:"inRange",value:function(S,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=S/_,P=E/_;if(A==="horizontal"||A==="vertical"){var $=this.state.offset,B=T>=$.left&&T<=$.left+$.width&&P>=$.top&&P<=$.top+$.height;return B?{x:T,y:P}:null}var I=this.state,F=I.angleAxisMap,L=I.radiusAxisMap;if(F&&L){var G=gs(F);return mE({x:T,y:P},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,E=this.getTooltipEventType(),_=_r(S,bn),A={};_&&E==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Rd(this.props,this.handleOuterEvent);return ae(ae({},T),A)}},{key:"addListener",value:function(){O0.on(E0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O0.removeListener(E0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,E,_){for(var A=this.state.formattedGraphicalItems,T=0,P=A.length;T<P;T++){var $=A[T];if($.item===S||$.props.key===S.key||E===Vn($.item.type)&&_===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,E=this.state.offset,_=E.left,A=E.top,T=E.height,P=E.width;return X.createElement("defs",null,X.createElement("clipPath",{id:S},X.createElement("rect",{x:_,y:A,height:T,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(E,_){var A=VA(_,2),T=A[0],P=A[1];return ae(ae({},E),{},Ae({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(E,_){var A=VA(_,2),T=A[0],P=A[1];return ae(ae({},E),{},Ae({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(S){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(S){var E=this.state,_=E.formattedGraphicalItems,A=E.activeItem;if(_&&_.length)for(var T=0,P=_.length;T<P;T++){var $=_[T],B=$.props,I=$.item,F=I.type.defaultProps!==void 0?ae(ae({},I.type.defaultProps),I.props):I.props,L=Vn(I.type);if(L==="Bar"){var G=(B.data||[]).find(function(H){return $V(S,H)});if(G)return{graphicalItem:$,payload:G}}else if(L==="RadialBar"){var q=(B.data||[]).find(function(H){return mE(S,H)});if(q)return{graphicalItem:$,payload:q}}else if(ch($,A)||uh($,A)||dc($,A)){var z=NK({graphicalItem:$,activeTooltipItem:A,itemData:F.data}),ee=F.activeIndex===void 0?z:F.activeIndex;return{graphicalItem:ae(ae({},$),{},{childIndex:ee}),payload:dc($,A)?F.data[z]:$.props.data[z]}}}return null}},{key:"render",value:function(){var S=this;if(!k2(this))return null;var E=this.props,_=E.children,A=E.className,T=E.width,P=E.height,$=E.style,B=E.compact,I=E.title,F=E.desc,L=KA(E,PX),G=Be(L,!1);if(B)return X.createElement(CA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(cx,ws({},G,{width:T,height:P,title:I,desc:F}),this.renderClipPath(),E2(_,this.renderMap)));if(this.props.accessibilityLayer){var q,z;G.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,G.role=(z=this.props.role)!==null&&z!==void 0?z:"application",G.onKeyDown=function(H){S.accessibilityManager.keyboardEvent(H)},G.onFocus=function(){S.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return X.createElement(CA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",ws({className:ze("recharts-wrapper",A),style:ae({position:"relative",cursor:"default",width:T,height:P},$)},ee,{ref:function(W){S.container=W}}),X.createElement(cx,ws({},G,{width:T,height:P,title:I,desc:F,style:GX}),this.renderClipPath(),E2(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Ae(j,"displayName",r),Ae(j,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ae(j,"getDerivedStateFromProps",function(y,O){var k=y.dataKey,S=y.data,E=y.children,_=y.width,A=y.height,T=y.layout,P=y.stackOffset,$=y.margin,B=O.dataStartIndex,I=O.dataEndIndex;if(O.updateId===void 0){var F=XA(y);return ae(ae(ae({},F),{},{updateId:0},x(ae(ae({props:y},F),{},{updateId:0}),O)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:P,prevMargin:$,prevChildren:E})}if(k!==O.prevDataKey||S!==O.prevData||_!==O.prevWidth||A!==O.prevHeight||T!==O.prevLayout||P!==O.prevStackOffset||!Ns($,O.prevMargin)){var L=XA(y),G={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},q=ae(ae({},YA(O,S,T)),{},{updateId:O.updateId+1}),z=ae(ae(ae({},L),G),q);return ae(ae(ae({},z),x(ae({props:y},z),O)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:P,prevMargin:$,prevChildren:E})}if(!ox(E,O.prevChildren)){var ee,H,W,J,M=_r(E,Fs),U=M&&(ee=(H=M.props)===null||H===void 0?void 0:H.startIndex)!==null&&ee!==void 0?ee:B,ne=M&&(W=(J=M.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:I,se=U!==B||ne!==I,ie=!qe(S),me=ie&&!se?O.updateId:O.updateId+1;return ae(ae({updateId:me},x(ae(ae({props:y},O),{},{updateId:me,dataStartIndex:U,dataEndIndex:ne}),O)),{},{prevChildren:E,dataStartIndex:U,dataEndIndex:ne})}return null}),Ae(j,"renderActiveDot",function(y,O,k){var S;return C.isValidElement(y)?S=C.cloneElement(y,O):Le(y)?S=y(O):S=X.createElement($w,O),X.createElement(gt,{className:"recharts-active-dot",key:k},S)});var w=C.forwardRef(function(O,k){return X.createElement(j,ws({},O,{ref:k}))});return w.displayName=j.displayName,w},iJ=aJ({chartName:"AreaChart",GraphicalChild:Wa,axisComponents:[{axisType:"xAxis",AxisComp:vh},{axisType:"yAxis",AxisComp:yh}],formatAxisMap:jG});const sJ=[{key:"curioso",label:"Curiosos",icon:na,color:"bg-blue-500"},{key:"ctico",label:"Cticos",icon:Bf,color:"bg-fuchsia-500"},{key:"sensvel_preo",label:"Preo",icon:ro,color:"bg-cyan-500"},{key:"empolgado",label:"Empolgados",icon:Ml,color:"bg-emerald-500"},{key:"pronto",label:"Prontos",icon:on,color:"bg-orange-500"}];function oJ({demoMode:t,stats:e,conversations:r,leads:n,onOpenSuggestions:a,onOpenInsights:i,onActivateAI:o,onGoToAnalysis:u,onOpenEvents:d}){const f=r||[],p=n||[],m=!t&&(f.length>0||p.length>0),v=C.useMemo(()=>{const S=e?.conversations_total??f.length,E=e?.leads_total??p.length,_=p.filter(F=>(F.stage||"").toLowerCase()==="pronto"),A=p.filter(F=>["high","critical"].includes((F.urgency_level||"").toLowerCase())),T=p.filter(F=>{const L=F.health_score??50,G=(F.urgency_level||"").toLowerCase();return L<=45&&["high","critical"].includes(G)}),P=p.length>0?Math.round(p.reduce((F,L)=>F+(L.health_score??50),0)/p.length):0,$=p.length>0?Math.round(p.reduce((F,L)=>F+(L.conversion_probability??.3)*100,0)/p.length):0,B=e?.avg_response_time_seconds??0,I={};return p.forEach(F=>{const L=(F.stage||"curioso").toLowerCase();I[L]=(I[L]||0)+1}),{totalConvs:S,totalLeads:E,leadsProonto:_,leadsQuentes:A,leadsEmRisco:T,avgHealth:P,avgConversion:$,avgTime:B,stageCounts:I}},[e,f,p]),x=C.useMemo(()=>{if(e?.activity_last_7_days?.length)return e.activity_last_7_days;const S=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],E={};return S.forEach(_=>E[_]=0),f.forEach(_=>{if(_.updated_at){const A=new Date(_.updated_at),T=S[A.getDay()];E[T]=(E[T]||0)+1}}),S.map(_=>({name:_,value:E[_]||0}))},[e,f]),j=C.useMemo(()=>{const S=[];return[...p].sort((_,A)=>(A.updated_at||"").localeCompare(_.updated_at||"")).slice(0,2).forEach(_=>{const A=_.health_score??50;S.push({title:_.name||QA(_.phone||""),desc:`Health ${A}  ${_.stage||"curioso"}`,time:lJ(_.updated_at),icon:A>=70?on:A>=40?ln:ar,tone:A>=70?"orange":A>=40?"cyan":"red"})}),(f.length>0||p.length>0)&&S.push({title:"Sistema operacional",desc:`${f.length} conversas  ${p.length} leads`,time:"agora",icon:Ss,tone:"green"}),v.leadsEmRisco.length>0&&S.push({title:`${v.leadsEmRisco.length} leads esfriando`,desc:"Precisam de ateno urgente",time:"ao",icon:ar,tone:"red"}),S.slice(0,4)},[f,p,v]),w=[{name:"Seg",value:12},{name:"Ter",value:18},{name:"Qua",value:16},{name:"Qui",value:25},{name:"Sex",value:21},{name:"Sb",value:14},{name:"Dom",value:9}],y=[{title:"Novo lead qualificado",desc:"Health Score 78/100",time:"h 2 min",icon:Zt,tone:"orange"},{title:"Objeo detectada",desc:"Preo em 3 conversas",time:"h 12 min",icon:ar,tone:"red"},{title:"Sistema estvel",desc:"Webhooks OK",time:"h 31 min",icon:Ss,tone:"green"},{title:"Performance",desc:"Tempo mdio: 18s",time:"hoje",icon:un,tone:"cyan"}],O=t?w:x,k=t?y:j;return!t&&!m?l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-10",children:l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:[l.jsx(Ed,{className:"w-4 h-4 text-[#f57f17]"}),"Produo"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Aguardando dados"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Assim que chegarem conversas via webhook, o dashboard ser preenchido automaticamente."}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(C0,{icon:sr,title:"1. Envie mensagens",desc:"Use o WhatsApp conectado"}),l.jsx(C0,{icon:Ss,title:"2. Verifique webhook",desc:"Endpoint /api respondendo"}),l.jsx(C0,{icon:dS,title:"3. Aguarde",desc:"Dados aparecem em segundos"})]}),l.jsxs("button",{onClick:u,className:"mt-6 h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center gap-2",children:[l.jsx(un,{className:"w-4 h-4"}),"Ir para Anlise IA",l.jsx(tP,{className:"w-4 h-4"})]})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-8 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -top-20 -right-40 h-[320px] w-[320px] rounded-full bg-[#f57f17]/20 blur-3xl"}),l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap relative",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(dS,{className:"w-4 h-4"}),t?"Demo":"Realtime"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Central de Comando"}),l.jsx("p",{className:"text-gray-400 mt-2 max-w-xl",children:"Viso executiva: volume, qualidade, inteno e performance em tempo real."}),l.jsxs("div",{className:"mt-5 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:i,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(La,{className:"w-4 h-4"}),"Ver Funil",l.jsx(rx,{className:"w-4 h-4"})]}),l.jsxs("button",{onClick:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-semibold text-gray-200 flex items-center gap-2",children:[l.jsx(Zt,{className:"w-4 h-4 text-[#f57f17]"}),"Sugestes IA"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(P0,{label:"Health",value:t?"72":String(v.avgHealth),suffix:"%",color:"text-emerald-400"}),l.jsx(P0,{label:"Converso",value:t?"34":String(v.avgConversion),suffix:"%",color:"text-cyan-400"}),l.jsx(P0,{label:"Tempo",value:t?"18":v.avgTime>0?String(Math.round(v.avgTime)):"",suffix:"s",color:"text-orange-400"})]})]}),l.jsxs("div",{className:"mt-6 h-[200px] rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Atividade  ltimos 7 dias"}),l.jsx(oq,{width:"100%",height:"100%",children:l.jsxs(iJ,{data:O,margin:{top:5,right:5,left:-20,bottom:0},children:[l.jsx(vh,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(yh,{stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(bn,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),l.jsx(Wa,{type:"monotone",dataKey:"value",stroke:"#f57f17",fill:"rgba(245,127,23,0.2)",strokeWidth:2})]})})]})]}),l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-orange-500/20 bg-gradient-to-br from-orange-500/10 to-transparent backdrop-blur-xl p-6 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -bottom-10 -right-10 h-40 w-40 rounded-full bg-orange-500/20 blur-3xl"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center",children:l.jsx(on,{className:"w-5 h-5 text-orange-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Prontos para fechar"})]})]}),l.jsx("span",{className:"text-3xl font-black text-orange-400",children:t?"6":v.leadsProonto.length})]}),l.jsx("div",{className:"space-y-2 mb-4",children:(t?[{name:"Joo Silva",health:85},{name:"Maria Santos",health:78},{name:"Pedro Costa",health:72}]:v.leadsProonto.slice(0,3).map(S=>({name:S.name||QA(S.phone||""),health:S.health_score||50}))).map((S,E)=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("span",{className:"text-sm text-gray-300 truncate",children:S.name}),l.jsx("span",{className:"text-xs font-bold text-orange-400",children:S.health})]},E))}),l.jsxs("button",{onClick:u,className:"w-full h-10 rounded-xl border border-orange-500/30 bg-orange-500/10 hover:bg-orange-500/20 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"Executar Follow-ups"]}),v.leadsEmRisco.length>0&&!t&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-400",children:[l.jsx(ar,{className:"w-3.5 h-3.5"}),l.jsxs("span",{children:[v.leadsEmRisco.length," leads esfriando"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(id,{icon:sr,label:"Conversas",value:t?"87":String(v.totalConvs),delta:t?"+12%":"",color:"orange"}),l.jsx(id,{icon:ln,label:"Leads",value:t?"34":String(v.totalLeads),delta:t?"+9%":"",color:"cyan"}),l.jsx(id,{icon:on,label:"Quentes",value:t?"12":String(v.leadsQuentes.length),delta:t?"+4%":"",color:"orange"}),l.jsx(id,{icon:Cd,label:"Health Mdio",value:t?"68":String(v.avgHealth),delta:t?"+5%":"",color:"green"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline Emocional"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Distribuio por estgio"})]}),l.jsxs("button",{onClick:i,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:["Ver completo ",l.jsx(rx,{className:"w-3 h-3"})]})]}),l.jsx("div",{className:"space-y-3",children:sJ.map(S=>{const E=t?Math.floor(Math.random()*15)+2:v.stageCounts[S.key]||0,_=t?50:v.totalLeads||1,A=Math.round(E/_*100),T=S.icon;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${S.color} flex items-center justify-center flex-shrink-0`,children:l.jsx(T,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm text-gray-300",children:S.label}),l.jsx("span",{className:"text-sm font-bold text-white",children:E})]}),l.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${S.color} rounded-full transition-all`,style:{width:`${Math.max(A,3)}%`}})})]})]},S.key)})})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Atividade"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Eventos recentes"})]}),l.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-[10px] font-bold",children:"LIVE"})]}),l.jsx("div",{className:"space-y-3",children:k.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Nenhum evento recente"}):k.map((S,E)=>l.jsxs("div",{className:"flex items-start gap-3 px-3 py-3 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center flex-shrink-0 ${S.tone==="green"?"bg-emerald-500/20":S.tone==="red"?"bg-red-500/20":S.tone==="cyan"?"bg-cyan-500/20":"bg-orange-500/20"}`,children:l.jsx(S.icon,{className:`w-4 h-4 ${S.tone==="green"?"text-emerald-400":S.tone==="red"?"text-red-400":S.tone==="cyan"?"text-cyan-400":"text-orange-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:S.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:S.desc})]}),l.jsx("span",{className:"text-[10px] text-gray-600 flex-shrink-0",children:S.time})]},E))}),l.jsx("button",{onClick:d,className:"mt-4 w-full h-9 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs font-medium text-gray-300",children:"Ver todos os eventos"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Aes Recomendadas"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O que fazer agora para aumentar converso"})]}),l.jsx("span",{className:"px-3 py-1 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-bold",children:"DOCA IA"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(sd,{icon:Da,title:"Atacar prontos",desc:"Follow-up imediato com CTA de call",color:"green"}),l.jsx(sd,{icon:Bf,title:"Destravar cticos",desc:"Prova social e cases de sucesso",color:"orange"}),l.jsx(sd,{icon:ro,title:"Sensveis a preo",desc:"2 opes: parcela vs  vista + ROI",color:"cyan"}),l.jsx(sd,{icon:Ml,title:"Frustrados",desc:"Mensagem emptica antes de ofertar",color:"red"})]}),l.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-black/20 border border-white/5 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Prximo passo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Conectar mdulo Anlise IA para relatrios automticos"})]}),l.jsxs("button",{onClick:o,className:"h-9 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(Zt,{className:"w-4 h-4"}),"Ativar Anlise IA"]})]})]})]})}function C0({icon:t,title:e,desc:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-4",children:[l.jsx("div",{className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center mb-3",children:l.jsx(t,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function P0({label:t,value:e,suffix:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),l.jsxs("p",{className:`text-2xl font-bold ${n} mt-1`,children:[e,l.jsx("span",{className:"text-sm opacity-60",children:r})]})]})}function id({icon:t,label:e,value:r,delta:n,color:a}){const o={orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400",delta:"bg-orange-500/20 text-orange-300"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400",delta:"bg-cyan-500/20 text-cyan-300"},green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400",delta:"bg-emerald-500/20 text-emerald-300"}}[a];return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e}),l.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:r})]}),l.jsx("div",{className:`h-10 w-10 rounded-xl ${o.bg} ${o.border} border flex items-center justify-center`,children:l.jsx(t,{className:`w-5 h-5 ${o.icon}`})})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Variao"}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${o.delta}`,children:n})]})]})}function sd({icon:t,title:e,desc:r,color:n}){const i={green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400"},red:{bg:"bg-red-500/10",border:"border-red-500/20",icon:"text-red-400"}}[n];return l.jsxs("div",{className:`rounded-xl border ${i.border} ${i.bg} p-4 hover:opacity-80 transition cursor-pointer`,children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${i.bg} border ${i.border} flex items-center justify-center mb-3`,children:l.jsx(t,{className:`w-4 h-4 ${i.icon}`})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function QA(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function lJ(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime(),n=e-r,a=Math.floor(n/6e4);if(a<1)return"agora";if(a<60)return`h ${a}min`;const i=Math.floor(a/60);if(i<24)return`h ${i}h`;const o=Math.floor(i/24);return o===1?"ontem":`h ${o}d`}function Cf({title:t,subtitle:e,right:r,children:n,className:a=""}){return l.jsxs("div",{className:["rounded-2xl border border-white/10","bg-gradient-to-b from-white/[0.07] to-white/[0.03]","backdrop-blur-xl","shadow-[0_20px_50px_rgba(0,0,0,0.35)]","hover:border-white/20 transition-colors",a].join(" "),children:[(t||e||r)&&l.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-white/5",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[t&&l.jsx("h3",{className:"text-white font-semibold text-base leading-tight",children:t}),e&&l.jsx("p",{className:"text-slate-400 text-sm mt-1 leading-snug",children:e})]}),r&&l.jsx("div",{className:"shrink-0",children:r})]})}),l.jsx("div",{className:"px-6 pb-6 pt-5",children:n})]})}function od(){return new Date().toISOString()}function ll(t,e){return Math.floor(Math.random()*(e-t+1))+t}function cl(t,e,r){return Math.max(e,Math.min(r,t))}function ZA(t){return t[Math.floor(Math.random()*t.length)]}function wd(t){let e=2166136261;for(let r=0;r<t.length;r++)e^=t.charCodeAt(r),e=Math.imul(e,16777619);return Math.abs(e)}function cJ(t){let e=wd(t)||123456789;return()=>(e^=e<<13,e^=e>>17,e^=e<<5,(e>>>0)/4294967296)}function _4(t){const e=t.niche||"default",r=t.seedKey||`${e}-${t.businessName||"demo"}`,n=cJ(r),a=t.businessName||"Cliente Demo",i=t.city||"So Paulo",o=t.instagram||"",u=t.website||"",d=t.offer||"",f=t.mainPain||"",p=t.objections||"",m=cl(Number(t.leadsPerMonth??120),10,1e4),v=cl(Number(t.conversationsCount??60),5,600),x={conversations_last_7d:Math.round(v*.7),leads_last_7d:Math.round(m/4*(.8+n()*.4)),qualified_last_7d:Math.round(m/12*(.7+n()*.6)),avg_response_time_s:Math.round(10+n()*30),updated_at:od(),business:{name:a,city:i,instagram:o,website:u,offer:d,mainPain:f,objections:p,niche:e}},j=cl(Math.round(v*(.45+n()*.25)),8,220),w=["curioso","ctico","sensvel_preo","empolgado","pronto","frustrado"],y=Array.from({length:j}).map((S,E)=>{const _=`lead-${wd(`${r}-lead-${E}`)}-${E}`,A=`55${ll(11,99)}9${ll(1e3,9999)}${ll(1e3,9999)}`,T=cl(Math.round(40+n()*55),0,100),P=cl(.15+n()*.75,0,1),B=ZA([...["low","normal","high","critical"]]),I=ZA([...w]);return{id:_,phone:A,name:null,health_score:T,stage:I,urgency_level:B,conversion_probability:P,tags:[],updated_at:od(),created_at:od()}}),O=[],k=[];for(let S=0;S<v;S++){const E=y[Math.floor(n()*y.length)],_=`conv-${wd(`${r}-conv-${S}`)}-${S}`,A=[{from:"lead",text:`Oi! Vi sobre ${a}. Como funciona?`},{from:"agent",text:"Oi!  Funciona assim: a gente automatiza atendimento + qualificao + follow-up no WhatsApp. Quer que eu te explique rapidinho?"},{from:"lead",text:"Sim, tenho dvida sobre preo e como instala."},{from:"agent",text:"Show! Te explico os planos e a implementao  bem rpida (em minutos). Me diz seu volume de leads/ms?"}],T=new Date(Date.now()-ll(1,7)*864e5).toISOString(),P=A.length>0?String(A[A.length-1]?.text||""):"";O.push({id:_,phone:E.phone,name:E.name,status:"active",last_message:P,current_emotion:E.stage,created_at:T,updated_at:od(),lead_id:E.id,tags:[]}),A.forEach(($,B)=>{k.push({id:`msg-${wd(`${r}-msg-${S}-${B}`)}-${S}-${B}`,conversation_id:_,from:$.from,text:String($.text||""),created_at:new Date(Date.now()-ll(1,7)*864e5+B*12e4).toISOString()})})}return{stats:x,leads:y,conversations:O,messages:k,emotion_events:[]}}const qw="doca:demo:list",Uw=t=>`doca:demo:${t}`;function S4(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}function bh(){return(S4(localStorage.getItem(qw))||[]).sort((e,r)=>r.createdAt-e.createdAt)}function N4(t,e,r){localStorage.setItem(Uw(t),JSON.stringify(e));const n=bh(),a=[{key:t,label:r.label||t,niche:r.niche,createdAt:Date.now()},...n.filter(i=>i.key!==t)];localStorage.setItem(qw,JSON.stringify(a.slice(0,50)))}function k4(t){return S4(localStorage.getItem(Uw(t)))}function uJ(t){localStorage.removeItem(Uw(t));const e=bh().filter(r=>r.key!==t);localStorage.setItem(qw,JSON.stringify(e))}function Fw(){return"".trim().toLowerCase()}function zw(){try{return(new URL(window.location.href).searchParams.get("demo")||"").toString().trim().toLowerCase()}catch{return""}}function ho(){return!!(zw()||Fw())}function O4(){const t=(zw()||Fw()||"").toString().trim().toLowerCase();if(!t)return"";if(k4(t))return t;try{const r=_4({niche:"restaurante",seedKey:t,businessName:t,city:"So Paulo",instagram:"@docaperformance",website:"docaperformance.com.br",offer:"DOCA Multi Agentes (WhatsApp + IA + Dashboard)",mainPain:"Muitos leads e pouco atendimento",objections:"Medo de parecer rob / preo / integrao",leadsPerMonth:120,conversationsCount:36});return N4(t,r,{label:`Demo  ${t}`,niche:"restaurante"}),t}catch(r){return console.error("[demo] Failed to auto-generate demo:",r),""}}function dJ(){const t=bh().map(r=>({key:r.key,label:r.label,source:"generated"})),e=(zw()||Fw()||"").toString().trim().toLowerCase();return e&&!t.some(r=>r.key===e)&&t.unshift({key:e,label:`Demo  ${e}`,source:"generated"}),t.length===0?[{key:"",label:"(sem demos geradas)",source:"generated"}]:t}function po(){const t=O4();if(t){const e=k4(t);if(e)return e}return mJ()}function fJ(t){const e=_4({niche:t.niche,seedKey:t.key,businessName:t.businessName,city:t.city,instagram:t.instagram,website:t.website,offer:t.offer,mainPain:t.mainPain,objections:t.objections,leadsPerMonth:t.leadsPerMonth,conversationsCount:t.conversationsCount});return N4(t.key,e,{label:t.businessName||t.key,niche:t.niche}),{key:t.key}}function hJ(){return bh()}function pJ(t){return uJ(t)}function mJ(){return{stats:{conversations_last_7d:0,leads_last_7d:0,qualified_last_7d:0,avg_response_time_s:0,updated_at:new Date().toISOString()},conversations:[],leads:[],messages:[],emotion_events:[]}}function gJ(t){const e=t.status==="closed"?"closed":"open";return{...t,status:e}}function eC(t){return{id:t.id,conversation_id:t.conversation_id,from:t.role==="assistant"||t.from==="agent"?"agent":"lead",text:t.content||t.text||"",created_at:t.created_at||t.timestamp||"",emotion:t.emotion||t.detected_emotion||null}}const vJ="/api/messages?conversation_id=",tC={anxious:{label:"Ansioso",icon:ar,color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30"},skeptical:{label:"Ctico",icon:aP,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},frustrated:{label:"Frustrado",icon:sP,color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30"},excited:{label:"Empolgado",icon:un,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},price_sensitive:{label:"Sensvel a Preo",icon:ro,color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30"},ready:{label:"Pronto",icon:Da,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},curious:{label:"Curioso",icon:Cd,color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30"},neutral:{label:"Neutro",icon:oL,color:"text-gray-400",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/30"}};function T0(t){if(!t)return null;const e=t.toLowerCase().replace(/\s+/g,"_");return tC[e]||tC.neutral}function yJ(t){const e=t.phone||"";return!(e.includes("broadcast")||e.startsWith("landing:")||e.startsWith("web_sess")||e.includes("@lid")&&e.replace("@lid","").replace(/\D/g,"").length>14)}function R0(t){let e=(t||"").replace("@c.us","").replace("@lid","").replace("@g.us","").replace(/\D/g,"");if(!e)return t;if(e.startsWith("55")&&e.length>=12){const r=e.slice(2,4),n=e.slice(4,9),a=e.slice(9,13);return`+55 (${r}) ${n}-${a}`}return e.length>=10?`+${e}`:e||t}function rC(t){if(t==null||t==="")return"";if(t instanceof Date)return Number.isNaN(t.getTime())?"":t.toLocaleString("pt-BR");if(typeof t=="number"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleString("pt-BR")}if(typeof t!="string")return"";const e=t.trim().replace(" ","T").replace(/\+00:00$/,"Z").replace(/(\.\d{3})\d+Z$/,"$1Z"),r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function nC(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html"))throw await e.text(),new Error(`Endpoint retornou HTML. URL: ${t}`);if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function xJ({initialSelectedId:t,tenantId:e}){const r=C.useMemo(()=>ho()?po():null,[]),n=!!r,[a,i]=C.useState([]),[o,u]=C.useState(!0),[d,f]=C.useState(null),[p,m]=C.useState(""),[v,x]=C.useState(null),[j,w]=C.useState([]),[y,O]=C.useState(!1),[k,S]=C.useState(null);C.useEffect(()=>{let P=!0;async function $(){try{if(u(!0),f(null),n&&r){const F=[...r.conversations].sort((L,G)=>L.updated_at>G.updated_at?-1:1);if(!P)return;i(F);return}const B=e?`/api/conversations?limit=200&tenant_id=${e}`:"/api/conversations?limit=200",I=await nC(B);if(!P)return;i((I||[]).map(gJ))}catch(B){if(!P)return;f(B?.message||"Erro ao carregar conversas")}finally{if(!P)return;u(!1)}}return $(),()=>{P=!1}},[n,r,e]),C.useEffect(()=>{if(!t)return;a.some($=>$.id===t)&&x(t)},[t,a]),C.useEffect(()=>{if(!v){w([]);return}let P=!0;async function $(){try{if(O(!0),S(null),n&&r){const I=(r.messages||[]).filter(F=>F.conversation_id===v).sort((F,L)=>F.created_at>L.created_at?1:-1);if(!P)return;w(I.map(eC));return}const B=await nC(`${vJ}${v}`);if(!P)return;w((B||[]).map(eC))}catch(B){if(!P)return;S(B?.message||"Erro ao carregar mensagens")}finally{if(!P)return;O(!1)}}return $(),()=>{P=!1}},[v,n,r]);const E=C.useMemo(()=>{const P=a.filter(yJ);if(!p.trim())return P;const $=p.toLowerCase();return P.filter(B=>{const I=(B.name||"").toLowerCase(),F=(B.phone||"").toLowerCase(),L=(B.last_message||"").toLowerCase();return I.includes($)||F.includes($)||L.includes($)})},[a,p]),_=v&&a.find(P=>P.id===v)||null,A=C.useMemo(()=>{const P={},$=Date.now();return a.forEach(B=>{const I=new Date(B.updated_at).getTime();P[B.id]=$-I<300*1e3}),P},[a]),T=_?T0(_.current_emotion):null;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(sr,{className:"w-6 h-6 text-[#f57f17]"}),"Conversas"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Mensagens e atendimentos em tempo real",n?" (DEMO)":""]})]})}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-6",children:[l.jsx(Cf,{title:"Conversas",subtitle:"Fila de atendimento",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(na,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:p,onChange:P=>m(P.target.value),placeholder:"Buscar...",className:"w-full bg-black/30 border border-gray-800 rounded-2xl px-4 py-3 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30"})]}),o?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Carregando conversas..."}):d?l.jsx("div",{className:"text-red-400 text-sm py-6",children:d}):E.length===0?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Nenhuma conversa encontrada."}):l.jsx("div",{className:"divide-y divide-gray-800/70 max-h-[600px] overflow-y-auto",children:E.map(P=>{const $=v===P.id,B=A[P.id],I=T0(P.current_emotion);return l.jsx("button",{onClick:()=>x(P.id),className:["w-full text-left px-4 py-4 transition-all",$?"bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl":"hover:bg-white/5 rounded-2xl"].join(" "),children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:P.name||R0(P.phone)}),I&&l.jsxs("span",{className:`flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full ${I.bgColor} ${I.color} border ${I.borderColor}`,children:[l.jsx(I.icon,{className:"w-3 h-3"}),I.label]})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1 truncate",children:rC(P.updated_at)}),P.last_message?l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:P.last_message}):l.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Sem mensagens ainda"})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[l.jsx("div",{className:["h-2.5 w-2.5 rounded-full",B?"bg-emerald-400":"bg-gray-600"].join(" "),title:B?"Ativo":"Inativo"}),l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border",P.status==="open"?"bg-emerald-500/10 text-emerald-200 border-emerald-500/20":"bg-gray-500/10 text-gray-300 border-gray-500/20"].join(" "),children:P.status==="open"?"ABERTO":"FECHADO"}),(()=>{const F=P.paused_until&&new Date(P.paused_until)>new Date;return l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border font-medium",F?"bg-red-500/20 text-red-300 border-red-500/30":"bg-[#f57f17]/20 text-[#f57f17] border-[#f57f17]/30"].join(" "),children:F?"BOT OFF":"BOT ON"})})()]})]})},P.id)})})]})}),l.jsx(Cf,{title:_?_.name||R0(_.phone):"Chat",subtitle:_?R0(_.phone):"Selecione uma conversa",right:_?l.jsxs("div",{className:"flex items-center gap-3",children:[T&&l.jsxs("span",{className:`flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full ${T.bgColor} ${T.color} border ${T.borderColor}`,children:[l.jsx(T.icon,{className:"w-4 h-4"}),T.label]}),l.jsx("span",{className:"text-xs text-gray-400",children:_.status==="open"?"Atendimento":"Histrico"}),(()=>{const P=_.paused_until&&new Date(_.paused_until)>new Date;return l.jsx("button",{onClick:async()=>{try{const $=P?"/api/conversations/resume":"/api/conversations/pause",B=_.chat_id||`${_.phone}@c.us`;(await fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P?{chatId:B}:{chatId:B,ttlMinutes:1440,by:"dashboard"})})).ok&&i(L=>L.map(G=>G.id===_.id?{...G,paused_until:P?null:new Date(Date.now()+1440*60*1e3).toISOString()}:G))}catch($){console.error("Erro ao alternar pause:",$)}},className:["text-xs px-3 py-1.5 rounded-full border font-medium transition-all",P?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/30":"bg-red-500/20 text-red-300 border-red-500/30 hover:bg-red-500/30"].join(" "),children:P?"Reativar Bot":"Pausar Bot"})})()]}):l.jsx("span",{className:"text-xs text-gray-500",children:""}),children:_?y?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-400",children:"Carregando mensagens..."}):k?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-red-400",children:k}):j.length===0?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:"Sem mensagens nessa conversa."}):l.jsx("div",{className:"h-[520px] overflow-y-auto pr-2 space-y-3",children:j.map((P,$)=>{const B=P.from==="agent",I=B?null:T0(P.emotion||_?.current_emotion);return l.jsxs("div",{className:["max-w-[85%] rounded-2xl px-4 py-3 border relative",B?"ml-auto bg-[#f57f17]/10 border-[#f57f17]/20 text-gray-100":`mr-auto bg-black/40 text-gray-100 ${I?I.borderColor:"border-gray-800"}`].join(" "),children:[!B&&I&&l.jsx("div",{className:`absolute -top-2 -left-2 h-6 w-6 rounded-full ${I.bgColor} border ${I.borderColor} flex items-center justify-center`,children:l.jsx(I.icon,{className:`w-3 h-3 ${I.color}`})}),l.jsx("p",{className:"text-sm leading-relaxed",children:P.text}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("p",{className:"text-[11px] text-gray-500",children:rC(P.created_at)}),!B&&I&&l.jsx("span",{className:`text-[10px] ${I.color}`,children:I.label})]})]},P.id)})}):l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sr,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),l.jsx("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]})}const aC={pronto:{title:"Lead PRONTO para fechar!",suggestions:["Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?","E a, pronto pra comear? Tenho um horrio agora pra gente acertar os detalhes!","S falta um passo! Quer que eu te mande o link pra fechar?"]},empolgado:{title:"Lead EMPOLGADO - mantenha a energia!",suggestions:["Que bom que curtiu! Quer ver um exemplo real funcionando?","E a, tudo certo? Quer que eu te explique os prximos passos?","Massa! Vou te mandar um case de sucesso parecido com o seu cenrio."]},curioso:{title:"Lead CURIOSO - tire as dvidas!",suggestions:["Oi! Ficou alguma dvida? T aqui pra te ajudar!","E a, o que achou? Posso explicar melhor alguma parte?","Tem mais alguma coisa que voc gostaria de saber?"]},sensvel_preo:{title:"Lead SENSVEL A PREO - mostre valor!",suggestions:["Oi! Consegui uma condio especial pra voc. Quer saber mais?","Entendo a preocupao com investimento. Posso te mostrar o ROI tpico?","Temos opes flexveis de pagamento. Posso te explicar?"]},ctico:{title:"Lead CTICO - prove com resultados!",suggestions:["Oi! Entendo suas dvidas. Posso te mostrar alguns cases de sucesso?","Normal ter dvidas! Quer ver depoimentos de clientes parecidos com voc?","Que tal uma demonstrao prtica? Assim voc v funcionando."]},frustrado:{title:"Lead FRUSTRADO - seja emptico!",suggestions:["Oi! Vi que teve algumas dificuldades. Como posso te ajudar?","Entendi seu ponto. Vamos resolver isso juntos?","Desculpa pelo inconveniente. O que posso fazer pra melhorar sua experincia?"]}};function bJ(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function jd(t){const e=t.replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),i=r.slice(7,11);return`+55 (${n}) ${a}-${i}`}function E4(t,e,r){return Math.max(e,Math.min(r,t))}function wJ(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime();if(isNaN(r))return"";const n=e-r,a=Math.floor(n/6e4),i=Math.floor(a/60),o=Math.floor(i/24);return a<1?"agora":a<60?`h ${a}min`:i<24?`h ${i}h`:o===1?"ontem":o<7?`h ${o} dias`:`h ${Math.floor(o/7)} sem`}function yl(t){const e=(t||"curioso").toLowerCase(),r={ctico:{label:"CTICO",bg:"bg-fuchsia-500/10",border:"border-fuchsia-400/25",text:"text-fuchsia-200",glow:"shadow-[0_0_0_1px_rgba(217,70,239,0.25)]"},frustrado:{label:"FRUSTRADO",bg:"bg-orange-500/10",border:"border-orange-400/25",text:"text-orange-200",glow:"shadow-[0_0_0_1px_rgba(251,146,60,0.25)]"},curioso:{label:"CURIOSO",bg:"bg-blue-500/10",border:"border-blue-400/25",text:"text-blue-200",glow:"shadow-[0_0_0_1px_rgba(96,165,250,0.25)]"},sensvel_preo:{label:"SENSVEL A PREO",bg:"bg-cyan-500/10",border:"border-cyan-400/25",text:"text-cyan-200",glow:"shadow-[0_0_0_1px_rgba(34,211,238,0.25)]"},empolgado:{label:"EMPOLGADO",bg:"bg-emerald-500/10",border:"border-emerald-400/25",text:"text-emerald-200",glow:"shadow-[0_0_0_1px_rgba(52,211,153,0.25)]"},pronto:{label:"PRONTO",bg:"bg-green-500/10",border:"border-green-400/25",text:"text-green-200",glow:"shadow-[0_0_0_1px_rgba(74,222,128,0.25)]"}};return r[e]||r.curioso}function _d(t){const e=(t||"normal").toLowerCase(),r={low:{label:"Baixa",dot:"bg-gray-400",text:"text-gray-300",bg:"bg-white/5"},normal:{label:"Normal",dot:"bg-sky-400",text:"text-sky-200",bg:"bg-sky-500/10"},high:{label:"Alta",dot:"bg-yellow-400",text:"text-yellow-200",bg:"bg-yellow-500/10"},critical:{label:"Crtica",dot:"bg-red-400",text:"text-red-200",bg:"bg-red-500/10"}};return r[e]||r.normal}function jJ(t){const e=t||"active",r={new:{label:"Novo",bg:"bg-white/5",text:"text-gray-200",dot:"bg-sky-400"},active:{label:"Ativo",bg:"bg-emerald-500/10",text:"text-emerald-200",dot:"bg-emerald-400"},won:{label:"Ganho",bg:"bg-green-500/10",text:"text-green-200",dot:"bg-green-400"},lost:{label:"Perdido",bg:"bg-red-500/10",text:"text-red-200",dot:"bg-red-400"}};return r[e]||r.active}function _J({value:t}){const e=E4(t,0,100),r=e>=70,n=e>=45&&e<70;return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-400",children:[l.jsx("span",{children:"Health"}),l.jsx("span",{className:"text-gray-200 font-semibold",children:e})]}),l.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/5 border border-white/10 overflow-hidden",children:l.jsx("div",{style:{width:`${e}%`},className:["h-full transition-all rounded-full",r?"bg-gradient-to-r from-emerald-500 to-emerald-400":n?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"].join(" ")})})]})}function SJ({lead:t,onClose:e,onSend:r}){const n=(t.stage||"curioso").toLowerCase(),a=aC[n]||aC.curioso,[i,o]=C.useState(a.suggestions[0]),[u,d]=C.useState(!1),[f,p]=C.useState(!1);async function m(){i.trim()&&(d(!0),await new Promise(x=>setTimeout(x,500)),r(i),d(!1),e())}async function v(){p(!0),await new Promise(j=>setTimeout(j,800));const x=[`Oi ${t.name?.split(" ")[0]||""}! ${i}`,`${i} O que acha?`,`${i} T disponvel agora se quiser conversar!`];o(x[Math.floor(Math.random()*x.length)]),p(!1)}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-xl rounded-[28px] border border-white/10 bg-[#0a0a0a] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(Ra,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Follow-up Inteligente"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Para: ",t.name||jd(t.phone)]})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:l.jsx(dn,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"rounded-xl bg-[#f57f17]/5 border border-[#f57f17]/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Zt,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:a.title})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Sugestes baseadas no estgio atual do lead"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Sugestes da IA"}),l.jsx("div",{className:"space-y-2",children:a.suggestions.map((x,j)=>l.jsx("button",{onClick:()=>o(x),className:`w-full text-left p-3 rounded-xl border transition text-sm ${i===x?"border-[#f57f17]/50 bg-[#f57f17]/10 text-white":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"}`,children:x},j))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem personalizada"}),l.jsxs("button",{onClick:v,disabled:f,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[f?l.jsx(wt,{className:"w-3 h-3 animate-spin"}):l.jsx(Sn,{className:"w-3 h-3"}),"Gerar variao"]})]}),l.jsx("textarea",{value:i,onChange:x=>o(x.target.value),rows:3,className:"w-full p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none focus:border-[#f57f17]/30",placeholder:"Digite sua mensagem..."}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.length," caracteres"]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contexto do lead"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full ${yl(t.stage).bg} ${yl(t.stage).text} border ${yl(t.stage).border}`,children:yl(t.stage).label}),l.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-full ${_d(t.urgency_level).bg} ${_d(t.urgency_level).text} border border-white/10`,children:["Urgncia: ",_d(t.urgency_level).label]}),l.jsxs("span",{className:"text-[10px] px-2 py-1 rounded-full bg-white/5 text-gray-300 border border-white/10",children:["Health: ",t.health_score??50]})]}),t.last_message&&l.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-black/30 border border-white/5",children:[l.jsx("p",{className:"text-[10px] text-gray-500 mb-1",children:"ltima msg do lead:"}),l.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.last_message})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10",children:"Cancelar"}),l.jsxs("button",{onClick:m,disabled:u||!i.trim(),className:"h-10 px-6 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[u?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(_s,{className:"w-4 h-4"}),"Enviar Follow-up"]})]})]})})}function NJ({leads:t,conversations:e,onOpenConversation:r,onSendFollowUp:n,onMarkAsWon:a}){const[i,o]=C.useState(""),[u,d]=C.useState(null),[f,p]=C.useState(null),m=C.useMemo(()=>{const w=new Map(e.map(y=>[y.lead_id,y]));return t.map(y=>{const O=w.get(y.id);return{...y,last_message:y.last_message||O?.last_message||null,conversation_id:y.conversation_id||O?.id||null}})},[t,e]),v=C.useMemo(()=>{let w=m;if(i.trim()){const y=i.toLowerCase();w=w.filter(O=>{const k=(O.name||"").toLowerCase(),S=(O.phone||"").toLowerCase(),E=(O.last_message||"").toLowerCase();return k.includes(y)||S.includes(y)||E.includes(y)})}return[...w].sort((y,O)=>{const k=(y.health_score??50)+(y.conversion_probability??0)*50;return(O.health_score??50)+(O.conversion_probability??0)*50-k})},[m,i]);function x(w){p(w)}function j(w){f&&n&&n(f,w)}return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.02] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(un,{className:"w-5 h-5 text-[#f57f17]"}),"Leads Prioritrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ordenados por temperatura (health + converso)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(na,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:i,onChange:w=>o(w.target.value),placeholder:"Buscar lead...",className:"bg-black/30 border border-white/10 rounded-2xl px-4 py-2 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30 w-60"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[380px_1fr]",children:[l.jsxs("div",{className:"border-r border-white/10 max-h-[700px] overflow-y-auto",children:[v.map((w,y)=>{const O=yl(w.stage),k=jJ(w.status),S=_d(w.urgency_level),E=E4(Math.round((w.health_score??50)+(w.conversion_probability??0)*50),0,100),_=wJ(w.updated_at);return l.jsx("button",{onClick:()=>d(w),className:["w-full text-left p-4 border-b border-white/5 transition",u?.id===w.id?"bg-[#f57f17]/10 border-l-2 border-l-[#f57f17]":"hover:bg-white/5"].join(" "),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:["h-12 w-12 rounded-2xl flex items-center justify-center text-lg font-bold border",E>=70?"bg-orange-500/20 border-orange-400/30 text-orange-200":E>=50?"bg-yellow-500/20 border-yellow-400/30 text-yellow-200":"bg-gray-500/20 border-gray-400/30 text-gray-300"].join(" "),children:bJ(w.name,w.phone)}),y<3&&l.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:y+1})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:w.name||jd(w.phone)}),l.jsx("span",{className:["text-[10px] font-bold px-1.5 py-0.5 rounded",E>=80?"bg-orange-500/30 text-orange-200":E>=60?"bg-yellow-500/30 text-yellow-200":E>=40?"bg-blue-500/30 text-blue-200":"bg-gray-500/30 text-gray-300"].join(" "),children:E})]}),l.jsxs("p",{className:"text-gray-500 text-xs truncate flex items-center gap-2",children:[l.jsx("span",{children:w.name?jd(w.phone):"Contato sem nome"}),_&&l.jsxs("span",{className:"text-gray-600",children:[" ",_]})]})]}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${k.bg} border border-white/10`,children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${k.dot}`}),l.jsx("span",{className:`text-xs font-semibold ${k.text}`,children:k.label})]})]}),l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:w.last_message||"Sem mensagens ainda  lead recm-criado."}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsx("span",{className:["text-[11px] font-bold px-2.5 py-1 rounded-full border",O.bg,O.border,O.text,O.glow].join(" "),children:O.label}),l.jsxs("span",{className:["text-[11px] font-semibold px-2.5 py-1 rounded-full border border-white/10",S.bg,S.text].join(" "),children:[l.jsx("span",{className:`inline-block h-2 w-2 rounded-full mr-2 ${S.dot}`}),S.label]}),l.jsxs("span",{className:"text-[11px] font-semibold px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-gray-200",children:[Math.round((w.conversion_probability||0)*100),"% converso"]})]})]})]})},w.id)}),v.length===0&&l.jsx("div",{className:"p-6 text-gray-400 text-sm",children:"Nenhum lead encontrado."})]}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-2xl",children:u.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),jd(u.phone)]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm",children:["Score: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(on,{className:"w-4 h-4 text-[#f57f17]"}),"Temp: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(Ss,{className:"w-4 h-4 text-emerald-300"}),Math.round((u.conversion_probability||0)*100),"%"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white leading-relaxed",children:u.last_message||"Sem mensagens ainda  lead criado agora."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:l.jsx(_J,{value:u.health_score??50})}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Prxima ao sugerida"}),l.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(eP,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Follow-up inteligente"}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Priorize este lead com mensagem de valor + CTA. Estgio: ",u.stage,"."]})]})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-yellow-300"}),"Sinais detectados"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(u.tags||[]).length===0?l.jsx("span",{className:"text-gray-500 text-sm",children:"Sem tags ainda"}):u.tags?.map(w=>l.jsx("span",{className:"text-xs text-gray-200 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:w},w))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>u&&r?.(u),className:"rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition px-4 py-3 text-white font-semibold",children:"Abrir conversa"}),l.jsxs("button",{onClick:()=>x(u),className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition px-4 py-3 text-white font-semibold flex items-center justify-center gap-2",children:[l.jsx(Ra,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up IA"]}),l.jsx("button",{onClick:()=>u&&a?.(u),className:"rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition px-4 py-3 text-white font-semibold",children:"Marcar como ganho"})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Selecione um lead"})})]}),f&&l.jsx(SJ,{lead:f,onClose:()=>p(null),onSend:j})]})}function kJ(t){const e=Array.isArray(t?.leads)?t.leads:[],r=Array.isArray(t?.conversations)?t.conversations:[];return l.jsx("div",{className:"space-y-6",children:l.jsx(NJ,{leads:e,conversations:r,onOpenConversation:t?.onOpenConversation,onSendFollowUp:t?.onSendFollowUp,onMarkAsWon:t?.onMarkAsWon})})}function an(t,e,r){return Math.max(e,Math.min(r,t))}function OJ(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),i=r.slice(7,11);return`+55 (${n}) ${a}-${i}`}function EJ(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function AJ(t){if(!t)return"";const e=new Date(t).getTime();if(Number.isNaN(e))return"";const r=Math.round((Date.now()-e)/6e4);return r<1?"agora":r<60?`${r} min`:`${Math.round(r/60)}h`}function CJ(t){const e=(t||"normal").toLowerCase();return e==="critical"?.95:e==="high"?.75:e==="low"?.25:.45}function iC(t){const e=CJ(t.urgency_level),r=an(t.health_score??50,0,100),n=an((65-r)/65,0,1),a=t.last_touch_at?new Date(t.last_touch_at).getTime():Date.now(),i=an(Math.round(Math.abs(Date.now()-a)/6e4),0,240),o=an(i/60,0,1);return an(.55*e+.25*o+.2*n,0,1)}function sC(t){if(typeof t.conversion_probability=="number")return an(t.conversion_probability,0,1);const e=(t.stage||"").toLowerCase();return e==="pronto"?.9:e==="empolgado"?.75:e==="sensvel_preo"?.55:e==="ctico"?.35:.45}function PJ(t,e){const r=t>=.55,n=e>=.55;return r&&!n?{title:"FECHAR AGORA",hint:"Alta inteno  Baixo risco"}:r&&n?{title:"SALVAR (URGENTE)",hint:"Alta inteno  Alto risco"}:!r&&n?{title:"NUTRIR COM PROVA",hint:"Baixa inteno  Alto risco"}:{title:"AUTOMATIZAR",hint:"Baixa inteno  Baixo risco"}}function TJ(t,e){const r=an(t*.6+e*.4,0,1);return r>.75?"bg-[#f57f17] shadow-[0_0_0_12px_rgba(245,127,23,0.16)]":r>.55?"bg-emerald-400 shadow-[0_0_0_12px_rgba(52,211,153,0.16)]":r>.35?"bg-sky-400 shadow-[0_0_0_12px_rgba(56,189,248,0.16)]":"bg-white/60 shadow-[0_0_0_12px_rgba(255,255,255,0.12)]"}function RJ(t){const{anchorX:e,anchorY:r,vw:n,vh:a,cardW:i,cardH:o,pad:u}=t,d=[{x:e+16,y:r-o-16},{x:e-i-16,y:r-o-16},{x:e+16,y:r+16},{x:e-i-16,y:r+16},{x:e+16,y:r-o/2},{x:e-i-16,y:r-o/2}];for(const f of d){const p=f.x>=u&&f.x+i<=n-u,m=f.y>=u&&f.y+o<=a-u;if(p&&m)return f}return{x:an(e-i/2,u,n-i-u),y:an(r-o/2,u,a-o-u)}}function MJ({leads:t,height:e=420,highlightLeadIds:r=[],onClearHighlights:n,onOpenConversation:a,onSendFollowUp:i,onMarkAsWon:o}){const u=C.useRef(null),[d,f]=C.useState(null),[p,m]=C.useState(null),v=C.useMemo(()=>new Set(r),[r]),x=C.useMemo(()=>t.map(y=>{const O=sC(y),k=iC(y);return{lead:y,intent:O,risk:k,x:O,y:k}}),[t]);function j(y,O,k){f(y);const A=RJ({anchorX:O,anchorY:k,vw:window.innerWidth,vh:window.innerHeight,cardW:380,cardH:380,pad:12});m(A)}const w=()=>{f(null),m(null)};return l.jsxs("div",{className:"relative rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:"DOCA Emotion Map"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Inteno  Risco  clique em um ponto para aes e sugesto IA."})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs text-gray-200",children:[x.length," leads"]}),l.jsx("span",{className:"px-3 py-1.5 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-xs text-[#f57f17] font-semibold",children:"Assinatura visual DOCA"}),r.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-[#8b5cf6]/30 bg-[#8b5cf6]/15 text-xs text-white font-semibold flex items-center gap-2",children:[l.jsx(Zt,{className:"w-4 h-4 text-[#8b5cf6]"}),"Plano do dia: ",r.length," destacados"]}),l.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs text-gray-200 font-semibold",children:"Limpar destaque"})]})]})]}),l.jsxs("div",{ref:u,className:"relative rounded-b-[28px] overflow-hidden",style:{height:e},children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[1]",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(245,127,23,0.10),transparent_55%)]"}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:48px_48px]"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[2]",children:[l.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/10"}),l.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/10"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 p-6 z-[3]",children:[l.jsxs("div",{className:"absolute left-6 top-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"SALVAR (URGENTE)"}),l.jsx("div",{children:"Alta inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 top-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"FECHAR AGORA"}),l.jsx("div",{children:"Alta inteno  Baixo risco"})]}),l.jsxs("div",{className:"absolute left-6 bottom-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"NUTRIR COM PROVA"}),l.jsx("div",{children:"Baixa inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 bottom-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"AUTOMATIZAR"}),l.jsx("div",{children:"Baixa inteno  Baixo risco"})]})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[4]",children:[l.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[11px] text-gray-500 rotate-[-90deg] origin-left",children:"RISCO "}),l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 text-[11px] text-gray-500",children:"INTENO "})]}),l.jsx("div",{className:"absolute inset-0 z-[10]",children:x.map(y=>{const O=an(y.x,.04,.96)*100,k=an(1-y.y,.04,.96)*100,S=v.has(y.lead.id),E=S?"bg-[#8b5cf6] shadow-[0_0_0_16px_rgba(139,92,246,0.22)]":TJ(y.intent,y.risk);return l.jsx("button",{onClick:_=>{_.stopPropagation(),j(y.lead,_.clientX,_.clientY)},className:["absolute group",S?"z-[60]":"z-[10]"].join(" "),style:{left:`${O}%`,top:`${k}%`},title:y.lead.name||y.lead.phone,children:l.jsxs("div",{className:"relative",children:[S&&l.jsx("div",{className:"absolute inset-[-22px] rounded-full bg-[#8b5cf6]/14 blur-2xl animate-pulse"}),l.jsx("div",{className:["relative rounded-full border border-black/40 transition-all",E,"group-hover:scale-[1.25]",S?"h-6 w-6":"h-4 w-4",S?"ring-4 ring-[#8b5cf6]/60":""].join(" ")}),S&&l.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-8 px-2 py-0.5 rounded-full text-[10px] font-bold border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] whitespace-nowrap",children:"PLANO"})]})},y.lead.id)})})]}),d&&p?dI.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"fixed inset-0 z-[9998] cursor-default",style:{background:"transparent"},onClick:w,"aria-label":"Fechar"}),l.jsxs("div",{className:"fixed z-[9999] w-[380px] max-w-[calc(100vw-24px)] rounded-[24px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl animate-[fadeIn_140ms_ease-out]",style:{left:p.x,top:p.y},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:EJ(d.name,d.phone)}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:d.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-2 mt-0.5",children:[l.jsx(Xn,{className:"w-4 h-4"}),OJ(d.phone)]}),v.has(d.id)&&l.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] text-xs font-semibold",children:[l.jsx(Zt,{className:"w-4 h-4 text-[#8b5cf6]"}),"Afetado pelo plano do dia"]})]})]}),l.jsx("button",{onClick:w,className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition flex items-center justify-center",title:"Fechar",children:l.jsx(dn,{className:"w-4 h-4 text-gray-200"})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[(()=>{const y=sC(d),O=iC(d),k=PJ(y,O);return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Quadrante"}),l.jsx("p",{className:"text-white font-bold mt-1",children:k.title}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:k.hint}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(y*100),"% inteno"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(O*100),"% risco"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["health ",d.health_score??50]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["last ",AJ(d.last_touch_at)]})]})]})})(),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white text-sm leading-relaxed",children:d.last_message||"Sem mensagens ainda."})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[#f57f17]",children:[l.jsx(on,{className:"w-4 h-4"}),l.jsx("p",{className:"text-sm font-semibold",children:"Sugesto IA"})]}),l.jsxs("p",{className:"text-gray-200 text-sm mt-2 leading-relaxed",children:["Mensagem curta com prova social + CTA direto. Ex:"," ",l.jsx("span",{className:"text-white font-semibold",children:"Consigo te colocar em funcionamento hoje. Quer que eu te mande os planos?"})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-300",children:[l.jsx(Ss,{className:"w-4 h-4 text-emerald-300"}),"Alta chance de resposta em 1020 min"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{onClick:()=>a?.(d),className:"h-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Abrir"}),l.jsxs("button",{onClick:()=>i?.(d),className:"h-10 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(eP,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up"]}),l.jsx("button",{onClick:()=>o?.(d),className:"h-10 rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition text-sm font-semibold text-white",children:"Ganho"})]}),l.jsx("div",{className:"text-[11px] text-gray-500",children:"*MVP: inteno/risco por heurstica (depois plugamos no motor real)."})]})]}),l.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(6px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `})]}),document.body):null]})}const $J="/api/dashboard";async function IJ(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html")){const n=await e.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${t}. Exemplo: ${n.slice(0,60)}...`)}if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function DJ(){const[t,e]=C.useState(null),[r,n]=C.useState(!0),[a,i]=C.useState(null),o=C.useMemo(()=>ho(),[]);return C.useEffect(()=>{let u=!0;async function d(){try{if(n(!0),i(null),o){const m=po()?.stats;u&&e(m);return}const f=await IJ(`${$J}/metrics`);u&&e(f)}catch(f){u&&i(f?.message||"Erro desconhecido")}finally{u&&n(!1)}}return d(),()=>{u=!1}},[o]),{data:t,loading:r,error:a}}function LJ(t,e,r){return Math.max(e,Math.min(r,t))}function xi(t,e){if(t.length<=e)return t;const r=[...t],n=[];for(;n.length<e&&r.length>0;){const a=Math.floor(Math.random()*r.length);n.push(r.splice(a,1)[0])}return n}function BJ(t){if(!Array.isArray(t)||t.length===0)return[];const e=t.filter(o=>String(o.stage||"").toLowerCase()==="pronto"),r=t.filter(o=>["high","critical"].includes(String(o.urgency_level||"").toLowerCase())),n=t.filter(o=>{const u=Number(o.health_score??50),d=String(o.urgency_level||"").toLowerCase();return u<=45&&(d==="high"||d==="critical")}),a=[...xi(e,4),...xi(r,3),...xi(n,2)],i=Array.from(new Set(a.map(o=>String(o.id)).filter(Boolean)));if(i.length<5){const o=xi(t,8).map(u=>String(u.id));return Array.from(new Set([...i,...o])).slice(0,10)}return i.slice(0,10)}function oC(t){return t.reduce((e,r)=>e+r,0)}function qJ(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}const UJ=[{key:"curioso",label:"Curiosos",icon:na,gradient:"from-blue-500 to-blue-600"},{key:"ctico",label:"Cticos",icon:Bf,gradient:"from-fuchsia-500 to-fuchsia-600"},{key:"sensvel_preo",label:"Preo",icon:ro,gradient:"from-cyan-500 to-cyan-600"},{key:"empolgado",label:"Empolgados",icon:Ml,gradient:"from-emerald-500 to-emerald-600"},{key:"pronto",label:"Prontos",icon:on,gradient:"from-orange-500 to-red-500"}];function FJ(t){DJ();const e=C.useMemo(()=>ho()?po():null,[]),r=!!e,[n,a]=C.useState(!1),i=C.useMemo(()=>{if(Array.isArray(t?.leads)&&t.leads.length)return t.leads.map(P=>({id:String(P.id),phone:String(P.phone||""),name:P.name??null,stage:P.stage,urgency_level:P.urgency_level,health_score:P.health_score??P.score??50,conversion_probability:P.conversion_probability,tags:Array.isArray(P.tags)?P.tags:[],last_message:P.last_message??P.lastMessage,last_touch_at:P.last_touch_at??P.lastTouchAt??P.updated_at}));if(r&&e?.leads?.length){const P=new Map;return Array.isArray(e.conversations)&&e.conversations.forEach($=>{$?.phone&&$?.last_message&&P.set($.phone,$.last_message)}),(e.leads||[]).map($=>({id:String($.id),phone:String($.phone||""),name:$.name??null,stage:$.stage,urgency_level:$.urgency_level,health_score:$.health_score??50,conversion_probability:$.conversion_probability,tags:Array.isArray($.tags)?$.tags:[],last_message:P.get($.phone)||"",last_touch_at:$.updated_at}))}return[]},[t?.leads,r,e]),[o,u]=C.useState([]),d=i.length,f=C.useMemo(()=>i.filter(P=>String(P.stage||"").toLowerCase()==="pronto"),[i]),p=C.useMemo(()=>i.filter(P=>["high","critical"].includes(String(P.urgency_level||"").toLowerCase())),[i]),m=C.useMemo(()=>i.filter(P=>{const $=Number(P.health_score??50),B=String(P.urgency_level||"").toLowerCase();return $<=45&&(B==="high"||B==="critical")}),[i]),v=C.useMemo(()=>i.length?Math.round(oC(i.map(P=>Number(P.health_score??50)))/i.length):0,[i]),x=C.useMemo(()=>{const P=i.length?p.length/i.length:0;return LJ(140+Math.round(P*80),60,260)},[i.length,p.length]),j=C.useMemo(()=>{const P=i.length?oC(i.map($=>Number($.conversion_probability??.35)))/i.length:.35;return Math.round(f.length*1497*P*1.1)},[i,f.length]),w=C.useMemo(()=>{const P={};return i.forEach($=>{const B=($.stage||"curioso").toLowerCase();P[B]=(P[B]||0)+1}),P},[i]),y=C.useMemo(()=>o.length===0?[]:i.filter(P=>o.includes(P.id)),[i,o]),O=C.useMemo(()=>BJ(i),[i]),k=()=>{u(O),a(!0)},S=()=>{u([]),a(!1)},E=P=>{const $=i.filter(B=>(B.stage||"curioso").toLowerCase()===P);u($.map(B=>B.id)),a(!0)},_=f.length||o.length||0,A=f.length>0?`${p.length} leads quentes e ${m.length} em risco. Execute o plano para aumentar converso.`:"A IA analisou inteno, urgncia e health. Gere um plano para destacar oportunidades.",T=C.useMemo(()=>[{id:"attack-ready",title:"Atacar leads prontos",desc:`Follow-up para ${Math.min(f.length||4,6)} leads PRONTO`,count:Math.min(f.length||4,6),action:()=>{u(xi(f.map(P=>P.id),6)),a(!0)}},{id:"save-risk",title:"Salvar esfriando",desc:`Priorizar ${Math.min(m.length||3,5)} leads em risco`,count:Math.min(m.length||3,5),action:()=>{u(xi(m.map(P=>P.id),5)),a(!0)}},{id:"price-objection",title:"Destravar preo",desc:`Responder ${Math.min(3,i.length)} sensveis a preo`,count:Math.min(3,i.length),action:()=>{const P=i.filter($=>String($.stage||"").toLowerCase()==="sensvel_preo");u(xi((P.length?P:i).map($=>$.id),6)),a(!0)}}],[i,f,m]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(La,{className:"w-6 h-6 text-[#f57f17]"}),"Funil & Emoes"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["War Room: deciso + execuo",r?" (DEMO)":""]})]})}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(un,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"PLANO DO DIA"})]}),l.jsxs("div",{className:"text-3xl font-extrabold text-white",children:[_," leads prontos"]}),l.jsx("p",{className:"text-gray-500 text-sm max-w-xl",children:A}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-1",children:[l.jsxs("button",{onClick:k,className:"h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 transition text-white font-semibold flex items-center gap-2 shadow-lg shadow-[#f57f17]/20",children:[l.jsx(un,{className:"w-4 h-4"}),"Executar plano"]}),o.length>0&&l.jsx("button",{onClick:S,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-white font-semibold",children:"Limpar"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[l.jsx(ld,{title:"Ativos",value:d,color:"text-white"}),l.jsx(ld,{title:"Quentes",value:p.length,color:"text-orange-400"}),l.jsx(ld,{title:"Health",value:v,color:"text-emerald-400"}),l.jsx(ld,{title:"SLA",value:`${x}m`,color:"text-cyan-400"})]})]})}),l.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map(P=>l.jsxs("button",{onClick:P.action,className:"group text-left rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/30 hover:bg-[#f57f17]/5 transition-all",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-white font-semibold group-hover:text-[#f57f17] transition",children:P.title}),l.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-white/5 text-gray-400",children:P.count})]}),l.jsx("p",{className:"text-gray-500 text-sm",children:P.desc})]},P.id))}),j>0&&l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/5 p-4 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 border border-emerald-500/25 flex items-center justify-center",children:l.jsx(Da,{className:"w-5 h-5 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-emerald-300 text-sm font-medium",children:"Receita esperada"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",j.toLocaleString("pt-BR")]})]})]}),m.length>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-400",children:[l.jsx(ar,{className:"w-4 h-4"}),l.jsxs("span",{children:[m.length," leads esfriando"]})]})]})})]}),n&&y.length>0&&l.jsxs("div",{className:"rounded-[28px] border border-[#f57f17]/30 bg-gradient-to-br from-[#f57f17]/10 to-transparent backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-[#f57f17]/20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(ln,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Selecionados"}),l.jsxs("p",{className:"text-gray-400 text-xs",children:[y.length," para ao"]})]})]}),l.jsx("button",{onClick:()=>a(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"max-h-[280px] overflow-y-auto divide-y divide-white/5",children:y.map(P=>{const $=P.health_score||50;return l.jsxs("div",{className:"px-4 py-3 hover:bg-white/[0.02] transition flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:["h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0",$>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":$>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"].join(" "),children:$}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:P.name||qJ(P.phone)}),l.jsx("p",{className:"text-gray-500 text-xs",children:P.stage||"curioso"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("button",{onClick:()=>t?.onOpenConversation?.(P),className:"h-8 px-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-white flex items-center gap-1.5",children:[l.jsx(sr,{className:"w-3.5 h-3.5"})," Chat"]}),l.jsxs("button",{onClick:()=>t?.onSendFollowUp?.(P),className:"h-8 px-3 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(Xn,{className:"w-3.5 h-3.5 text-[#f57f17]"})," FUP"]}),l.jsxs("button",{onClick:()=>t?.onMarkAsWon?.(P),className:"h-8 px-3 rounded-lg border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(gL,{className:"w-3.5 h-3.5 text-emerald-400"})," Won"]})]})]},P.id)})})]}),l.jsx(MJ,{leads:i,height:460,highlightLeadIds:o,onClearHighlights:S,onOpenConversation:P=>t?.onOpenConversation?.(P),onSendFollowUp:P=>t?.onSendFollowUp?.(P),onMarkAsWon:P=>t?.onMarkAsWon?.(P)}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Distribuio por estgio emocional"})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("span",{className:"text-white font-semibold",children:d})," leads"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:UJ.map(P=>{const $=w[P.key]||0,B=d>0?$/d*100:0,I=P.icon;return l.jsx("button",{onClick:()=>E(P.key),className:"w-full group",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl bg-gradient-to-br ${P.gradient} flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-105 transition`,children:l.jsx(I,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("span",{className:"text-sm text-gray-300 font-medium group-hover:text-white transition",children:P.label}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:$}),l.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(B),"%"]})]})]}),l.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${P.gradient} rounded-full transition-all duration-500 group-hover:opacity-80`,style:{width:`${Math.max(B,2)}%`}})})]}),l.jsx(rx,{className:"w-5 h-5 text-gray-700 group-hover:text-[#f57f17] group-hover:translate-x-1 transition-all flex-shrink-0"})]})},P.key)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Cf,{title:"Insights",subtitle:"O que est acontecendo",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(M0,{label:"Oportunidade",value:f.length>0?`${f.length} leads prontos para fechar`:"Sem leads prontos",good:f.length>0}),l.jsx(M0,{label:"Urgncia",value:p.length>0?`${p.length} leads com alta urgncia`:"Sem urgncias",good:!1}),l.jsx(M0,{label:"Sade",value:v>=60?"Funil saudvel":v>=40?"Funil mdio":"Funil precisa ateno",good:v>=60})]})}),l.jsx(Cf,{title:"Aes Recomendadas",subtitle:"Prximos passos",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx($0,{title:"Foco em prontos",desc:"Follow-up imediato com CTA de call"}),l.jsx($0,{title:"Destravar cticos",desc:"Prova social e cases de sucesso"}),l.jsx($0,{title:"Sensveis a preo",desc:"Mostrar ROI e opes de pagamento"})]})})]})]})}function ld({title:t,value:e,color:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:t}),l.jsx("p",{className:`text-xl font-bold ${r}`,children:e})]})}function M0({label:t,value:e,good:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 rounded-xl border border-white/5 bg-black/20",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:t}),l.jsx("span",{className:`text-sm font-medium ${r?"text-emerald-400":"text-gray-300"}`,children:e})]})}function $0({title:t,desc:e}){return l.jsxs("div",{className:"px-4 py-3 rounded-xl border border-white/5 bg-black/20 hover:border-[#f57f17]/20 transition",children:[l.jsx("p",{className:"text-white font-medium text-sm",children:t}),l.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:e})]})}const zJ="modulepreload",WJ=function(t){return"/"+t},lC={},cC=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");a=d(r.map(f=>{if(f=WJ(f),f in lC)return;lC[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":zJ,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((x,j)=>{v.addEventListener("load",x),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};async function HJ(t,e={}){if(!t)throw new Error("exportElementToPdf: element is required.");const{filename:r="DOCA-Relatorio.pdf",backgroundColor:n="#0b0f19",scale:a=2,marginMm:i=8,orientation:o="p"}=e,[{default:u},{jsPDF:d}]=await Promise.all([cC(()=>import("./html2canvas.esm-DXEQVQnt.js"),[]),cC(()=>import("./jspdf.es.min-C8jK3hUB.js").then(P=>P.j),[])]),p=await(u||u)(t,{scale:Number(a)||2,backgroundColor:n,useCORS:!0,logging:!1,removeContainer:!0}),m=p.toDataURL("image/png",1),v=new d({orientation:o,unit:"mm",format:"a4"}),x=v.internal.pageSize.getWidth(),j=v.internal.pageSize.getHeight(),w=x-i*2,y=j-i*2,O=p.width,k=p.height,S=O/k;let E=w,_=E/S;_>y&&(_=y,E=_*S);const A=(x-E)/2,T=i;v.addImage(m,"PNG",A,T,E,_,void 0,"FAST"),v.save(r)}const I0=[{key:"today",label:"Hoje"},{key:"7d",label:"7 dias"},{key:"30d",label:"30 dias"},{key:"90d",label:"90 dias"}];function VJ({leads:t,conversations:e,onGoToFunnel:r}){const n=ho(),a=C.useMemo(()=>n?po():null,[n]),i=C.useMemo(()=>t&&t.length>0?t:n&&a?.leads?a.leads:[],[t,n,a]),o=C.useMemo(()=>e&&e.length>0?e:n&&a?.conversations?a.conversations:[],[e,n,a]),u=C.useRef(null),[d,f]=C.useState("7d"),[p,m]=C.useState(!1),[v,x]=C.useState(!1),j=C.useMemo(()=>{const _=i.length,A=o.length,T=i.map(Z=>Z.health_score??Z.score??50).filter(Boolean),P=T.length>0?Math.round(T.reduce((Z,Se)=>Z+Se,0)/T.length):0,$=i.map(Z=>Z.conversion_probability??.4),B=$.length>0?Math.round($.reduce((Z,Se)=>Z+Se,0)/$.length*100):0,I={};i.forEach(Z=>{const Se=Z.stage||"curioso";I[Se]=(I[Se]||0)+1});const F=i.filter(Z=>Z.urgency_level==="high"||Z.urgency_level==="critical").length,L=i.filter(Z=>Z.urgency_level==="critical").length,G=i.filter(Z=>Z.urgency_level==="normal"||!Z.urgency_level).length,q=i.filter(Z=>Z.urgency_level==="low").length,z=i.filter(Z=>(Z.stage||"").toLowerCase()==="pronto").length,ee=i.filter(Z=>(Z.stage||"").toLowerCase()==="empolgado").length,H=i.filter(Z=>(Z.stage||"").toLowerCase()==="curioso").length,W=i.filter(Z=>(Z.stage||"").toLowerCase()==="ctico").length,J=i.filter(Z=>(Z.stage||"").toLowerCase().includes("preo")).length,M=_>0?Math.round(z/_*100):0,U=i.filter(Z=>Z.status==="new").length,ne=i.filter(Z=>Z.status==="contacted").length,se=i.filter(Z=>Z.status==="qualified").length,ie=i.filter(Z=>Z.status==="won").length,me=i.filter(Z=>Z.status==="lost").length,Re=i.filter(Z=>(Z.health_score??50)<=40&&(Z.urgency_level==="high"||Z.urgency_level==="critical")).length,ge=i.filter(Z=>(Z.health_score??50)>=70).length,oe=i.filter(Z=>(Z.health_score??50)<=30).length,be={};i.forEach(Z=>{(Z.tags||[]).forEach(Se=>{be[Se]=(be[Se]||0)+1})});const ke=Object.entries(be).sort((Z,Se)=>Se[1]-Z[1]).slice(0,5).map(([Z,Se])=>({tag:Z,count:Se}));return{totalLeads:_,totalConvs:A,avgHealth:P,avgConversion:B,stages:I,urgencyHigh:F,urgencyCritical:L,urgencyNormal:G,urgencyLow:q,prontos:z,empolgados:ee,curiosos:H,ceticos:W,preco:J,conversionRate:M,statusNew:U,statusContacted:ne,statusQualified:se,statusWon:ie,statusLost:me,emRisco:Re,quentes:ge,frios:oe,topTags:ke}},[i,o]),w=C.useMemo(()=>{const _=[];return j.conversionRate>=20?_.push({type:"success",text:"Excelente! Seu funil est com alta converso."}):j.conversionRate>=10?_.push({type:"warning",text:"Bom potencial. Aumente follow-ups nos leads quentes."}):j.totalLeads>0&&_.push({type:"danger",text:"Converso baixa. Foco em remover objees e criar urgncia."}),j.avgHealth>=70?_.push({type:"success",text:"Health mdio alto! Leads engajados."}):j.avgHealth>=50?_.push({type:"warning",text:"Health mdio OK. Alguns leads podem esfriar."}):j.totalLeads>0&&_.push({type:"danger",text:"Health mdio baixo. Risco de perder leads."}),j.emRisco>0&&_.push({type:"danger",text:`${j.emRisco} lead(s) em risco crtico precisam de ateno.`}),j.urgencyHigh>0&&_.push({type:"warning",text:`${j.urgencyHigh} lead(s) com urgncia alta aguardando ao.`}),j.prontos>0&&_.push({type:"success",text:`${j.prontos} lead(s) prontos para fechar!`}),j.frios>0&&_.push({type:"warning",text:`${j.frios} lead(s) frios precisam de reativao.`}),_.length===0&&_.push({type:"warning",text:"Sem dados suficientes para gerar insights."}),_},[j]),y=C.useMemo(()=>{const _=["curioso","ctico","sensvel_preo","empolgado","pronto"],A={curioso:"Curiosos",ctico:"Cticos",sensvel_preo:"Sensveis a Preo",empolgado:"Empolgados",pronto:"Prontos"},T={curioso:"bg-blue-500",ctico:"bg-fuchsia-500",sensvel_preo:"bg-cyan-500",empolgado:"bg-emerald-500",pronto:"bg-orange-500"},P={curioso:na,ctico:Bf,sensvel_preo:ro,empolgado:Ml,pronto:on},$=i.length||1;return _.map(B=>({key:B,label:A[B]||B,count:j.stages[B]||0,pct:Math.round((j.stages[B]||0)/$*100),color:T[B]||"bg-gray-500",Icon:P[B]||ln}))},[i,j.stages]);async function O(){if(u.current){x(!0);try{const _=I0.find(P=>P.key===d)?.label||d,A=new Date().toLocaleDateString("pt-BR"),T=new Date().toLocaleTimeString("pt-BR");await HJ(u.current,{filename:`Relatorio-DOCA-${_}-${A.replace(/\//g,"-")}.pdf`,scale:2,backgroundColor:"#0a0a0a",orientation:"p"})}catch(_){console.error("Erro ao exportar PDF:",_),alert("Erro ao exportar PDF: "+(_?.message||"Erro desconhecido"))}finally{x(!1)}}}const k=I0.find(_=>_.key===d)?.label||d,S=new Date().toLocaleDateString("pt-BR"),E=new Date().toLocaleTimeString("pt-BR");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(_i,{className:"w-6 h-6 text-[#f57f17]"}),"Relatrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Performance do funil, mtricas e insights"})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("div",{className:"h-10 px-3 rounded-xl border border-white/10 bg-white/5 flex items-center gap-2",children:[l.jsx(QD,{className:"w-4 h-4 text-gray-400"}),l.jsx("select",{value:d,onChange:_=>f(_.target.value),className:"bg-transparent outline-none text-sm text-gray-200",children:I0.map(_=>l.jsx("option",{value:_.key,className:"bg-black",children:_.label},_.key))})]}),l.jsxs("button",{onClick:()=>m(!0),className:"h-10 px-4 rounded-xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(Zt,{className:"w-4 h-4 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:O,disabled:v,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Ma,{className:"w-4 h-4 animate-spin"}),"Gerando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bb,{className:"w-4 h-4"}),"Exportar PDF"]})}),l.jsxs("button",{onClick:r,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(La,{className:"w-4 h-4"}),"Ir para Funil"]})]})]}),l.jsxs("div",{ref:u,className:"space-y-6 bg-[#0a0a0a] p-6 rounded-[28px]",children:[l.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-2xl bg-[#f57f17]/20 border border-[#f57f17]/30 flex items-center justify-center",children:l.jsx(Rl,{className:"w-6 h-6 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Relatrio DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Central de Comando - Anlise de Performance"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white font-semibold",children:["Perodo: ",k]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Gerado em ",S," s ",E]})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(ZD,{className:"w-5 h-5 text-[#f57f17]"}),"Resumo Executivo"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(cd,{label:"Total de Leads",value:j.totalLeads,icon:ln,color:"text-blue-400"}),l.jsx(cd,{label:"Conversas",value:j.totalConvs,icon:_i,color:"text-purple-400"}),l.jsx(cd,{label:"Health Mdio",value:`${j.avgHealth}%`,icon:Ml,color:j.avgHealth>=70?"text-emerald-400":j.avgHealth>=50?"text-yellow-400":"text-red-400"}),l.jsx(cd,{label:"Converso Mdia",value:`${j.avgConversion}%`,icon:Da,color:"text-cyan-400"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(La,{className:"w-5 h-5 text-[#f57f17]"}),"Distribuio do Pipeline"]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:y.map(_=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`h-10 w-10 mx-auto rounded-xl ${_.color}/20 flex items-center justify-center mb-2`,children:l.jsx(_.Icon,{className:`w-5 h-5 ${_.color.replace("bg-","text-")}`})}),l.jsx("p",{className:"text-2xl font-bold text-white",children:_.count}),l.jsx("p",{className:"text-xs text-gray-500",children:_.label}),l.jsxs("p",{className:"text-xs text-gray-600",children:[_.pct,"%"]})]},_.key))}),l.jsx("div",{className:"space-y-2",children:y.map(_=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs text-gray-400 w-24",children:_.label}),l.jsx("div",{className:"flex-1 h-3 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${_.color} rounded-full`,style:{width:`${_.pct}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[_.count," (",_.pct,"%)"]})]},_.key))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status dos Leads"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Un,{label:"Novos",value:j.statusNew,total:j.totalLeads,color:"bg-blue-500"}),l.jsx(Un,{label:"Contatados",value:j.statusContacted,total:j.totalLeads,color:"bg-yellow-500"}),l.jsx(Un,{label:"Qualificados",value:j.statusQualified,total:j.totalLeads,color:"bg-purple-500"}),l.jsx(Un,{label:"Ganhos",value:j.statusWon,total:j.totalLeads,color:"bg-emerald-500"}),l.jsx(Un,{label:"Perdidos",value:j.statusLost,total:j.totalLeads,color:"bg-red-500"})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nvel de Urgncia"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Un,{label:"Crtica",value:j.urgencyCritical,total:j.totalLeads,color:"bg-red-500"}),l.jsx(Un,{label:"Alta",value:j.urgencyHigh-j.urgencyCritical,total:j.totalLeads,color:"bg-orange-500"}),l.jsx(Un,{label:"Normal",value:j.urgencyNormal,total:j.totalLeads,color:"bg-gray-500"}),l.jsx(Un,{label:"Baixa",value:j.urgencyLow,total:j.totalLeads,color:"bg-blue-500"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Sade dos Leads"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/10 p-5 text-center",children:[l.jsx(on,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-300",children:j.quentes}),l.jsx("p",{className:"text-sm text-emerald-400",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  70"})]}),l.jsxs("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/10 p-5 text-center",children:[l.jsx(ln,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:j.totalLeads-j.quentes-j.frios}),l.jsx("p",{className:"text-sm text-yellow-400",children:"Leads Mornos"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health 31-69"})]}),l.jsxs("div",{className:"rounded-2xl border border-blue-500/20 bg-blue-500/10 p-5 text-center",children:[l.jsx(ar,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-300",children:j.frios}),l.jsx("p",{className:"text-sm text-blue-400",children:"Leads Frios"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  30"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Mtricas de Converso"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(ud,{label:"Taxa de Converso",value:`${j.conversionRate}%`,hint:"Prontos / Total",tone:j.conversionRate>=15?"good":j.conversionRate>=8?"mid":"bad"}),l.jsx(ud,{label:"Leads Prontos",value:j.prontos,hint:"Estgio final",tone:"good"}),l.jsx(ud,{label:"Em Risco",value:j.emRisco,hint:"Health baixo + Urgncia alta",tone:j.emRisco>0?"bad":"good"}),l.jsx(ud,{label:"Aguardando Ao",value:j.urgencyHigh,hint:"Urgncia alta",tone:j.urgencyHigh>3?"bad":j.urgencyHigh>0?"mid":"good"})]})})]}),j.topTags.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tags Mais Frequentes"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:j.topTags.map(({tag:_,count:A})=>l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm text-gray-300",children:[_," ",l.jsxs("span",{className:"text-gray-500",children:["(",A,")"]})]},_))})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Zt,{className:"w-5 h-5 text-[#f57f17]"}),"Insights da IA"]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 space-y-3",children:w.map((_,A)=>l.jsx("div",{className:`p-3 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx(Yn,{className:"w-4 h-4"}):l.jsx(ar,{className:"w-4 h-4"}),_.text]})},A))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Aes Recomendadas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dd,{title:"1. Atacar leads prontos",desc:"CTA direto + agendamento. A janela  curta.",pill:`${j.prontos} leads`,priority:j.prontos>0}),l.jsx(dd,{title:"2. Follow-up urgentes",desc:"Leads com urgncia alta precisam de resposta rpida.",pill:`${j.urgencyHigh} leads`,priority:j.urgencyHigh>0}),l.jsx(dd,{title:"3. Recuperar em risco",desc:"Health baixo + urgncia alta = risco de perder.",pill:`${j.emRisco} leads`,priority:j.emRisco>0}),l.jsx(dd,{title:"4. Reativar leads frios",desc:"Nutrio com contedo relevante para reaquecer.",pill:`${j.frios} leads`,priority:j.frios>0})]})]}),l.jsx("div",{className:"border-t border-white/10 pt-6 mt-6",children:l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"DOCA AI - Central de Comando"}),l.jsxs("span",{children:["Relatrio gerado automaticamente em ",S," s ",E]})]})})]}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(Zt,{className:"w-5 h-5 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:()=>m(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"space-y-3",children:w.map((_,A)=>l.jsx("div",{className:`p-4 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx(Yn,{className:"w-4 h-4"}):l.jsx(ar,{className:"w-4 h-4"}),_.text]})},A))}),l.jsx("button",{onClick:()=>m(!1),className:"mt-6 w-full h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white",children:"Entendi"})]})})]})}function cd({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(r,{className:`w-4 h-4 ${n}`}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function Un({label:t,value:e,total:r,color:n}){const a=r>0?Math.round(e/r*100):0;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-3 w-3 rounded-full ${n}`}),l.jsx("span",{className:"text-sm text-gray-300 w-24",children:t}),l.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${n} rounded-full`,style:{width:`${a}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-20 text-right",children:[e," (",a,"%)"]})]})}function ud({label:t,value:e,hint:r,tone:n}){const a={good:"text-emerald-400",mid:"text-yellow-400",bad:"text-red-400"};return l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-3xl font-bold ${a[n]}`,children:e}),l.jsx("p",{className:"text-sm text-white mt-1",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]})}function dd({title:t,desc:e,pill:r,priority:n}){return l.jsx("div",{className:`rounded-xl border p-4 ${n?"border-[#f57f17]/30 bg-[#f57f17]/5":"border-white/10 bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e})]}),l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-semibold whitespace-nowrap ${n?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-[#f57f17]":"bg-white/5 border border-white/10 text-gray-400"}`,children:r})]})})}const KJ=[{id:"vendas",name:"Vendas Consultivas",description:"Foco em entender necessidades e fechar com valor",tags:["vendas","consultivo"],prompt:`Voc  um especialista em vendas consultivas da DOCA AI.

OBJETIVO: Entender as necessidades do lead e gui-lo para uma deciso de compra.

REGRAS:
- Nunca seja agressivo ou pushy
- Faa perguntas para entender o contexto
- Apresente benefcios, no features
- Use prova social quando apropriado
- Crie urgncia genuna, no artificial

TOM DE VOZ:
- Profissional mas humano
- Emptico e consultivo
- Direto ao ponto
- Sem emojis excessivos

ESTRUTURA DE RESPOSTA:
1. Reconhea a dvida/necessidade
2. Responda de forma clara
3. Faa uma pergunta de qualificao OU apresente prximo passo`},{id:"suporte",name:"Suporte ao Cliente",description:"Resolver problemas com empatia e eficincia",tags:["suporte","atendimento"],prompt:`Voc  um especialista em suporte da DOCA AI.

OBJETIVO: Resolver problemas rapidamente mantendo o cliente satisfeito.

REGRAS:
- Priorize resolver o problema
- Se no souber, escale para humano
- Nunca invente informaes
- Documente o problema para melhoria

TOM DE VOZ:
- Emptico e paciente
- Tcnico quando necessrio
- Sempre oferea alternativas

ESTRUTURA:
1. Reconhea o problema
2. Apresente a soluo
3. Confirme se resolveu`},{id:"qualificacao",name:"Qualificao de Leads",description:"Identificar leads qualificados rapidamente",tags:["vendas","qualificao"],prompt:`Voc  um especialista em qualificao de leads da DOCA AI.

OBJETIVO: Identificar se o lead tem fit com nossa soluo.

CRITRIOS DE QUALIFICAO:
- Budget: Tem oramento para investir?
- Authority:  o decisor?
- Need: Tem uma dor real que resolvemos?
- Timeline: Precisa resolver em quanto tempo?

PERGUNTAS CHAVE:
- Qual seu maior desafio hoje em [rea]?
- Quantos leads/ms vocs recebem?
- Quem mais participa da deciso?
- Qual prazo ideal para implementar?

TOM: Curioso, consultivo, sem presso.`},{id:"reativacao",name:"Reativao de Leads",description:"Reengajar leads frios com valor",tags:["nutrio","reativao"],prompt:`Voc  especialista em reativao de leads da DOCA AI.

OBJETIVO: Reengajar leads que esfriaram oferecendo valor.

ESTRATGIAS:
- Compartilhe novidades relevantes
- Oferea contedo educativo
- Mencione cases de sucesso recentes
- Crie FOMO genuno

NUNCA:
- Seja invasivo ou repetitivo
- Pressione por resposta
- Ignore o contexto anterior

TOM: Amigvel, informativo, sem cobrana.`}];async function Ac(t,e){const r=await fetch(t,{headers:{Accept:"application/json",...e?.headers||{}},...e});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}async function GJ(t){try{const e=t?`/api/settings?key=agent_prompt&tenant_id=${t}`:"/api/settings?key=agent_prompt";return(await Ac(e))?.value||""}catch{return""}}async function YJ(t,e){await Ac("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_prompt",value:t,tenant_id:e})})}async function XJ(t){try{const e=t?`/api/knowledge?tenant_id=${t}`:"/api/knowledge",r=await Ac(e);return Array.isArray(r)?r:[]}catch{return[]}}async function uC(t,e){await Ac("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,tenant_id:e})})}async function JJ(t,e){await Ac("/api/knowledge",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,tenant_id:e})})}function QJ({tenantId:t}){const[e,r]=C.useState("prompt"),[n,a]=C.useState(null),[i,o]=C.useState(""),[u,d]=C.useState(""),[f,p]=C.useState(!0),[m,v]=C.useState(!1),[x,j]=C.useState(!1),[w,y]=C.useState([]),[O,k]=C.useState(!0),[S,E]=C.useState(""),[_,A]=C.useState("all"),[T,P]=C.useState(!1),[$,B]=C.useState(null),[I,F]=C.useState(!1),[L,G]=C.useState(!1),[q,z]=C.useState([{id:"sp-1",type:"depoimento",title:"Atendimento 24/7",content:"Depois que implementamos a DOCA, nosso atendimento nunca mais parou. Os clientes adoram a rapidez!",author:"Maria Silva",company:"Clnica Esttica",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face",active:!0,created_at:new Date().toISOString()},{id:"sp-2",type:"case",title:"Aumento de 40% em converses",content:"Restaurante que triplicou pedidos pelo WhatsApp usando IA para atendimento automtico.",result:"+40% converso em 30 dias",company:"Pizzaria Napolitana",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()},{id:"sp-3",type:"metrica",title:"Tempo de resposta",content:"Mdia de 8 segundos para primeira resposta, contra 15 minutos do atendimento manual.",result:"8s vs 15min",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()}]),[ee,H]=C.useState(!1),[W,J]=C.useState(null),[M,U]=C.useState(!1),[ne,se]=C.useState("all"),[ie,me]=C.useState(""),[Re,ge]=C.useState(""),[oe,be]=C.useState(!1),[ke,Z]=C.useState([]),Se=(Y,$e)=>{a({type:Y,text:$e}),setTimeout(()=>a(null),3e3)};C.useEffect(()=>{Ie(),Ve()},[t]);async function Ie(){p(!0);const Y=await GJ(t);o(Y),d(Y),p(!1)}async function Ve(){k(!0);const Y=await XJ(t);y(Y),k(!1)}async function et(){if(!i.trim()){Se("error","Prompt vazio");return}v(!0);try{await YJ(i,t),d(i),Se("success","Prompt salvo!")}catch{Se("error","Erro ao salvar")}v(!1)}function vt(Y){o(Y.prompt),j(!1),Se("success",`Template "${Y.name}" aplicado`)}const he=C.useMemo(()=>{const Y=new Set;return w.forEach($e=>$e.category&&Y.add($e.category)),["all",...Array.from(Y).sort()]},[w]),Ue=C.useMemo(()=>{const Y=S.toLowerCase();return w.filter($e=>_!=="all"&&$e.category!==_?!1:Y?`${$e.question} ${$e.answer} ${($e.tags||[]).join(" ")}`.toLowerCase().includes(Y):!0)},[w,S,_]),Me=C.useMemo(()=>({total:w.length,categories:new Set(w.map(Y=>Y.category).filter(Boolean)).size,avgPriority:w.length>0?(w.reduce((Y,$e)=>Y+($e.priority||3),0)/w.length).toFixed(1):"0"}),[w]);async function Ye(Y){if(!Y.question?.trim()||!Y.answer?.trim()){Se("error","Pergunta e resposta obrigatrias");return}F(!0);try{await uC(Y,t),Se("success",Y.id?"Atualizado!":"Adicionado!"),P(!1),B(null),await Ve()}catch{Se("error","Erro ao salvar")}F(!1)}async function at(Y){if(confirm("Remover este item?"))try{await JJ(Y,t),Se("success","Removido!"),await Ve()}catch{Se("error","Erro ao remover")}}function er(){const Y=w.map(({id:Wr,question:tr,answer:wh,category:Cc,priority:Pc,tags:jh})=>({question:tr,answer:wh,category:Cc,priority:Pc,tags:jh})),$e=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),ct=URL.createObjectURL($e),Et=document.createElement("a");Et.href=ct,Et.download=`knowledge-base-${new Date().toISOString().split("T")[0]}.json`,Et.click(),Se("success","Exportado!")}function mr(Y){const $e=new FileReader;$e.onload=async ct=>{try{const Et=JSON.parse(ct.target?.result);if(!Array.isArray(Et))throw new Error("Formato invlido");let Wr=0;for(const tr of Et)tr.question&&tr.answer&&(await uC({question:tr.question,answer:tr.answer,category:tr.category||null,priority:tr.priority||3,tags:tr.tags||[]},t),Wr++);Se("success",`${Wr} itens importados!`),await Ve(),G(!1)}catch{Se("error","Erro ao importar arquivo")}},$e.readAsText(Y)}async function lt(){if(!ie.trim())return;be(!0),Z(Et=>[...Et,{role:"user",text:ie}]),await new Promise(Et=>setTimeout(Et,800));const Y=ie.toLowerCase(),$e=w.filter(Et=>Et.question.toLowerCase().includes(Y)||Et.answer.toLowerCase().includes(Y)||(Et.tags||[]).some(Wr=>Wr.toLowerCase().includes(Y))).slice(0,2);let ct="";$e.length>0?(ct=`Baseado na base de conhecimento:

${$e[0].answer}`,$e.length>1&&(ct+=`

Tambm relacionado: ${$e[1].question}`)):ct="No encontrei uma resposta especfica na base de conhecimento. Considere adicionar esse tpico ao KB ou escalar para humano.",Z(Et=>[...Et,{role:"ai",text:ct}]),ge(ct),me(""),be(!1)}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Ra,{className:"w-6 h-6 text-[#f57f17]"}),"Treinamento"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento e conhecimento do agente"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"prompt",label:"Prompt",icon:_i},{key:"knowledge",label:"Base de Conhecimento",icon:Em},{key:"social",label:"Prova Social",icon:Am},{key:"playground",label:"Playground",icon:vS}].map(Y=>l.jsxs("button",{onClick:()=>r(Y.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===Y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(Y.icon,{className:"w-4 h-4"}),Y.label]},Y.key))})]}),e==="prompt"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(yn,{icon:_i,label:"Caracteres",value:i.length.toLocaleString()}),l.jsx(yn,{icon:Da,label:"Linhas",value:i.split(`
`).length}),l.jsx(yn,{icon:Ma,label:"Status",value:i===u?"Salvo":"Alterado",color:i===u?"text-emerald-400":"text-yellow-400"})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"System Prompt"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Define personalidade, regras e tom de voz do agente"})]}),l.jsxs("button",{onClick:()=>j(!0),className:"h-9 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(Zt,{className:"w-4 h-4"}),"Templates"]})]}),f?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(wt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):l.jsx("textarea",{value:i,onChange:Y=>o(Y.target.value),className:"w-full h-80 bg-black/30 border border-white/10 rounded-xl p-4 text-gray-200 text-sm font-mono resize-none outline-none focus:border-[#f57f17]/50",placeholder:"Digite o system prompt do agente..."}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:i!==u&&"Alteraes no salvas"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>o(u),disabled:i===u,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(fP,{className:"w-4 h-4"}),"Restaurar"]}),l.jsxs("button",{onClick:et,disabled:m||i===u,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[m?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar"]})]})]})]})]}),e==="knowledge"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(yn,{icon:Em,label:"Total de FAQs",value:Me.total}),l.jsx(yn,{icon:Rl,label:"Categorias",value:Me.categories}),l.jsx(yn,{icon:Da,label:"Prioridade Mdia",value:Me.avgPriority})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{value:S,onChange:Y=>E(Y.target.value),placeholder:"Buscar...",className:"h-10 pl-10 pr-4 w-64 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsx("select",{value:_,onChange:Y=>A(Y.target.value),className:"h-10 px-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none",children:he.map(Y=>l.jsx("option",{value:Y,className:"bg-black",children:Y==="all"?"Todas categorias":Y},Y))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>G(!0),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(ax,{className:"w-4 h-4"}),"Importar"]}),l.jsxs("button",{onClick:er,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(Bb,{className:"w-4 h-4"}),"Exportar"]}),l.jsxs("button",{onClick:()=>{B(null),P(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Adicionar"]})]})]}),l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 overflow-hidden",children:O?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(wt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):Ue.length===0?l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500",children:[l.jsx(Em,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Nenhum item encontrado"})]}):l.jsx("div",{className:"divide-y divide-white/5",children:Ue.map(Y=>l.jsx("div",{className:"p-4 hover:bg-white/5 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium",children:Y.question}),l.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:Y.answer}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Y.category&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#f57f17]/10 text-[#f57f17]",children:Y.category}),Y.priority&&l.jsxs("span",{className:"text-xs text-gray-500",children:["P",Y.priority]}),(Y.tags||[]).slice(0,3).map($e=>l.jsxs("span",{className:"text-xs text-gray-600",children:["#",$e]},$e))]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>{B(Y),P(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(pS,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>Y.id&&at(Y.id),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(Cs,{className:"w-4 h-4 text-red-400"})})]})]})},Y.id))})})]}),e==="social"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsx(yn,{icon:Am,label:"Total",value:q.length}),l.jsx(yn,{icon:dP,label:"Depoimentos",value:q.filter(Y=>Y.type==="depoimento").length}),l.jsx(yn,{icon:rP,label:"Cases",value:q.filter(Y=>Y.type==="case").length}),l.jsx(yn,{icon:La,label:"Mtricas",value:q.filter(Y=>Y.type==="metrica").length})]}),l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zt,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Como funciona a Prova Social"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"O agente usa essas informaes para gerar confiana durante a conversa. Depoimentos, cases e mtricas so inseridos automaticamente quando relevante."})]})]})}),l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsx("div",{className:"flex items-center gap-2",children:["all","depoimento","case","metrica"].map(Y=>l.jsx("button",{onClick:()=>se(Y),className:`h-9 px-3 rounded-lg text-sm font-medium transition ${ne===Y?"bg-[#f57f17]/20 text-white":"bg-white/5 text-gray-400 hover:text-white"}`,children:Y==="all"?"Todos":Y==="depoimento"?"Depoimentos":Y==="case"?"Cases":"Mtricas"},Y))}),l.jsxs("button",{onClick:()=>{J(null),H(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Adicionar"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.filter(Y=>ne==="all"||Y.type===ne).map(Y=>l.jsxs("div",{className:`rounded-[20px] border overflow-hidden transition ${Y.active?"border-white/10 bg-white/5":"border-white/5 bg-white/[0.02] opacity-50"}`,children:[Y.image&&Y.type!=="depoimento"&&l.jsx("div",{className:"h-32 w-full overflow-hidden bg-black/20",children:l.jsx("img",{src:Y.image,alt:Y.title,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[Y.type==="depoimento"&&l.jsx("div",{className:"flex-shrink-0",children:Y.image?l.jsx("img",{src:Y.image,alt:Y.author||"Cliente",className:"w-14 h-14 rounded-full object-cover border-2 border-white/10"}):l.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-500/20 border-2 border-purple-500/30 flex items-center justify-center",children:l.jsx(bd,{className:"w-6 h-6 text-purple-400"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Y.type==="depoimento"?"bg-purple-500/20 text-purple-300":Y.type==="case"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/20 text-blue-300"}`,children:Y.type==="depoimento"?"Depoimento":Y.type==="case"?"Case":"Mtrica"}),!Y.active&&l.jsx("span",{className:"text-xs text-gray-500",children:"Inativo"})]}),l.jsx("h4",{className:"text-white font-semibold",children:Y.title}),Y.type==="depoimento"?l.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',Y.content,'"']}):l.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:Y.content}),(Y.author||Y.company)&&l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Y.author&&l.jsx("span",{className:"font-medium text-gray-400",children:Y.author}),Y.author&&Y.company&&l.jsx("span",{children:"  "}),Y.company&&l.jsx("span",{children:Y.company})]}),Y.result&&l.jsx("div",{className:"mt-3 inline-block px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:l.jsx("span",{className:"text-sm text-emerald-300 font-bold",children:Y.result})})]}),l.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{z($e=>$e.map(ct=>ct.id===Y.id?{...ct,active:!ct.active}:ct))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",title:Y.active?"Desativar":"Ativar",children:Y.active?l.jsx(mL,{className:"w-4 h-4 text-emerald-400"}):l.jsx(pL,{className:"w-4 h-4 text-gray-500"})}),l.jsx("button",{onClick:()=>{J(Y),H(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(pS,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>{confirm("Remover este item?")&&z($e=>$e.filter(ct=>ct.id!==Y.id))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(Cs,{className:"w-4 h-4 text-red-400"})})]})]})})]},Y.id))}),q.filter(Y=>ne==="all"||Y.type===ne).length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Am,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Nenhuma prova social encontrada"})]})]}),e==="playground"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10",children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(sr,{className:"w-5 h-5 text-[#f57f17]"}),"Testar Agente"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Simule conversas para validar respostas"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[ke.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(vS,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"})]}):ke.map((Y,$e)=>l.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${Y.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Y.text})})},$e)),oe&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsx(wt,{className:"w-4 h-4 text-gray-400 animate-spin"})})})]}),l.jsxs("div",{className:"p-4 border-t border-white/10",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:ie,onChange:Y=>me(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&!Y.shiftKey&&lt(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),l.jsx("button",{onClick:lt,disabled:oe||!ie.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(_s,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:()=>Z([]),className:"mt-2 text-xs text-gray-500 hover:text-gray-400",children:"Limpar conversa"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Como funciona"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[l.jsx("p",{children:"1. O playground busca na Base de Conhecimento"}),l.jsx("p",{children:"2. Se encontrar match, usa a resposta cadastrada"}),l.jsx("p",{children:"3. Se no encontrar, sugere adicionar ao KB"}),l.jsx("p",{children:"4. Em produo, usa o prompt + Claude API"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Sugestes de teste"}),l.jsx("div",{className:"space-y-2",children:["Quanto custa?","Como funciona?","Vocs tm suporte?","Qual o prazo?"].map(Y=>l.jsx("button",{onClick:()=>me(Y),className:"w-full text-left px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-sm text-gray-300 transition",children:Y},Y))})]}),l.jsxs("div",{className:"rounded-[28px] border border-emerald-500/20 bg-emerald-500/5 p-6",children:[l.jsxs("h3",{className:"text-emerald-300 font-bold mb-2 flex items-center gap-2",children:[l.jsx(un,{className:"w-5 h-5"}),"Dica"]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Adicione perguntas frequentes ao KB para melhorar a qualidade das respostas automticas."})]})]})]}),x&&l.jsx(dC,{title:"Templates de Prompt",onClose:()=>j(!1),children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:KJ.map(Y=>l.jsx("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:Y.name}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:Y.description}),l.jsx("div",{className:"flex gap-1 mt-2",children:Y.tags.map($e=>l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-gray-400",children:$e},$e))})]}),l.jsx("button",{onClick:()=>vt(Y),className:"h-8 px-3 rounded-lg bg-[#f57f17]/20 text-[#f57f17] text-sm font-medium",children:"Usar"})]})},Y.id))})}),T&&l.jsx(ZJ,{item:$,saving:I,onClose:()=>{P(!1),B(null)},onSave:Ye}),L&&l.jsx(dC,{title:"Importar Base de Conhecimento",onClose:()=>G(!1),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Importe um arquivo JSON com array de objetos contendo: question, answer, category, priority, tags"}),l.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-8 text-center",children:[l.jsx("input",{type:"file",accept:".json",onChange:Y=>Y.target.files?.[0]&&mr(Y.target.files[0]),className:"hidden",id:"import-file"}),l.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[l.jsx(ax,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-400",children:"Clique para selecionar arquivo"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:".json"})]})]})]})}),ee&&l.jsx(eQ,{item:W,saving:M,onClose:()=>{H(!1),J(null)},onSave:Y=>{U(!0),setTimeout(()=>{Y.id?z($e=>$e.map(ct=>ct.id===Y.id?Y:ct)):z($e=>[...$e,{...Y,id:`sp-${Date.now()}`,created_at:new Date().toISOString()}]),H(!1),J(null),U(!1),Se("success",Y.id?"Atualizado!":"Adicionado!")},300)}}),n&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${n.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[n.type==="success"?l.jsx(Yn,{className:"w-4 h-4"}):l.jsx(Lb,{className:"w-4 h-4"}),n.text]})]})}function yn({icon:t,label:e,value:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(t,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:e})]}),l.jsx("p",{className:`text-xl font-bold ${n||"text-white"}`,children:r})]})}function dC({title:t,children:e,onClose:r}){return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),e]})})}function ZJ({item:t,saving:e,onClose:r,onSave:n}){const[a,i]=C.useState(t?.question||""),[o,u]=C.useState(t?.answer||""),[d,f]=C.useState(t?.category||""),[p,m]=C.useState(t?.priority||3),[v,x]=C.useState((t?.tags||[]).join(", "));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar FAQ":"Nova FAQ"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Pergunta"}),l.jsx("input",{value:a,onChange:j=>i(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Quanto custa o plano?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resposta"}),l.jsx("textarea",{value:o,onChange:j=>u(j.target.value),className:"w-full h-32 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Ex: Temos planos a partir de R$ 297/ms..."})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Categoria"}),l.jsx("input",{value:d,onChange:j=>f(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Preo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Prioridade"}),l.jsx("select",{value:p,onChange:j=>m(Number(j.target.value)),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[1,2,3,4,5].map(j=>l.jsx("option",{value:j,className:"bg-black",children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tags (vrgula)"}),l.jsx("input",{value:v,onChange:j=>x(j.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"preo, plano"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id,question:a,answer:o,category:d||null,priority:p,tags:v.split(",").map(j=>j.trim()).filter(Boolean)}),disabled:e,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar"]})]})]})})}function eQ({item:t,saving:e,onClose:r,onSave:n}){const[a,i]=C.useState(t?.type||"depoimento"),[o,u]=C.useState(t?.title||""),[d,f]=C.useState(t?.content||""),[p,m]=C.useState(t?.author||""),[v,x]=C.useState(t?.company||""),[j,w]=C.useState(t?.result||""),[y,O]=C.useState(t?.image||""),[k,S]=C.useState(t?.active??!0);return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar Prova Social":"Nova Prova Social"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Tipo"}),l.jsx("div",{className:"flex gap-2",children:[{key:"depoimento",label:"Depoimento",icon:dP},{key:"case",label:"Case de Sucesso",icon:rP},{key:"metrica",label:"Mtrica",icon:La}].map(E=>l.jsxs("button",{type:"button",onClick:()=>i(E.key),className:`flex-1 h-11 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${a===E.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:a==="depoimento"?"Foto do Cliente":"Imagem/Print"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{value:y,onChange:E=>O(E.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Cole a URL da imagem..."}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a==="depoimento"?"Foto do cliente para aparecer junto ao depoimento":"Print de resultado, grfico ou imagem ilustrativa"})]}),l.jsx("div",{className:`flex-shrink-0 ${a==="depoimento"?"w-16 h-16":"w-24 h-16"} rounded-xl border border-white/10 bg-black/30 overflow-hidden flex items-center justify-center`,children:y?l.jsx("img",{src:y,alt:"Preview",className:`w-full h-full object-cover ${a==="depoimento"?"rounded-full":""}`,onError:E=>{E.target.style.display="none"}}):l.jsx(nL,{className:"w-6 h-6 text-gray-600"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Ttulo"}),l.jsx("input",{value:o,onChange:E=>u(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Aumento de 40% em converses"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:a==="depoimento"?"Depoimento":a==="case"?"Descrio do Case":"Descrio da Mtrica"}),l.jsx("textarea",{value:d,onChange:E=>f(E.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:a==="depoimento"?"Ex: Depois que implementamos a DOCA, nosso atendimento nunca mais parou...":a==="case"?"Ex: Restaurante que triplicou pedidos pelo WhatsApp...":"Ex: Tempo mdio de resposta reduziu de 15min para 8 segundos"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a==="depoimento"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Autor"}),l.jsx("input",{value:p,onChange:E=>m(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Maria Silva"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Empresa"}),l.jsx("input",{value:v,onChange:E=>x(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Clnica Esttica"})]}),(a==="case"||a==="metrica")&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resultado"}),l.jsx("input",{value:j,onChange:E=>w(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: +40% converso em 30 dias"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Ativo"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Disponvel para o agente usar"})]}),l.jsx("button",{type:"button",onClick:()=>S(!k),className:`h-8 w-14 rounded-full transition ${k?"bg-emerald-500":"bg-gray-600"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition transform ${k?"translate-x-7":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id||"",type:a,title:o,content:d,author:p||void 0,company:v||void 0,result:j||void 0,image:y||void 0,active:k,created_at:t?.created_at}),disabled:e||!o.trim()||!d.trim(),className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar"]})]})]})})}const tQ=[{id:"supabase",name:"Supabase",description:"Banco de dados e autenticao",icon:Ed,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://supabase.com/docs"},{id:"claude",name:"Claude API",description:"Inteligncia artificial para respostas",icon:Ra,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://docs.anthropic.com/"},{id:"waha",name:"WAHA",description:"WhatsApp HTTP API (self-hosted)",icon:lP,status:"checking",category:"whatsapp",configurable:!0,docsUrl:"https://waha.devlike.pro/docs/",active:!0},{id:"zapi",name:"Z-API",description:"WhatsApp API (cloud)",icon:Xn,status:"disconnected",category:"whatsapp",configurable:!0,docsUrl:"https://developer.z-api.io/",active:!1},{id:"calendar",name:"Google Calendar",description:"Agendamento de reunies",icon:nP,status:"checking",category:"comunicacao",configurable:!0,docsUrl:"https://developers.google.com/calendar"},{id:"webhook",name:"Webhooks",description:"Notificaes em tempo real",icon:vL,status:"disconnected",category:"comunicacao",configurable:!0},{id:"email",name:"Email (SMTP)",description:"Envio de emails automticos",icon:$l,status:"disconnected",category:"futuro",configurable:!1}];function rQ(){const[t,e]=C.useState(tQ),[r,n]=C.useState(!1),[a,i]=C.useState(null),[o,u]=C.useState(null);C.useEffect(()=>{d()},[]);async function d(){n(!0),await new Promise(S=>setTimeout(S,1500)),e(S=>S.map(E=>E.id==="waha"?{...E,status:"connected"}:E.id==="supabase"?{...E,status:"connected"}:E.id==="claude"?{...E,status:"connected"}:E.id==="calendar"?{...E,status:"connected"}:E)),n(!1)}async function f(S){e(_=>_.map(A=>A.id===S?{...A,status:"checking"}:A)),await new Promise(_=>setTimeout(_,1e3));const E=["waha","supabase","claude","calendar"].includes(S);e(_=>_.map(A=>A.id===S?{...A,status:E?"connected":"disconnected"}:A))}function p(S){e(E=>E.map(_=>_.category==="whatsapp"?{..._,active:_.id===S}:_)),m(`${S==="waha"?"WAHA":"Z-API"} definido como ativo`)}const m=S=>{u(S),setTimeout(()=>u(null),3e3)},v=t.filter(S=>S.category==="essencial"),x=t.filter(S=>S.category==="whatsapp"),j=t.filter(S=>S.category==="comunicacao"),w=t.filter(S=>S.category==="futuro"),y=t.filter(S=>S.status==="connected").length,O=v.filter(S=>S.status==="connected").length,k=x.find(S=>S.active&&S.status==="connected");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(nx,{className:"w-6 h-6 text-[#f57f17]"}),"Integraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gerencie conexes com servios externos"})]}),l.jsxs("button",{onClick:d,disabled:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(Sn,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Verificar Tudo"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(D0,{label:"Conectadas",value:`${y}/${t.length}`,icon:nx,color:y>=4?"emerald":"yellow"}),l.jsx(D0,{label:"Essenciais",value:`${O}/${v.length}`,icon:un,color:O===v.length?"emerald":"red"}),l.jsx(D0,{label:"WhatsApp",value:k?"Conectado":"Desconectado",icon:lP,color:k?"emerald":"red"})]}),l.jsx(fd,{title:"Essenciais",desc:"Banco de dados e IA",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id)},S.id))})}),l.jsx(fd,{title:"WhatsApp Provider",desc:"Escolha qual provedor usar (pode alternar entre clientes)",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id),isActive:S.active,onSetActive:()=>p(S.id)},S.id))})}),l.jsx(fd,{title:"Comunicao e Agendamento",desc:"Calendrio e webhooks",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(S=>l.jsx(hd,{integration:S,onCheck:()=>f(S.id),onConfigure:()=>i(S.id)},S.id))})}),l.jsx(fd,{title:"Em Breve",desc:"Planejado para futuras verses",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(S=>l.jsx(hd,{integration:S,onCheck:()=>{},onConfigure:()=>{},disabled:!0},S.id))})}),a&&l.jsx(nQ,{integration:t.find(S=>S.id===a),onClose:()=>i(null),onSave:()=>{i(null),m("Configuraes salvas!")}}),o&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx(Yn,{className:"w-4 h-4"}),o]})]})}function D0({label:t,value:e,icon:r,color:n}){const a={emerald:"text-emerald-400",yellow:"text-yellow-400",red:"text-red-400"};return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(r,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:`text-xl font-bold ${a[n]}`,children:e})]})}function fd({title:t,desc:e,children:r}){return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm",children:e})]}),r]})}function hd({integration:t,onCheck:e,onConfigure:r,disabled:n,isActive:a,onSetActive:i}){const{name:o,description:u,icon:d,status:f,configurable:p,docsUrl:m,category:v}=t,x={connected:"text-emerald-400",disconnected:"text-gray-500",error:"text-red-400",checking:"text-yellow-400"},w={connected:Yn,disconnected:Lb,error:ar,checking:wt}[f],y=v==="whatsapp";return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-[#f57f17]/50 bg-[#f57f17]/5":"border-white/10 bg-white/5"} p-5 ${n?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl ${a?"bg-[#f57f17]/20 border-[#f57f17]/30":"bg-[#f57f17]/10 border-[#f57f17]/20"} border flex items-center justify-center`,children:l.jsx(d,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"text-white font-semibold",children:o}),a&&l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f57f17]/20 text-[#f57f17] font-medium",children:"ATIVO"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:u})]})]}),l.jsxs("div",{className:`flex items-center gap-1 ${x[f]}`,children:[l.jsx(w,{className:`w-4 h-4 ${f==="checking"?"animate-spin":""}`}),l.jsx("span",{className:"text-xs",children:f==="connected"?"OK":f==="disconnected"?"Off":f==="error"?"Erro":"..."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:e,className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-300 hover:bg-white/10 flex items-center justify-center gap-1",children:[l.jsx(Sn,{className:"w-3 h-3"}),"Testar"]}),p&&l.jsxs("button",{onClick:r,className:"flex-1 h-9 rounded-lg bg-[#f57f17]/10 border border-[#f57f17]/20 text-xs text-[#f57f17] hover:bg-[#f57f17]/20 flex items-center justify-center gap-1",children:[l.jsx(Nn,{className:"w-3 h-3"}),"Config"]}),y&&i&&!a&&l.jsx("button",{onClick:i,className:"h-9 px-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-xs text-emerald-400 hover:bg-emerald-500/20",children:"Usar"})]}),n&&l.jsx("div",{className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-500 flex items-center justify-center",children:"Em breve"}),m&&!n&&l.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/10 flex items-center justify-center",children:l.jsx(iP,{className:"w-3 h-3"})})]})]})}function nQ({integration:t,onClose:e,onSave:r}){const[n,a]=C.useState(!1),[i,o]=C.useState(!1),d={waha:[{label:"API URL",placeholder:"http://localhost:3000"},{label:"Session Name",placeholder:"default"},{label:"API Key",placeholder:"sua-api-key",secret:!0}],zapi:[{label:"Instance ID",placeholder:"sua-instance-id"},{label:"Token",placeholder:"seu-token-zapi",secret:!0},{label:"Webhook URL",placeholder:"https://seu-servidor/webhook"}],supabase:[{label:"Project URL",placeholder:"https://xxx.supabase.co"},{label:"Anon Key",placeholder:"eyJhbG...",secret:!0},{label:"Service Key",placeholder:"eyJhbG...",secret:!0}],claude:[{label:"API Key",placeholder:"sk-ant-...",secret:!0},{label:"Model",placeholder:"claude-sonnet-4-20250514"}],calendar:[{label:"Client ID",placeholder:"xxx.apps.googleusercontent.com"},{label:"Client Secret",placeholder:"GOCSPX-...",secret:!0},{label:"Calendar ID",placeholder:"primary"}],webhook:[{label:"Endpoint URL",placeholder:"https://seu-servidor/webhook"},{label:"Secret",placeholder:"webhook-secret",secret:!0}]}[t.id]||[];async function f(){o(!0),await new Promise(p=>setTimeout(p,800)),o(!1),r()}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(t.icon,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:t.name}),l.jsx("p",{className:"text-xs text-gray-500",children:"Configuraes"})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:""})]}),l.jsx("div",{className:"space-y-4",children:d.map((p,m)=>l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:p.label}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:p.secret&&!n?"password":"text",placeholder:p.placeholder,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),p.secret&&l.jsx("button",{onClick:()=>a(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:n?l.jsx(qb,{className:"w-4 h-4"}):l.jsx(Lf,{className:"w-4 h-4"})})]})]},m))}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:f,disabled:i,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[i?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(Yn,{className:"w-4 h-4"}),"Salvar"]})]}),t.docsUrl&&l.jsxs("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[l.jsx(iP,{className:"w-3 h-3"}),"Ver documentao"]})]})})}const aQ={companyName:"DOCA Agncia IA",ownerName:"Douglas",email:"contato@docaia.com.br",phone:"(19) 99154-7727",address:"Limeira, SP",businessHours:{enabled:!0,start:"08:00",end:"18:00",days:["seg","ter","qua","qui","sex"]},timezone:"America/Sao_Paulo",notifyNewLead:!0,notifyUrgent:!0,notifyDaily:!1,notifyEmail:!1,language:"pt-BR",theme:"dark",autoBackup:!0,agentName:"Assistente DOCA",welcomeMessage:"Oi! Como posso ajudar?",offlineMessage:"Estamos fora do horrio. Retornaremos em breve!"},iQ=[{key:"seg",label:"Seg"},{key:"ter",label:"Ter"},{key:"qua",label:"Qua"},{key:"qui",label:"Qui"},{key:"sex",label:"Sex"},{key:"sab",label:"Sb"},{key:"dom",label:"Dom"}];function sQ(){const[t,e]=C.useState("perfil"),[r,n]=C.useState(aQ),[a,i]=C.useState(!1),[o,u]=C.useState(null),[d,f]=C.useState(!1),p=y=>{u(y),setTimeout(()=>u(null),3e3)};async function m(){i(!0),await new Promise(y=>setTimeout(y,800)),i(!1),p("Configuraes salvas!")}function v(y,O){n(k=>({...k,[y]:O}))}function x(y,O){n(k=>({...k,businessHours:{...k.businessHours,[y]:O}}))}function j(y){const O=r.businessHours.days,k=O.includes(y)?O.filter(S=>S!==y):[...O,y];x("days",k)}const w=[{key:"perfil",label:"Perfil",icon:_n},{key:"horario",label:"Horrio",icon:Ma},{key:"notificacoes",label:"Notificaes",icon:Z0},{key:"sistema",label:"Sistema",icon:Nn},{key:"agente",label:"Agente",icon:bd},{key:"dados",label:"Dados",icon:Ed}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Nn,{className:"w-6 h-6 text-[#f57f17]"}),"Configuraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize o sistema conforme suas necessidades"})]}),l.jsxs("button",{onClick:m,disabled:a,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[a?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar Tudo"]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(y=>l.jsxs("button",{onClick:()=>e(y.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium whitespace-nowrap transition ${t===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))}),t==="perfil"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Empresa",icon:_n,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Nome da Empresa",value:r.companyName,onChange:y=>v("companyName",y),icon:_n}),l.jsx(us,{label:"Responsvel",value:r.ownerName,onChange:y=>v("ownerName",y),icon:bd}),l.jsx(us,{label:"Endereo",value:r.address,onChange:y=>v("address",y),icon:oP})]})}),l.jsx(br,{title:"Contato",icon:Xn,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Email",value:r.email,onChange:y=>v("email",y),icon:$l,type:"email"}),l.jsx(us,{label:"Telefone",value:r.phone,onChange:y=>v("phone",y),icon:Xn})]})})]}),t==="horario"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Horrio de Funcionamento",icon:Ma,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Respeitar horrio comercial",desc:"Fora do horrio, envia mensagem de ausncia",value:r.businessHours.enabled,onChange:y=>x("enabled",y)}),r.businessHours.enabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Incio"}),l.jsx("input",{type:"time",value:r.businessHours.start,onChange:y=>x("start",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Fim"}),l.jsx("input",{type:"time",value:r.businessHours.end,onChange:y=>x("end",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Dias de funcionamento"}),l.jsx("div",{className:"flex gap-2 mt-2",children:iQ.map(y=>l.jsx("button",{onClick:()=>j(y.key),className:`h-10 w-10 rounded-lg text-xs font-medium transition ${r.businessHours.days.includes(y.key)?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-500"}`,children:y.label},y.key))})]})]})]})}),l.jsx(br,{title:"Fuso Horrio",icon:rL,children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Timezone"}),l.jsxs("select",{value:r.timezone,onChange:y=>v("timezone",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"America/Sao_Paulo",className:"bg-black",children:"So Paulo (GMT-3)"}),l.jsx("option",{value:"America/Manaus",className:"bg-black",children:"Manaus (GMT-4)"}),l.jsx("option",{value:"America/Fortaleza",className:"bg-black",children:"Fortaleza (GMT-3)"}),l.jsx("option",{value:"America/Recife",className:"bg-black",children:"Recife (GMT-3)"})]})]})})]}),t==="notificacoes"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Alertas no Sistema",icon:Z0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Novo lead",desc:"Notificar quando chegar um lead novo",value:r.notifyNewLead,onChange:y=>v("notifyNewLead",y)}),l.jsx(ds,{label:"Leads urgentes",desc:"Notificar leads com urgncia alta/crtica",value:r.notifyUrgent,onChange:y=>v("notifyUrgent",y)}),l.jsx(ds,{label:"Resumo dirio",desc:"Receber resumo do dia s 18h",value:r.notifyDaily,onChange:y=>v("notifyDaily",y)})]})}),l.jsx(br,{title:"Notificaes Externas",icon:$l,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Email",desc:"Enviar cpia das notificaes por email",value:r.notifyEmail,onChange:y=>v("notifyEmail",y)}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Email de notificao"}),l.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r.email})]})]})})]}),t==="sistema"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Aparncia",icon:cL,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tema"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[{key:"dark",label:"Escuro",icon:lL},{key:"light",label:"Claro",icon:fL},{key:"auto",label:"Auto",icon:Nn}].map(y=>l.jsxs("button",{onClick:()=>v("theme",y.key),className:`h-12 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${r.theme===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Idioma"}),l.jsxs("select",{value:r.language,onChange:y=>v("language",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"pt-BR",className:"bg-black",children:"Portugus (Brasil)"}),l.jsx("option",{value:"en-US",className:"bg-black",children:"English (US)"}),l.jsx("option",{value:"es",className:"bg-black",children:"Espaol"})]})]})]})}),l.jsx(br,{title:"Segurana",icon:hP,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"API Key do Sistema"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:d?"text":"password",value:"doca_sk_live_xxxxxxxxxxxxxxxx",readOnly:!0,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-400 outline-none"}),l.jsx("button",{onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d?l.jsx(qb,{className:"w-4 h-4"}):l.jsx(Lf,{className:"w-4 h-4"})})]}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(Df,{className:"w-4 h-4"})}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(Sn,{className:"w-4 h-4"})})]})]})})})]}),t==="agente"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Identidade do Agente",icon:bd,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(us,{label:"Nome do Agente",value:r.agentName,onChange:y=>v("agentName",y),placeholder:"Ex: Assistente DOCA"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem de Boas-vindas"}),l.jsx("textarea",{value:r.welcomeMessage,onChange:y=>v("welcomeMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem inicial do agente..."})]})]})}),l.jsx(br,{title:"Mensagens Automticas",icon:Ma,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem Fora do Horrio"}),l.jsx("textarea",{value:r.offlineMessage,onChange:y=>v("offlineMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem quando estiver offline..."})]})})})]}),t==="dados"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(br,{title:"Backup",icon:Ed,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(ds,{label:"Backup automtico",desc:"Salvar dados automaticamente todo dia s 3h",value:r.autoBackup,onChange:y=>v("autoBackup",y)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(Bb,{className:"w-4 h-4"}),"Exportar Dados"]}),l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(ax,{className:"w-4 h-4"}),"Importar Dados"]})]})]})}),l.jsx(br,{title:"Zona de Perigo",icon:ar,danger:!0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:l.jsxs("p",{className:"text-red-300 text-sm flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4"}),"Aes irreversveis"]})}),l.jsxs("button",{className:"w-full h-11 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400 hover:bg-red-500/20 flex items-center justify-center gap-2",children:[l.jsx(Cs,{className:"w-4 h-4"}),"Limpar Todos os Dados"]})]})}),l.jsx(br,{title:"Sobre",icon:aL,className:"lg:col-span-2",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(pd,{label:"Verso",value:"2.0.0"}),l.jsx(pd,{label:"Build",value:"2025.01.13"}),l.jsx(pd,{label:"Ambiente",value:"Produo"}),l.jsx(pd,{label:"Uptime",value:"99.9%"})]})})]}),o&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx(Yn,{className:"w-4 h-4"}),o]})]})}function br({title:t,icon:e,children:r,className:n,danger:a}){return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-red-500/20 bg-red-500/5":"border-white/10 bg-white/5"} p-6 ${n||""}`,children:[l.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-2 ${a?"text-red-400":"text-white"}`,children:[l.jsx(e,{className:`w-5 h-5 ${a?"text-red-400":"text-[#f57f17]"}`}),t]}),r]})}function us({label:t,value:e,onChange:r,icon:n,type:a,placeholder:i}){return l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:t}),l.jsxs("div",{className:"relative mt-1",children:[n&&l.jsx(n,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:a||"text",value:e,onChange:o=>r(o.target.value),placeholder:i,className:`w-full h-11 ${n?"pl-11":"pl-4"} pr-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none`})]})]})}function ds({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function pd({label:t,value:e}){return l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500",children:t}),l.jsx("p",{className:"text-white font-semibold mt-1",children:e})]})}function oQ(t){if(!t)return"";const e=Date.now()-new Date(t).getTime(),r=Math.max(0,Math.floor(e/6e4));if(r<60)return`${r}m`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`}function ul(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function fC(t){return{pronto:"Pronto",empolgado:"Empolgado",curioso:"Curioso",sensvel_preo:"Preo",ctico:"Ctico",frustrado:"Frustrado"}[t||""]||t||""}function md(t,e,r){const n=t?.name||e?.name||"a",a=(t?.stage||e?.current_emotion||"curioso").toLowerCase(),i=t?.urgency_level||"normal",o=i==="high"||i==="critical",u=[`Oi ${n}!`,`Fala ${n}!`,`Ol ${n}!`,`E a ${n}!`],d=u[Math.floor(Math.random()*u.length)],f=[];return a.includes("pronto")||a.includes("ready")?(f.push({id:"fu-1",title:"Fechamento direto",goal:"Encaminhar contrato/pagamento",timing:"Agora",confidence:.92,stage:"fechamento",text:`${d} Perfeito! Pra fechar hoje, preciso de: 1) plano (mensal/anual) e 2) CNPJ ou CPF pro contrato. Te mando o link assim que confirmar.`}),f.push({id:"fu-2",title:"Onboarding rpido",goal:"Reduzir atrito ps-venda",timing:"Aps pagamento",confidence:.85,stage:"fechamento",text:`${d} Assim que confirmar, j te mando o checklist do onboarding (leva 15min) e ativamos a IA com seu tom de voz.`})):a.includes("ctico")||a.includes("skept")?(f.push({id:"fu-1",title:"Prova social + teste",goal:"Gerar confiana",timing:o?"Agora":"Em 4h",confidence:.88,stage:"objees",text:`${d} Totalmente justo ser p no cho. Pra no ficar no "achismo", te mostro 2 cases reais e fazemos um teste assistido. Qual seu maior receio: ficar robtico, errar info ou no converter?`}),f.push({id:"fu-2",title:"Demo rpida",goal:"Mostrar tom humano na prtica",timing:"Em 1 dia",confidence:.78,stage:"objees",text:`${d} Se topar, fao uma demo em 10min com um exemplo real seu (uma objeo comum do seu cliente) e voc v funcionando.`})):a.includes("preo")||a.includes("price")?(f.push({id:"fu-1",title:"Ancorar ROI",goal:"Converter objeo de preo em valor",timing:o?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Vi que voc est comparando preo. Pra ficar justo: com seu volume, a DOCA normalmente reduz tempo de resposta e aumenta converso. Quantos leads/ms e quantos atendentes hoje? Simulo o ROI rapidinho.`}),f.push({id:"fu-2",title:"2 opes de pagamento",goal:"Dar escolha e remover atrito",timing:"Em 1 dia",confidence:.8,stage:"valor",text:`${d} Pra facilitar: 1) mensal (flexvel) e 2) anual (com desconto). Quer que eu mande as duas opes?`})):a.includes("frustr")?f.push({id:"fu-1",title:"Reparao + prioridade",goal:"Desarmar tenso",timing:"Agora",confidence:.9,stage:"objees",text:`${d} Voc tem razo, isso no  experincia aceitvel. Vou priorizar seu caso agora. Me diz em 1 frase o que precisa resolver primeiro.`}):(f.push({id:"fu-1",title:"Qualificao rpida",goal:"Entender contexto",timing:o?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Pra te orientar certo: 1) qual seu tipo de negcio? 2) quantos leads/ms? 3) qual seu maior gargalo hoje?`}),f.push({id:"fu-2",title:"Agendamento",goal:"Mover para call",timing:"Em 1 dia",confidence:.75,stage:"fechamento",text:`${d} Se preferir, a gente resolve em uma call curta. Voc prefere s 09:30 ou 10:00?`})),f.push({id:"fu-nurt",title:"Reativao leve",goal:"Retomar contato",timing:"Em 2 dias",confidence:.72,stage:"nutrio",text:"Oi! Passando rapidinho pra saber se ficou alguma dvida. Se fizer sentido, te mando os prximos passos em 1 minuto."}),f}function lQ(t){const e=ho(),r=C.useMemo(()=>e?po():null,[e]),n=t.tenantId,[a,i]=C.useState([]),[o,u]=C.useState([]),[d,f]=C.useState([]),[p,m]=C.useState(null),[v,x]=C.useState([]),[j,w]=C.useState(!0),[y,O]=C.useState(""),[k,S]=C.useState(null),[E,_]=C.useState(null),[A,T]=C.useState(!1),P=C.useMemo(()=>{if(!p)return null;const q=(p.phone||"").replace("@c.us","");return o.find(z=>z.phone.replace("@c.us","")===q||z.id===p.lead_id)||null},[p,o]);async function $(){w(!0);try{if(e&&r){i(r.conversations||[]),u(r.leads||[]);const se=r.conversations?.[0]||null;if(m(se),se){const ie=(r.messages||[]).filter(me=>me.conversation_id===se.id);f(ie),x(md(null,se,ie))}w(!1);return}const q=n?`/api/conversations?limit=100&tenant_id=${n}`:"/api/conversations?limit=100",H=(await(await fetch(q)).json()||[]).map(se=>({id:se.id,lead_id:se.lead_id,phone:se.phone||se.chat_id||"",name:se.name,status:se.status,updated_at:se.updated_at,created_at:se.created_at,last_message:se.last_message,current_emotion:se.current_emotion,temperature:se.temperature,tags:se.tags||[]}));i(H);const W=n?`/api/leads?limit=200&tenant_id=${n}`:"/api/leads?limit=200",U=(await(await fetch(W)).json()||[]).map(se=>({id:se.id,phone:(se.phone||"").replace("@c.us",""),name:se.name,health_score:se.health_score??se.score??50,stage:se.stage??"curioso",urgency_level:se.urgency_level??"normal",conversion_probability:se.conversion_probability??.4,tags:se.tags||[],updated_at:se.updated_at}));u(U);const ne=H[0]||null;m(ne),ne&&await B(ne),w(!1)}catch(q){console.error(q),w(!1)}}async function B(q){m(q),f([]),x([]);try{if(e&&r){const J=(r.messages||[]).filter(U=>U.conversation_id===q.id);f(J);const M=o.find(U=>U.id===q.lead_id)||null;x(md(M,q,J));return}const H=(await(await fetch(`/api/messages?conversation_id=${encodeURIComponent(q.id)}&limit=50`)).json()||[]).map(J=>({id:J.id,conversation_id:J.conversation_id,from:J.role==="user"?"lead":J.role==="assistant"?"agent":J.from||"lead",text:J.content||J.text||"",created_at:J.timestamp||J.created_at||new Date().toISOString()}));f(H);const W=o.find(J=>J.phone.replace("@c.us","")===(q.phone||"").replace("@c.us",""))||null;x(md(W,q,H))}catch(z){console.error(z)}}C.useEffect(()=>{$()},[n]);const I=C.useMemo(()=>{const q=a.filter(ee=>{const H=(ee.phone||"").toLowerCase(),W=(ee.name||"").toLowerCase();return!(H.includes("@broadcast")||H.includes("@lid")||H.includes("@g.us")||H.includes("status@broadcast")||H.includes("landing:")||W.includes("landing:")||H.includes("sess_")||W.includes("sess_")||!H||H.length<8||H.replace(/\D/g,"").length<8)}),z=y.trim().toLowerCase();return z?q.filter(ee=>(ee.name||"").toLowerCase().includes(z)||(ee.phone||"").toLowerCase().includes(z)||(ee.last_message||"").toLowerCase().includes(z)):q},[a,y]);async function F(q,z){try{await navigator.clipboard.writeText(q),S(z),setTimeout(()=>S(null),1500)}catch{S(z),setTimeout(()=>S(null),1500)}}function L(q){P&&_({lead:P,message:q.text})}async function G(){if(E){T(!0);try{t.onSendFollowUp?t.onSendFollowUp(E.lead,E.message):await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:E.lead.phone,message:E.message})}),_(null)}catch(q){console.error(q)}finally{T(!1)}}}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(fS,{className:"w-6 h-6 text-[#f57f17]"}),"Anlise IA"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Follow-ups inteligentes baseados em estgio, emoo e urgncia"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-semibold flex items-center gap-1.5",children:[l.jsx(Zt,{className:"w-3.5 h-3.5"}),"IA Ativa"]}),l.jsxs("button",{onClick:$,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Atualizar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 flex items-center justify-between gap-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold",children:"Conversas"}),l.jsx("span",{className:"text-xs text-gray-500",children:I.length})]})}),l.jsx("div",{className:"p-3 border-b border-white/10",children:l.jsxs("div",{className:"relative",children:[l.jsx(na,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{value:y,onChange:q=>O(q.target.value),placeholder:"Buscar...",className:"w-full h-9 rounded-xl bg-black/30 border border-white/10 pl-9 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:border-[#f57f17]/50"})]})}),l.jsx("div",{className:"max-h-[520px] overflow-auto",children:j?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Carregando..."}):I.length===0?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Nenhuma conversa"}):l.jsx("div",{className:"divide-y divide-white/5",children:I.map(q=>{const z=p?.id===q.id,ee=o.find(M=>M.id===q.lead_id||M.phone.replace("@c.us","")===(q.phone||"").replace("@c.us","")),H=ee?.health_score||50,W=q.name||ee?.name||null,J=ul((q.phone||"").replace("@c.us",""));return l.jsx("button",{onClick:()=>B(q),className:`w-full text-left px-4 py-3 transition-all ${z?"bg-[#f57f17]/10":"hover:bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0 ${H>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":H>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"}`,children:H}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-medium truncate",children:W||J}),l.jsx("span",{className:"text-[10px] text-gray-600",children:oQ(q.updated_at)})]}),W&&l.jsx("p",{className:"text-[11px] text-gray-500",children:J}),l.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:q.last_message||""}),l.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-gray-400",children:fC(ee?.stage)}),ee?.urgency_level==="high"||ee?.urgency_level==="critical"?l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300",children:"Urgente"}):null]})]})]})},q.id)})})})]}),l.jsx("div",{className:"xl:col-span-8 space-y-6",children:p?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-5",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-14 w-14 rounded-2xl border-2 flex items-center justify-center text-xl font-bold ${(P?.health_score||50)>=70?"bg-emerald-500/20 border-emerald-500 text-emerald-300":(P?.health_score||50)>=40?"bg-yellow-500/20 border-yellow-500 text-yellow-300":"bg-red-500/20 border-red-500 text-red-300"}`,children:P?.health_score||50}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:p.name||P?.name||ul(p.phone||"")}),l.jsx("p",{className:"text-gray-500 text-sm",children:ul(p.phone||"")})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Estgio"}),l.jsx("p",{className:"text-white font-semibold",children:fC(P?.stage)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"}),l.jsxs("p",{className:"text-emerald-400 font-semibold",children:[Math.round((P?.conversion_probability||.4)*100),"%"]})]}),P&&l.jsxs("button",{onClick:()=>t.onOpenConversation?.(P),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm text-white flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4"}),"Abrir chat"]})]})]}),l.jsxs("div",{className:"mt-4 rounded-xl bg-black/20 border border-white/5 p-3 max-h-[140px] overflow-auto",children:[d.slice(-6).map(q=>l.jsxs("div",{className:`text-sm mb-2 px-3 py-2 rounded-xl ${q.from==="lead"?"bg-white/5 text-gray-300":"bg-[#f57f17]/10 text-white"}`,children:[l.jsx("span",{className:"text-[10px] text-gray-500 mr-2",children:q.from==="lead"?"Cliente":"Bot"}),q.text.slice(0,150),q.text.length>150?"...":""]},q.id)),d.length===0&&l.jsx("p",{className:"text-gray-600 text-sm",children:"Sem mensagens"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-5 h-5 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-bold",children:"Follow-ups Sugeridos"})]}),l.jsxs("button",{onClick:()=>x(md(P,p)),className:"h-9 px-3 rounded-xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs font-semibold text-[#f57f17] flex items-center gap-1.5",children:[l.jsx(Sn,{className:"w-3.5 h-3.5"}),"Regenerar"]})]}),l.jsxs("div",{className:"p-5 space-y-3",children:[v.map(q=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/20 transition",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold",children:q.title}),l.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${q.confidence>=.85?"bg-emerald-500/20 text-emerald-300":q.confidence>=.75?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-400"}`,children:[Math.round(q.confidence*100),"%"]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.goal})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(Ma,{className:"w-3.5 h-3.5"}),q.timing]})]}),l.jsx("div",{className:"rounded-xl bg-black/30 border border-white/5 p-3 mb-3",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:q.text})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-white/5 text-gray-500",children:q.stage}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>F(q.text,q.id),className:"h-8 px-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",title:"Copiar mensagem",children:[l.jsx(Df,{className:"w-3.5 h-3.5"}),k===q.id?"Copiado!":""]}),l.jsxs("button",{onClick:()=>L(q),disabled:!P,className:"h-8 px-4 rounded-lg bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-xs font-semibold text-white flex items-center gap-1.5",children:[l.jsx(_s,{className:"w-3.5 h-3.5"}),"Enviar"]})]})]})]},q.id)),v.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-8",children:'Nenhum follow-up gerado. Clique em "Regenerar".'})]})]})]}):l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-12 text-center",children:[l.jsx(fS,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Selecione uma conversa para anlise"})]})})]}),E&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(_s,{className:"w-5 h-5 text-[#f57f17]"}),"Confirmar Envio"]}),l.jsx("button",{onClick:()=>_(null),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Para"}),l.jsx("p",{className:"text-white font-medium",children:E.lead.name||ul(E.lead.phone)}),l.jsx("p",{className:"text-gray-500 text-sm",children:ul(E.lead.phone)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Mensagem"}),l.jsx("div",{className:"rounded-xl bg-black/40 border border-white/10 p-4 max-h-[200px] overflow-auto",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:E.message})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>_(null),className:"flex-1 h-11 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:G,disabled:A,className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center justify-center gap-2",children:A?l.jsxs(l.Fragment,{children:[l.jsx(Sn,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_s,{className:"w-4 h-4"}),"Enviar Agora"]})})]})]})})]})}const cQ=[{key:"default",label:"Padro DOCA",hint:"Geral / multi-negcio"},{key:"clinic",label:"Clnica",hint:"Sade / esttica / procedimentos"},{key:"realestate",label:"Imobiliria",hint:"Compra / venda / locao"},{key:"aesthetics",label:"Esttica",hint:"Studio / beleza / tratamentos"},{key:"law",label:"Advocacia",hint:"Consultoria / casos / contratos"},{key:"ecommerce",label:"E-commerce",hint:"Loja online / carrinho / ofertas"}];function uQ(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}function dQ(){const[t,e]=C.useState(""),[r,n]=C.useState("clinic"),[a,i]=C.useState("So Paulo"),[o,u]=C.useState(""),[d,f]=C.useState(""),[p,m]=C.useState(""),[v,x]=C.useState(""),[j,w]=C.useState("preo, confiana"),[y,O]=C.useState(120),[k,S]=C.useState(60),[E,_]=C.useState(null),[A,T]=C.useState(!1),P=C.useMemo(()=>hJ(),[E]);function $(){const L=uQ(t||"cliente"),G=new Date,q=G.getFullYear(),z=String(G.getMonth()+1).padStart(2,"0"),ee=String(G.getDate()).padStart(2,"0"),H=String(G.getHours()).padStart(2,"0"),W=String(G.getMinutes()).padStart(2,"0");return`${L}-${r}-${q}${z}${ee}-${H}${W}`.slice(0,80)}function B(){const L=$(),G=fJ({key:L,niche:r,businessName:t||"Cliente",city:a,instagram:o,website:d,offer:p,mainPain:v,objections:j,leadsPerMonth:Number(y||0),conversationsCount:Number(k||0)});_(G.key)}async function I(){if(E)try{await navigator.clipboard.writeText(E),T(!0),setTimeout(()=>T(!1),1200)}catch{T(!1)}}function F(L){confirm(`Remover demo gerada "${L.label}" (${L.key})?`)&&(pJ(L.key),_(q=>q===L.key?null:q))}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Pd,{className:"w-6 h-6 text-[#f57f17]"}),"Demo Generator"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gere demos completas para o DEV (conversas, leads, mensagens e stats) e faa elas aparecerem no dropdown automaticamente."})]}),E&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200",children:["ltima demo:"," ",l.jsx("span",{className:"text-white font-semibold",children:E})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Copiar key",children:[A?l.jsx(As,{className:"w-4 h-4 text-emerald-400"}):l.jsx(Df,{className:"w-4 h-4 text-[#f57f17]"}),A?"Copiado":"Copiar key"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Dados do cliente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha o bsico. O gerador cria uma base realista e coerente."})]}),l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(Zt,{className:"w-4 h-4"}),"DEV-only"]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(xn,{label:"Nome do negcio",children:l.jsx("input",{value:t,onChange:L=>e(L.target.value),placeholder:"Ex: Clnica Capilar Lux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Nicho",children:l.jsx("select",{value:r,onChange:L=>n(L.target.value),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent",children:cQ.map(L=>l.jsxs("option",{value:L.key,children:[L.label,"  ",L.hint]},L.key))})}),l.jsx(xn,{label:"Cidade",children:l.jsx("input",{value:a,onChange:L=>i(L.target.value),placeholder:"Ex: So Paulo",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Instagram (opcional)",children:l.jsx("input",{value:o,onChange:L=>u(L.target.value),placeholder:"Ex: @clinicacapilarlux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Site / LP (opcional)",children:l.jsx("input",{value:d,onChange:L=>f(L.target.value),placeholder:"Ex: https://site.com",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Oferta (opcional)",children:l.jsx("input",{value:p,onChange:L=>m(L.target.value),placeholder:"Ex: Avaliao grtis + plano de tratamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Dor principal (opcional)",full:!0,children:l.jsx("input",{value:v,onChange:L=>x(L.target.value),placeholder:"Ex: queda de cabelo + autoestima",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"Objees comuns (separe por vrgula)",full:!0,children:l.jsx("input",{value:j,onChange:L=>w(L.target.value),placeholder:"Ex: preo, confiana, tempo, parcelamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(xn,{label:"Leads/ms (aprox.)",children:l.jsx("input",{type:"number",value:y,onChange:L=>O(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(xn,{label:"N de conversas (mock)",children:l.jsx("input",{type:"number",value:k,onChange:L=>S(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-7 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:B,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(Pd,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Gerar demo"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"*Isso salva no localStorage do navegador (DEV). Depois a gente pluga no Supabase.*"})]})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Demos geradas"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Essas aparecem no dropdown do DEV automaticamente."})]}),l.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:P.length})]}),l.jsx("div",{className:"mt-6 space-y-3",children:P.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma demo gerada ainda. Crie a primeira usando o formulrio."}):P.map(L=>l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:L.label}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["key: ",l.jsx("span",{className:"text-gray-300 font-semibold",children:L.key})]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["niche: ",l.jsx("span",{className:"text-gray-400",children:L.niche})," "," ",l.jsx("span",{className:"text-gray-500",children:new Date(L.createdAt).toLocaleString("pt-BR")})]})]}),l.jsx("button",{onClick:()=>F(L),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Excluir demo",children:l.jsx(Cs,{className:"w-4 h-4 text-red-300"})})]})},L.key))}),l.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Dica: pra abrir uma demo gerada, selecione ela no dropdown do topo e recarregue a pgina (ou o sistema recarrega sozinho se voc j estiver em modo demo)."})]})]})]})}function xn({label:t,children:e,full:r}){return l.jsxs("div",{className:r?"md:col-span-2":"",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:t}),e]})}const wb={enabled:!0,personality:"friendly",responseSpeed:"human",maxBubbles:2,maxEmojisPerBubble:1,useEmojis:!1,delayBase:450,delayPerChar:18,delayCap:1750,stageBehavior:{cold:{maxBubbles:2,requireQuestion:!0,ctaLevel:"soft"},warm:{maxBubbles:2,requireQuestion:!0,ctaLevel:"medium"},hot:{maxBubbles:2,requireQuestion:!1,ctaLevel:"hard"}},emotionMultipliers:{anxious:.6,skeptical:1.15,frustrated:1,excited:.9,price_sensitive:1.08,ready:.92,curious:1},escalateOnFrustration:!0,templates:{primeiro_contato:{bubble1:"Oi! Prazer, sou da DOCA.",bubble2:"Me conta: voc busca melhorar marketing, vendas ou operao?"},cliente_bravo:{bubble1:"Entendi. Sinto muito por isso.",bubble2:"Me diz o que aconteceu que eu resolvo pra voc agora."},orcamento:{bubble1:"Consigo sim! Pra eu te passar certinho:",bubble2:" pra voc ou pra equipe? E qual objetivo principal?"},agendamento:{bubble1:"Perfeito! Vamos marcar.",bubble2:"Qual melhor dia e horrio pra voc?"}}};function fQ(){return"/api".replace(/\/$/,"")}const jb=fQ();async function hQ(t){try{const e=t?`${jb}/settings?key=agent_studio_config&tenant_id=${t}`:`${jb}/settings?key=agent_studio_config`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();return n?.value?{...wb,...n.value}:null}catch{return null}}async function pQ(t,e){try{return(await fetch(`${jb}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_studio_config",value:t,tenant_id:e})})).ok}catch{return!1}}function mQ({tenantId:t}){const[e,r]=C.useState("basico"),[n,a]=C.useState(wb),[i,o]=C.useState(wb),[u,d]=C.useState(!0),[f,p]=C.useState(!1),[m,v]=C.useState(null),[x,j]=C.useState("warm"),[w,y]=C.useState("curious"),[O,k]=C.useState([]),[S,E]=C.useState(""),[_,A]=C.useState(!1),T=C.useRef(null);C.useEffect(()=>{hQ(t).then(M=>{M&&(a(M),o(M)),d(!1)})},[t]),C.useEffect(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[O]);const P=C.useMemo(()=>JSON.stringify(n)!==JSON.stringify(i),[n,i]),$=(M,U)=>{v({type:M,text:U}),setTimeout(()=>v(null),3e3)};async function B(){p(!0);const M=await pQ(n,t);p(!1),M?(o(n),$("success","Configuraes salvas!")):$("error","Erro ao salvar")}function I(){a(i),$("success","Alteraes descartadas")}function F(M,U){a(ne=>({...ne,[M]:U}))}function L(M,U){a(ne=>({...ne,stageBehavior:{...ne.stageBehavior,[M]:U}}))}function G(M,U){a(ne=>({...ne,emotionMultipliers:{...ne.emotionMultipliers,[M]:U}}))}function q(M,U,ne){a(se=>({...se,templates:{...se.templates,[M]:{...se.templates[M],[U]:ne}}}))}function z(M){const U=n.emotionMultipliers[w];return Math.min(Math.round((n.delayBase+n.delayPerChar*M.length)*U),n.delayCap)}function ee(M){const U=M.toLowerCase();return U.includes("preo")||U.includes("valor")||U.includes("quanto custa")?"orcamento":U.includes("agendar")||U.includes("marcar")||U.includes("reunio")?"agendamento":U.includes("problema")||U.includes("no funciona")||U.includes("erro")?"cliente_bravo":"primeiro_contato"}async function H(){if(!S.trim()||_)return;const M=S.trim();E(""),k(me=>[...me,{role:"user",text:M}]),A(!0);const U=ee(M),ne=n.templates[U],se=n.stageBehavior[x],ie=z(ne.bubble1);if(await new Promise(me=>setTimeout(me,ie)),k(me=>[...me,{role:"agent",text:ne.bubble1,delay:ie}]),se.maxBubbles>=2&&ne.bubble2){const me=z(ne.bubble2);await new Promise(ge=>setTimeout(ge,me));let Re=ne.bubble2;se.requireQuestion&&!Re.includes("?")&&(Re+={soft:" Me conta mais?",medium:" Quer ver um exemplo?",hard:" Bora marcar?"}[se.ctaLevel]),k(ge=>[...ge,{role:"agent",text:Re,delay:me}])}A(!1)}const W=C.useMemo(()=>Math.round(Math.min(n.delayBase*n.emotionMultipliers[w],n.delayCap)),[n,w]),J=[{key:"basico",label:"Bsico",icon:Nn},{key:"estagio",label:"Por Estgio",icon:hS},{key:"emocao",label:"Por Emoo",icon:Ra},{key:"templates",label:"Templates",icon:_i},{key:"preview",label:"Preview",icon:mS}];return u?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(ex,{className:"w-6 h-6 text-[#f57f17]"}),"Agent Studio"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento do agente IA"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:I,disabled:!P||f,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 flex items-center gap-2 disabled:opacity-50",children:[l.jsx(fP,{className:"w-4 h-4"}),"Descartar"]}),l.jsxs("button",{onClick:B,disabled:!P||f,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2 disabled:opacity-50",children:[f?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar"]})]})]}),l.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between ${n.enabled?"bg-emerald-500/10 border border-emerald-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${n.enabled?"bg-emerald-500/20":"bg-red-500/20"}`,children:l.jsx(uP,{className:`w-5 h-5 ${n.enabled?"text-emerald-400":"text-red-400"}`})}),l.jsxs("div",{children:[l.jsxs("p",{className:`font-semibold ${n.enabled?"text-emerald-300":"text-red-300"}`,children:["Agente ",n.enabled?"Ativo":"Desativado"]}),l.jsx("p",{className:"text-xs text-gray-500",children:n.enabled?"Respondendo automaticamente":"Apenas humanos respondem"})]})]}),l.jsx("button",{onClick:()=>F("enabled",!n.enabled),className:`h-10 px-4 rounded-xl text-sm font-medium transition ${n.enabled?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:n.enabled?"Desativar":"Ativar"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(M=>l.jsxs("button",{onClick:()=>r(M.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===M.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.key))}),e==="basico"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(ka,{title:"Personalidade",icon:ex,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(fs,{selected:n.personality==="formal",onClick:()=>F("personality","formal"),title:"Formal",desc:"Corporativo"}),l.jsx(fs,{selected:n.personality==="casual",onClick:()=>F("personality","casual"),title:"Casual",desc:"Descontrado"}),l.jsx(fs,{selected:n.personality==="friendly",onClick:()=>F("personality","friendly"),title:"Amigvel",desc:"Acolhedor"})]})}),l.jsx(ka,{title:"Velocidade",icon:hL,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(fs,{selected:n.responseSpeed==="fast",onClick:()=>F("responseSpeed","fast"),title:"Rpido",desc:"< 1s"}),l.jsx(fs,{selected:n.responseSpeed==="normal",onClick:()=>F("responseSpeed","normal"),title:"Normal",desc:"1-2s"}),l.jsx(fs,{selected:n.responseSpeed==="human",onClick:()=>F("responseSpeed","human"),title:"Humano",desc:"2-4s"})]})}),l.jsx(ka,{title:"Limites",icon:sr,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Mx. bolhas",value:n.maxBubbles,min:1,max:4,onChange:M=>F("maxBubbles",M)}),l.jsx(_b,{label:"Usar emojis",desc:"Nas respostas",value:n.useEmojis,onChange:M=>F("useEmojis",M)}),n.useEmojis&&l.jsx(vs,{label:"Mx. emojis",value:n.maxEmojisPerBubble,min:0,max:3,onChange:M=>F("maxEmojisPerBubble",M)})]})}),l.jsx(ka,{title:"Delay",icon:Ma,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Base (ms)",value:n.delayBase,min:100,max:1e3,onChange:M=>F("delayBase",M)}),l.jsx(vs,{label:"Por char (ms)",value:n.delayPerChar,min:5,max:50,onChange:M=>F("delayPerChar",M)}),l.jsx(vs,{label:"Mximo (ms)",value:n.delayCap,min:500,max:5e3,onChange:M=>F("delayCap",M)})]})})]}),e==="estagio"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zt,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Comportamento por Temperatura"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure o agente em cada fase do funil."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(L0,{stage:"cold",icon:gS,color:"blue",title:"Frio",desc:"Primeiro contato",behavior:n.stageBehavior.cold,onChange:M=>L("cold",M)}),l.jsx(L0,{stage:"warm",icon:Cd,color:"yellow",title:"Morno",desc:"Engajado",behavior:n.stageBehavior.warm,onChange:M=>L("warm",M)}),l.jsx(L0,{stage:"hot",icon:on,color:"orange",title:"Quente",desc:"Pronto",behavior:n.stageBehavior.hot,onChange:M=>L("hot",M)})]})]}),e==="emocao"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ra,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Multiplicadores de Emoo"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ajuste o tempo baseado na emoo."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(oi,{emotion:"anxious",icon:ar,label:"Ansioso",desc:"Urgente",value:n.emotionMultipliers.anxious,onChange:M=>G("anxious",M)}),l.jsx(oi,{emotion:"skeptical",icon:aP,label:"Ctico",desc:"Desconfiado",value:n.emotionMultipliers.skeptical,onChange:M=>G("skeptical",M)}),l.jsx(oi,{emotion:"frustrated",icon:sP,label:"Frustrado",desc:"Irritado",value:n.emotionMultipliers.frustrated,onChange:M=>G("frustrated",M)}),l.jsx(oi,{emotion:"excited",icon:dL,label:"Empolgado",desc:"Animado",value:n.emotionMultipliers.excited,onChange:M=>G("excited",M)}),l.jsx(oi,{emotion:"price_sensitive",icon:ro,label:"Sensvel a Preo",desc:"Custo",value:n.emotionMultipliers.price_sensitive,onChange:M=>G("price_sensitive",M)}),l.jsx(oi,{emotion:"ready",icon:Da,label:"Pronto",desc:"Decidido",value:n.emotionMultipliers.ready,onChange:M=>G("ready",M)}),l.jsx(oi,{emotion:"curious",icon:Lf,label:"Curioso",desc:"Explorando",value:n.emotionMultipliers.curious,onChange:M=>G("curious",M)})]}),l.jsx(_b,{label:"Escalar em frustrao",desc:"Notificar humano",value:n.escalateOnFrustration,onChange:M=>F("escalateOnFrustration",M)})]}),e==="templates"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(_i,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Templates por Inteno"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure as respostas padro."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(gd,{intent:"primeiro_contato",title:"Primeiro Contato",desc:"Lead novo",template:n.templates.primeiro_contato,onChange:(M,U)=>q("primeiro_contato",M,U)}),l.jsx(gd,{intent:"cliente_bravo",title:"Cliente Bravo",desc:"Reclamao",template:n.templates.cliente_bravo,onChange:(M,U)=>q("cliente_bravo",M,U)}),l.jsx(gd,{intent:"orcamento",title:"Oramento",desc:"Preo",template:n.templates.orcamento,onChange:(M,U)=>q("orcamento",M,U)}),l.jsx(gd,{intent:"agendamento",title:"Agendamento",desc:"Reunio",template:n.templates.agendamento,onChange:(M,U)=>q("agendamento",M,U)})]})]}),e==="preview"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(mS,{className:"w-5 h-5 text-[#f57f17]"}),"Preview"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Teste suas configuraes"})]}),l.jsxs("button",{onClick:()=>k([]),className:"h-8 px-3 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",children:[l.jsx(Cs,{className:"w-3 h-3"}),"Limpar"]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[O.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(sr,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"})]}):O.map((M,U)=>l.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${M.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:[l.jsx("p",{className:"text-sm",children:M.text}),M.delay&&l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[" ",M.delay,"ms"]})]})},U)),_&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),l.jsx("div",{ref:T})]}),l.jsx("div",{className:"p-4 border-t border-white/10",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:S,onChange:M=>E(M.target.value),onKeyDown:M=>M.key==="Enter"&&!M.shiftKey&&H(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",disabled:_}),l.jsx("button",{onClick:H,disabled:_||!S.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(_s,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(ka,{title:"Estgio Simulado",icon:hS,children:l.jsx("div",{className:"space-y-2",children:[{key:"cold",label:"Frio",icon:gS},{key:"warm",label:"Morno",icon:Cd},{key:"hot",label:"Quente",icon:on}].map(M=>l.jsxs("button",{onClick:()=>j(M.key),className:`w-full p-3 rounded-xl flex items-center gap-3 transition ${x===M.key?"bg-[#f57f17]/20 border border-[#f57f17]/30":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[l.jsx(M.icon,{className:`w-4 h-4 ${x===M.key?"text-[#f57f17]":"text-gray-400"}`}),l.jsx("span",{className:x===M.key?"text-white":"text-gray-400",children:M.label})]},M.key))})}),l.jsxs(ka,{title:"Emoo Simulada",icon:Ra,children:[l.jsxs("select",{value:w,onChange:M=>y(M.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"curious",className:"bg-black",children:"Curioso"}),l.jsx("option",{value:"anxious",className:"bg-black",children:"Ansioso"}),l.jsx("option",{value:"skeptical",className:"bg-black",children:"Ctico"}),l.jsx("option",{value:"frustrated",className:"bg-black",children:"Frustrado"}),l.jsx("option",{value:"excited",className:"bg-black",children:"Empolgado"}),l.jsx("option",{value:"price_sensitive",className:"bg-black",children:"Sensvel a Preo"}),l.jsx("option",{value:"ready",className:"bg-black",children:"Pronto"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Multiplicador: ",l.jsxs("span",{className:"text-white font-semibold",children:[n.emotionMultipliers[w].toFixed(2),"x"]})]})]}),l.jsx(ka,{title:"Configurao Ativa",icon:tL,children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Delay base"}),l.jsxs("span",{className:"text-white",children:[W,"ms"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Max bolhas"}),l.jsx("span",{className:"text-white",children:n.stageBehavior[x].maxBubbles})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"CTA level"}),l.jsx("span",{className:"text-white capitalize",children:n.stageBehavior[x].ctaLevel})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Exige pergunta"}),l.jsx("span",{className:"text-white",children:n.stageBehavior[x].requireQuestion?"Sim":"No"})]})]})}),l.jsx(ka,{title:"Testes Rpidos",icon:un,children:l.jsx("div",{className:"space-y-2",children:["Oi, quero saber mais","Quanto custa?","Quero agendar","No t funcionando!"].map(M=>l.jsx("button",{onClick:()=>E(M),className:"w-full text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-300 transition",children:M},M))})})]})]}),m&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${m.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[m.type==="success"?l.jsx(Yn,{className:"w-4 h-4"}):l.jsx(Lb,{className:"w-4 h-4"}),m.text]})]})}function ka({title:t,icon:e,children:r,className:n}){return l.jsxs("div",{className:`rounded-[28px] border border-white/10 bg-white/5 p-6 ${n||""}`,children:[t&&l.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e&&l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),t]}),r]})}function fs({selected:t,onClick:e,title:r,desc:n}){return l.jsxs("button",{onClick:e,className:`p-4 rounded-xl border text-left transition ${t?"border-[#f57f17]/50 bg-[#f57f17]/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[l.jsx("p",{className:"text-white font-semibold",children:r}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})}function vs({label:t,value:e,min:r,max:n,onChange:a}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsxs("p",{className:"text-xs text-gray-500",children:[r," - ",n]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:r,max:n,value:e,onChange:i=>a(Number(i.target.value)),className:"w-24 accent-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold w-12 text-right",children:e})]})]})}function _b({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function L0({stage:t,icon:e,color:r,title:n,desc:a,behavior:i,onChange:o}){const u={blue:"border-blue-500/30 bg-blue-500/5",yellow:"border-yellow-500/30 bg-yellow-500/5",orange:"border-[#f57f17]/30 bg-[#f57f17]/5"},d={blue:"text-blue-400",yellow:"text-yellow-400",orange:"text-[#f57f17]"};return l.jsxs("div",{className:`rounded-[28px] border p-6 ${u[r]}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 flex items-center justify-center",children:l.jsx(e,{className:`w-5 h-5 ${d[r]}`})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:n}),l.jsx("p",{className:"text-xs text-gray-500",children:a})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(vs,{label:"Mx bolhas",value:i.maxBubbles,min:1,max:4,onChange:f=>o({...i,maxBubbles:f})}),l.jsx(_b,{label:"Exigir pergunta",desc:"Termina com pergunta",value:i.requireQuestion,onChange:f=>o({...i,requireQuestion:f})}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-white font-medium mb-2",children:"Nvel do CTA"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["soft","medium","hard"].map(f=>l.jsx("button",{onClick:()=>o({...i,ctaLevel:f}),className:`h-9 rounded-lg text-xs font-medium capitalize transition ${i.ctaLevel===f?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:f},f))})]})]})]})}function oi({emotion:t,icon:e,label:r,desc:n,value:a,onChange:i}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:r}),l.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:a,onChange:o=>i(Number(o.target.value)),className:"flex-1 accent-[#f57f17]"}),l.jsxs("span",{className:"text-white font-semibold w-12 text-right",children:[a.toFixed(2),"x"]})]})]})}function gd({intent:t,title:e,desc:r,template:n,onChange:a}){return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:e}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 1"}),l.jsx("textarea",{value:n.bubble1,onChange:i=>a("bubble1",i.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 2"}),l.jsx("textarea",{value:n.bubble2,onChange:i=>a("bubble2",i.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]})]})]})}const dl="/api",hC={admin:{label:"Admin",color:"text-red-400",bg:"bg-red-500/20"},manager:{label:"Gerente",color:"text-amber-400",bg:"bg-amber-500/20"},user:{label:"Usurio",color:"text-blue-400",bg:"bg-blue-500/20"}};function gQ(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,i]=C.useState(!0),[o,u]=C.useState(""),[d,f]=C.useState(null),[p,m]=C.useState(null),[v,x]=C.useState(!1),[j,w]=C.useState(null),[y,O]=C.useState(!1),[k,S]=C.useState(""),[E,_]=C.useState(""),[A,T]=C.useState("user"),[P,$]=C.useState("");C.useEffect(()=>{B()},[]);const B=async()=>{try{i(!0);const[z,ee]=await Promise.all([fetch(`${dl}/users`),fetch(`${dl}/tenants`)]),H=await z.json(),W=await ee.json();e(H||[]),n(W||[])}catch(z){console.error("Error loading data:",z)}finally{i(!1)}},I=()=>{w(null),S(""),_(""),T("user"),$(r[0]?.id||""),x(!0)},F=z=>{w(z),S(z.name),_(z.email),T(z.role),$(z.tenant_id),x(!0)},L=async()=>{if(!(!k||!E||!P))try{O(!0),j?await fetch(`${dl}/users?id=${j.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k,email:E,role:A,tenant_id:P})}):await fetch(`${dl}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k,email:E,role:A,tenant_id:P})}),x(!1),B()}catch(z){console.error("Error saving user:",z)}finally{O(!1)}},G=async z=>{if(confirm(`Deseja remover ${z.name}?`))try{await fetch(`${dl}/users?id=${z.id}`,{method:"DELETE"}),B()}catch(ee){console.error("Error deleting user:",ee)}},q=t.filter(z=>!(o&&!z.name.toLowerCase().includes(o.toLowerCase())&&!z.email.toLowerCase().includes(o.toLowerCase())||d&&z.tenant_id!==d||p&&z.role!==p));return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(ln,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Usurios"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," usurios cadastrados"]})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Novo Usurio"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[l.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:o,onChange:z=>u(z.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("select",{value:d||"",onChange:z=>f(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Clientes"}),r.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:p||"",onChange:z=>m(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"user",children:"Usurio"})]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Usurio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Cliente"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-400 uppercase",children:"Aes"})]})}),l.jsx("tbody",{children:q.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum usurio encontrado"})}):q.map(z=>{const ee=hC[z.role]||hC.user;return l.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02]",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:z.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-white",children:z.name}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx($l,{className:"w-3 h-3"}),z.email]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_n,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-300",children:z.tenant?.name||""})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold ${ee.bg} ${ee.color}`,children:[l.jsx(hP,{className:"w-3 h-3"}),ee.label]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>F(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-all",title:"Editar",children:l.jsx(cP,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>G(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/20 flex items-center justify-center text-gray-400 hover:text-red-400 transition-all",title:"Excluir",children:l.jsx(Cs,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),v&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>x(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:j?"Editar Usurio":"Novo Usurio"}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-white",children:l.jsx(dn,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome"}),l.jsx("input",{type:"text",value:k,onChange:z=>S(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Nome completo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:E,onChange:z=>_(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"email@exemplo.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cliente"}),l.jsxs("select",{value:P,onChange:z=>$(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Selecione..."}),r.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),l.jsxs("select",{value:A,onChange:z=>T(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"user",children:"Usurio"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>x(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:L,disabled:y||!k||!E||!P,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(As,{className:"w-4 h-4"}),j?"Salvar":"Criar"]})]})]})})]})]})}const vd="/api";function vQ({onConfigure:t,selectedTenantId:e,onSelectTenant:r}){const[n,a]=C.useState([]),[i,o]=C.useState(!0),[u,d]=C.useState(""),[f,p]=C.useState(!1),[m,v]=C.useState(null),[x,j]=C.useState(!1),[w,y]=C.useState(""),[O,k]=C.useState(""),[S,E]=C.useState(""),[_,A]=C.useState(""),[T,P]=C.useState("");C.useEffect(()=>{$()},[]);const $=async()=>{try{o(!0);const J=await(await fetch(`${vd}/tenants`)).json();a(J||[])}catch(W){console.error("Error loading tenants:",W)}finally{o(!1)}},B=W=>W.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),I=()=>{v(null),y(""),k(""),E(""),A(""),P(""),p(!0)},F=(W,J)=>{J.stopPropagation(),v(W),y(W.name),k(W.slug),E(W.phone||""),A(W.address||""),P(W.specialty||""),p(!0)},L=async()=>{if(!(!w||!O))try{j(!0),m?await fetch(`${vd}/tenants?id=${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w,slug:O,phone:S||null,address:_||null,specialty:T||null})}):await fetch(`${vd}/tenants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w,slug:O,phone:S||null,address:_||null,specialty:T||null})}),p(!1),$()}catch(W){console.error("Error saving tenant:",W)}finally{j(!1)}},G=async(W,J)=>{J.stopPropagation();try{await fetch(`${vd}/tenants?id=${W.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!W.active})}),$()}catch(M){console.error("Error toggling tenant:",M)}},q=W=>{W.active&&r&&(e===W.id?r(null):r(W.id))},z=(W,J)=>{J.stopPropagation(),t&&t(W)},ee=n.filter(W=>!(u&&!W.name.toLowerCase().includes(u.toLowerCase())&&!W.slug.toLowerCase().includes(u.toLowerCase()))),H=n.find(W=>W.id===e);return i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(_n,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Clientes"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," clientes cadastrados"]})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(Ad,{className:"w-4 h-4"}),"Novo Cliente"]})]}),r&&l.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border border-white/10 bg-white/[0.02]",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Cliente ativo:"}),H?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:H.name.substring(0,2).toUpperCase()})}),l.jsx("span",{className:"text-white font-semibold",children:H.name}),l.jsx("button",{onClick:()=>r(null),className:"ml-2 text-xs text-gray-500 hover:text-white px-2 py-1 rounded-lg bg-white/5 hover:bg-white/10",children:"Limpar filtro"})]}):l.jsx("span",{className:"text-gray-300",children:"Todos os clientes"}),l.jsx("div",{className:"ml-auto text-xs text-gray-500",children:"Clique em um card para filtrar os dados"})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:u,onChange:W=>d(W.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(W=>{const J=e===W.id;return l.jsxs("div",{onClick:()=>q(W),className:`rounded-2xl border bg-white/[0.02] p-5 transition-all ${J?"border-[#f57f17] ring-2 ring-[#f57f17]/30 bg-[#f57f17]/5":W.active?"border-white/10 hover:border-[#f57f17]/50 cursor-pointer":"border-red-500/30 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center ${J?"bg-[#f57f17]/30":"bg-[#f57f17]/20"}`,children:l.jsx("span",{className:"text-[#f57f17] font-bold",children:W.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-white",children:W.name}),J&&l.jsx(Yn,{className:"w-4 h-4 text-[#f57f17]"})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",W.slug]})]})]}),l.jsx("button",{onClick:M=>G(W,M),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${W.active?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,title:W.active?"Desativar":"Ativar",children:l.jsx(uP,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[W.specialty&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(JD,{className:"w-4 h-4"}),l.jsx("span",{children:W.specialty})]}),W.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(Xn,{className:"w-4 h-4"}),l.jsx("span",{children:W.phone})]}),W.address&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(oP,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate",children:W.address})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:M=>F(W,M),className:"flex-1 h-9 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-sm text-gray-300 flex items-center justify-center gap-2 transition-all",children:[l.jsx(cP,{className:"w-4 h-4"}),"Editar"]}),t&&l.jsxs("button",{onClick:M=>z(W.id,M),className:"flex-1 h-9 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm text-[#f57f17] flex items-center justify-center gap-2 transition-all",children:[l.jsx(Nn,{className:"w-4 h-4"}),"Config"]})]})]},W.id)})}),f&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>p(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:m?"Editar Cliente":"Novo Cliente"}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-white",children:l.jsx(dn,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome da Empresa"}),l.jsx("input",{type:"text",value:w,onChange:W=>{y(W.target.value),m||k(B(W.target.value))},className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Ex: Clnica Dr. Hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Slug"}),l.jsx("input",{type:"text",value:O,onChange:W=>k(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"clinica-dr-hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Especialidade"}),l.jsx("input",{type:"text",value:T,onChange:W=>P(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Transplante Capilar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),l.jsx("input",{type:"text",value:S,onChange:W=>E(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"+55 31 99999-9999"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Endereo"}),l.jsx("input",{type:"text",value:_,onChange:W=>A(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Rua, nmero, cidade"})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:L,disabled:x||!w||!O,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(As,{className:"w-4 h-4"}),m?"Salvar":"Criar"]})]})]})})]})]})}const yQ={admin:["view_all_tenants","manage_users","manage_tenants","view_metrics","export_data","manage_settings"],manager:["view_metrics","export_data"],user:[]};function xQ(){const{profile:t,tenant:e}=If(),r=t?.role||"user",n=yQ[r]||[],a=v=>n.includes(v),i=a("view_all_tenants"),o=a("manage_users"),u=a("manage_tenants"),d=a("view_metrics"),f=a("export_data"),p=a("manage_settings"),m=i?null:e?.id;return{role:r,permissions:n,hasPermission:a,canViewAllTenants:i,canManageUsers:o,canManageTenants:u,canViewMetrics:d,canExportData:f,canManageSettings:p,allowedTenantId:m,isAdmin:r==="admin",isManager:r==="manager",isUser:r==="user"}}const bQ="/api";function fl({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-500 uppercase",children:t}),l.jsx(r,{className:`w-4 h-4 ${n}`})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function wQ(){const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(!1);C.useEffect(()=>{o()},[]);const o=async(d=!1)=>{try{d?i(!0):n(!0);const p=await(await fetch(`${bQ}/tenants/metrics`)).json();e(Array.isArray(p)?p:[p])}catch(f){console.error("Error loading metrics:",f)}finally{n(!1),i(!1)}},u=t.reduce((d,f)=>({conversations:d.conversations+f.metrics.conversations,leads:d.leads+f.metrics.leads,qualified:d.qualified+f.metrics.qualified_leads,messages:d.messages+f.metrics.messages,tokens:d.tokens+f.metrics.tokens_used}),{conversations:0,leads:0,qualified:0,messages:0,tokens:0});return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Rl,{className:"w-6 h-6 text-[#f57f17]"}),"Mtricas por Cliente"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consumo e performance de cada tenant"})]}),l.jsxs("button",{onClick:()=>o(!0),disabled:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-gray-300 font-medium flex items-center gap-2 disabled:opacity-50",children:[l.jsx(Sn,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Atualizar"]})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/5 p-5",children:[l.jsx("h3",{className:"text-sm font-semibold text-[#f57f17] mb-4",children:"TOTAIS GERAIS"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsx(fl,{label:"Conversas",value:u.conversations,icon:sr,color:"text-blue-400"}),l.jsx(fl,{label:"Leads",value:u.leads,icon:ln,color:"text-emerald-400"}),l.jsx(fl,{label:"Qualificados",value:u.qualified,icon:La,color:"text-amber-400"}),l.jsx(fl,{label:"Mensagens",value:u.messages,icon:sr,color:"text-cyan-400"}),l.jsx(fl,{label:"Tokens",value:u.tokens.toLocaleString(),icon:un,color:"text-purple-400"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase",children:"Por Cliente"}),t.map(d=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-5",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx(_n,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white",children:d.tenant_name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",d.tenant_slug]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.conversations}),l.jsx("p",{className:"text-xs text-gray-500",children:"Conversas"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Leads"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-emerald-400",children:d.metrics.qualified_leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Qualificados"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsxs("p",{className:"text-lg font-bold text-amber-400",children:[d.metrics.conversion_rate,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mensagens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-cyan-400",children:d.metrics.assistant_messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Respostas IA"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-purple-400",children:d.metrics.tokens_used.toLocaleString()}),l.jsx("p",{className:"text-xs text-gray-500",children:"Tokens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.avg_messages_per_conversation}),l.jsx("p",{className:"text-xs text-gray-500",children:"Msgs/Conv"})]})]})]},d.tenant_id))]})]})}const pC="/api",jQ=[{id:"mon",label:"Seg"},{id:"tue",label:"Ter"},{id:"wed",label:"Qua"},{id:"thu",label:"Qui"},{id:"fri",label:"Sex"},{id:"sat",label:"Sb"},{id:"sun",label:"Dom"}];function _Q({tenantId:t,onBack:e}){const[r,n]=C.useState(null),[a,i]=C.useState(!0),[o,u]=C.useState(!1),[d,f]=C.useState("agent"),[p,m]=C.useState(""),[v,x]=C.useState(""),[j,w]=C.useState(""),[y,O]=C.useState(!0),[k,S]=C.useState("friendly"),[E,_]=C.useState(!0),[A,T]=C.useState(2),[P,$]=C.useState(450),[B,I]=C.useState(18),[F,L]=C.useState(1750),[G,q]=C.useState(["mon","tue","wed","thu","fri"]),[z,ee]=C.useState("09:00"),[H,W]=C.useState("18:00"),[J,M]=C.useState("");C.useEffect(()=>{t&&U(t)},[t]);const U=async ie=>{try{i(!0);const ge=(await(await fetch(`${pC}/tenants`)).json()).find(oe=>oe.id===ie);ge&&(n(ge),m(ge.zapi_config?.instance_id||""),x(ge.zapi_config?.token||""),w(ge.zapi_config?.clientToken||""),O(ge.agent_config?.enabled??!0),S(ge.agent_config?.personality||"friendly"),_(ge.agent_config?.useEmojis??!0),T(ge.agent_config?.maxBubbles??2),$(ge.agent_config?.delays?.base??450),I(ge.agent_config?.delays?.perChar??18),L(ge.agent_config?.delays?.cap??1750),q(ge.business_hours?.days||["mon","tue","wed","thu","fri"]),ee(ge.business_hours?.open||"09:00"),W(ge.business_hours?.close||"18:00"),M(ge.prompt||""))}catch(me){console.error("Error loading tenant:",me)}finally{i(!1)}},ne=async()=>{if(r)try{u(!0);const ie={};d==="zapi"?ie.zapi_config={instance_id:p||null,token:v||null,clientToken:j||null}:d==="agent"?ie.agent_config={enabled:y,personality:k,useEmojis:E,maxBubbles:A,delays:{base:P,perChar:B,cap:F}}:d==="hours"?ie.business_hours={days:G,open:z,close:H}:d==="prompt"&&(ie.prompt=J),await fetch(`${pC}/tenants?id=${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),alert("Configuraes salvas!")}catch(ie){console.error("Error saving:",ie),alert("Erro ao salvar")}finally{u(!1)}},se=ie=>{q(me=>me.includes(ie)?me.filter(Re=>Re!==ie):[...me,ie])};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(wt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[e&&l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(XD,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Nn,{className:"w-6 h-6 text-[#f57f17]"}),"Configurar: ",r.name]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",r.slug]})]})]}),l.jsx("div",{className:"flex gap-2 border-b border-white/10 pb-2",children:[{id:"agent",label:"Agente IA",icon:ex},{id:"zapi",label:"Z-API",icon:Xn},{id:"hours",label:"Horrios",icon:Ma},{id:"prompt",label:"Prompt",icon:sr}].map(ie=>l.jsxs("button",{onClick:()=>f(ie.id),className:`px-4 py-2 rounded-xl flex items-center gap-2 text-sm font-medium transition-all ${d===ie.id?"bg-[#f57f17]/20 text-[#f57f17] border border-[#f57f17]/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[l.jsx(ie.icon,{className:"w-4 h-4"}),ie.label]},ie.id))}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-6",children:[d==="zapi"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao Z-API"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instance ID"}),l.jsx("input",{type:"text",value:p,onChange:ie=>m(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"3E9D7E00D9E221F57F51AAEE8857FDA1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Token"}),l.jsx("input",{type:"password",value:v,onChange:ie=>x(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Client Token"}),l.jsx("input",{type:"password",value:j,onChange:ie=>w(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]})]}),d==="agent"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao do Agente"}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Agente Ativo"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ativar/desativar respostas automticas"})]}),l.jsx("button",{onClick:()=>O(!y),className:`h-8 w-14 rounded-full transition-all ${y?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${y?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Personalidade"}),l.jsxs("select",{value:k,onChange:ie=>S(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"friendly",children:"Amigvel"}),l.jsx("option",{value:"professional",children:"Profissional"}),l.jsx("option",{value:"casual",children:"Casual"}),l.jsx("option",{value:"formal",children:"Formal"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Usar Emojis"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Incluir emojis nas respostas"})]}),l.jsx("button",{onClick:()=>_(!E),className:`h-8 w-14 rounded-full transition-all ${E?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${E?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Mx. Bolhas por Resposta"}),l.jsx("input",{type:"number",value:A,onChange:ie=>T(parseInt(ie.target.value)||2),min:1,max:5,className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Base (ms)"}),l.jsx("input",{type:"number",value:P,onChange:ie=>$(parseInt(ie.target.value)||450),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay/Char (ms)"}),l.jsx("input",{type:"number",value:B,onChange:ie=>I(parseInt(ie.target.value)||18),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Mx (ms)"}),l.jsx("input",{type:"number",value:F,onChange:ie=>L(parseInt(ie.target.value)||1750),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="hours"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Horrio de Funcionamento"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Dias Ativos"}),l.jsx("div",{className:"flex gap-2",children:jQ.map(ie=>l.jsx("button",{onClick:()=>se(ie.id),className:`h-10 w-12 rounded-lg text-sm font-medium transition-all ${G.includes(ie.id)?"bg-[#f57f17] text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:ie.label},ie.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Abre s"}),l.jsx("input",{type:"time",value:z,onChange:ie=>ee(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fecha s"}),l.jsx("input",{type:"time",value:H,onChange:ie=>W(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="prompt"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Prompt do Agente"}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Instrues personalizadas para o agente deste cliente"}),l.jsx("textarea",{value:J,onChange:ie=>M(ie.target.value),rows:12,className:"w-full px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50 resize-none font-mono text-sm",placeholder:"Voc  um assistente especializado em..."})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:ne,disabled:o,className:"h-10 px-6 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50",children:[o?l.jsx(wt,{className:"w-4 h-4 animate-spin"}):l.jsx(no,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]}):l.jsx("div",{className:"text-center text-gray-500 py-12",children:"Selecione um cliente para configurar"})}function SQ({open:t,onClose:e,title:r,subtitle:n,children:a,maxWidthClass:i="max-w-3xl"}){return C.useEffect(()=>{if(!t)return;const o=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),t?l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:l.jsxs("div",{className:["w-full",i,"rounded-[28px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl"].join(" "),children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[r&&l.jsx("h3",{className:"text-lg font-bold text-white truncate",children:r}),n&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Fechar",children:l.jsx(dn,{className:"w-4 h-4 text-gray-300"})})]}),l.jsx("div",{className:"p-6",children:a})]})})]}):null}function NQ(t){return t==="alto"?"border-emerald-500/25 bg-emerald-500/10 text-emerald-300":t==="mdio"?"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]":"border-white/10 bg-white/5 text-gray-300"}function kQ(t){return t==="green"?"text-emerald-400":t==="cyan"?"text-cyan-400":t==="red"?"text-red-400":"text-[#f57f17]"}function OQ(t){return t==="green"?"border-emerald-500/30 bg-emerald-500/10":t==="cyan"?"border-cyan-500/30 bg-cyan-500/10":t==="red"?"border-red-500/30 bg-red-500/10":"border-[#f57f17]/25 bg-[#f57f17]/10"}function EQ({open:t,onClose:e,onGoToAnalysis:r}){const[n,a]=C.useState(null),i=C.useMemo(()=>[{id:"s1",title:"Fila de follow-up (Prontos  agendar)",reason:"Voc tem leads com alta inteno. Se voc chamar agora, aumenta muito a chance de agendar.",impact:"alto",actionLabel:"Copiar mensagem",messageToCopy:"Oi! Vi que voc ficou com interesse  consigo te ajudar a agendar uma avaliao rpida. Qual melhor horrio hoje ou amanh?",icon:nP,tone:"green"},{id:"s2",title:"Responder objeo de preo com ROI e prova social",reason:"Quando preo aparece, a melhor rota  reduzir risco: mostrar resultado + comparao + garantia.",impact:"alto",actionLabel:"Copiar argumento",messageToCopy:"Entendo total sobre o preo. Pra ficar claro: o objetivo  gerar resultado e se pagar. Posso te mostrar cases e como funciona na prtica  e a voc decide com segurana.",icon:Ss,tone:"orange"},{id:"s3",title:"Qualificao rpida (curioso  pronto)",reason:"Muita gente fica no curioso por falta de clareza. Faa 2 perguntas e j direciona pra oferta certa.",impact:"mdio",actionLabel:"Copiar roteiro",messageToCopy:"Pra eu te orientar certinho: 1) qual seu objetivo principal agora? 2) voc quer algo mais rpido (resultado em curto prazo) ou algo mais definitivo?",icon:Da,tone:"cyan"},{id:"s4",title:"Atalho: mandar udio humano + CTA simples",reason:"Quando o lead est ctico/frustrado, uma mensagem humana reduz resistncia e acelera resposta.",impact:"mdio",actionLabel:"Copiar texto",messageToCopy:"Vou ser bem direto e humano: eu entendi seu caso. Se voc topar, eu te explico o melhor caminho em 2 minutos e te digo se vale a pena pra voc. Pode ser?",icon:sr,tone:"red"}],[]);async function o(u,d){try{await navigator.clipboard.writeText(u),a(d),setTimeout(()=>a(null),1200)}catch{a(null)}}return l.jsxs(SQ,{open:t,onClose:e,title:"Sugestes IA",subtitle:"Aes prontas para aumentar converso (copie e aplique em 1 clique).",maxWidthClass:"max-w-4xl",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-[#f57f17]/25 bg-[#f57f17]/10 flex items-center justify-center",children:l.jsx(Zt,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Sugestes geradas automaticamente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hoje isso  mock. Amanh a IA vai puxar das conversas e do funil."})]})]}),r&&l.jsxs("button",{onClick:()=>{e(),r()},className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(un,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),l.jsx(tP,{className:"w-4 h-4 text-[#f57f17]"})]})]}),l.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.map(u=>l.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-black/50 p-5 hover:bg-black/60 transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[l.jsx("div",{className:["h-11 w-11 rounded-2xl border flex items-center justify-center shrink-0",OQ(u.tone)].join(" "),children:l.jsx(u.icon,{className:["w-5 h-5",kQ(u.tone)].join(" ")})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:u.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.reason})]})]}),l.jsxs("span",{className:["shrink-0 text-[11px] font-semibold rounded-full border px-2.5 py-1",NQ(u.impact)].join(" "),children:["Impacto ",u.impact]})]}),l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Mensagem pronta"}),l.jsx("p",{className:"text-sm text-gray-200 mt-2 leading-relaxed",children:u.messageToCopy}),l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>o(u.messageToCopy,u.id),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[n===u.id?l.jsx(As,{className:"w-4 h-4 text-emerald-400"}):l.jsx(Df,{className:"w-4 h-4 text-[#f57f17]"}),n===u.id?"Copiado":u.actionLabel]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Cole no WhatsApp e mande."})]})]})]},u.id))}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 flex-wrap",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Prximo upgrade: a IA vai gerar sugestes por conversa, estgio do funil e objees detectadas."}),l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Fechar"})]})]})}function AQ(){return"/api".replace(/\/$/,"")}const A4=AQ();async function CQ(){const t=await fetch(`${A4}/agent/status`);if(!t.ok)throw new Error(await t.text());return t.json()}async function PQ(t){const e=await fetch(`${A4}/agent/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(!e.ok)throw new Error(await e.text());return e.json()}function TQ(){const[t,e]=C.useState(null),[r,n]=C.useState(!1);C.useEffect(()=>{CQ().then(e).catch(()=>e({enabled:!1,updated_at:null}))},[]);const a=async()=>{if(t){n(!0);try{const o=await PQ(!t.enabled);e(o)}finally{n(!1)}}},i=!!t?.enabled;return l.jsxs("button",{onClick:a,disabled:r,className:["h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",i?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-red-500/30 bg-red-500/10 text-red-200",r?"opacity-70 cursor-not-allowed":"hover:opacity-90"].join(" "),title:"Liga/desliga o agente globalmente",children:[l.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:i?"#34d399":"#ef4444"}}),"Agente: ",i?"ON":"OFF"]})}function RQ({value:t,onChange:e}){const[r,n]=C.useState([]),[a,i]=C.useState(!1),[o,u]=C.useState(!0);C.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await _L();n(m||[])}catch(m){console.error("Failed to load tenants:",m)}finally{u(!1)}},f=r.find(m=>m.id===t),p=f?f.name:"Todos os Clientes";return o?l.jsxs("div",{className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(_n,{className:"w-4 h-4 animate-pulse"}),l.jsx("span",{children:"Carregando..."})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(m=>!m),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx(_n,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"max-w-[160px] truncate",children:p}),l.jsx(tx,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Selecionar Cliente"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filtrar dados por cliente"})]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[l.jsxs("button",{onClick:()=>{e(null),i(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t?"":"bg-[#f57f17]/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-white/10 flex items-center justify-center",children:l.jsx(_n,{className:"w-4 h-4 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Todos os Clientes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Viso geral"})]})]}),!t&&l.jsx(As,{className:"w-4 h-4 text-[#f57f17]"})]}),r.map(m=>l.jsxs("button",{onClick:()=>{e(m.id),i(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t===m.id?"bg-[#f57f17]/10":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:m.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:m.name}),l.jsx("p",{className:"text-xs text-gray-500",children:m.specialty||m.slug})]})]}),t===m.id&&l.jsx(As,{className:"w-4 h-4 text-[#f57f17]"})]},m.id))]})]})]})]})}function hl(...t){return t.filter(Boolean).join(" ")}function MQ(t){const r=new Date().getTime()-t.getTime(),n=Math.floor(r/6e4),a=Math.floor(n/60),i=Math.floor(a/24);return n<1?"Agora":n<60?`${n}min atrs`:a<24?`${a}h atrs`:`${i}d atrs`}function $Q(){const[t,e]=C.useState("dashboard"),[r,n]=C.useState(null),[a,i]=C.useState([]),[o,u]=C.useState([]),[d,f]=C.useState(null),[p,m]=C.useState(()=>typeof window<"u"&&localStorage.getItem("selectedTenantId")||null),[v,x]=C.useState(null);C.useEffect(()=>{p?localStorage.setItem("selectedTenantId",p):localStorage.removeItem("selectedTenantId")},[p]);const[j,w]=C.useState(!1),[y,O]=C.useState([]),[k,S]=C.useState(!0),[E,_]=C.useState(new Date),[A,T]=C.useState(!1),[P,$]=C.useState(!1),[B,I]=C.useState(!1),[F,L]=C.useState(!1),[G,q]=C.useState([]),[z,ee]=C.useState(null),H=ho(),{isAdmin:W}=xQ(),{profile:J,tenant:M}=If();C.useEffect(()=>{!W&&M?.id&&!p&&m(M.id)},[W,M,p]);const U=H?O4():"default",ne=H?po():null,se=C.useMemo(()=>H?dJ():[],[H]),ie=C.useMemo(()=>{const he=[{id:"dashboard",label:"Dashboard",icon:iL},{id:"conversations",label:"Conversas",icon:sr},{id:"leads",label:"Leads",icon:ln},{id:"funnel",label:"Funil",icon:La},{id:"analysis",label:"Anlise IA",icon:Rl},{id:"reports",label:"Relatrios",icon:_i},{id:"training",label:"Treinamento",icon:Ra},{id:"integrations",label:"Integraes",icon:nx},{id:"agent-studio",label:"Agent Studio",icon:uL},{id:"settings",label:"Configuraes",icon:Nn}];return H&&he.splice(5,0,{id:"demo-generator",label:"Demo Generator",icon:Pd}),he},[H]),me=G.filter(he=>!he.read).length,Re=he=>{q(Ue=>Ue.map(Me=>Me.id===he?{...Me,read:!0}:Me))},ge=()=>{q(he=>he.map(Ue=>({...Ue,read:!0})))};C.useEffect(()=>{if(oe(!0),H)return;const he=setInterval(()=>{_(new Date),oe(!1,p)},3e4);return()=>clearInterval(he)},[]),C.useEffect(()=>{H||oe(!1,p)},[p]);const oe=async(he=!1,Ue)=>{const Me=Ue!==void 0?Ue:p;try{if(he&&S(!0),T(!0),H&&ne){n(ne.stats);const mr=(ne.conversations||[]).map(Y=>({id:Y.id,chat_id:Y.phone,phone:Y.phone,name:Y.name,last_message:Y.last_message,status:Y.status,updated_at:Y.updated_at,created_at:Y.created_at??Y.updated_at,current_emotion:Y.current_emotion,lead_id:Y.lead_id,tags:Y.tags||[]})),lt=(ne.leads||[]).map(Y=>({id:Y.id,name:Y.name,phone:Y.phone,status:Y.status??"new",score:Y.score,tags:Y.tags||[],stage:Y.stage,urgency_level:Y.urgency_level,health_score:Y.health_score,conversion_probability:Y.conversion_probability,created_at:Y.created_at,updated_at:Y.updated_at}));i(mr),u(lt),_(new Date),S(!1),T(!1);return}const[Ye,at,er]=await Promise.all([jL(Me||void 0),SL(50,Me||void 0),NL(50,Me||void 0)]);n(Ye),i(at||[]),u(er||[]),_(new Date)}catch(Ye){console.error("Error loading data:",Ye)}finally{S(!1),T(!1)}},be=async he=>{if(f(he),H&&ne){const Ue=(ne.messages||[]).filter(Me=>Me.conversation_id===he.id).sort((Me,Ye)=>Me.created_at>Ye.created_at?1:-1).map(Me=>({id:Me.id,conversation_id:Me.conversation_id,sender:Me.from,content:Me.text,text:Me.text,created_at:Me.created_at}));O(Ue);return}O([])},ke=(he,Ue)=>{ee({type:he,message:Ue}),setTimeout(()=>ee(null),4e3)},Z=he=>{const Ue=a.find(Me=>Me?.lead_id===he?.id)||a.find(Me=>Me?.phone===he?.phone)||null;e("conversations"),Ue&&(f(Ue),be(Ue))},Se=async(he,Ue)=>{const Me=he.phone?.replace("@c.us","").replace(/\D/g,"");if(!Me){ke("error","Lead sem telefone vlido");return}let Ye=Ue;if(!Ye){const at={pronto:"Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?",empolgado:"E a, tudo certo? Quer que eu te explique os prximos passos?",curioso:"Oi! Ficou alguma dvida? T aqui pra te ajudar!",sensvel_preo:"Oi! Consegui uma condio especial pra voc. Quer saber mais?",ctico:"Oi! Entendo suas dvidas. Posso te mostrar alguns casos de sucesso?",frustrado:"Oi! Vi que teve algumas dificuldades. Como posso te ajudar?"},er=(he.stage||"curioso").toLowerCase();Ye=at[er]||"Oi! Tudo bem? Posso te ajudar com algo?"}try{if(!(await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:Me.startsWith("55")?Me:`55${Me}`,message:Ye})})).ok)throw new Error("Falha ao enviar");const er=new Date().toISOString();u(mr=>mr.map(lt=>{if(lt.id!==he.id)return lt;const Y=Array.from(new Set([...lt.tags||[],"followup_sent"])),$e=Math.min(100,(lt.health_score??50)+6);return{...lt,tags:Y,health_score:$e,updated_at:er,status:lt.status==="new"?"contacted":lt.status}})),i(mr=>mr.map(lt=>lt?.lead_id===he?.id||lt?.phone&&lt.phone===he?.phone?{...lt,last_message:Ye,updated_at:er}:lt)),ke("success",`Follow-up enviado para ${he.name||Me}`)}catch(at){console.error("Erro ao enviar follow-up:",at),ke("error","Erro ao enviar follow-up")}},Ie=async he=>{try{const Ue=await fetch(`/api/leads?id=${he.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"won"})}),Me=new Date().toISOString();u(Ye=>Ye.map(at=>at.id!==he.id?at:{...at,status:"won",updated_at:Me,tags:Array.from(new Set([...at.tags||[],"won"]))})),ke("success",`${he.name||"Lead"} marcado como GANHO!`)}catch(Ue){console.error("Erro ao marcar como ganho:",Ue),ke("error","Erro ao marcar como ganho")}},Ve=ie.find(he=>he.id===t)?.label??"Dashboard",et=t==="dashboard"?"Viso executiva e insights em tempo real":t==="conversations"?"Mensagens e atendimentos em tempo real":t==="leads"?"Pipeline e leads qualificados":t==="funnel"?"War Room: decises + aes + previso":t==="analysis"?"Follow-ups inteligentes, insights e automaes":t==="reports"?"Performance do funil, exportaes e relatrios por perodo":t==="training"?"Configure prompt, base de conhecimento e prova social":t==="integrations"?"Conecte WhatsApp, banco e ferramentas":t==="settings"?"Preferncias e ajustes do sistema":t==="agent-studio"?"Controle total do comportamento do agente":t==="demo-generator"?"Crie demos realistas":"Viso geral do sistema";if(k)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mx-auto mb-5 w-14 h-14",children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-[#f57f17]/15 blur-xl"}),l.jsx("div",{className:"relative w-14 h-14 rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:l.jsx(Sn,{className:"w-7 h-7 text-[#f57f17] animate-spin"})})]}),l.jsx("p",{className:"text-gray-300 font-medium",children:"Carregando DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Central de Comando"})]})});const vt=se.find(he=>he.key===U)?.label||(U?String(U):"Demo");return l.jsxs("div",{className:"min-h-screen text-white bg-black",children:[l.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[l.jsx("div",{className:"absolute -top-32 left-[-140px] h-[520px] w-[520px] rounded-full bg-[#f57f17]/18 blur-3xl"}),l.jsx("div",{className:"absolute top-12 right-[-220px] h-[560px] w-[560px] rounded-full bg-cyan-500/12 blur-3xl"}),l.jsx("div",{className:"absolute bottom-[-260px] left-[18%] h-[620px] w-[620px] rounded-full bg-emerald-500/10 blur-3xl"})]}),l.jsxs("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/45 backdrop-blur-xl",children:[l.jsxs("div",{className:"px-6 py-3 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"leading-tight",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA AI"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Central de Comando"})]}),l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-[#f57f17]/10 text-[#f57f17] border border-[#f57f17]/20",children:"BETA"}),H&&l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-white/5 text-gray-200 border border-white/10",children:"DEMO"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!H&&W&&l.jsx(RQ,{value:p,onChange:m}),H&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>$(he=>!he),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx("span",{className:"hidden sm:inline",children:vt}),l.jsx(tx,{className:"w-4 h-4 text-gray-400"})]}),P&&l.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:se.map(he=>l.jsx("a",{href:`/?demo=${he.key}`,className:"block px-4 py-3 text-sm text-gray-200 hover:bg-white/5",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate",children:he.label}),l.jsx("span",{className:"text-[11px] rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-gray-400",children:he.source==="generated"?"GERADA":"FIXA"})]})},he.key))})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>L(he=>!he),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center relative",title:"Notificaes",children:[l.jsx(Z0,{className:"w-4 h-4 text-gray-300"}),me>0&&l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:me})]}),F&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>L(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notificaes"}),me>0&&l.jsx("button",{onClick:ge,className:"text-xs text-[#f57f17] hover:underline",children:"Marcar todas como lidas"})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto",children:G.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Nenhuma notificao"}):G.map(he=>l.jsx("button",{onClick:()=>Re(he.id),className:hl("w-full px-4 py-3 text-left hover:bg-white/5 border-b border-white/5 last:border-0",!he.read&&"bg-white/5"),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:hl("h-8 w-8 rounded-lg flex items-center justify-center flex-shrink-0",he.type==="urgent"&&"bg-red-500/20 text-red-400",he.type==="lead"&&"bg-emerald-500/20 text-emerald-400",he.type==="system"&&"bg-white/10 text-gray-400"),children:[he.type==="urgent"&&l.jsx(ar,{className:"w-4 h-4"}),he.type==="lead"&&l.jsx(ln,{className:"w-4 h-4"}),he.type==="system"&&l.jsx(Nn,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:he.title}),!he.read&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f57f17] flex-shrink-0"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:he.message}),l.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:MQ(he.time)})]})]})},he.id))}),l.jsx("div",{className:"px-4 py-2 border-t border-white/10",children:l.jsx("button",{onClick:()=>{L(!1),e("settings")},className:"w-full h-9 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400",children:"Configurar notificaes"})})]})]})]}),!H&&l.jsx(TQ,{}),l.jsxs("button",{onClick:()=>oe(!1),disabled:A,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200 disabled:opacity-50",title:"Atualizar",children:[l.jsx(Sn,{className:hl("w-4 h-4 text-[#f57f17]",A&&"animate-spin")}),l.jsx("span",{className:"hidden sm:inline",children:A?"Atualizando...":"Atualizar"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>w(!j),className:"h-10 px-3 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center gap-3 transition-all",children:[l.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:"D"})}),l.jsxs("div",{className:"leading-tight hidden sm:block",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]}),l.jsx(tx,{className:`w-4 h-4 text-gray-400 transition-transform ${j?"rotate-180":""}`})]}),j&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-white/10 bg-black/95 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA Agncia IA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"admin@docaperformance.com.br"})]}),l.jsxs("div",{className:"py-2",children:[l.jsxs("button",{onClick:()=>{e("users"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(ln,{className:"w-4 h-4"}),"Usurios"]}),l.jsxs("button",{onClick:()=>{e("tenants"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(_n,{className:"w-4 h-4"}),"Clientes"]}),l.jsxs("button",{onClick:()=>{e("metrics"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(Rl,{className:"w-4 h-4"}),"Mtricas"]})]}),l.jsx("div",{className:"py-2 border-t border-white/10",children:l.jsxs("button",{onClick:()=>{e("settings"),w(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(Nn,{className:"w-4 h-4"}),"Configuraes"]})})]})]})]})]})]}),l.jsx("div",{className:"px-6 py-2 border-t border-white/5",children:l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ie.map(he=>{const Ue=t===he.id;return l.jsxs("button",{onClick:()=>e(he.id),className:hl("h-9 px-3 rounded-xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",Ue?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[l.jsx(he.icon,{className:"w-4 h-4 text-[#f57f17]"}),he.label]},he.id)})})}),l.jsxs("div",{className:"px-6 pb-4 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-gray-500",children:["DOCA AI ",l.jsx("span",{className:"mx-2 text-gray-700",children:""})," ",l.jsx("span",{className:"text-gray-300 font-semibold",children:Ve})]}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-1",children:Ve}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:et})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-500 mt-1",children:[l.jsxs("div",{children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:H?"DEMO":"Online"})]}),l.jsxs("div",{children:["Atualizado: ",E.toLocaleTimeString("pt-BR")]})]})]})]}),l.jsxs("main",{className:"px-6 py-6",children:[l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:l.jsxs("div",{className:"p-8",children:[t==="dashboard"&&l.jsx(oJ,{demoMode:H,stats:r,conversations:a,leads:o,onOpenSuggestions:()=>I(!0),onOpenInsights:()=>e("analysis"),onActivateAI:()=>e("analysis"),onGoToAnalysis:()=>e("analysis"),onOpenEvents:()=>e("reports")}),t==="conversations"&&l.jsx(xJ,{tenantId:p}),t==="leads"&&l.jsx(kJ,{leads:o,conversations:a,onOpenConversation:Z,onSendFollowUp:Se,onMarkAsWon:Ie}),t==="funnel"&&l.jsx(FJ,{leads:o,conversations:a,onOpenConversation:Z,onSendFollowUp:Se,onMarkAsWon:Ie}),t==="analysis"&&l.jsx(lQ,{tenantId:p,conversations:a,leads:o,onSendFollowUp:Se,onOpenConversation:Z}),t==="reports"&&l.jsx(VJ,{leads:o,conversations:a,onGoToFunnel:()=>e("funnel")}),t==="training"&&l.jsx(QJ,{tenantId:p}),t==="integrations"&&l.jsx(rQ,{}),t==="agent-studio"&&l.jsx(mQ,{tenantId:p}),t==="settings"&&l.jsx(sQ,{}),t==="users"&&l.jsx(gQ,{}),t==="tenants"&&l.jsx(vQ,{selectedTenantId:p,onSelectTenant:he=>{m(he)},onConfigure:he=>{x(he),e("tenant-config")}}),t==="metrics"&&l.jsx(wQ,{}),t==="tenant-config"&&v&&l.jsx(_Q,{tenantId:v,onBack:()=>e("tenants")}),t==="demo-generator"&&l.jsx(dQ,{})]})}),l.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[" ",new Date().getFullYear()," DOCA AI"]}),l.jsxs("span",{className:"text-gray-500",children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:H?"DEMO":"Online"})]})]})]}),l.jsx(EQ,{open:B,onClose:()=>I(!1),onGoToAnalysis:()=>e("analysis")}),z&&l.jsx("div",{className:hl("fixed bottom-6 right-6 z-50 px-5 py-3 rounded-2xl border shadow-xl backdrop-blur-xl transition-all animate-in slide-in-from-bottom-4",z.type==="success"?"bg-emerald-500/20 border-emerald-400/30 text-emerald-200":"bg-red-500/20 border-red-400/30 text-red-200"),children:l.jsx("p",{className:"text-sm font-medium",children:z.message})})]})}function IQ(){const t=Eb(),{signIn:e,signUp:r}=If(),[n,a]=C.useState("login"),[i,o]=C.useState(""),[u,d]=C.useState(""),[f,p]=C.useState(""),[m,v]=C.useState(!1),[x,j]=C.useState(!1),[w,y]=C.useState(null);async function O(k){k.preventDefault(),y(null),j(!0);try{n==="login"?await e(i,u):await r(i,u,f),t("/")}catch(S){y(S.message||"Erro ao autenticar")}finally{j(!1)}}return l.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f57f17]/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#f57f17]/5 rounded-full blur-3xl"})]}),l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA AI",className:"h-16 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Automao Inteligente WhatsApp"})]}),l.jsxs("div",{className:"rounded-[32px] border border-white/10 bg-white/5 backdrop-blur-xl p-8",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:n==="login"?"Entrar":"Criar conta"}),w&&l.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[l.jsx(eL,{className:"w-5 h-5 text-red-400 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-300",children:w})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n==="register"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nome"}),l.jsx("input",{type:"text",value:f,onChange:k=>p(k.target.value),placeholder:"Seu nome",className:"w-full h-12 px-4 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx($l,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{type:"email",value:i,onChange:k=>o(k.target.value),placeholder:"seu@email.com",className:"w-full h-12 pl-12 pr-4 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(sL,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{type:m?"text":"password",value:u,onChange:k=>d(k.target.value),placeholder:"",className:"w-full h-12 pl-12 pr-12 rounded-xl bg-black/30 border border-white/10 text-gray-200 placeholder-gray-600 outline-none focus:border-[#f57f17]/50 transition",required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>v(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:m?l.jsx(qb,{className:"w-5 h-5"}):l.jsx(Lf,{className:"w-5 h-5"})})]})]}),n==="login"&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",className:"text-sm text-[#f57f17] hover:underline",children:"Esqueci minha senha"})}),l.jsx("button",{type:"submit",disabled:x,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:x?l.jsx(wt,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Zt,{className:"w-5 h-5"}),n==="login"?"Entrar":"Criar conta"]})})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:[n==="login"?"No tem conta?":"J tem conta?"," ",l.jsx("button",{onClick:()=>{a(n==="login"?"register":"login"),y(null)},className:"text-[#f57f17] hover:underline",children:n==="login"?"Criar conta":"Fazer login"})]})})]}),l.jsx("p",{className:"text-center text-gray-600 text-xs mt-6",children:" 2025 DOCA AI. Todos os direitos reservados."})]})]})}TM.createRoot(document.getElementById("root")).render(l.jsx(X.StrictMode,{children:l.jsx(eI,{children:l.jsx(VD,{children:l.jsxs(C$,{children:[l.jsx(q0,{path:"/login",element:l.jsx(IQ,{})}),l.jsx(q0,{path:"/*",element:l.jsx(yL,{children:l.jsx($Q,{})})})]})})})}));export{cC as _,Bu as c,Qe as g};
