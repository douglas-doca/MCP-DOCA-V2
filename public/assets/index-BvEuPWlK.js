(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},Uo={},Vp={exports:{}},De={};var Kj;function xM(){if(Kj)return De;Kj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function y($,q,ne){this.props=$,this.context=q,this.refs=j,this.updater=ne||b}y.prototype.isReactComponent={},y.prototype.setState=function($,q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,q,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=y.prototype;function A($,q,ne){this.props=$,this.context=q,this.refs=j,this.updater=ne||b}var N=A.prototype=new k;N.constructor=A,w(N,y.prototype),N.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,O={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function P($,q,ne){var se,ie={},me=null,Me=null;if(q!=null)for(se in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(me=""+q.key),q)_.call(q,se)&&!C.hasOwnProperty(se)&&(ie[se]=q[se]);var ge=arguments.length-2;if(ge===1)ie.children=ne;else if(1<ge){for(var oe=Array(ge),be=0;be<ge;be++)oe[be]=arguments[be+2];ie.children=oe}if($&&$.defaultProps)for(se in ge=$.defaultProps,ge)ie[se]===void 0&&(ie[se]=ge[se]);return{$$typeof:t,type:$,key:me,ref:Me,props:ie,_owner:O.current}}function R($,q){return{$$typeof:t,type:$.type,key:q,ref:$.ref,props:$.props,_owner:$._owner}}function U($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function I($){var q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return q[ne]})}var F=/\/+/g;function L($,q){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):q.toString(36)}function G($,q,ne,se,ie){var me=typeof $;(me==="undefined"||me==="boolean")&&($=null);var Me=!1;if($===null)Me=!0;else switch(me){case"string":case"number":Me=!0;break;case"object":switch($.$$typeof){case t:case e:Me=!0}}if(Me)return Me=$,ie=ie(Me),$=se===""?"."+L(Me,0):se,E(ie)?(ne="",$!=null&&(ne=$.replace(F,"$&/")+"/"),G(ie,q,ne,"",function(be){return be})):ie!=null&&(U(ie)&&(ie=R(ie,ne+(!ie.key||Me&&Me.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+$)),q.push(ie)),1;if(Me=0,se=se===""?".":se+":",E($))for(var ge=0;ge<$.length;ge++){me=$[ge];var oe=se+L(me,ge);Me+=G(me,q,ne,oe,ie)}else if(oe=v($),typeof oe=="function")for($=oe.call($),ge=0;!(me=$.next()).done;)me=me.value,oe=se+L(me,ge++),Me+=G(me,q,ne,oe,ie);else if(me==="object")throw q=String($),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function B($,q,ne){if($==null)return $;var se=[],ie=0;return G($,se,"","",function(me){return q.call(ne,me,ie++)}),se}function z($){if($._status===-1){var q=$._result;q=q(),q.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=q)}if($._status===1)return $._result.default;throw $._result}var ee={current:null},H={transition:null},W={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:O};function J(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:B,forEach:function($,q,ne){B($,function(){q.apply(this,arguments)},ne)},count:function($){var q=0;return B($,function(){q++}),q},toArray:function($){return B($,function(q){return q})||[]},only:function($){if(!U($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=y,De.Fragment=r,De.Profiler=a,De.PureComponent=A,De.StrictMode=n,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,De.act=J,De.cloneElement=function($,q,ne){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var se=w({},$.props),ie=$.key,me=$.ref,Me=$._owner;if(q!=null){if(q.ref!==void 0&&(me=q.ref,Me=O.current),q.key!==void 0&&(ie=""+q.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(oe in q)_.call(q,oe)&&!C.hasOwnProperty(oe)&&(se[oe]=q[oe]===void 0&&ge!==void 0?ge[oe]:q[oe])}var oe=arguments.length-2;if(oe===1)se.children=ne;else if(1<oe){ge=Array(oe);for(var be=0;be<oe;be++)ge[be]=arguments[be+2];se.children=ge}return{$$typeof:t,type:$.type,key:ie,ref:me,props:se,_owner:Me}},De.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},De.createElement=P,De.createFactory=function($){var q=P.bind(null,$);return q.type=$,q},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:u,render:$}},De.isValidElement=U,De.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:z}},De.memo=function($,q){return{$$typeof:h,type:$,compare:q===void 0?null:q}},De.startTransition=function($){var q=H.transition;H.transition={};try{$()}finally{H.transition=q}},De.unstable_act=J,De.useCallback=function($,q){return ee.current.useCallback($,q)},De.useContext=function($){return ee.current.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($){return ee.current.useDeferredValue($)},De.useEffect=function($,q){return ee.current.useEffect($,q)},De.useId=function(){return ee.current.useId()},De.useImperativeHandle=function($,q,ne){return ee.current.useImperativeHandle($,q,ne)},De.useInsertionEffect=function($,q){return ee.current.useInsertionEffect($,q)},De.useLayoutEffect=function($,q){return ee.current.useLayoutEffect($,q)},De.useMemo=function($,q){return ee.current.useMemo($,q)},De.useReducer=function($,q,ne){return ee.current.useReducer($,q,ne)},De.useRef=function($){return ee.current.useRef($)},De.useState=function($){return ee.current.useState($)},De.useSyncExternalStore=function($,q,ne){return ee.current.useSyncExternalStore($,q,ne)},De.useTransition=function(){return ee.current.useTransition()},De.version="18.3.1",De}var Gj;function Qx(){return Gj||(Gj=1,Vp.exports=xM()),Vp.exports}var Xj;function bM(){if(Xj)return Uo;Xj=1;var t=Qx(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var p,m={},v=null,b=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:v,ref:b,props:m,_owner:a.current}}return Uo.Fragment=r,Uo.jsx=c,Uo.jsxs=c,Uo}var Yj;function wM(){return Yj||(Yj=1,Hp.exports=bM()),Hp.exports}var l=wM(),M=Qx();const Y=Qe(M);var Nu={},Kp={exports:{}},dr={},Gp={exports:{}},Xp={};var Jj;function jM(){return Jj||(Jj=1,(function(t){function e(H,W){var J=H.length;H.push(W);e:for(;0<J;){var $=J-1>>>1,q=H[$];if(0<a(q,W))H[$]=W,H[J]=q,J=$;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var W=H[0],J=H.pop();if(J!==W){H[0]=J;e:for(var $=0,q=H.length,ne=q>>>1;$<ne;){var se=2*($+1)-1,ie=H[se],me=se+1,Me=H[me];if(0>a(ie,J))me<q&&0>a(Me,ie)?(H[$]=Me,H[me]=J,$=me):(H[$]=ie,H[se]=J,$=se);else if(me<q&&0>a(Me,J))H[$]=Me,H[me]=J,$=me;else break e}}return W}function a(H,W){var J=H.sortIndex-W.sortIndex;return J!==0?J:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,m=null,v=3,b=!1,w=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else if(W.startTime<=H)n(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(h)}}function E(H){if(j=!1,N(H),!w)if(r(d)!==null)w=!0,z(_);else{var W=r(h);W!==null&&ee(E,W.startTime-H)}}function _(H,W){w=!1,j&&(j=!1,k(P),P=-1),b=!0;var J=v;try{for(N(W),m=r(d);m!==null&&(!(m.expirationTime>W)||H&&!I());){var $=m.callback;if(typeof $=="function"){m.callback=null,v=m.priorityLevel;var q=$(m.expirationTime<=W);W=t.unstable_now(),typeof q=="function"?m.callback=q:m===r(d)&&n(d),N(W)}else n(d);m=r(d)}if(m!==null)var ne=!0;else{var se=r(h);se!==null&&ee(E,se.startTime-W),ne=!1}return ne}finally{m=null,v=J,b=!1}}var O=!1,C=null,P=-1,R=5,U=-1;function I(){return!(t.unstable_now()-U<R)}function F(){if(C!==null){var H=t.unstable_now();U=H;var W=!0;try{W=C(!0,H)}finally{W?L():(O=!1,C=null)}}else O=!1}var L;if(typeof A=="function")L=function(){A(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=F,L=function(){B.postMessage(null)}}else L=function(){y(F,0)};function z(H){C=H,O||(O=!0,L())}function ee(H,W){P=y(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,z(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var J=v;v=W;try{return H()}finally{v=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=v;v=H;try{return W()}finally{v=J}},t.unstable_scheduleCallback=function(H,W,J){var $=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?$+J:$):J=$,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,H={id:p++,callback:W,priorityLevel:H,startTime:J,expirationTime:q,sortIndex:-1},J>$?(H.sortIndex=J,e(h,H),r(d)===null&&H===r(h)&&(j?(k(P),P=-1):j=!0,ee(E,J-$))):(H.sortIndex=q,e(d,H),w||b||(w=!0,z(_))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var W=v;return function(){var J=v;v=W;try{return H.apply(this,arguments)}finally{v=J}}}})(Xp)),Xp}var Qj;function _M(){return Qj||(Qj=1,Gp.exports=jM()),Gp.exports}var Zj;function SM(){if(Zj)return dr;Zj=1;var t=Qx(),e=_M();function r(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,o){c(i,o),c(i+"Capture",o)}function c(i,o){for(a[i]=o,i=0;i<o.length;i++)n.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return d.call(m,i)?!0:d.call(p,i)?!1:h.test(i)?m[i]=!0:(p[i]=!0,!1)}function b(i,o,f,g){if(f!==null&&f.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,o,f,g){if(o===null||typeof o>"u"||b(i,o,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(i,o,f,g,x,S,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=o,this.sanitizeURL=S,this.removeEmptyString=T}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];y[o]=new j(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(k,A);y[o]=new j(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(k,A);y[o]=new j(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(k,A);y[o]=new j(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,o,f,g){var x=y.hasOwnProperty(o)?y[o]:null;(x!==null?x.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,f,x,g)&&(f=null),g||x===null?v(o)&&(f===null?i.removeAttribute(o):i.setAttribute(o,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(o=x.attributeName,g=x.attributeNamespace,f===null?i.removeAttribute(o):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?i.setAttributeNS(g,o,f):i.setAttribute(o,f))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),O=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,$;function q(i){if($===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ne=!1;function se(i,o){if(!i||ne)return"";ne=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(re){var g=re}Reflect.construct(i,[],o)}else{try{o.call()}catch(re){g=re}i.call(o.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),S=g.stack.split(`
`),T=x.length-1,D=S.length-1;1<=T&&0<=D&&x[T]!==S[D];)D--;for(;1<=T&&0<=D;T--,D--)if(x[T]!==S[D]){if(T!==1||D!==1)do if(T--,D--,0>D||x[T]!==S[D]){var V=`
`+x[T].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=T&&0<=D);break}}}finally{ne=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?q(i):""}function ie(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case O:return"Portal";case R:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case U:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case z:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}function Me(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function be(i){var o=oe(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),g=""+i[o];if(!i.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(T){g=""+T,S.call(this,T)}}),Object.defineProperty(i,o,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ke(i){i._valueTracker||(i._valueTracker=be(i))}function Z(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),g="";return i&&(g=oe(i)?i.checked?"true":"false":i.value),i=g,i!==f?(o.setValue(i),!0):!1}function Se(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ie(i,o){var f=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function Ve(i,o){var f=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;f=ge(o.value!=null?o.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function et(i,o){o=o.checked,o!=null&&N(i,"checked",o,!1)}function gt(i,o){et(i,o);var f=ge(o.value),g=o.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ue(i,o.type,f):o.hasOwnProperty("defaultValue")&&Ue(i,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function he(i,o,f){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,f||o===i.value||(i.value=o),i.defaultValue=o}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function Ue(i,o,f){(o!=="number"||Se(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var $e=Array.isArray;function Xe(i,o,f,g){if(i=i.options,o){o={};for(var x=0;x<f.length;x++)o["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=o.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&g&&(i[f].defaultSelected=!0)}else{for(f=""+ge(f),o=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function at(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qt(i,o){var f=o.value;if(f==null){if(f=o.children,o=o.defaultValue,f!=null){if(o!=null)throw Error(r(92));if($e(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),f=o}i._wrapperState={initialValue:ge(f)}}function pr(i,o){var f=ge(o.value),g=ge(o.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),o.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function lt(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function X(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?X(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ct,Ot=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,f,g,x){MSApp.execUnsafeLocalFunction(function(){return i(o,f,g,x)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ct.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ur(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},th=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(i){th.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Zt[o]=Zt[i]})});function mc(i,o,f){return o==null||typeof o=="boolean"||o===""?"":f||typeof o!="number"||o===0||Zt.hasOwnProperty(i)&&Zt[i]?(""+o).trim():o+"px"}function gc(i,o){i=i.style;for(var f in o)if(o.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=mc(f,o[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,x):i[f]=x}}var rh=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nh(i,o){if(o){if(rh[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function ah(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=null;function sh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oh=null,Ni=null,ki=null;function uw(i){if(i=ko(i)){if(typeof oh!="function")throw Error(r(280));var o=i.stateNode;o&&(o=Bc(o),oh(i.stateNode,i.type,o))}}function dw(i){Ni?ki?ki.push(i):ki=[i]:Ni=i}function fw(){if(Ni){var i=Ni,o=ki;if(ki=Ni=null,uw(i),o)for(i=0;i<o.length;i++)uw(o[i])}}function hw(i,o){return i(o)}function pw(){}var lh=!1;function mw(i,o,f){if(lh)return i(o,f);lh=!0;try{return hw(i,o,f)}finally{lh=!1,(Ni!==null||ki!==null)&&(pw(),fw())}}function ao(i,o){var f=i.stateNode;if(f===null)return null;var g=Bc(f);if(g===null)return null;f=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var ch=!1;if(u)try{var io={};Object.defineProperty(io,"passive",{get:function(){ch=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{ch=!1}function NT(i,o,f,g,x,S,T,D,V){var re=Array.prototype.slice.call(arguments,3);try{o.apply(f,re)}catch(ce){this.onError(ce)}}var so=!1,vc=null,yc=!1,uh=null,kT={onError:function(i){so=!0,vc=i}};function OT(i,o,f,g,x,S,T,D,V){so=!1,vc=null,NT.apply(kT,arguments)}function AT(i,o,f,g,x,S,T,D,V){if(OT.apply(this,arguments),so){if(so){var re=vc;so=!1,vc=null}else throw Error(r(198));yc||(yc=!0,uh=re)}}function La(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function gw(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function vw(i){if(La(i)!==i)throw Error(r(188))}function ET(i){var o=i.alternate;if(!o){if(o=La(i),o===null)throw Error(r(188));return o!==i?null:i}for(var f=i,g=o;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return vw(x),i;if(S===g)return vw(x),o;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=S;else{for(var T=!1,D=x.child;D;){if(D===f){T=!0,f=x,g=S;break}if(D===g){T=!0,g=x,f=S;break}D=D.sibling}if(!T){for(D=S.child;D;){if(D===f){T=!0,f=S,g=x;break}if(D===g){T=!0,g=S,f=x;break}D=D.sibling}if(!T)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:o}function yw(i){return i=ET(i),i!==null?xw(i):null}function xw(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xw(i);if(o!==null)return o;i=i.sibling}return null}var bw=e.unstable_scheduleCallback,ww=e.unstable_cancelCallback,PT=e.unstable_shouldYield,CT=e.unstable_requestPaint,wt=e.unstable_now,TT=e.unstable_getCurrentPriorityLevel,dh=e.unstable_ImmediatePriority,jw=e.unstable_UserBlockingPriority,xc=e.unstable_NormalPriority,MT=e.unstable_LowPriority,_w=e.unstable_IdlePriority,bc=null,un=null;function $T(i){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(bc,i,void 0,(i.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:DT,RT=Math.log,IT=Math.LN2;function DT(i){return i>>>=0,i===0?32:31-(RT(i)/IT|0)|0}var wc=64,jc=4194304;function oo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _c(i,o){var f=i.pendingLanes;if(f===0)return 0;var g=0,x=i.suspendedLanes,S=i.pingedLanes,T=f&268435455;if(T!==0){var D=T&~x;D!==0?g=oo(D):(S&=T,S!==0&&(g=oo(S)))}else T=f&~x,T!==0?g=oo(T):S!==0&&(g=oo(S));if(g===0)return 0;if(o!==0&&o!==g&&(o&x)===0&&(x=g&-g,S=o&-o,x>=S||x===16&&(S&4194240)!==0))return o;if((g&4)!==0&&(g|=f&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=g;0<o;)f=31-Fr(o),x=1<<f,g|=i[f],o&=~x;return g}function LT(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BT(i,o){for(var f=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-Fr(S),D=1<<T,V=x[T];V===-1?((D&f)===0||(D&g)!==0)&&(x[T]=LT(D,o)):V<=o&&(i.expiredLanes|=D),S&=~D}}function fh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Sw(){var i=wc;return wc<<=1,(wc&4194240)===0&&(wc=64),i}function hh(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function lo(i,o,f){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Fr(o),i[o]=f}function qT(i,o){var f=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-Fr(f),S=1<<x;o[x]=0,g[x]=-1,i[x]=-1,f&=~S}}function ph(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var g=31-Fr(f),x=1<<g;x&o|i[g]&o&&(i[g]|=o),f&=~x}}var Ye=0;function Nw(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var kw,mh,Ow,Aw,Ew,gh=!1,Sc=[],Zn=null,ea=null,ta=null,co=new Map,uo=new Map,ra=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(i,o){switch(i){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":co.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(o.pointerId)}}function fo(i,o,f,g,x,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},o!==null&&(o=ko(o),o!==null&&mh(o)),i):(i.eventSystemFlags|=g,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function FT(i,o,f,g,x){switch(o){case"focusin":return Zn=fo(Zn,i,o,f,g,x),!0;case"dragenter":return ea=fo(ea,i,o,f,g,x),!0;case"mouseover":return ta=fo(ta,i,o,f,g,x),!0;case"pointerover":var S=x.pointerId;return co.set(S,fo(co.get(S)||null,i,o,f,g,x)),!0;case"gotpointercapture":return S=x.pointerId,uo.set(S,fo(uo.get(S)||null,i,o,f,g,x)),!0}return!1}function Cw(i){var o=Ba(i.target);if(o!==null){var f=La(o);if(f!==null){if(o=f.tag,o===13){if(o=gw(f),o!==null){i.blockedOn=o,Ew(i.priority,function(){Ow(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=yh(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);ih=g,f.target.dispatchEvent(g),ih=null}else return o=ko(f),o!==null&&mh(o),i.blockedOn=f,!1;o.shift()}return!0}function Tw(i,o,f){Nc(i)&&f.delete(o)}function zT(){gh=!1,Zn!==null&&Nc(Zn)&&(Zn=null),ea!==null&&Nc(ea)&&(ea=null),ta!==null&&Nc(ta)&&(ta=null),co.forEach(Tw),uo.forEach(Tw)}function ho(i,o){i.blockedOn===o&&(i.blockedOn=null,gh||(gh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zT)))}function po(i){function o(x){return ho(x,i)}if(0<Sc.length){ho(Sc[0],i);for(var f=1;f<Sc.length;f++){var g=Sc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Zn!==null&&ho(Zn,i),ea!==null&&ho(ea,i),ta!==null&&ho(ta,i),co.forEach(o),uo.forEach(o),f=0;f<ra.length;f++)g=ra[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<ra.length&&(f=ra[0],f.blockedOn===null);)Cw(f),f.blockedOn===null&&ra.shift()}var Oi=E.ReactCurrentBatchConfig,kc=!0;function WT(i,o,f,g){var x=Ye,S=Oi.transition;Oi.transition=null;try{Ye=1,vh(i,o,f,g)}finally{Ye=x,Oi.transition=S}}function HT(i,o,f,g){var x=Ye,S=Oi.transition;Oi.transition=null;try{Ye=4,vh(i,o,f,g)}finally{Ye=x,Oi.transition=S}}function vh(i,o,f,g){if(kc){var x=yh(i,o,f,g);if(x===null)Rh(i,o,g,Oc,f),Pw(i,g);else if(FT(x,i,o,f,g))g.stopPropagation();else if(Pw(i,g),o&4&&-1<UT.indexOf(i)){for(;x!==null;){var S=ko(x);if(S!==null&&kw(S),S=yh(i,o,f,g),S===null&&Rh(i,o,g,Oc,f),S===x)break;x=S}x!==null&&g.stopPropagation()}else Rh(i,o,g,null,f)}}var Oc=null;function yh(i,o,f,g){if(Oc=null,i=sh(g),i=Ba(i),i!==null)if(o=La(i),o===null)i=null;else if(f=o.tag,f===13){if(i=gw(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Oc=i,null}function Mw(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TT()){case dh:return 1;case jw:return 4;case xc:case MT:return 16;case _w:return 536870912;default:return 16}default:return 16}}var na=null,xh=null,Ac=null;function $w(){if(Ac)return Ac;var i,o=xh,f=o.length,g,x="value"in na?na.value:na.textContent,S=x.length;for(i=0;i<f&&o[i]===x[i];i++);var T=f-i;for(g=1;g<=T&&o[f-g]===x[S-g];g++);return Ac=x.slice(i,1<g?1-g:void 0)}function Ec(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Pc(){return!0}function Rw(){return!1}function mr(i){function o(f,g,x,S,T){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(f=i[D],this[D]=f?f(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Pc:Rw,this.isPropagationStopped=Rw,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),o}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=mr(Ai),mo=J({},Ai,{view:0,detail:0}),VT=mr(mo),wh,jh,go,Cc=J({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==go&&(go&&i.type==="mousemove"?(wh=i.screenX-go.screenX,jh=i.screenY-go.screenY):jh=wh=0,go=i),wh)},movementY:function(i){return"movementY"in i?i.movementY:jh}}),Iw=mr(Cc),KT=J({},Cc,{dataTransfer:0}),GT=mr(KT),XT=J({},mo,{relatedTarget:0}),_h=mr(XT),YT=J({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=mr(YT),QT=J({},Ai,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ZT=mr(QT),e4=J({},Ai,{data:0}),Dw=mr(e4),t4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a4(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=n4[i])?!!o[i]:!1}function Sh(){return a4}var i4=J({},mo,{key:function(i){if(i.key){var o=t4[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ec(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?r4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(i){return i.type==="keypress"?Ec(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ec(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),s4=mr(i4),o4=J({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=mr(o4),l4=J({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),c4=mr(l4),u4=J({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),d4=mr(u4),f4=J({},Cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),h4=mr(f4),p4=[9,13,27,32],Nh=u&&"CompositionEvent"in window,vo=null;u&&"documentMode"in document&&(vo=document.documentMode);var m4=u&&"TextEvent"in window&&!vo,Bw=u&&(!Nh||vo&&8<vo&&11>=vo),qw=" ",Uw=!1;function Fw(i,o){switch(i){case"keyup":return p4.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ei=!1;function g4(i,o){switch(i){case"compositionend":return zw(o);case"keypress":return o.which!==32?null:(Uw=!0,qw);case"textInput":return i=o.data,i===qw&&Uw?null:i;default:return null}}function v4(i,o){if(Ei)return i==="compositionend"||!Nh&&Fw(i,o)?(i=$w(),Ac=xh=na=null,Ei=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bw&&o.locale!=="ko"?null:o.data;default:return null}}var y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ww(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!y4[i.type]:o==="textarea"}function Hw(i,o,f,g){dw(g),o=Ic(o,"onChange"),0<o.length&&(f=new bh("onChange","change",null,f,g),i.push({event:f,listeners:o}))}var yo=null,xo=null;function x4(i){c1(i,0)}function Tc(i){var o=$i(i);if(Z(o))return i}function b4(i,o){if(i==="change")return o}var Vw=!1;if(u){var kh;if(u){var Oh="oninput"in document;if(!Oh){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),Oh=typeof Kw.oninput=="function"}kh=Oh}else kh=!1;Vw=kh&&(!document.documentMode||9<document.documentMode)}function Gw(){yo&&(yo.detachEvent("onpropertychange",Xw),xo=yo=null)}function Xw(i){if(i.propertyName==="value"&&Tc(xo)){var o=[];Hw(o,xo,i,sh(i)),mw(x4,o)}}function w4(i,o,f){i==="focusin"?(Gw(),yo=o,xo=f,yo.attachEvent("onpropertychange",Xw)):i==="focusout"&&Gw()}function j4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(xo)}function _4(i,o){if(i==="click")return Tc(o)}function S4(i,o){if(i==="input"||i==="change")return Tc(o)}function N4(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var zr=typeof Object.is=="function"?Object.is:N4;function bo(i,o){if(zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),g=Object.keys(o);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(o,x)||!zr(i[x],o[x]))return!1}return!0}function Yw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jw(i,o){var f=Yw(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=o&&g>=o)return{node:f,offset:o-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Yw(f)}}function Qw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Qw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Zw(){for(var i=window,o=Se();o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=Se(i.document)}return o}function Ah(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function k4(i){var o=Zw(),f=i.focusedElem,g=i.selectionRange;if(o!==f&&f&&f.ownerDocument&&Qw(f.ownerDocument.documentElement,f)){if(g!==null&&Ah(f)){if(o=g.start,i=g.end,i===void 0&&(i=o),"selectionStart"in f)f.selectionStart=o,f.selectionEnd=Math.min(i,f.value.length);else if(i=(o=f.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!i.extend&&S>g&&(x=g,g=S,S=x),x=Jw(f,S);var T=Jw(f,g);x&&T&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),S>g?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=f;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<o.length;f++)i=o[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var O4=u&&"documentMode"in document&&11>=document.documentMode,Pi=null,Eh=null,wo=null,Ph=!1;function e1(i,o,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ph||Pi==null||Pi!==Se(g)||(g=Pi,"selectionStart"in g&&Ah(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wo&&bo(wo,g)||(wo=g,g=Ic(Eh,"onSelect"),0<g.length&&(o=new bh("onSelect","select",null,o,f),i.push({event:o,listeners:g}),o.target=Pi)))}function Mc(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var Ci={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Ch={},t1={};u&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function $c(i){if(Ch[i])return Ch[i];if(!Ci[i])return i;var o=Ci[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in t1)return Ch[i]=o[f];return i}var r1=$c("animationend"),n1=$c("animationiteration"),a1=$c("animationstart"),i1=$c("transitionend"),s1=new Map,o1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(i,o){s1.set(i,o),s(o,[i])}for(var Th=0;Th<o1.length;Th++){var Mh=o1[Th],A4=Mh.toLowerCase(),E4=Mh[0].toUpperCase()+Mh.slice(1);aa(A4,"on"+E4)}aa(r1,"onAnimationEnd"),aa(n1,"onAnimationIteration"),aa(a1,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(i1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P4=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function l1(i,o,f){var g=i.type||"unknown-event";i.currentTarget=f,AT(g,o,void 0,i),i.currentTarget=null}function c1(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],x=g.event;g=g.listeners;e:{var S=void 0;if(o)for(var T=g.length-1;0<=T;T--){var D=g[T],V=D.instance,re=D.currentTarget;if(D=D.listener,V!==S&&x.isPropagationStopped())break e;l1(x,D,re),S=V}else for(T=0;T<g.length;T++){if(D=g[T],V=D.instance,re=D.currentTarget,D=D.listener,V!==S&&x.isPropagationStopped())break e;l1(x,D,re),S=V}}}if(yc)throw i=uh,yc=!1,uh=null,i}function it(i,o){var f=o[Uh];f===void 0&&(f=o[Uh]=new Set);var g=i+"__bubble";f.has(g)||(u1(o,i,2,!1),f.add(g))}function $h(i,o,f){var g=0;o&&(g|=4),u1(f,i,g,o)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function _o(i){if(!i[Rc]){i[Rc]=!0,n.forEach(function(f){f!=="selectionchange"&&(P4.has(f)||$h(f,!1,i),$h(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Rc]||(o[Rc]=!0,$h("selectionchange",!1,o))}}function u1(i,o,f,g){switch(Mw(o)){case 1:var x=WT;break;case 4:x=HT;break;default:x=vh}f=x.bind(null,o,f,i),x=void 0,!ch||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(o,f,{capture:!0,passive:x}):i.addEventListener(o,f,!0):x!==void 0?i.addEventListener(o,f,{passive:x}):i.addEventListener(o,f,!1)}function Rh(i,o,f,g,x){var S=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var D=g.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(T===4)for(T=g.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===x||V.nodeType===8&&V.parentNode===x))return;T=T.return}for(;D!==null;){if(T=Ba(D),T===null)return;if(V=T.tag,V===5||V===6){g=S=T;continue e}D=D.parentNode}}g=g.return}mw(function(){var re=S,ce=sh(f),ue=[];e:{var le=s1.get(i);if(le!==void 0){var ve=bh,we=i;switch(i){case"keypress":if(Ec(f)===0)break e;case"keydown":case"keyup":ve=s4;break;case"focusin":we="focus",ve=_h;break;case"focusout":we="blur",ve=_h;break;case"beforeblur":case"afterblur":ve=_h;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=c4;break;case r1:case n1:case a1:ve=JT;break;case i1:ve=d4;break;case"scroll":ve=VT;break;case"wheel":ve=h4;break;case"copy":case"cut":case"paste":ve=ZT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Lw}var je=(o&4)!==0,jt=!je&&i==="scroll",Q=je?le!==null?le+"Capture":null:le;je=[];for(var K=re,te;K!==null;){te=K;var fe=te.stateNode;if(te.tag===5&&fe!==null&&(te=fe,Q!==null&&(fe=ao(K,Q),fe!=null&&je.push(So(K,fe,te)))),jt)break;K=K.return}0<je.length&&(le=new ve(le,we,null,f,ce),ue.push({event:le,listeners:je}))}}if((o&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",le&&f!==ih&&(we=f.relatedTarget||f.fromElement)&&(Ba(we)||we[On]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(we=f.relatedTarget||f.toElement,ve=re,we=we?Ba(we):null,we!==null&&(jt=La(we),we!==jt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=re),ve!==we)){if(je=Iw,fe="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(je=Lw,fe="onPointerLeave",Q="onPointerEnter",K="pointer"),jt=ve==null?le:$i(ve),te=we==null?le:$i(we),le=new je(fe,K+"leave",ve,f,ce),le.target=jt,le.relatedTarget=te,fe=null,Ba(ce)===re&&(je=new je(Q,K+"enter",we,f,ce),je.target=te,je.relatedTarget=jt,fe=je),jt=fe,ve&&we)t:{for(je=ve,Q=we,K=0,te=je;te;te=Ti(te))K++;for(te=0,fe=Q;fe;fe=Ti(fe))te++;for(;0<K-te;)je=Ti(je),K--;for(;0<te-K;)Q=Ti(Q),te--;for(;K--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=Ti(je),Q=Ti(Q)}je=null}else je=null;ve!==null&&d1(ue,le,ve,je,!1),we!==null&&jt!==null&&d1(ue,jt,we,je,!0)}}e:{if(le=re?$i(re):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var _e=b4;else if(Ww(le))if(Vw)_e=S4;else{_e=j4;var Oe=w4}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(_e=_4);if(_e&&(_e=_e(i,re))){Hw(ue,_e,f,ce);break e}Oe&&Oe(i,le,re),i==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Ue(le,"number",le.value)}switch(Oe=re?$i(re):window,i){case"focusin":(Ww(Oe)||Oe.contentEditable==="true")&&(Pi=Oe,Eh=re,wo=null);break;case"focusout":wo=Eh=Pi=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,e1(ue,f,ce);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":e1(ue,f,ce)}var Ae;if(Nh)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ei?Fw(i,f)&&(Te="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Te="onCompositionStart");Te&&(Bw&&f.locale!=="ko"&&(Ei||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ei&&(Ae=$w()):(na=ce,xh="value"in na?na.value:na.textContent,Ei=!0)),Oe=Ic(re,Te),0<Oe.length&&(Te=new Dw(Te,i,null,f,ce),ue.push({event:Te,listeners:Oe}),Ae?Te.data=Ae:(Ae=zw(f),Ae!==null&&(Te.data=Ae)))),(Ae=m4?g4(i,f):v4(i,f))&&(re=Ic(re,"onBeforeInput"),0<re.length&&(ce=new Dw("onBeforeInput","beforeinput",null,f,ce),ue.push({event:ce,listeners:re}),ce.data=Ae))}c1(ue,o)})}function So(i,o,f){return{instance:i,listener:o,currentTarget:f}}function Ic(i,o){for(var f=o+"Capture",g=[];i!==null;){var x=i,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=ao(i,f),S!=null&&g.unshift(So(i,S,x)),S=ao(i,o),S!=null&&g.push(So(i,S,x))),i=i.return}return g}function Ti(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function d1(i,o,f,g,x){for(var S=o._reactName,T=[];f!==null&&f!==g;){var D=f,V=D.alternate,re=D.stateNode;if(V!==null&&V===g)break;D.tag===5&&re!==null&&(D=re,x?(V=ao(f,S),V!=null&&T.unshift(So(f,V,D))):x||(V=ao(f,S),V!=null&&T.push(So(f,V,D)))),f=f.return}T.length!==0&&i.push({event:o,listeners:T})}var C4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function f1(i){return(typeof i=="string"?i:""+i).replace(C4,`
`).replace(T4,"")}function Dc(i,o,f){if(o=f1(o),f1(i)!==o&&f)throw Error(r(425))}function Lc(){}var Ih=null,Dh=null;function Lh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,M4=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,$4=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(i){return h1.resolve(null).then(i).catch(R4)}:Bh;function R4(i){setTimeout(function(){throw i})}function qh(i,o){var f=o,g=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){i.removeChild(x),po(o);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);po(o)}function ia(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function p1(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return i;o--}else f==="/$"&&o++}i=i.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),dn="__reactFiber$"+Mi,No="__reactProps$"+Mi,On="__reactContainer$"+Mi,Uh="__reactEvents$"+Mi,I4="__reactListeners$"+Mi,D4="__reactHandles$"+Mi;function Ba(i){var o=i[dn];if(o)return o;for(var f=i.parentNode;f;){if(o=f[On]||f[dn]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=p1(i);i!==null;){if(f=i[dn])return f;i=p1(i)}return o}i=f,f=i.parentNode}return null}function ko(i){return i=i[dn]||i[On],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $i(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Bc(i){return i[No]||null}var Fh=[],Ri=-1;function sa(i){return{current:i}}function st(i){0>Ri||(i.current=Fh[Ri],Fh[Ri]=null,Ri--)}function tt(i,o){Ri++,Fh[Ri]=i.current,i.current=o}var oa={},Vt=sa(oa),sr=sa(!1),qa=oa;function Ii(i,o){var f=i.type.contextTypes;if(!f)return oa;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=o[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function or(i){return i=i.childContextTypes,i!=null}function qc(){st(sr),st(Vt)}function m1(i,o,f){if(Vt.current!==oa)throw Error(r(168));tt(Vt,o),tt(sr,f)}function g1(i,o,f){var g=i.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in o))throw Error(r(108,Me(i)||"Unknown",x));return J({},f,g)}function Uc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||oa,qa=Vt.current,tt(Vt,i),tt(sr,sr.current),!0}function v1(i,o,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=g1(i,o,qa),g.__reactInternalMemoizedMergedChildContext=i,st(sr),st(Vt),tt(Vt,i)):st(sr),tt(sr,f)}var An=null,Fc=!1,zh=!1;function y1(i){An===null?An=[i]:An.push(i)}function L4(i){Fc=!0,y1(i)}function la(){if(!zh&&An!==null){zh=!0;var i=0,o=Ye;try{var f=An;for(Ye=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}An=null,Fc=!1}catch(x){throw An!==null&&(An=An.slice(i+1)),bw(dh,la),x}finally{Ye=o,zh=!1}}return null}var Di=[],Li=0,zc=null,Wc=0,Or=[],Ar=0,Ua=null,En=1,Pn="";function Fa(i,o){Di[Li++]=Wc,Di[Li++]=zc,zc=i,Wc=o}function x1(i,o,f){Or[Ar++]=En,Or[Ar++]=Pn,Or[Ar++]=Ua,Ua=i;var g=En;i=Pn;var x=32-Fr(g)-1;g&=~(1<<x),f+=1;var S=32-Fr(o)+x;if(30<S){var T=x-x%5;S=(g&(1<<T)-1).toString(32),g>>=T,x-=T,En=1<<32-Fr(o)+x|f<<x|g,Pn=S+i}else En=1<<S|f<<x|g,Pn=i}function Wh(i){i.return!==null&&(Fa(i,1),x1(i,1,0))}function Hh(i){for(;i===zc;)zc=Di[--Li],Di[Li]=null,Wc=Di[--Li],Di[Li]=null;for(;i===Ua;)Ua=Or[--Ar],Or[Ar]=null,Pn=Or[--Ar],Or[Ar]=null,En=Or[--Ar],Or[Ar]=null}var gr=null,vr=null,ut=!1,Wr=null;function b1(i,o){var f=Tr(5,null,null,0);f.elementType="DELETED",f.stateNode=o,f.return=i,o=i.deletions,o===null?(i.deletions=[f],i.flags|=16):o.push(f)}function w1(i,o){switch(i.tag){case 5:var f=i.type;return o=o.nodeType!==1||f.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gr=i,vr=ia(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gr=i,vr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(f=Ua!==null?{id:En,overflow:Pn}:null,i.memoizedState={dehydrated:o,treeContext:f,retryLane:1073741824},f=Tr(18,null,null,0),f.stateNode=o,f.return=i,i.child=f,gr=i,vr=null,!0):!1;default:return!1}}function Vh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kh(i){if(ut){var o=vr;if(o){var f=o;if(!w1(i,o)){if(Vh(i))throw Error(r(418));o=ia(f.nextSibling);var g=gr;o&&w1(i,o)?b1(g,f):(i.flags=i.flags&-4097|2,ut=!1,gr=i)}}else{if(Vh(i))throw Error(r(418));i.flags=i.flags&-4097|2,ut=!1,gr=i}}}function j1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gr=i}function Hc(i){if(i!==gr)return!1;if(!ut)return j1(i),ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Lh(i.type,i.memoizedProps)),o&&(o=vr)){if(Vh(i))throw _1(),Error(r(418));for(;o;)b1(i,o),o=ia(o.nextSibling)}if(j1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(o===0){vr=ia(i.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++}i=i.nextSibling}vr=null}}else vr=gr?ia(i.stateNode.nextSibling):null;return!0}function _1(){for(var i=vr;i;)i=ia(i.nextSibling)}function Bi(){vr=gr=null,ut=!1}function Gh(i){Wr===null?Wr=[i]:Wr.push(i)}var B4=E.ReactCurrentBatchConfig;function Oo(i,o,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var x=g,S=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(T){var D=x.refs;T===null?delete D[S]:D[S]=T},o._stringRef=S,o)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Vc(i,o){throw i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function S1(i){var o=i._init;return o(i._payload)}function N1(i){function o(Q,K){if(i){var te=Q.deletions;te===null?(Q.deletions=[K],Q.flags|=16):te.push(K)}}function f(Q,K){if(!i)return null;for(;K!==null;)o(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function x(Q,K){return Q=ga(Q,K),Q.index=0,Q.sibling=null,Q}function S(Q,K,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<K?(Q.flags|=2,K):te):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function T(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function D(Q,K,te,fe){return K===null||K.tag!==6?(K=Bp(te,Q.mode,fe),K.return=Q,K):(K=x(K,te),K.return=Q,K)}function V(Q,K,te,fe){var _e=te.type;return _e===C?ce(Q,K,te.props.children,fe,te.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===z&&S1(_e)===K.type)?(fe=x(K,te.props),fe.ref=Oo(Q,K,te),fe.return=Q,fe):(fe=gu(te.type,te.key,te.props,null,Q.mode,fe),fe.ref=Oo(Q,K,te),fe.return=Q,fe)}function re(Q,K,te,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=qp(te,Q.mode,fe),K.return=Q,K):(K=x(K,te.children||[]),K.return=Q,K)}function ce(Q,K,te,fe,_e){return K===null||K.tag!==7?(K=Ya(te,Q.mode,fe,_e),K.return=Q,K):(K=x(K,te),K.return=Q,K)}function ue(Q,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Bp(""+K,Q.mode,te),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return te=gu(K.type,K.key,K.props,null,Q.mode,te),te.ref=Oo(Q,null,K),te.return=Q,te;case O:return K=qp(K,Q.mode,te),K.return=Q,K;case z:var fe=K._init;return ue(Q,fe(K._payload),te)}if($e(K)||W(K))return K=Ya(K,Q.mode,te,null),K.return=Q,K;Vc(Q,K)}return null}function le(Q,K,te,fe){var _e=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return _e!==null?null:D(Q,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===_e?V(Q,K,te,fe):null;case O:return te.key===_e?re(Q,K,te,fe):null;case z:return _e=te._init,le(Q,K,_e(te._payload),fe)}if($e(te)||W(te))return _e!==null?null:ce(Q,K,te,fe,null);Vc(Q,te)}return null}function ve(Q,K,te,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(te)||null,D(K,Q,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return Q=Q.get(fe.key===null?te:fe.key)||null,V(K,Q,fe,_e);case O:return Q=Q.get(fe.key===null?te:fe.key)||null,re(K,Q,fe,_e);case z:var Oe=fe._init;return ve(Q,K,te,Oe(fe._payload),_e)}if($e(fe)||W(fe))return Q=Q.get(te)||null,ce(K,Q,fe,_e,null);Vc(K,fe)}return null}function we(Q,K,te,fe){for(var _e=null,Oe=null,Ae=K,Te=K=0,Dt=null;Ae!==null&&Te<te.length;Te++){Ae.index>Te?(Dt=Ae,Ae=null):Dt=Ae.sibling;var We=le(Q,Ae,te[Te],fe);if(We===null){Ae===null&&(Ae=Dt);break}i&&Ae&&We.alternate===null&&o(Q,Ae),K=S(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We,Ae=Dt}if(Te===te.length)return f(Q,Ae),ut&&Fa(Q,Te),_e;if(Ae===null){for(;Te<te.length;Te++)Ae=ue(Q,te[Te],fe),Ae!==null&&(K=S(Ae,K,Te),Oe===null?_e=Ae:Oe.sibling=Ae,Oe=Ae);return ut&&Fa(Q,Te),_e}for(Ae=g(Q,Ae);Te<te.length;Te++)Dt=ve(Ae,Q,Te,te[Te],fe),Dt!==null&&(i&&Dt.alternate!==null&&Ae.delete(Dt.key===null?Te:Dt.key),K=S(Dt,K,Te),Oe===null?_e=Dt:Oe.sibling=Dt,Oe=Dt);return i&&Ae.forEach(function(va){return o(Q,va)}),ut&&Fa(Q,Te),_e}function je(Q,K,te,fe){var _e=W(te);if(typeof _e!="function")throw Error(r(150));if(te=_e.call(te),te==null)throw Error(r(151));for(var Oe=_e=null,Ae=K,Te=K=0,Dt=null,We=te.next();Ae!==null&&!We.done;Te++,We=te.next()){Ae.index>Te?(Dt=Ae,Ae=null):Dt=Ae.sibling;var va=le(Q,Ae,We.value,fe);if(va===null){Ae===null&&(Ae=Dt);break}i&&Ae&&va.alternate===null&&o(Q,Ae),K=S(va,K,Te),Oe===null?_e=va:Oe.sibling=va,Oe=va,Ae=Dt}if(We.done)return f(Q,Ae),ut&&Fa(Q,Te),_e;if(Ae===null){for(;!We.done;Te++,We=te.next())We=ue(Q,We.value,fe),We!==null&&(K=S(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We);return ut&&Fa(Q,Te),_e}for(Ae=g(Q,Ae);!We.done;Te++,We=te.next())We=ve(Ae,Q,Te,We.value,fe),We!==null&&(i&&We.alternate!==null&&Ae.delete(We.key===null?Te:We.key),K=S(We,K,Te),Oe===null?_e=We:Oe.sibling=We,Oe=We);return i&&Ae.forEach(function(yM){return o(Q,yM)}),ut&&Fa(Q,Te),_e}function jt(Q,K,te,fe){if(typeof te=="object"&&te!==null&&te.type===C&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var _e=te.key,Oe=K;Oe!==null;){if(Oe.key===_e){if(_e=te.type,_e===C){if(Oe.tag===7){f(Q,Oe.sibling),K=x(Oe,te.props.children),K.return=Q,Q=K;break e}}else if(Oe.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===z&&S1(_e)===Oe.type){f(Q,Oe.sibling),K=x(Oe,te.props),K.ref=Oo(Q,Oe,te),K.return=Q,Q=K;break e}f(Q,Oe);break}else o(Q,Oe);Oe=Oe.sibling}te.type===C?(K=Ya(te.props.children,Q.mode,fe,te.key),K.return=Q,Q=K):(fe=gu(te.type,te.key,te.props,null,Q.mode,fe),fe.ref=Oo(Q,K,te),fe.return=Q,Q=fe)}return T(Q);case O:e:{for(Oe=te.key;K!==null;){if(K.key===Oe)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){f(Q,K.sibling),K=x(K,te.children||[]),K.return=Q,Q=K;break e}else{f(Q,K);break}else o(Q,K);K=K.sibling}K=qp(te,Q.mode,fe),K.return=Q,Q=K}return T(Q);case z:return Oe=te._init,jt(Q,K,Oe(te._payload),fe)}if($e(te))return we(Q,K,te,fe);if(W(te))return je(Q,K,te,fe);Vc(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(f(Q,K.sibling),K=x(K,te),K.return=Q,Q=K):(f(Q,K),K=Bp(te,Q.mode,fe),K.return=Q,Q=K),T(Q)):f(Q,K)}return jt}var qi=N1(!0),k1=N1(!1),Kc=sa(null),Gc=null,Ui=null,Xh=null;function Yh(){Xh=Ui=Gc=null}function Jh(i){var o=Kc.current;st(Kc),i._currentValue=o}function Qh(i,o,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),i===f)break;i=i.return}}function Fi(i,o){Gc=i,Xh=Ui=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(lr=!0),i.firstContext=null)}function Er(i){var o=i._currentValue;if(Xh!==i)if(i={context:i,memoizedValue:o,next:null},Ui===null){if(Gc===null)throw Error(r(308));Ui=i,Gc.dependencies={lanes:0,firstContext:i}}else Ui=Ui.next=i;return o}var za=null;function Zh(i){za===null?za=[i]:za.push(i)}function O1(i,o,f,g){var x=o.interleaved;return x===null?(f.next=f,Zh(o)):(f.next=x.next,x.next=f),o.interleaved=f,Cn(i,g)}function Cn(i,o){i.lanes|=o;var f=i.alternate;for(f!==null&&(f.lanes|=o),f=i,i=i.return;i!==null;)i.childLanes|=o,f=i.alternate,f!==null&&(f.childLanes|=o),f=i,i=i.return;return f.tag===3?f.stateNode:null}var ca=!1;function ep(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Tn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ua(i,o,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Fe&2)!==0){var x=g.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),g.pending=o,Cn(i,f)}return x=g.interleaved,x===null?(o.next=o,Zh(g)):(o.next=x.next,x.next=o),g.interleaved=o,Cn(i,f)}function Xc(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194240)!==0)){var g=o.lanes;g&=i.pendingLanes,f|=g,o.lanes=f,ph(i,f)}}function E1(i,o){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var T={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=T:S=S.next=T,f=f.next}while(f!==null);S===null?x=S=o:S=S.next=o}else x=S=o;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}function Yc(i,o,f,g){var x=i.updateQueue;ca=!1;var S=x.firstBaseUpdate,T=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var V=D,re=V.next;V.next=null,T===null?S=re:T.next=re,T=V;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==T&&(D===null?ce.firstBaseUpdate=re:D.next=re,ce.lastBaseUpdate=V))}if(S!==null){var ue=x.baseState;T=0,ce=re=V=null,D=S;do{var le=D.lane,ve=D.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var we=i,je=D;switch(le=o,ve=f,je.tag){case 1:if(we=je.payload,typeof we=="function"){ue=we.call(ve,ue,le);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,le=typeof we=="function"?we.call(ve,ue,le):we,le==null)break e;ue=J({},ue,le);break e;case 2:ca=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,le=x.effects,le===null?x.effects=[D]:le.push(D))}else ve={eventTime:ve,lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(re=ce=ve,V=ue):ce=ce.next=ve,T|=le;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;le=D,D=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ce===null&&(V=ue),x.baseState=V,x.firstBaseUpdate=re,x.lastBaseUpdate=ce,o=x.shared.interleaved,o!==null){x=o;do T|=x.lane,x=x.next;while(x!==o)}else S===null&&(x.shared.lanes=0);Va|=T,i.lanes=T,i.memoizedState=ue}}function P1(i,o,f){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var g=i[o],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Ao={},fn=sa(Ao),Eo=sa(Ao),Po=sa(Ao);function Wa(i){if(i===Ao)throw Error(r(174));return i}function tp(i,o){switch(tt(Po,o),tt(Eo,i),tt(fn,Ao),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Re(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Re(o,i)}st(fn),tt(fn,o)}function zi(){st(fn),st(Eo),st(Po)}function C1(i){Wa(Po.current);var o=Wa(fn.current),f=Re(o,i.type);o!==f&&(tt(Eo,i),tt(fn,f))}function rp(i){Eo.current===i&&(st(fn),st(Eo))}var ft=sa(0);function Jc(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var np=[];function ap(){for(var i=0;i<np.length;i++)np[i]._workInProgressVersionPrimary=null;np.length=0}var Qc=E.ReactCurrentDispatcher,ip=E.ReactCurrentBatchConfig,Ha=0,ht=null,At=null,Rt=null,Zc=!1,Co=!1,To=0,q4=0;function Kt(){throw Error(r(321))}function sp(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!zr(i[f],o[f]))return!1;return!0}function op(i,o,f,g,x,S){if(Ha=S,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qc.current=i===null||i.memoizedState===null?W4:H4,i=f(g,x),Co){S=0;do{if(Co=!1,To=0,25<=S)throw Error(r(301));S+=1,Rt=At=null,o.updateQueue=null,Qc.current=V4,i=f(g,x)}while(Co)}if(Qc.current=ru,o=At!==null&&At.next!==null,Ha=0,Rt=At=ht=null,Zc=!1,o)throw Error(r(300));return i}function lp(){var i=To!==0;return To=0,i}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ht.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Pr(){if(At===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=Rt===null?ht.memoizedState:Rt.next;if(o!==null)Rt=o,At=i;else{if(i===null)throw Error(r(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Rt===null?ht.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Mo(i,o){return typeof o=="function"?o(i):o}function cp(i){var o=Pr(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=At,x=g.baseQueue,S=f.pending;if(S!==null){if(x!==null){var T=x.next;x.next=S.next,S.next=T}g.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,g=g.baseState;var D=T=null,V=null,re=S;do{var ce=re.lane;if((Ha&ce)===ce)V!==null&&(V=V.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var ue={lane:ce,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};V===null?(D=V=ue,T=g):V=V.next=ue,ht.lanes|=ce,Va|=ce}re=re.next}while(re!==null&&re!==S);V===null?T=g:V.next=D,zr(g,o.memoizedState)||(lr=!0),o.memoizedState=g,o.baseState=T,o.baseQueue=V,f.lastRenderedState=g}if(i=f.interleaved,i!==null){x=i;do S=x.lane,ht.lanes|=S,Va|=S,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[o.memoizedState,f.dispatch]}function up(i){var o=Pr(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,x=f.pending,S=o.memoizedState;if(x!==null){f.pending=null;var T=x=x.next;do S=i(S,T.action),T=T.next;while(T!==x);zr(S,o.memoizedState)||(lr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),f.lastRenderedState=S}return[S,g]}function T1(){}function M1(i,o){var f=ht,g=Pr(),x=o(),S=!zr(g.memoizedState,x);if(S&&(g.memoizedState=x,lr=!0),g=g.queue,dp(I1.bind(null,f,g,i),[i]),g.getSnapshot!==o||S||Rt!==null&&Rt.memoizedState.tag&1){if(f.flags|=2048,$o(9,R1.bind(null,f,g,x,o),void 0,null),It===null)throw Error(r(349));(Ha&30)!==0||$1(f,o,x)}return x}function $1(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function R1(i,o,f,g){o.value=f,o.getSnapshot=g,D1(o)&&L1(i)}function I1(i,o,f){return f(function(){D1(o)&&L1(i)})}function D1(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!zr(i,f)}catch{return!0}}function L1(i){var o=Cn(i,1);o!==null&&Gr(o,i,1,-1)}function B1(i){var o=hn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:i},o.queue=i,i=i.dispatch=z4.bind(null,ht,i),[o.memoizedState,i]}function $o(i,o,f,g){return i={tag:i,create:o,destroy:f,deps:g,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(f=o.lastEffect,f===null?o.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,o.lastEffect=i)),i}function q1(){return Pr().memoizedState}function eu(i,o,f,g){var x=hn();ht.flags|=i,x.memoizedState=$o(1|o,f,void 0,g===void 0?null:g)}function tu(i,o,f,g){var x=Pr();g=g===void 0?null:g;var S=void 0;if(At!==null){var T=At.memoizedState;if(S=T.destroy,g!==null&&sp(g,T.deps)){x.memoizedState=$o(o,f,S,g);return}}ht.flags|=i,x.memoizedState=$o(1|o,f,S,g)}function U1(i,o){return eu(8390656,8,i,o)}function dp(i,o){return tu(2048,8,i,o)}function F1(i,o){return tu(4,2,i,o)}function z1(i,o){return tu(4,4,i,o)}function W1(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function H1(i,o,f){return f=f!=null?f.concat([i]):null,tu(4,4,W1.bind(null,o,i),f)}function fp(){}function V1(i,o){var f=Pr();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&sp(o,g[1])?g[0]:(f.memoizedState=[i,o],i)}function K1(i,o){var f=Pr();o=o===void 0?null:o;var g=f.memoizedState;return g!==null&&o!==null&&sp(o,g[1])?g[0]:(i=i(),f.memoizedState=[i,o],i)}function G1(i,o,f){return(Ha&21)===0?(i.baseState&&(i.baseState=!1,lr=!0),i.memoizedState=f):(zr(f,o)||(f=Sw(),ht.lanes|=f,Va|=f,i.baseState=!0),o)}function U4(i,o){var f=Ye;Ye=f!==0&&4>f?f:4,i(!0);var g=ip.transition;ip.transition={};try{i(!1),o()}finally{Ye=f,ip.transition=g}}function X1(){return Pr().memoizedState}function F4(i,o,f){var g=pa(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Y1(i))J1(o,f);else if(f=O1(i,o,f,g),f!==null){var x=tr();Gr(f,i,g,x),Q1(f,o,g)}}function z4(i,o,f){var g=pa(i),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Y1(i))J1(o,x);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var T=o.lastRenderedState,D=S(T,f);if(x.hasEagerState=!0,x.eagerState=D,zr(D,T)){var V=o.interleaved;V===null?(x.next=x,Zh(o)):(x.next=V.next,V.next=x),o.interleaved=x;return}}catch{}f=O1(i,o,x,g),f!==null&&(x=tr(),Gr(f,i,g,x),Q1(f,o,g))}}function Y1(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function J1(i,o){Co=Zc=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function Q1(i,o,f){if((f&4194240)!==0){var g=o.lanes;g&=i.pendingLanes,f|=g,o.lanes=f,ph(i,f)}}var ru={readContext:Er,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},W4={readContext:Er,useCallback:function(i,o){return hn().memoizedState=[i,o===void 0?null:o],i},useContext:Er,useEffect:U1,useImperativeHandle:function(i,o,f){return f=f!=null?f.concat([i]):null,eu(4194308,4,W1.bind(null,o,i),f)},useLayoutEffect:function(i,o){return eu(4194308,4,i,o)},useInsertionEffect:function(i,o){return eu(4,2,i,o)},useMemo:function(i,o){var f=hn();return o=o===void 0?null:o,i=i(),f.memoizedState=[i,o],i},useReducer:function(i,o,f){var g=hn();return o=f!==void 0?f(o):o,g.memoizedState=g.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},g.queue=i,i=i.dispatch=F4.bind(null,ht,i),[g.memoizedState,i]},useRef:function(i){var o=hn();return i={current:i},o.memoizedState=i},useState:B1,useDebugValue:fp,useDeferredValue:function(i){return hn().memoizedState=i},useTransition:function(){var i=B1(!1),o=i[0];return i=U4.bind(null,i[1]),hn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,f){var g=ht,x=hn();if(ut){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),It===null)throw Error(r(349));(Ha&30)!==0||$1(g,o,f)}x.memoizedState=f;var S={value:f,getSnapshot:o};return x.queue=S,U1(I1.bind(null,g,S,i),[i]),g.flags|=2048,$o(9,R1.bind(null,g,S,f,o),void 0,null),f},useId:function(){var i=hn(),o=It.identifierPrefix;if(ut){var f=Pn,g=En;f=(g&~(1<<32-Fr(g)-1)).toString(32)+f,o=":"+o+"R"+f,f=To++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=q4++,o=":"+o+"r"+f.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},H4={readContext:Er,useCallback:V1,useContext:Er,useEffect:dp,useImperativeHandle:H1,useInsertionEffect:F1,useLayoutEffect:z1,useMemo:K1,useReducer:cp,useRef:q1,useState:function(){return cp(Mo)},useDebugValue:fp,useDeferredValue:function(i){var o=Pr();return G1(o,At.memoizedState,i)},useTransition:function(){var i=cp(Mo)[0],o=Pr().memoizedState;return[i,o]},useMutableSource:T1,useSyncExternalStore:M1,useId:X1,unstable_isNewReconciler:!1},V4={readContext:Er,useCallback:V1,useContext:Er,useEffect:dp,useImperativeHandle:H1,useInsertionEffect:F1,useLayoutEffect:z1,useMemo:K1,useReducer:up,useRef:q1,useState:function(){return up(Mo)},useDebugValue:fp,useDeferredValue:function(i){var o=Pr();return At===null?o.memoizedState=i:G1(o,At.memoizedState,i)},useTransition:function(){var i=up(Mo)[0],o=Pr().memoizedState;return[i,o]},useMutableSource:T1,useSyncExternalStore:M1,useId:X1,unstable_isNewReconciler:!1};function Hr(i,o){if(i&&i.defaultProps){o=J({},o),i=i.defaultProps;for(var f in i)o[f]===void 0&&(o[f]=i[f]);return o}return o}function hp(i,o,f,g){o=i.memoizedState,f=f(g,o),f=f==null?o:J({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var nu={isMounted:function(i){return(i=i._reactInternals)?La(i)===i:!1},enqueueSetState:function(i,o,f){i=i._reactInternals;var g=tr(),x=pa(i),S=Tn(g,x);S.payload=o,f!=null&&(S.callback=f),o=ua(i,S,x),o!==null&&(Gr(o,i,x,g),Xc(o,i,x))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var g=tr(),x=pa(i),S=Tn(g,x);S.tag=1,S.payload=o,f!=null&&(S.callback=f),o=ua(i,S,x),o!==null&&(Gr(o,i,x,g),Xc(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=tr(),g=pa(i),x=Tn(f,g);x.tag=2,o!=null&&(x.callback=o),o=ua(i,x,g),o!==null&&(Gr(o,i,g,f),Xc(o,i,g))}};function Z1(i,o,f,g,x,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,T):o.prototype&&o.prototype.isPureReactComponent?!bo(f,g)||!bo(x,S):!0}function ej(i,o,f){var g=!1,x=oa,S=o.contextType;return typeof S=="object"&&S!==null?S=Er(S):(x=or(o)?qa:Vt.current,g=o.contextTypes,S=(g=g!=null)?Ii(i,x):oa),o=new o(f,S),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nu,i.stateNode=o,o._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=S),o}function tj(i,o,f,g){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,g),o.state!==i&&nu.enqueueReplaceState(o,o.state,null)}function pp(i,o,f,g){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},ep(i);var S=o.contextType;typeof S=="object"&&S!==null?x.context=Er(S):(S=or(o)?qa:Vt.current,x.context=Ii(i,S)),x.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(hp(i,o,S,f),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&nu.enqueueReplaceState(x,x.state,null),Yc(i,f,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Wi(i,o){try{var f="",g=o;do f+=ie(g),g=g.return;while(g);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:o,stack:x,digest:null}}function mp(i,o,f){return{value:i,source:null,stack:f??null,digest:o??null}}function gp(i,o){try{console.error(o.value)}catch(f){setTimeout(function(){throw f})}}var K4=typeof WeakMap=="function"?WeakMap:Map;function rj(i,o,f){f=Tn(-1,f),f.tag=3,f.payload={element:null};var g=o.value;return f.callback=function(){uu||(uu=!0,Cp=g),gp(i,o)},f}function nj(i,o,f){f=Tn(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=o.value;f.payload=function(){return g(x)},f.callback=function(){gp(i,o)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){gp(i,o),typeof g!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),f}function aj(i,o,f){var g=i.pingCache;if(g===null){g=i.pingCache=new K4;var x=new Set;g.set(o,x)}else x=g.get(o),x===void 0&&(x=new Set,g.set(o,x));x.has(f)||(x.add(f),i=oM.bind(null,i,o,f),o.then(i,i))}function ij(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function sj(i,o,f,g,x){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(o=Tn(-1,1),o.tag=2,ua(f,o,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var G4=E.ReactCurrentOwner,lr=!1;function er(i,o,f,g){o.child=i===null?k1(o,null,f,g):qi(o,i.child,f,g)}function oj(i,o,f,g,x){f=f.render;var S=o.ref;return Fi(o,x),g=op(i,o,f,g,S,x),f=lp(),i!==null&&!lr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Mn(i,o,x)):(ut&&f&&Wh(o),o.flags|=1,er(i,o,g,x),o.child)}function lj(i,o,f,g,x){if(i===null){var S=f.type;return typeof S=="function"&&!Lp(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(o.tag=15,o.type=S,cj(i,o,S,g,x)):(i=gu(f.type,null,g,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,(i.lanes&x)===0){var T=S.memoizedProps;if(f=f.compare,f=f!==null?f:bo,f(T,g)&&i.ref===o.ref)return Mn(i,o,x)}return o.flags|=1,i=ga(S,g),i.ref=o.ref,i.return=o,o.child=i}function cj(i,o,f,g,x){if(i!==null){var S=i.memoizedProps;if(bo(S,g)&&i.ref===o.ref)if(lr=!1,o.pendingProps=g=S,(i.lanes&x)!==0)(i.flags&131072)!==0&&(lr=!0);else return o.lanes=i.lanes,Mn(i,o,x)}return vp(i,o,f,g,x)}function uj(i,o,f){var g=o.pendingProps,x=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Vi,yr),yr|=f;else{if((f&1073741824)===0)return i=S!==null?S.baseLanes|f:f,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,tt(Vi,yr),yr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,tt(Vi,yr),yr|=g}else S!==null?(g=S.baseLanes|f,o.memoizedState=null):g=f,tt(Vi,yr),yr|=g;return er(i,o,x,f),o.child}function dj(i,o){var f=o.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(o.flags|=512,o.flags|=2097152)}function vp(i,o,f,g,x){var S=or(f)?qa:Vt.current;return S=Ii(o,S),Fi(o,x),f=op(i,o,f,g,S,x),g=lp(),i!==null&&!lr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Mn(i,o,x)):(ut&&g&&Wh(o),o.flags|=1,er(i,o,f,x),o.child)}function fj(i,o,f,g,x){if(or(f)){var S=!0;Uc(o)}else S=!1;if(Fi(o,x),o.stateNode===null)iu(i,o),ej(o,f,g),pp(o,f,g,x),g=!0;else if(i===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var V=T.context,re=f.contextType;typeof re=="object"&&re!==null?re=Er(re):(re=or(f)?qa:Vt.current,re=Ii(o,re));var ce=f.getDerivedStateFromProps,ue=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==g||V!==re)&&tj(o,T,g,re),ca=!1;var le=o.memoizedState;T.state=le,Yc(o,g,T,x),V=o.memoizedState,D!==g||le!==V||sr.current||ca?(typeof ce=="function"&&(hp(o,f,ce,g),V=o.memoizedState),(D=ca||Z1(o,f,D,g,le,V,re))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=V),T.props=g,T.state=V,T.context=re,g=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{T=o.stateNode,A1(i,o),D=o.memoizedProps,re=o.type===o.elementType?D:Hr(o.type,D),T.props=re,ue=o.pendingProps,le=T.context,V=f.contextType,typeof V=="object"&&V!==null?V=Er(V):(V=or(f)?qa:Vt.current,V=Ii(o,V));var ve=f.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==ue||le!==V)&&tj(o,T,g,V),ca=!1,le=o.memoizedState,T.state=le,Yc(o,g,T,x);var we=o.memoizedState;D!==ue||le!==we||sr.current||ca?(typeof ve=="function"&&(hp(o,f,ve,g),we=o.memoizedState),(re=ca||Z1(o,f,re,g,le,we,V)||!1)?(ce||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,we,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,we,V)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=we),T.props=g,T.state=we,T.context=V,g=re):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),g=!1)}return yp(i,o,f,g,S,x)}function yp(i,o,f,g,x,S){dj(i,o);var T=(o.flags&128)!==0;if(!g&&!T)return x&&v1(o,f,!1),Mn(i,o,S);g=o.stateNode,G4.current=o;var D=T&&typeof f.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,i!==null&&T?(o.child=qi(o,i.child,null,S),o.child=qi(o,null,D,S)):er(i,o,D,S),o.memoizedState=g.state,x&&v1(o,f,!0),o.child}function hj(i){var o=i.stateNode;o.pendingContext?m1(i,o.pendingContext,o.pendingContext!==o.context):o.context&&m1(i,o.context,!1),tp(i,o.containerInfo)}function pj(i,o,f,g,x){return Bi(),Gh(x),o.flags|=256,er(i,o,f,g),o.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function mj(i,o,f){var g=o.pendingProps,x=ft.current,S=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(x&2)!==0),D?(S=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),tt(ft,x&1),i===null)return Kh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=g.children,i=g.fallback,S?(g=o.mode,S=o.child,T={mode:"hidden",children:T},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=vu(T,g,0,null),i=Ya(i,g,f,null),S.return=o,i.return=o,S.sibling=i,o.child=S,o.child.memoizedState=bp(f),o.memoizedState=xp,i):wp(o,T));if(x=i.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return X4(i,o,T,g,D,x,f);if(S){S=g.fallback,T=o.mode,x=i.child,D=x.sibling;var V={mode:"hidden",children:g.children};return(T&1)===0&&o.child!==x?(g=o.child,g.childLanes=0,g.pendingProps=V,o.deletions=null):(g=ga(x,V),g.subtreeFlags=x.subtreeFlags&14680064),D!==null?S=ga(D,S):(S=Ya(S,T,f,null),S.flags|=2),S.return=o,g.return=o,g.sibling=S,o.child=g,g=S,S=o.child,T=i.child.memoizedState,T=T===null?bp(f):{baseLanes:T.baseLanes|f,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~f,o.memoizedState=xp,g}return S=i.child,i=S.sibling,g=ga(S,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=f),g.return=o,g.sibling=null,i!==null&&(f=o.deletions,f===null?(o.deletions=[i],o.flags|=16):f.push(i)),o.child=g,o.memoizedState=null,g}function wp(i,o){return o=vu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function au(i,o,f,g){return g!==null&&Gh(g),qi(o,i.child,null,f),i=wp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function X4(i,o,f,g,x,S,T){if(f)return o.flags&256?(o.flags&=-257,g=mp(Error(r(422))),au(i,o,T,g)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(S=g.fallback,x=o.mode,g=vu({mode:"visible",children:g.children},x,0,null),S=Ya(S,x,T,null),S.flags|=2,g.return=o,S.return=o,g.sibling=S,o.child=g,(o.mode&1)!==0&&qi(o,i.child,null,T),o.child.memoizedState=bp(T),o.memoizedState=xp,S);if((o.mode&1)===0)return au(i,o,T,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var D=g.dgst;return g=D,S=Error(r(419)),g=mp(S,g,void 0),au(i,o,T,g)}if(D=(T&i.childLanes)!==0,lr||D){if(g=It,g!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|T))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Cn(i,x),Gr(g,i,x,-1))}return Dp(),g=mp(Error(r(421))),au(i,o,T,g)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=lM.bind(null,i),x._reactRetry=o,null):(i=S.treeContext,vr=ia(x.nextSibling),gr=o,ut=!0,Wr=null,i!==null&&(Or[Ar++]=En,Or[Ar++]=Pn,Or[Ar++]=Ua,En=i.id,Pn=i.overflow,Ua=o),o=wp(o,g.children),o.flags|=4096,o)}function gj(i,o,f){i.lanes|=o;var g=i.alternate;g!==null&&(g.lanes|=o),Qh(i.return,o,f)}function jp(i,o,f,g,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=x)}function vj(i,o,f){var g=o.pendingProps,x=g.revealOrder,S=g.tail;if(er(i,o,g.children,f),g=ft.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gj(i,f,o);else if(i.tag===19)gj(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(tt(ft,g),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(f=o.child,x=null;f!==null;)i=f.alternate,i!==null&&Jc(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=o.child,o.child=null):(x=f.sibling,f.sibling=null),jp(o,!1,x,f,S);break;case"backwards":for(f=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&Jc(i)===null){o.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}jp(o,!0,f,null,S);break;case"together":jp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function iu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Mn(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),Va|=o.lanes,(f&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,f=ga(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=ga(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function Y4(i,o,f){switch(o.tag){case 3:hj(o),Bi();break;case 5:C1(o);break;case 1:or(o.type)&&Uc(o);break;case 4:tp(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,x=o.memoizedProps.value;tt(Kc,g._currentValue),g._currentValue=x;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(tt(ft,ft.current&1),o.flags|=128,null):(f&o.child.childLanes)!==0?mj(i,o,f):(tt(ft,ft.current&1),i=Mn(i,o,f),i!==null?i.sibling:null);tt(ft,ft.current&1);break;case 19:if(g=(f&o.childLanes)!==0,(i.flags&128)!==0){if(g)return vj(i,o,f);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),tt(ft,ft.current),g)break;return null;case 22:case 23:return o.lanes=0,uj(i,o,f)}return Mn(i,o,f)}var yj,_p,xj,bj;yj=function(i,o){for(var f=o.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},_p=function(){},xj=function(i,o,f,g){var x=i.memoizedProps;if(x!==g){i=o.stateNode,Wa(fn.current);var S=null;switch(f){case"input":x=Ie(i,x),g=Ie(i,g),S=[];break;case"select":x=J({},x,{value:void 0}),g=J({},g,{value:void 0}),S=[];break;case"textarea":x=at(i,x),g=at(i,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Lc)}nh(f,g);var T;f=null;for(re in x)if(!g.hasOwnProperty(re)&&x.hasOwnProperty(re)&&x[re]!=null)if(re==="style"){var D=x[re];for(T in D)D.hasOwnProperty(T)&&(f||(f={}),f[T]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?S||(S=[]):(S=S||[]).push(re,null));for(re in g){var V=g[re];if(D=x?.[re],g.hasOwnProperty(re)&&V!==D&&(V!=null||D!=null))if(re==="style")if(D){for(T in D)!D.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(f||(f={}),f[T]="");for(T in V)V.hasOwnProperty(T)&&D[T]!==V[T]&&(f||(f={}),f[T]=V[T])}else f||(S||(S=[]),S.push(re,f)),f=V;else re==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(S=S||[]).push(re,V)):re==="children"?typeof V!="string"&&typeof V!="number"||(S=S||[]).push(re,""+V):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(V!=null&&re==="onScroll"&&it("scroll",i),S||D===V||(S=[])):(S=S||[]).push(re,V))}f&&(S=S||[]).push("style",f);var re=S;(o.updateQueue=re)&&(o.flags|=4)}},bj=function(i,o,f,g){f!==g&&(o.flags|=4)};function Ro(i,o){if(!ut)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(o)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=f,o}function J4(i,o,f){var g=o.pendingProps;switch(Hh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return or(o.type)&&qc(),Gt(o),null;case 3:return g=o.stateNode,zi(),st(sr),st(Vt),ap(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wr!==null&&($p(Wr),Wr=null))),_p(i,o),Gt(o),null;case 5:rp(o);var x=Wa(Po.current);if(f=o.type,i!==null&&o.stateNode!=null)xj(i,o,f,g,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(i=Wa(fn.current),Hc(o)){g=o.stateNode,f=o.type;var S=o.memoizedProps;switch(g[dn]=o,g[No]=S,i=(o.mode&1)!==0,f){case"dialog":it("cancel",g),it("close",g);break;case"iframe":case"object":case"embed":it("load",g);break;case"video":case"audio":for(x=0;x<jo.length;x++)it(jo[x],g);break;case"source":it("error",g);break;case"img":case"image":case"link":it("error",g),it("load",g);break;case"details":it("toggle",g);break;case"input":Ve(g,S),it("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},it("invalid",g);break;case"textarea":Qt(g,S),it("invalid",g)}nh(f,S),x=null;for(var T in S)if(S.hasOwnProperty(T)){var D=S[T];T==="children"?typeof D=="string"?g.textContent!==D&&(S.suppressHydrationWarning!==!0&&Dc(g.textContent,D,i),x=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(S.suppressHydrationWarning!==!0&&Dc(g.textContent,D,i),x=["children",""+D]):a.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&it("scroll",g)}switch(f){case"input":ke(g),he(g,S,!0);break;case"textarea":ke(g),lt(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Lc)}g=x,o.updateQueue=g,g!==null&&(o.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=X(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=T.createElement(f,{is:g.is}):(i=T.createElement(f),f==="select"&&(T=i,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):i=T.createElementNS(i,f),i[dn]=o,i[No]=g,yj(i,o,!1,!1),o.stateNode=i;e:{switch(T=ah(f,g),f){case"dialog":it("cancel",i),it("close",i),x=g;break;case"iframe":case"object":case"embed":it("load",i),x=g;break;case"video":case"audio":for(x=0;x<jo.length;x++)it(jo[x],i);x=g;break;case"source":it("error",i),x=g;break;case"img":case"image":case"link":it("error",i),it("load",i),x=g;break;case"details":it("toggle",i),x=g;break;case"input":Ve(i,g),x=Ie(i,g),it("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=J({},g,{value:void 0}),it("invalid",i);break;case"textarea":Qt(i,g),x=at(i,g),it("invalid",i);break;default:x=g}nh(f,x),D=x;for(S in D)if(D.hasOwnProperty(S)){var V=D[S];S==="style"?gc(i,V):S==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Ot(i,V)):S==="children"?typeof V=="string"?(f!=="textarea"||V!=="")&&Ur(i,V):typeof V=="number"&&Ur(i,""+V):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?V!=null&&S==="onScroll"&&it("scroll",i):V!=null&&N(i,S,V,T))}switch(f){case"input":ke(i),he(i,g,!1);break;case"textarea":ke(i),lt(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ge(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?Xe(i,!!g.multiple,S,!1):g.defaultValue!=null&&Xe(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Lc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)bj(i,o,i.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(f=Wa(Po.current),Wa(fn.current),Hc(o)){if(g=o.stateNode,f=o.memoizedProps,g[dn]=o,(S=g.nodeValue!==f)&&(i=gr,i!==null))switch(i.tag){case 3:Dc(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dc(g.nodeValue,f,(i.mode&1)!==0)}S&&(o.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[dn]=o,o.stateNode=g}return Gt(o),null;case 13:if(st(ft),g=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ut&&vr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)_1(),Bi(),o.flags|=98560,S=!1;else if(S=Hc(o),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[dn]=o}else Bi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),S=!1}else Wr!==null&&($p(Wr),Wr=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=f,o):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ft.current&1)!==0?Et===0&&(Et=3):Dp())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return zi(),_p(i,o),i===null&&_o(o.stateNode.containerInfo),Gt(o),null;case 10:return Jh(o.type._context),Gt(o),null;case 17:return or(o.type)&&qc(),Gt(o),null;case 19:if(st(ft),S=o.memoizedState,S===null)return Gt(o),null;if(g=(o.flags&128)!==0,T=S.rendering,T===null)if(g)Ro(S,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Jc(i),T!==null){for(o.flags|=128,Ro(S,!1),g=T.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=f,f=o.child;f!==null;)S=f,i=g,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return tt(ft,ft.current&1|2),o.child}i=i.sibling}S.tail!==null&&wt()>Ki&&(o.flags|=128,g=!0,Ro(S,!1),o.lanes=4194304)}else{if(!g)if(i=Jc(T),i!==null){if(o.flags|=128,g=!0,f=i.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),Ro(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!ut)return Gt(o),null}else 2*wt()-S.renderingStartTime>Ki&&f!==1073741824&&(o.flags|=128,g=!0,Ro(S,!1),o.lanes=4194304);S.isBackwards?(T.sibling=o.child,o.child=T):(f=S.last,f!==null?f.sibling=T:o.child=T,S.last=T)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=wt(),o.sibling=null,f=ft.current,tt(ft,g?f&1|2:f&1),o):(Gt(o),null);case 22:case 23:return Ip(),g=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(yr&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Q4(i,o){switch(Hh(o),o.tag){case 1:return or(o.type)&&qc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zi(),st(sr),st(Vt),ap(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return rp(o),null;case 13:if(st(ft),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Bi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return st(ft),null;case 4:return zi(),null;case 10:return Jh(o.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var su=!1,Xt=!1,Z4=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Hi(i,o){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){vt(i,o,g)}else f.current=null}function Sp(i,o,f){try{f()}catch(g){vt(i,o,g)}}var wj=!1;function eM(i,o){if(Ih=kc,i=Zw(),Ah(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var T=0,D=-1,V=-1,re=0,ce=0,ue=i,le=null;t:for(;;){for(var ve;ue!==f||x!==0&&ue.nodeType!==3||(D=T+x),ue!==S||g!==0&&ue.nodeType!==3||(V=T+g),ue.nodeType===3&&(T+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===i)break t;if(le===f&&++re===x&&(D=T),le===S&&++ce===g&&(V=T),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}f=D===-1||V===-1?null:{start:D,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(Dh={focusedElem:i,selectionRange:f},kc=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,jt=we.memoizedState,Q=o.stateNode,K=Q.getSnapshotBeforeUpdate(o.elementType===o.type?je:Hr(o.type,je),jt);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=o.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){vt(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return we=wj,wj=!1,we}function Io(i,o,f){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var S=x.destroy;x.destroy=void 0,S!==void 0&&Sp(o,f,S)}x=x.next}while(x!==g)}}function ou(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==o)}}function Np(i){var o=i.ref;if(o!==null){var f=i.stateNode;i.tag,i=f,typeof o=="function"?o(i):o.current=i}}function jj(i){var o=i.alternate;o!==null&&(i.alternate=null,jj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[dn],delete o[No],delete o[Uh],delete o[I4],delete o[D4])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _j(i){return i.tag===5||i.tag===3||i.tag===4}function Sj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_j(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,o,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(i,o):f.insertBefore(i,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(i,f)):(o=f,o.appendChild(i)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Lc));else if(g!==4&&(i=i.child,i!==null))for(kp(i,o,f),i=i.sibling;i!==null;)kp(i,o,f),i=i.sibling}function Op(i,o,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Op(i,o,f),i=i.sibling;i!==null;)Op(i,o,f),i=i.sibling}var qt=null,Vr=!1;function da(i,o,f){for(f=f.child;f!==null;)Nj(i,o,f),f=f.sibling}function Nj(i,o,f){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(bc,f)}catch{}switch(f.tag){case 5:Xt||Hi(f,o);case 6:var g=qt,x=Vr;qt=null,da(i,o,f),qt=g,Vr=x,qt!==null&&(Vr?(i=qt,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):qt.removeChild(f.stateNode));break;case 18:qt!==null&&(Vr?(i=qt,f=f.stateNode,i.nodeType===8?qh(i.parentNode,f):i.nodeType===1&&qh(i,f),po(i)):qh(qt,f.stateNode));break;case 4:g=qt,x=Vr,qt=f.stateNode.containerInfo,Vr=!0,da(i,o,f),qt=g,Vr=x;break;case 0:case 11:case 14:case 15:if(!Xt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&Sp(f,o,T),x=x.next}while(x!==g)}da(i,o,f);break;case 1:if(!Xt&&(Hi(f,o),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(D){vt(f,o,D)}da(i,o,f);break;case 21:da(i,o,f);break;case 22:f.mode&1?(Xt=(g=Xt)||f.memoizedState!==null,da(i,o,f),Xt=g):da(i,o,f);break;default:da(i,o,f)}}function kj(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new Z4),o.forEach(function(g){var x=cM.bind(null,i,g);f.has(g)||(f.add(g),g.then(x,x))})}}function Kr(i,o){var f=o.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var S=i,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:qt=D.stateNode,Vr=!1;break e;case 3:qt=D.stateNode.containerInfo,Vr=!0;break e;case 4:qt=D.stateNode.containerInfo,Vr=!0;break e}D=D.return}if(qt===null)throw Error(r(160));Nj(S,T,x),qt=null,Vr=!1;var V=x.alternate;V!==null&&(V.return=null),x.return=null}catch(re){vt(x,o,re)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Oj(o,i),o=o.sibling}function Oj(i,o){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(o,i),pn(i),g&4){try{Io(3,i,i.return),ou(3,i)}catch(je){vt(i,i.return,je)}try{Io(5,i,i.return)}catch(je){vt(i,i.return,je)}}break;case 1:Kr(o,i),pn(i),g&512&&f!==null&&Hi(f,f.return);break;case 5:if(Kr(o,i),pn(i),g&512&&f!==null&&Hi(f,f.return),i.flags&32){var x=i.stateNode;try{Ur(x,"")}catch(je){vt(i,i.return,je)}}if(g&4&&(x=i.stateNode,x!=null)){var S=i.memoizedProps,T=f!==null?f.memoizedProps:S,D=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{D==="input"&&S.type==="radio"&&S.name!=null&&et(x,S),ah(D,T);var re=ah(D,S);for(T=0;T<V.length;T+=2){var ce=V[T],ue=V[T+1];ce==="style"?gc(x,ue):ce==="dangerouslySetInnerHTML"?Ot(x,ue):ce==="children"?Ur(x,ue):N(x,ce,ue,re)}switch(D){case"input":gt(x,S);break;case"textarea":pr(x,S);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ve=S.value;ve!=null?Xe(x,!!S.multiple,ve,!1):le!==!!S.multiple&&(S.defaultValue!=null?Xe(x,!!S.multiple,S.defaultValue,!0):Xe(x,!!S.multiple,S.multiple?[]:"",!1))}x[No]=S}catch(je){vt(i,i.return,je)}}break;case 6:if(Kr(o,i),pn(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,S=i.memoizedProps;try{x.nodeValue=S}catch(je){vt(i,i.return,je)}}break;case 3:if(Kr(o,i),pn(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{po(o.containerInfo)}catch(je){vt(i,i.return,je)}break;case 4:Kr(o,i),pn(i);break;case 13:Kr(o,i),pn(i),x=i.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Pp=wt())),g&4&&kj(i);break;case 22:if(ce=f!==null&&f.memoizedState!==null,i.mode&1?(Xt=(re=Xt)||ce,Kr(o,i),Xt=re):Kr(o,i),pn(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!ce&&(i.mode&1)!==0)for(ye=i,ce=i.child;ce!==null;){for(ue=ye=ce;ye!==null;){switch(le=ye,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Io(4,le,le.return);break;case 1:Hi(le,le.return);var we=le.stateNode;if(typeof we.componentWillUnmount=="function"){g=le,f=le.return;try{o=g,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(je){vt(g,f,je)}}break;case 5:Hi(le,le.return);break;case 22:if(le.memoizedState!==null){Pj(ue);continue}}ve!==null?(ve.return=le,ye=ve):Pj(ue)}ce=ce.sibling}e:for(ce=null,ue=i;;){if(ue.tag===5){if(ce===null){ce=ue;try{x=ue.stateNode,re?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(D=ue.stateNode,V=ue.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=mc("display",T))}catch(je){vt(i,i.return,je)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=re?"":ue.memoizedProps}catch(je){vt(i,i.return,je)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Kr(o,i),pn(i),g&4&&kj(i);break;case 21:break;default:Kr(o,i),pn(i)}}function pn(i){var o=i.flags;if(o&2){try{e:{for(var f=i.return;f!==null;){if(_j(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Ur(x,""),g.flags&=-33);var S=Sj(i);Op(i,S,x);break;case 3:case 4:var T=g.stateNode.containerInfo,D=Sj(i);kp(i,D,T);break;default:throw Error(r(161))}}catch(V){vt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function tM(i,o,f){ye=i,Aj(i)}function Aj(i,o,f){for(var g=(i.mode&1)!==0;ye!==null;){var x=ye,S=x.child;if(x.tag===22&&g){var T=x.memoizedState!==null||su;if(!T){var D=x.alternate,V=D!==null&&D.memoizedState!==null||Xt;D=su;var re=Xt;if(su=T,(Xt=V)&&!re)for(ye=x;ye!==null;)T=ye,V=T.child,T.tag===22&&T.memoizedState!==null?Cj(x):V!==null?(V.return=T,ye=V):Cj(x);for(;S!==null;)ye=S,Aj(S),S=S.sibling;ye=x,su=D,Xt=re}Ej(i)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,ye=S):Ej(i)}}function Ej(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var f=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||ou(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Xt)if(f===null)g.componentDidMount();else{var x=o.elementType===o.type?f.memoizedProps:Hr(o.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&P1(o,S,g);break;case 3:var T=o.updateQueue;if(T!==null){if(f=null,o.child!==null)switch(o.child.tag){case 5:f=o.child.stateNode;break;case 1:f=o.child.stateNode}P1(o,T,f)}break;case 5:var D=o.stateNode;if(f===null&&o.flags&4){f=D;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&f.focus();break;case"img":V.src&&(f.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var re=o.alternate;if(re!==null){var ce=re.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&po(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xt||o.flags&512&&Np(o)}catch(le){vt(o,o.return,le)}}if(o===i){ye=null;break}if(f=o.sibling,f!==null){f.return=o.return,ye=f;break}ye=o.return}}function Pj(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var f=o.sibling;if(f!==null){f.return=o.return,ye=f;break}ye=o.return}}function Cj(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var f=o.return;try{ou(4,o)}catch(V){vt(o,f,V)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var x=o.return;try{g.componentDidMount()}catch(V){vt(o,x,V)}}var S=o.return;try{Np(o)}catch(V){vt(o,S,V)}break;case 5:var T=o.return;try{Np(o)}catch(V){vt(o,T,V)}}}catch(V){vt(o,o.return,V)}if(o===i){ye=null;break}var D=o.sibling;if(D!==null){D.return=o.return,ye=D;break}ye=o.return}}var rM=Math.ceil,lu=E.ReactCurrentDispatcher,Ap=E.ReactCurrentOwner,Cr=E.ReactCurrentBatchConfig,Fe=0,It=null,_t=null,Ut=0,yr=0,Vi=sa(0),Et=0,Do=null,Va=0,cu=0,Ep=0,Lo=null,cr=null,Pp=0,Ki=1/0,$n=null,uu=!1,Cp=null,fa=null,du=!1,ha=null,fu=0,Bo=0,Tp=null,hu=-1,pu=0;function tr(){return(Fe&6)!==0?wt():hu!==-1?hu:hu=wt()}function pa(i){return(i.mode&1)===0?1:(Fe&2)!==0&&Ut!==0?Ut&-Ut:B4.transition!==null?(pu===0&&(pu=Sw()),pu):(i=Ye,i!==0||(i=window.event,i=i===void 0?16:Mw(i.type)),i)}function Gr(i,o,f,g){if(50<Bo)throw Bo=0,Tp=null,Error(r(185));lo(i,f,g),((Fe&2)===0||i!==It)&&(i===It&&((Fe&2)===0&&(cu|=f),Et===4&&ma(i,Ut)),ur(i,g),f===1&&Fe===0&&(o.mode&1)===0&&(Ki=wt()+500,Fc&&la()))}function ur(i,o){var f=i.callbackNode;BT(i,o);var g=_c(i,i===It?Ut:0);if(g===0)f!==null&&ww(f),i.callbackNode=null,i.callbackPriority=0;else if(o=g&-g,i.callbackPriority!==o){if(f!=null&&ww(f),o===1)i.tag===0?L4(Mj.bind(null,i)):y1(Mj.bind(null,i)),$4(function(){(Fe&6)===0&&la()}),f=null;else{switch(Nw(g)){case 1:f=dh;break;case 4:f=jw;break;case 16:f=xc;break;case 536870912:f=_w;break;default:f=xc}f=Uj(f,Tj.bind(null,i))}i.callbackPriority=o,i.callbackNode=f}}function Tj(i,o){if(hu=-1,pu=0,(Fe&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Gi()&&i.callbackNode!==f)return null;var g=_c(i,i===It?Ut:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||o)o=mu(i,g);else{o=g;var x=Fe;Fe|=2;var S=Rj();(It!==i||Ut!==o)&&($n=null,Ki=wt()+500,Ga(i,o));do try{iM();break}catch(D){$j(i,D)}while(!0);Yh(),lu.current=S,Fe=x,_t!==null?o=0:(It=null,Ut=0,o=Et)}if(o!==0){if(o===2&&(x=fh(i),x!==0&&(g=x,o=Mp(i,x))),o===1)throw f=Do,Ga(i,0),ma(i,g),ur(i,wt()),f;if(o===6)ma(i,g);else{if(x=i.current.alternate,(g&30)===0&&!nM(x)&&(o=mu(i,g),o===2&&(S=fh(i),S!==0&&(g=S,o=Mp(i,S))),o===1))throw f=Do,Ga(i,0),ma(i,g),ur(i,wt()),f;switch(i.finishedWork=x,i.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:Xa(i,cr,$n);break;case 3:if(ma(i,g),(g&130023424)===g&&(o=Pp+500-wt(),10<o)){if(_c(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){tr(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Bh(Xa.bind(null,i,cr,$n),o);break}Xa(i,cr,$n);break;case 4:if(ma(i,g),(g&4194240)===g)break;for(o=i.eventTimes,x=-1;0<g;){var T=31-Fr(g);S=1<<T,T=o[T],T>x&&(x=T),g&=~S}if(g=x,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*rM(g/1960))-g,10<g){i.timeoutHandle=Bh(Xa.bind(null,i,cr,$n),g);break}Xa(i,cr,$n);break;case 5:Xa(i,cr,$n);break;default:throw Error(r(329))}}}return ur(i,wt()),i.callbackNode===f?Tj.bind(null,i):null}function Mp(i,o){var f=Lo;return i.current.memoizedState.isDehydrated&&(Ga(i,o).flags|=256),i=mu(i,o),i!==2&&(o=cr,cr=f,o!==null&&$p(o)),i}function $p(i){cr===null?cr=i:cr.push.apply(cr,i)}function nM(i){for(var o=i;;){if(o.flags&16384){var f=o.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],S=x.getSnapshot;x=x.value;try{if(!zr(S(),x))return!1}catch{return!1}}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ma(i,o){for(o&=~Ep,o&=~cu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var f=31-Fr(o),g=1<<f;i[f]=-1,o&=~g}}function Mj(i){if((Fe&6)!==0)throw Error(r(327));Gi();var o=_c(i,0);if((o&1)===0)return ur(i,wt()),null;var f=mu(i,o);if(i.tag!==0&&f===2){var g=fh(i);g!==0&&(o=g,f=Mp(i,g))}if(f===1)throw f=Do,Ga(i,0),ma(i,o),ur(i,wt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Xa(i,cr,$n),ur(i,wt()),null}function Rp(i,o){var f=Fe;Fe|=1;try{return i(o)}finally{Fe=f,Fe===0&&(Ki=wt()+500,Fc&&la())}}function Ka(i){ha!==null&&ha.tag===0&&(Fe&6)===0&&Gi();var o=Fe;Fe|=1;var f=Cr.transition,g=Ye;try{if(Cr.transition=null,Ye=1,i)return i()}finally{Ye=g,Cr.transition=f,Fe=o,(Fe&6)===0&&la()}}function Ip(){yr=Vi.current,st(Vi)}function Ga(i,o){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,M4(f)),_t!==null)for(f=_t.return;f!==null;){var g=f;switch(Hh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&qc();break;case 3:zi(),st(sr),st(Vt),ap();break;case 5:rp(g);break;case 4:zi();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Jh(g.type._context);break;case 22:case 23:Ip()}f=f.return}if(It=i,_t=i=ga(i.current,null),Ut=yr=o,Et=0,Do=null,Ep=cu=Va=0,cr=Lo=null,za!==null){for(o=0;o<za.length;o++)if(f=za[o],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,S=f.pending;if(S!==null){var T=S.next;S.next=x,g.next=T}f.pending=g}za=null}return i}function $j(i,o){do{var f=_t;try{if(Yh(),Qc.current=ru,Zc){for(var g=ht.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Zc=!1}if(Ha=0,Rt=At=ht=null,Co=!1,To=0,Ap.current=null,f===null||f.return===null){Et=1,Do=o,_t=null;break}e:{var S=i,T=f.return,D=f,V=o;if(o=Ut,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=V,ce=D,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=ij(T);if(ve!==null){ve.flags&=-257,sj(ve,T,D,S,o),ve.mode&1&&aj(S,re,o),o=ve,V=re;var we=o.updateQueue;if(we===null){var je=new Set;je.add(V),o.updateQueue=je}else we.add(V);break e}else{if((o&1)===0){aj(S,re,o),Dp();break e}V=Error(r(426))}}else if(ut&&D.mode&1){var jt=ij(T);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),sj(jt,T,D,S,o),Gh(Wi(V,D));break e}}S=V=Wi(V,D),Et!==4&&(Et=2),Lo===null?Lo=[S]:Lo.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var Q=rj(S,V,o);E1(S,Q);break e;case 1:D=V;var K=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(fa===null||!fa.has(te)))){S.flags|=65536,o&=-o,S.lanes|=o;var fe=nj(S,D,o);E1(S,fe);break e}}S=S.return}while(S!==null)}Dj(f)}catch(_e){o=_e,_t===f&&f!==null&&(_t=f=f.return);continue}break}while(!0)}function Rj(){var i=lu.current;return lu.current=ru,i===null?ru:i}function Dp(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||(Va&268435455)===0&&(cu&268435455)===0||ma(It,Ut)}function mu(i,o){var f=Fe;Fe|=2;var g=Rj();(It!==i||Ut!==o)&&($n=null,Ga(i,o));do try{aM();break}catch(x){$j(i,x)}while(!0);if(Yh(),Fe=f,lu.current=g,_t!==null)throw Error(r(261));return It=null,Ut=0,Et}function aM(){for(;_t!==null;)Ij(_t)}function iM(){for(;_t!==null&&!PT();)Ij(_t)}function Ij(i){var o=qj(i.alternate,i,yr);i.memoizedProps=i.pendingProps,o===null?Dj(i):_t=o,Ap.current=null}function Dj(i){var o=i;do{var f=o.alternate;if(i=o.return,(o.flags&32768)===0){if(f=J4(f,o,yr),f!==null){_t=f;return}}else{if(f=Q4(f,o),f!==null){f.flags&=32767,_t=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);Et===0&&(Et=5)}function Xa(i,o,f){var g=Ye,x=Cr.transition;try{Cr.transition=null,Ye=1,sM(i,o,f,g)}finally{Cr.transition=x,Ye=g}return null}function sM(i,o,f,g){do Gi();while(ha!==null);if((Fe&6)!==0)throw Error(r(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=f.lanes|f.childLanes;if(qT(i,S),i===It&&(_t=It=null,Ut=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||du||(du=!0,Uj(xc,function(){return Gi(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Cr.transition,Cr.transition=null;var T=Ye;Ye=1;var D=Fe;Fe|=4,Ap.current=null,eM(i,f),Oj(f,i),k4(Dh),kc=!!Ih,Dh=Ih=null,i.current=f,tM(f),CT(),Fe=D,Ye=T,Cr.transition=S}else i.current=f;if(du&&(du=!1,ha=i,fu=x),S=i.pendingLanes,S===0&&(fa=null),$T(f.stateNode),ur(i,wt()),o!==null)for(g=i.onRecoverableError,f=0;f<o.length;f++)x=o[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(uu)throw uu=!1,i=Cp,Cp=null,i;return(fu&1)!==0&&i.tag!==0&&Gi(),S=i.pendingLanes,(S&1)!==0?i===Tp?Bo++:(Bo=0,Tp=i):Bo=0,la(),null}function Gi(){if(ha!==null){var i=Nw(fu),o=Cr.transition,f=Ye;try{if(Cr.transition=null,Ye=16>i?16:i,ha===null)var g=!1;else{if(i=ha,ha=null,fu=0,(Fe&6)!==0)throw Error(r(331));var x=Fe;for(Fe|=4,ye=i.current;ye!==null;){var S=ye,T=S.child;if((ye.flags&16)!==0){var D=S.deletions;if(D!==null){for(var V=0;V<D.length;V++){var re=D[V];for(ye=re;ye!==null;){var ce=ye;switch(ce.tag){case 0:case 11:case 15:Io(8,ce,S)}var ue=ce.child;if(ue!==null)ue.return=ce,ye=ue;else for(;ye!==null;){ce=ye;var le=ce.sibling,ve=ce.return;if(jj(ce),ce===re){ye=null;break}if(le!==null){le.return=ve,ye=le;break}ye=ve}}}var we=S.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var jt=je.sibling;je.sibling=null,je=jt}while(je!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,ye=T;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Io(9,S,S.return)}var Q=S.sibling;if(Q!==null){Q.return=S.return,ye=Q;break e}ye=S.return}}var K=i.current;for(ye=K;ye!==null;){T=ye;var te=T.child;if((T.subtreeFlags&2064)!==0&&te!==null)te.return=T,ye=te;else e:for(T=K;ye!==null;){if(D=ye,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:ou(9,D)}}catch(_e){vt(D,D.return,_e)}if(D===T){ye=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,ye=fe;break e}ye=D.return}}if(Fe=x,la(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(bc,i)}catch{}g=!0}return g}finally{Ye=f,Cr.transition=o}}return!1}function Lj(i,o,f){o=Wi(f,o),o=rj(i,o,1),i=ua(i,o,1),o=tr(),i!==null&&(lo(i,1,o),ur(i,o))}function vt(i,o,f){if(i.tag===3)Lj(i,i,f);else for(;o!==null;){if(o.tag===3){Lj(o,i,f);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fa===null||!fa.has(g))){i=Wi(f,i),i=nj(o,i,1),o=ua(o,i,1),i=tr(),o!==null&&(lo(o,1,i),ur(o,i));break}}o=o.return}}function oM(i,o,f){var g=i.pingCache;g!==null&&g.delete(o),o=tr(),i.pingedLanes|=i.suspendedLanes&f,It===i&&(Ut&f)===f&&(Et===4||Et===3&&(Ut&130023424)===Ut&&500>wt()-Pp?Ga(i,0):Ep|=f),ur(i,o)}function Bj(i,o){o===0&&((i.mode&1)===0?o=1:(o=jc,jc<<=1,(jc&130023424)===0&&(jc=4194304)));var f=tr();i=Cn(i,o),i!==null&&(lo(i,o,f),ur(i,f))}function lM(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),Bj(i,f)}function cM(i,o){var f=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),Bj(i,f)}var qj;qj=function(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps||sr.current)lr=!0;else{if((i.lanes&f)===0&&(o.flags&128)===0)return lr=!1,Y4(i,o,f);lr=(i.flags&131072)!==0}else lr=!1,ut&&(o.flags&1048576)!==0&&x1(o,Wc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;iu(i,o),i=o.pendingProps;var x=Ii(o,Vt.current);Fi(o,f),x=op(null,o,g,i,x,f);var S=lp();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,or(g)?(S=!0,Uc(o)):S=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ep(o),x.updater=nu,o.stateNode=x,x._reactInternals=o,pp(o,g,i,f),o=yp(null,o,g,!0,S,f)):(o.tag=0,ut&&S&&Wh(o),er(null,o,x,f),o=o.child),o;case 16:g=o.elementType;e:{switch(iu(i,o),i=o.pendingProps,x=g._init,g=x(g._payload),o.type=g,x=o.tag=dM(g),i=Hr(g,i),x){case 0:o=vp(null,o,g,i,f);break e;case 1:o=fj(null,o,g,i,f);break e;case 11:o=oj(null,o,g,i,f);break e;case 14:o=lj(null,o,g,Hr(g.type,i),f);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Hr(g,x),vp(i,o,g,x,f);case 1:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Hr(g,x),fj(i,o,g,x,f);case 3:e:{if(hj(o),i===null)throw Error(r(387));g=o.pendingProps,S=o.memoizedState,x=S.element,A1(i,o),Yc(o,g,null,f);var T=o.memoizedState;if(g=T.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){x=Wi(Error(r(423)),o),o=pj(i,o,g,f,x);break e}else if(g!==x){x=Wi(Error(r(424)),o),o=pj(i,o,g,f,x);break e}else for(vr=ia(o.stateNode.containerInfo.firstChild),gr=o,ut=!0,Wr=null,f=k1(o,null,g,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Bi(),g===x){o=Mn(i,o,f);break e}er(i,o,g,f)}o=o.child}return o;case 5:return C1(o),i===null&&Kh(o),g=o.type,x=o.pendingProps,S=i!==null?i.memoizedProps:null,T=x.children,Lh(g,x)?T=null:S!==null&&Lh(g,S)&&(o.flags|=32),dj(i,o),er(i,o,T,f),o.child;case 6:return i===null&&Kh(o),null;case 13:return mj(i,o,f);case 4:return tp(o,o.stateNode.containerInfo),g=o.pendingProps,i===null?o.child=qi(o,null,g,f):er(i,o,g,f),o.child;case 11:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Hr(g,x),oj(i,o,g,x,f);case 7:return er(i,o,o.pendingProps,f),o.child;case 8:return er(i,o,o.pendingProps.children,f),o.child;case 12:return er(i,o,o.pendingProps.children,f),o.child;case 10:e:{if(g=o.type._context,x=o.pendingProps,S=o.memoizedProps,T=x.value,tt(Kc,g._currentValue),g._currentValue=T,S!==null)if(zr(S.value,T)){if(S.children===x.children&&!sr.current){o=Mn(i,o,f);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var D=S.dependencies;if(D!==null){T=S.child;for(var V=D.firstContext;V!==null;){if(V.context===g){if(S.tag===1){V=Tn(-1,f&-f),V.tag=2;var re=S.updateQueue;if(re!==null){re=re.shared;var ce=re.pending;ce===null?V.next=V:(V.next=ce.next,ce.next=V),re.pending=V}}S.lanes|=f,V=S.alternate,V!==null&&(V.lanes|=f),Qh(S.return,f,o),D.lanes|=f;break}V=V.next}}else if(S.tag===10)T=S.type===o.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(r(341));T.lanes|=f,D=T.alternate,D!==null&&(D.lanes|=f),Qh(T,f,o),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===o){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}er(i,o,x.children,f),o=o.child}return o;case 9:return x=o.type,g=o.pendingProps.children,Fi(o,f),x=Er(x),g=g(x),o.flags|=1,er(i,o,g,f),o.child;case 14:return g=o.type,x=Hr(g,o.pendingProps),x=Hr(g.type,x),lj(i,o,g,x,f);case 15:return cj(i,o,o.type,o.pendingProps,f);case 17:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Hr(g,x),iu(i,o),o.tag=1,or(g)?(i=!0,Uc(o)):i=!1,Fi(o,f),ej(o,g,x),pp(o,g,x,f),yp(null,o,g,!0,i,f);case 19:return vj(i,o,f);case 22:return uj(i,o,f)}throw Error(r(156,o.tag))};function Uj(i,o){return bw(i,o)}function uM(i,o,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(i,o,f,g){return new uM(i,o,f,g)}function Lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dM(i){if(typeof i=="function")return Lp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===B)return 14}return 2}function ga(i,o){var f=i.alternate;return f===null?(f=Tr(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function gu(i,o,f,g,x,S){var T=2;if(g=i,typeof i=="function")Lp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case C:return Ya(f.children,x,S,o);case P:T=8,x|=8;break;case R:return i=Tr(12,f,o,x|2),i.elementType=R,i.lanes=S,i;case L:return i=Tr(13,f,o,x),i.elementType=L,i.lanes=S,i;case G:return i=Tr(19,f,o,x),i.elementType=G,i.lanes=S,i;case ee:return vu(f,x,S,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:T=10;break e;case I:T=9;break e;case F:T=11;break e;case B:T=14;break e;case z:T=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return o=Tr(T,f,o,x),o.elementType=i,o.type=g,o.lanes=S,o}function Ya(i,o,f,g){return i=Tr(7,i,g,o),i.lanes=f,i}function vu(i,o,f,g){return i=Tr(22,i,g,o),i.elementType=ee,i.lanes=f,i.stateNode={isHidden:!1},i}function Bp(i,o,f){return i=Tr(6,i,null,o),i.lanes=f,i}function qp(i,o,f){return o=Tr(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function fM(i,o,f,g,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Up(i,o,f,g,x,S,T,D,V){return i=new fM(i,o,f,D,V),o===1?(o=1,S===!0&&(o|=8)):o=0,S=Tr(3,null,null,o),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ep(S),i}function hM(i,o,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:i,containerInfo:o,implementation:f}}function Fj(i){if(!i)return oa;i=i._reactInternals;e:{if(La(i)!==i||i.tag!==1)throw Error(r(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(or(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(or(f))return g1(i,f,o)}return o}function zj(i,o,f,g,x,S,T,D,V){return i=Up(f,g,!0,i,x,S,T,D,V),i.context=Fj(null),f=i.current,g=tr(),x=pa(f),S=Tn(g,x),S.callback=o??null,ua(f,S,x),i.current.lanes=x,lo(i,x,g),ur(i,g),i}function yu(i,o,f,g){var x=o.current,S=tr(),T=pa(x);return f=Fj(f),o.context===null?o.context=f:o.pendingContext=f,o=Tn(S,T),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=ua(x,o,T),i!==null&&(Gr(i,x,T,S),Xc(i,x,T)),T}function xu(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function Wj(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function Fp(i,o){Wj(i,o),(i=i.alternate)&&Wj(i,o)}function pM(){return null}var Hj=typeof reportError=="function"?reportError:function(i){console.error(i)};function zp(i){this._internalRoot=i}bu.prototype.render=zp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));yu(i,o,null,null)},bu.prototype.unmount=zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ka(function(){yu(null,i,null,null)}),o[On]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Aw();i={blockedOn:null,target:i,priority:o};for(var f=0;f<ra.length&&o!==0&&o<ra[f].priority;f++);ra.splice(f,0,i),f===0&&Cw(i)}};function Wp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Vj(){}function mM(i,o,f,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var re=xu(T);S.call(re)}}var T=zj(o,g,i,0,null,!1,!1,"",Vj);return i._reactRootContainer=T,i[On]=T.current,_o(i.nodeType===8?i.parentNode:i),Ka(),T}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var D=g;g=function(){var re=xu(V);D.call(re)}}var V=Up(i,0,!1,null,null,!1,!1,"",Vj);return i._reactRootContainer=V,i[On]=V.current,_o(i.nodeType===8?i.parentNode:i),Ka(function(){yu(o,V,f,g)}),V}function ju(i,o,f,g,x){var S=f._reactRootContainer;if(S){var T=S;if(typeof x=="function"){var D=x;x=function(){var V=xu(T);D.call(V)}}yu(o,T,i,x)}else T=mM(f,o,i,x,g);return xu(T)}kw=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var f=oo(o.pendingLanes);f!==0&&(ph(o,f|1),ur(o,wt()),(Fe&6)===0&&(Ki=wt()+500,la()))}break;case 13:Ka(function(){var g=Cn(i,1);if(g!==null){var x=tr();Gr(g,i,1,x)}}),Fp(i,1)}},mh=function(i){if(i.tag===13){var o=Cn(i,134217728);if(o!==null){var f=tr();Gr(o,i,134217728,f)}Fp(i,134217728)}},Ow=function(i){if(i.tag===13){var o=pa(i),f=Cn(i,o);if(f!==null){var g=tr();Gr(f,i,o,g)}Fp(i,o)}},Aw=function(){return Ye},Ew=function(i,o){var f=Ye;try{return Ye=i,o()}finally{Ye=f}},oh=function(i,o,f){switch(o){case"input":if(gt(i,f),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<f.length;o++){var g=f[o];if(g!==i&&g.form===i.form){var x=Bc(g);if(!x)throw Error(r(90));Z(g),gt(g,x)}}}break;case"textarea":pr(i,f);break;case"select":o=f.value,o!=null&&Xe(i,!!f.multiple,o,!1)}},hw=Rp,pw=Ka;var gM={usingClientEntryPoint:!1,Events:[ko,$i,Bc,dw,fw,Rp]},qo={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vM={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yw(i),i===null?null:i.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||pM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{bc=_u.inject(vM),un=_u}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gM,dr.createPortal=function(i,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(o))throw Error(r(200));return hM(i,o,null,f)},dr.createRoot=function(i,o){if(!Wp(i))throw Error(r(299));var f=!1,g="",x=Hj;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Up(i,1,!1,null,null,f,!1,g,x),i[On]=o.current,_o(i.nodeType===8?i.parentNode:i),new zp(o)},dr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=yw(o),i=i===null?null:i.stateNode,i},dr.flushSync=function(i){return Ka(i)},dr.hydrate=function(i,o,f){if(!wu(o))throw Error(r(200));return ju(null,i,o,!0,f)},dr.hydrateRoot=function(i,o,f){if(!Wp(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,S="",T=Hj;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),o=zj(o,null,i,1,f??null,x,!1,S,T),i[On]=o.current,_o(i),g)for(i=0;i<g.length;i++)f=g[i],x=f._getVersion,x=x(f._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[f,x]:o.mutableSourceEagerHydrationData.push(f,x);return new bu(o)},dr.render=function(i,o,f){if(!wu(o))throw Error(r(200));return ju(null,i,o,!1,f)},dr.unmountComponentAtNode=function(i){if(!wu(i))throw Error(r(40));return i._reactRootContainer?(Ka(function(){ju(null,null,i,!1,function(){i._reactRootContainer=null,i[On]=null})}),!0):!1},dr.unstable_batchedUpdates=Rp,dr.unstable_renderSubtreeIntoContainer=function(i,o,f,g){if(!wu(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return ju(i,o,f,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var e_;function EE(){if(e_)return Kp.exports;e_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=SM(),Kp.exports}var t_;function NM(){if(t_)return Nu;t_=1;var t=EE();return Nu.createRoot=t.createRoot,Nu.hydrateRoot=t.hydrateRoot,Nu}var kM=NM();const OM=Qe(kM);const AM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PE=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var EM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PM=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},d)=>M.createElement("svg",{ref:d,...EM,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:PE("lucide",a),...u},[...c.map(([h,p])=>M.createElement(h,p)),...Array.isArray(s)?s:[s]]));const de=(t,e)=>{const r=M.forwardRef(({className:n,...a},s)=>M.createElement(PM,{ref:s,iconNode:e,className:PE(`lucide-${AM(t)}`,n),...a}));return r.displayName=`${t}`,r};const r_=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const CM=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const CE=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const TE=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const ME=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const g0=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Yp=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const v0=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const n_=de("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);const ka=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const TM=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const bn=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const MM=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const $E=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ml=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const $M=de("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const js=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const y0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const x0=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const RM=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Fn=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const RE=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Zx=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Oa=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const hf=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const sd=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Vs=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const eb=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const IE=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const tb=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const pf=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gi=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const nn=de("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const DE=de("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const IM=de("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const DM=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const gl=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const LM=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const BM=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const a_=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const qM=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const mf=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const bt=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const UM=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const od=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const LE=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const FM=de("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const BE=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const ir=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const zM=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const WM=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const i_=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const qE=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const zn=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const s_=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const b0=de("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const ld=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const UE=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const FE=de("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const wn=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const zE=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Ks=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Gn=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ms=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const jn=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gs=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const WE=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const HM=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const VM=de("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const o_=de("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const ar=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Jp=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const KM=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Pa=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const l_=de("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);const cd=de("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const GM=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const XM=de("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const YM=de("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const _s=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ca=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const rr=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const JM=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const w0=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const rd=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const an=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ud=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const QM=de("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const ln=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const on=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ZM(){return"/api".replace(/\/$/,"")}const e$=ZM();async function gf(t,e){const r=`${e$}${t}`,n=await fetch(r,{...e,headers:{"Content-Type":"application/json"}});if(!n.ok){const a=await n.text().catch(()=>"");throw console.error(`[API] ${n.status} ${r}`,a),new Error(`API error ${n.status}: ${a||n.statusText}`)}if(n.status!==204)return n.json()}function t$(t){return t?{conversations_total:t.totalConversations??0,leads_total:t.totalLeads??0,qualified_total:t.qualifiedLeads??0,avg_response_time_seconds:t.avgResponseTimeSeconds??0,emotions_distribution:t.emotionsDistribution??{},activity_last_7_days:t.activityLast7Days??[]}:{}}async function r$(t){let e="/stats";t&&(e+=`?tenant_id=${t}`);const r=await gf(e);return t$(r)}async function n$(){return gf("/tenants")}async function a$(t=50,e){let r=`/conversations?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),gf(r)}async function i$(t=50,e){let r=`/leads?limit=${t}`;return e&&(r+=`&tenant_id=${e}`),gf(r)}function HE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=HE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=HE(t))&&(n&&(n+=" "),n+=e);return n}var Qp,c_;function hr(){if(c_)return Qp;c_=1;var t=Array.isArray;return Qp=t,Qp}var Zp,u_;function VE(){if(u_)return Zp;u_=1;var t=typeof Su=="object"&&Su&&Su.Object===Object&&Su;return Zp=t,Zp}var em,d_;function kn(){if(d_)return em;d_=1;var t=VE(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return em=r,em}var tm,f_;function ic(){if(f_)return tm;f_=1;var t=kn(),e=t.Symbol;return tm=e,tm}var rm,h_;function s$(){if(h_)return rm;h_=1;var t=ic(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var h=!0}catch{}var p=n.call(c);return h&&(u?c[a]=d:delete c[a]),p}return rm=s,rm}var nm,p_;function o$(){if(p_)return nm;p_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return nm=r,nm}var am,m_;function Xn(){if(m_)return am;m_=1;var t=ic(),e=s$(),r=o$(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:s&&s in Object(u)?e(u):r(u)}return am=c,am}var im,g_;function Yn(){if(g_)return im;g_=1;function t(e){return e!=null&&typeof e=="object"}return im=t,im}var sm,v_;function Gs(){if(v_)return sm;v_=1;var t=Xn(),e=Yn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return sm=n,sm}var om,y_;function rb(){if(y_)return om;y_=1;var t=hr(),e=Gs(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return om=a,om}var lm,x_;function Ta(){if(x_)return lm;x_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return lm=t,lm}var cm,b_;function nb(){if(b_)return cm;b_=1;var t=Xn(),e=Ta(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function c(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==s}return cm=c,cm}var um,w_;function l$(){if(w_)return um;w_=1;var t=kn(),e=t["__core-js_shared__"];return um=e,um}var dm,j_;function c$(){if(j_)return dm;j_=1;var t=l$(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return dm=r,dm}var fm,__;function KE(){if(__)return fm;__=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return fm=r,fm}var hm,S_;function u$(){if(S_)return hm;S_=1;var t=nb(),e=c$(),r=Ta(),n=KE(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var b=t(v)?p:s;return b.test(n(v))}return hm=m,hm}var pm,N_;function d$(){if(N_)return pm;N_=1;function t(e,r){return e?.[r]}return pm=t,pm}var mm,k_;function wi(){if(k_)return mm;k_=1;var t=u$(),e=d$();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return mm=r,mm}var gm,O_;function vf(){if(O_)return gm;O_=1;var t=wi(),e=t(Object,"create");return gm=e,gm}var vm,A_;function f$(){if(A_)return vm;A_=1;var t=vf();function e(){this.__data__=t?t(null):{},this.size=0}return vm=e,vm}var ym,E_;function h$(){if(E_)return ym;E_=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ym=t,ym}var xm,P_;function p$(){if(P_)return xm;P_=1;var t=vf(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var c=this.__data__;if(t){var u=c[s];return u===e?void 0:u}return n.call(c,s)?c[s]:void 0}return xm=a,xm}var bm,C_;function m$(){if(C_)return bm;C_=1;var t=vf(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return bm=n,bm}var wm,T_;function g$(){if(T_)return wm;T_=1;var t=vf(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return wm=r,wm}var jm,M_;function v$(){if(M_)return jm;M_=1;var t=f$(),e=h$(),r=p$(),n=m$(),a=g$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,jm=s,jm}var _m,$_;function y$(){if($_)return _m;$_=1;function t(){this.__data__=[],this.size=0}return _m=t,_m}var Sm,R_;function ab(){if(R_)return Sm;R_=1;function t(e,r){return e===r||e!==e&&r!==r}return Sm=t,Sm}var Nm,I_;function yf(){if(I_)return Nm;I_=1;var t=ab();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Nm=e,Nm}var km,D_;function x$(){if(D_)return km;D_=1;var t=yf(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,c=t(s,a);if(c<0)return!1;var u=s.length-1;return c==u?s.pop():r.call(s,c,1),--this.size,!0}return km=n,km}var Om,L_;function b$(){if(L_)return Om;L_=1;var t=yf();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Om=e,Om}var Am,B_;function w$(){if(B_)return Am;B_=1;var t=yf();function e(r){return t(this.__data__,r)>-1}return Am=e,Am}var Em,q_;function j$(){if(q_)return Em;q_=1;var t=yf();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Em=e,Em}var Pm,U_;function xf(){if(U_)return Pm;U_=1;var t=y$(),e=x$(),r=b$(),n=w$(),a=j$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Pm=s,Pm}var Cm,F_;function ib(){if(F_)return Cm;F_=1;var t=wi(),e=kn(),r=t(e,"Map");return Cm=r,Cm}var Tm,z_;function _$(){if(z_)return Tm;z_=1;var t=v$(),e=xf(),r=ib();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Tm=n,Tm}var Mm,W_;function S$(){if(W_)return Mm;W_=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Mm=t,Mm}var $m,H_;function bf(){if(H_)return $m;H_=1;var t=S$();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return $m=e,$m}var Rm,V_;function N$(){if(V_)return Rm;V_=1;var t=bf();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Rm=e,Rm}var Im,K_;function k$(){if(K_)return Im;K_=1;var t=bf();function e(r){return t(this,r).get(r)}return Im=e,Im}var Dm,G_;function O$(){if(G_)return Dm;G_=1;var t=bf();function e(r){return t(this,r).has(r)}return Dm=e,Dm}var Lm,X_;function A$(){if(X_)return Lm;X_=1;var t=bf();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return Lm=e,Lm}var Bm,Y_;function sb(){if(Y_)return Bm;Y_=1;var t=_$(),e=N$(),r=k$(),n=O$(),a=A$();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Bm=s,Bm}var qm,J_;function GE(){if(J_)return qm;J_=1;var t=sb(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=s.cache;if(d.has(u))return d.get(u);var h=n.apply(this,c);return s.cache=d.set(u,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,qm=r,qm}var Um,Q_;function E$(){if(Q_)return Um;Q_=1;var t=GE(),e=500;function r(n){var a=t(n,function(c){return s.size===e&&s.clear(),c}),s=a.cache;return a}return Um=r,Um}var Fm,Z_;function P$(){if(Z_)return Fm;Z_=1;var t=E$(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(c,u,d,h){s.push(d?h.replace(r,"$1"):u||c)}),s});return Fm=n,Fm}var zm,eS;function ob(){if(eS)return zm;eS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return zm=t,zm}var Wm,tS;function C$(){if(tS)return Wm;tS=1;var t=ic(),e=ob(),r=hr(),n=Gs(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return e(u,c)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Wm=c,Wm}var Hm,rS;function XE(){if(rS)return Hm;rS=1;var t=C$();function e(r){return r==null?"":t(r)}return Hm=e,Hm}var Vm,nS;function YE(){if(nS)return Vm;nS=1;var t=hr(),e=rb(),r=P$(),n=XE();function a(s,c){return t(s)?s:e(s,c)?[s]:r(n(s))}return Vm=a,Vm}var Km,aS;function wf(){if(aS)return Km;aS=1;var t=Gs();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Km=e,Km}var Gm,iS;function lb(){if(iS)return Gm;iS=1;var t=YE(),e=wf();function r(n,a){a=t(a,n);for(var s=0,c=a.length;n!=null&&s<c;)n=n[e(a[s++])];return s&&s==c?n:void 0}return Gm=r,Gm}var Xm,sS;function JE(){if(sS)return Xm;sS=1;var t=lb();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return Xm=e,Xm}var T$=JE();const Lr=Qe(T$);var Ym,oS;function M$(){if(oS)return Ym;oS=1;function t(e){return e==null}return Ym=t,Ym}var $$=M$();const qe=Qe($$);var Jm,lS;function R$(){if(lS)return Jm;lS=1;var t=Xn(),e=hr(),r=Yn(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Jm=a,Jm}var I$=R$();const vi=Qe(I$);var D$=nb();const Le=Qe(D$);var L$=Ta();const Xs=Qe(L$);var Qm={exports:{}},Ke={};var cS;function B$(){if(cS)return Ke;cS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var k=y.$$typeof;switch(k){case t:switch(y=y.type,y){case r:case a:case n:case h:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case c:case d:case v:case m:case s:return y;default:return k}}case e:return k}}}return Ke.ContextConsumer=c,Ke.ContextProvider=s,Ke.Element=t,Ke.ForwardRef=d,Ke.Fragment=r,Ke.Lazy=v,Ke.Memo=m,Ke.Portal=e,Ke.Profiler=a,Ke.StrictMode=n,Ke.Suspense=h,Ke.SuspenseList=p,Ke.isAsyncMode=function(){return!1},Ke.isConcurrentMode=function(){return!1},Ke.isContextConsumer=function(y){return j(y)===c},Ke.isContextProvider=function(y){return j(y)===s},Ke.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ke.isForwardRef=function(y){return j(y)===d},Ke.isFragment=function(y){return j(y)===r},Ke.isLazy=function(y){return j(y)===v},Ke.isMemo=function(y){return j(y)===m},Ke.isPortal=function(y){return j(y)===e},Ke.isProfiler=function(y){return j(y)===a},Ke.isStrictMode=function(y){return j(y)===n},Ke.isSuspense=function(y){return j(y)===h},Ke.isSuspenseList=function(y){return j(y)===p},Ke.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===h||y===p||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===m||y.$$typeof===s||y.$$typeof===c||y.$$typeof===d||y.$$typeof===w||y.getModuleId!==void 0)},Ke.typeOf=j,Ke}var uS;function q$(){return uS||(uS=1,Qm.exports=B$()),Qm.exports}var U$=q$(),Zm,dS;function QE(){if(dS)return Zm;dS=1;var t=Xn(),e=Yn(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Zm=n,Zm}var eg,fS;function F$(){if(fS)return eg;fS=1;var t=QE();function e(r){return t(r)&&r!=+r}return eg=e,eg}var z$=F$();const Ys=Qe(z$);var W$=QE();const H$=Qe(W$);var rn=function(e){return e===0?0:e>0?1:-1},si=function(e){return vi(e)&&e.indexOf("%")===e.length-1},pe=function(e){return H$(e)&&!Ys(e)},V$=function(e){return qe(e)},Mt=function(e){return pe(e)||vi(e)},K$=0,sc=function(e){var r=++K$;return"".concat(e||"").concat(r)},yi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!vi(e))return n;var s;if(si(e)){var c=e.indexOf("%");s=r*parseFloat(e.slice(0,c))/100}else s=+e;return Ys(s)&&(s=n),a&&s>r&&(s=r),s},ss=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},G$=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ir=function(e,r){return pe(e)&&pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function dd(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Lr(n,e))===r})}var X$=function(e,r){return pe(e)&&pe(r)?e-r:vi(e)&&vi(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function vs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}var Y$=["viewBox","children"],J$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hS=["points","pathLength"],tg={svg:Y$,polygon:hS,polyline:hS},cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!Xs(n))return null;var a={};return Object.keys(n).forEach(function(s){cb.includes(s)&&(a[s]=r||function(c){return n[s](n,c)})}),a},Q$=function(e,r,n){return function(a){return e(r,n,a),null}},hd=function(e,r,n){if(!Xs(e)||j0(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var c=e[s];cb.includes(s)&&typeof c=="function"&&(a||(a={}),a[s]=Q$(c,r,n))}),a},Z$=["children"],eR=["children"];function pS(t,e){if(t==null)return{};var r=tR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}var mS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},gS=null,rg=null,ub=function t(e){if(e===gS&&Array.isArray(rg))return rg;var r=[];return M.Children.forEach(e,function(n){qe(n)||(U$.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),rg=r,gS=e,r};function sn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return qn(a)}):n=[qn(e)],ub(t).forEach(function(a){var s=Lr(a,"type.displayName")||Lr(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function jr(t,e){var r=sn(t,e);return r&&r[0]}var vS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},rR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nR=function(e){return e&&e.type&&vi(e.type)&&rR.indexOf(e.type)>=0},aR=function(e){return e&&_0(e)==="object"&&"clipDot"in e},iR=function(e,r,n,a){var s,c=(s=tg?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Le(e)&&(a&&c.includes(r)||J$.includes(r))||n&&cb.includes(r)},Be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(M.isValidElement(e)&&(a=e.props),!Xs(a))return null;var s={};return Object.keys(a).forEach(function(c){var u;iR((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(s[c]=a[c])}),s},S0=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return yS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],c=r[a];if(Array.isArray(s)||Array.isArray(c)){if(!t(s,c))return!1}else if(!yS(s,c))return!1}return!0},yS=function(e,r){if(qe(e)&&qe(r))return!0;if(!qe(e)&&!qe(r)){var n=e.props||{},a=n.children,s=pS(n,Z$),c=r.props||{},u=c.children,d=pS(c,eR);return a&&u?vs(s,d)&&S0(a,u):!a&&!u?vs(s,d):!1}return!1},xS=function(e,r){var n=[],a={};return ub(e).forEach(function(s,c){if(nR(s))n.push(s);else if(s){var u=qn(s.type),d=r[u]||{},h=d.handler,p=d.once;if(h&&(!p||!a[u])){var m=h(s,u,c);n.push(m),a[u]=!0}}}),n},sR=function(e){var r=e&&e.type;return r&&mS[r]?mS[r]:null},oR=function(e,r){return ub(r).indexOf(e)},lR=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N0.apply(this,arguments)}function cR(t,e){if(t==null)return{};var r=uR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k0(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,c=t.style,u=t.title,d=t.desc,h=cR(t,lR),p=a||{width:r,height:n,x:0,y:0},m=ze("recharts-surface",s);return Y.createElement("svg",N0({},Be(h,!0,"svg"),{className:m,width:r,height:n,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Y.createElement("title",null,u),Y.createElement("desc",null,d),e)}var dR=["children","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function fR(t,e){if(t==null)return{};var r=hR(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mt=Y.forwardRef(function(t,e){var r=t.children,n=t.className,a=fR(t,dR),s=ze("recharts-layer",n);return Y.createElement("g",O0({className:s},Be(a,!0),{ref:e}),r)}),hi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},ng,bS;function pR(){if(bS)return ng;bS=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++a<s;)c[a]=e[a+r];return c}return ng=t,ng}var ag,wS;function mR(){if(wS)return ag;wS=1;var t=pR();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return ag=e,ag}var ig,jS;function ZE(){if(jS)return ig;jS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+a+s+"]");function d(h){return u.test(h)}return ig=d,ig}var sg,_S;function gR(){if(_S)return sg;_S=1;function t(e){return e.split("")}return sg=t,sg}var og,SS;function vR(){if(SS)return og;SS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=h+"?",j="["+s+"]?",y="(?:"+b+"(?:"+[p,m,v].join("|")+")"+j+w+")*",k=j+w+y,A="(?:"+[p+u+"?",u,m,v,c].join("|")+")",N=RegExp(d+"(?="+d+")|"+A+k,"g");function E(_){return _.match(N)||[]}return og=E,og}var lg,NS;function yR(){if(NS)return lg;NS=1;var t=gR(),e=ZE(),r=vR();function n(a){return e(a)?r(a):t(a)}return lg=n,lg}var cg,kS;function xR(){if(kS)return cg;kS=1;var t=mR(),e=ZE(),r=yR(),n=XE();function a(s){return function(c){c=n(c);var u=e(c)?r(c):void 0,d=u?u[0]:c.charAt(0),h=u?t(u,1).join(""):c.slice(1);return d[s]()+h}}return cg=a,cg}var ug,OS;function bR(){if(OS)return ug;OS=1;var t=xR(),e=t("toUpperCase");return ug=e,ug}var wR=bR();const jf=Qe(wR);function nt(t){return function(){return t}}const e5=Math.cos,pd=Math.sin,cn=Math.sqrt,md=Math.PI,_f=2*md,A0=Math.PI,E0=2*A0,ti=1e-6,jR=E0-ti;function t5(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function _R(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return t5;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class SR{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?t5:_R(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,d=n-e,h=a-r,p=c-e,m=u-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ti)if(!(Math.abs(m*d-h*p)>ti)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-c,w=a-u,j=d*d+h*h,y=b*b+w*w,k=Math.sqrt(j),A=Math.sqrt(v),N=s*Math.tan((A0-Math.acos((j+v-y)/(2*k*A)))/2),E=N/A,_=N/k;Math.abs(E-1)>ti&&this._append`L${e+E*p},${r+E*m}`,this._append`A${s},${s},0,0,${+(m*b>p*w)},${this._x1=e+_*d},${this._y1=r+_*h}`}}arc(e,r,n,a,s,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=e+u,p=r+d,m=1^c,v=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ti||Math.abs(this._y1-p)>ti)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%E0+E0),v>jR?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:v>ti&&this._append`A${n},${n},0,${+(v>=A0)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function db(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new SR(e)}function fb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function r5(t){this._context=t}r5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sf(t){return new r5(t)}function n5(t){return t[0]}function a5(t){return t[1]}function i5(t,e){var r=nt(!0),n=null,a=Sf,s=null,c=db(u);t=typeof t=="function"?t:t===void 0?n5:nt(t),e=typeof e=="function"?e:e===void 0?a5:nt(e);function u(d){var h,p=(d=fb(d)).length,m,v=!1,b;for(n==null&&(s=a(b=c())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,d),+e(m,h,d));if(b)return s=null,b+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function ku(t,e,r){var n=null,a=nt(!0),s=null,c=Sf,u=null,d=db(h);t=typeof t=="function"?t:t===void 0?n5:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?a5:nt(+r);function h(m){var v,b,w,j=(m=fb(m)).length,y,k=!1,A,N=new Array(j),E=new Array(j);for(s==null&&(u=c(A=d())),v=0;v<=j;++v){if(!(v<j&&a(y=m[v],v,m))===k)if(k=!k)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=b;--w)u.point(N[w],E[w]);u.lineEnd(),u.areaEnd()}k&&(N[v]=+t(y,v,m),E[v]=+e(y,v,m),u.point(n?+n(y,v,m):N[v],r?+r(y,v,m):E[v]))}if(A)return u=null,A+""||null}function p(){return i5().defined(a).curve(c).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:nt(!!m),h):a},h.curve=function(m){return arguments.length?(c=m,s!=null&&(u=c(s)),h):c},h.context=function(m){return arguments.length?(m==null?s=u=null:u=c(s=m),h):s},h}class s5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function NR(t){return new s5(t,!0)}function kR(t){return new s5(t,!1)}const hb={draw(t,e){const r=cn(e/md);t.moveTo(r,0),t.arc(0,0,r,0,_f)}},OR={draw(t,e){const r=cn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},o5=cn(1/3),AR=o5*2,ER={draw(t,e){const r=cn(e/AR),n=r*o5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},PR={draw(t,e){const r=cn(e),n=-r/2;t.rect(n,n,r,r)}},CR=.8908130915292852,l5=pd(md/10)/pd(7*md/10),TR=pd(_f/10)*l5,MR=-e5(_f/10)*l5,$R={draw(t,e){const r=cn(e*CR),n=TR*r,a=MR*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const c=_f*s/5,u=e5(c),d=pd(c);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},dg=cn(3),RR={draw(t,e){const r=-cn(e/(dg*3));t.moveTo(0,r*2),t.lineTo(-dg*r,-r),t.lineTo(dg*r,-r),t.closePath()}},Mr=-.5,$r=cn(3)/2,P0=1/cn(12),IR=(P0/2+1)*3,DR={draw(t,e){const r=cn(e/IR),n=r/2,a=r*P0,s=n,c=r*P0+r,u=-s,d=c;t.moveTo(n,a),t.lineTo(s,c),t.lineTo(u,d),t.lineTo(Mr*n-$r*a,$r*n+Mr*a),t.lineTo(Mr*s-$r*c,$r*s+Mr*c),t.lineTo(Mr*u-$r*d,$r*u+Mr*d),t.lineTo(Mr*n+$r*a,Mr*a-$r*n),t.lineTo(Mr*s+$r*c,Mr*c-$r*s),t.lineTo(Mr*u+$r*d,Mr*d-$r*u),t.closePath()}};function LR(t,e){let r=null,n=db(a);t=typeof t=="function"?t:nt(t||hb),e=typeof e=="function"?e:nt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:nt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:nt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function gd(){}function vd(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function c5(t){this._context=t}c5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BR(t){return new c5(t)}function u5(t){this._context=t}u5.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qR(t){return new u5(t)}function d5(t){this._context=t}d5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UR(t){return new d5(t)}function f5(t){this._context=t}f5.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FR(t){return new f5(t)}function AS(t){return t<0?-1:1}function ES(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(AS(s)+AS(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function PS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fg(t,e,r){var n=t._x0,a=t._y0,s=t._x1,c=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,a+u*e,s-u,c-u*r,s,c)}function yd(t){this._context=t}yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,PS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,PS(this,r=ES(this,t,e)),r);break;default:fg(this,this._t0,r=ES(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function h5(t){this._context=new p5(t)}(h5.prototype=Object.create(yd.prototype)).point=function(t,e){yd.prototype.point.call(this,e,t)};function p5(t){this._context=t}p5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function zR(t){return new yd(t)}function WR(t){return new h5(t)}function m5(t){this._context=t}m5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=CS(t),a=CS(e),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CS(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function HR(t){return new m5(t)}function Nf(t,e){this._context=t,this._t=e}Nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function VR(t){return new Nf(t,.5)}function KR(t){return new Nf(t,0)}function GR(t){return new Nf(t,1)}function Ss(t,e){if((c=t.length)>1)for(var r=1,n,a,s=t[e[0]],c,u=s.length;r<c;++r)for(a=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XR(t,e){return t[e]}function YR(t){const e=[];return e.key=t,e}function JR(){var t=nt([]),e=C0,r=Ss,n=XR;function a(s){var c=Array.from(t.apply(this,arguments),YR),u,d=c.length,h=-1,p;for(const m of s)for(u=0,++h;u<d;++u)(c[u][h]=[0,+n(m,c[u].key,h,s)]).data=m;for(u=0,p=fb(e(c));u<d;++u)c[p[u]].index=u;return r(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:nt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:nt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?C0:typeof s=="function"?s:nt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Ss,a):r},a}function QR(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}Ss(t,e)}}function ZR(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=t[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ss(t,e)}}function eI(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,d=0,h=0;u<c;++u){for(var p=t[e[u]],m=p[n][1]||0,v=p[n-1][1]||0,b=(m-v)/2,w=0;w<u;++w){var j=t[e[w]],y=j[n][1]||0,k=j[n-1][1]||0;b+=y-k}d+=m,h+=b*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Ss(t,e)}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}var tI=["type","size","sizeType"];function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){rI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rI(t,e,r){return e=nI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nI(t){var e=aI(t,"string");return vl(e)=="symbol"?e:e+""}function aI(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iI(t,e){if(t==null)return{};var r=sI(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sI(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var g5={symbolCircle:hb,symbolCross:OR,symbolDiamond:ER,symbolSquare:PR,symbolStar:$R,symbolTriangle:RR,symbolWye:DR},oI=Math.PI/180,lI=function(e){var r="symbol".concat(jf(e));return g5[r]||hb},cI=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*oI;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uI=function(e,r){g5["symbol".concat(jf(e))]=r},pb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,c=e.sizeType,u=c===void 0?"area":c,d=iI(e,tI),h=MS(MS({},d),{},{type:n,size:s,sizeType:u}),p=function(){var y=lI(n),k=LR().type(y).size(cI(s,u,n));return k()},m=h.className,v=h.cx,b=h.cy,w=Be(h,!0);return v===+v&&b===+b&&s===+s?Y.createElement("path",T0({},w,{className:ze("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(b,")"),d:p()})):null};pb.registerSymbol=uI;function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}function $S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(r),!0).forEach(function(n){yl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y5(n.key),n)}}function pI(t,e,r){return e&&hI(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mI(t,e,r){return e=xd(e),gI(t,v5()?Reflect.construct(e,r||[],xd(t).constructor):e.apply(t,r))}function gI(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vI(t)}function vI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(t)}function yI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$0(t,e)}function yl(t,e,r){return e=y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y5(t){var e=xI(t,"string");return Ns(e)=="symbol"?e:e+""}function xI(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rr=32,mb=(function(t){function e(){return fI(this,e),mI(this,e,arguments)}return yI(e,t),pI(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Rr/2,c=Rr/6,u=Rr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Rr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Rr,"M").concat(2*u,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var h=dI({},n);return delete h.legendIcon,Y.cloneElement(n.legendIcon,h)}return Y.createElement(pb,{fill:d,cx:s,cy:s,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,c=a.iconSize,u=a.layout,d=a.formatter,h=a.inactiveColor,p={x:0,y:0,width:Rr,height:Rr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,w){var j=b.formatter||d,y=ze(yl(yl({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var k=Le(b.value)?null:b.value;hi(!Le(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?h:b.color;return Y.createElement("li",M0({className:y,style:m,key:"legend-item-".concat(w)},hd(n.props,b,w)),Y.createElement(k0,{width:c,height:c,viewBox:p,style:v},n.renderIcon(b)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},j?j(k,b,w):k))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);yl(mb,"displayName","Legend");yl(mb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hg,RS;function bI(){if(RS)return hg;RS=1;var t=xf();function e(){this.__data__=new t,this.size=0}return hg=e,hg}var pg,IS;function wI(){if(IS)return pg;IS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return pg=t,pg}var mg,DS;function jI(){if(DS)return mg;DS=1;function t(e){return this.__data__.get(e)}return mg=t,mg}var gg,LS;function _I(){if(LS)return gg;LS=1;function t(e){return this.__data__.has(e)}return gg=t,gg}var vg,BS;function SI(){if(BS)return vg;BS=1;var t=xf(),e=ib(),r=sb(),n=200;function a(s,c){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,c),this.size=u.size,this}return vg=a,vg}var yg,qS;function x5(){if(qS)return yg;qS=1;var t=xf(),e=bI(),r=wI(),n=jI(),a=_I(),s=SI();function c(u){var d=this.__data__=new t(u);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=s,yg=c,yg}var xg,US;function NI(){if(US)return xg;US=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return xg=e,xg}var bg,FS;function kI(){if(FS)return bg;FS=1;function t(e){return this.__data__.has(e)}return bg=t,bg}var wg,zS;function b5(){if(zS)return wg;zS=1;var t=sb(),e=NI(),r=kI();function n(a){var s=-1,c=a==null?0:a.length;for(this.__data__=new t;++s<c;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,wg=n,wg}var jg,WS;function w5(){if(WS)return jg;WS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return jg=t,jg}var _g,HS;function j5(){if(HS)return _g;HS=1;function t(e,r){return e.has(r)}return _g=t,_g}var Sg,VS;function _5(){if(VS)return Sg;VS=1;var t=b5(),e=w5(),r=j5(),n=1,a=2;function s(c,u,d,h,p,m){var v=d&n,b=c.length,w=u.length;if(b!=w&&!(v&&w>b))return!1;var j=m.get(c),y=m.get(u);if(j&&y)return j==u&&y==c;var k=-1,A=!0,N=d&a?new t:void 0;for(m.set(c,u),m.set(u,c);++k<b;){var E=c[k],_=u[k];if(h)var O=v?h(_,E,k,u,c,m):h(E,_,k,c,u,m);if(O!==void 0){if(O)continue;A=!1;break}if(N){if(!e(u,function(C,P){if(!r(N,P)&&(E===C||p(E,C,d,h,m)))return N.push(P)})){A=!1;break}}else if(!(E===_||p(E,_,d,h,m))){A=!1;break}}return m.delete(c),m.delete(u),A}return Sg=s,Sg}var Ng,KS;function OI(){if(KS)return Ng;KS=1;var t=kn(),e=t.Uint8Array;return Ng=e,Ng}var kg,GS;function AI(){if(GS)return kg;GS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return kg=t,kg}var Og,XS;function gb(){if(XS)return Og;XS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Og=t,Og}var Ag,YS;function EI(){if(YS)return Ag;YS=1;var t=ic(),e=OI(),r=ab(),n=_5(),a=AI(),s=gb(),c=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",b="[object RegExp]",w="[object Set]",j="[object String]",y="[object Symbol]",k="[object ArrayBuffer]",A="[object DataView]",N=t?t.prototype:void 0,E=N?N.valueOf:void 0;function _(O,C,P,R,U,I,F){switch(P){case A:if(O.byteLength!=C.byteLength||O.byteOffset!=C.byteOffset)return!1;O=O.buffer,C=C.buffer;case k:return!(O.byteLength!=C.byteLength||!I(new e(O),new e(C)));case d:case h:case v:return r(+O,+C);case p:return O.name==C.name&&O.message==C.message;case b:case j:return O==C+"";case m:var L=a;case w:var G=R&c;if(L||(L=s),O.size!=C.size&&!G)return!1;var B=F.get(O);if(B)return B==C;R|=u,F.set(O,C);var z=n(L(O),L(C),R,U,I,F);return F.delete(O),z;case y:if(E)return E.call(O)==E.call(C)}return!1}return Ag=_,Ag}var Eg,JS;function S5(){if(JS)return Eg;JS=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return Eg=t,Eg}var Pg,QS;function PI(){if(QS)return Pg;QS=1;var t=S5(),e=hr();function r(n,a,s){var c=a(n);return e(n)?c:t(c,s(n))}return Pg=r,Pg}var Cg,ZS;function CI(){if(ZS)return Cg;ZS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,c=[];++n<a;){var u=e[n];r(u,n,e)&&(c[s++]=u)}return c}return Cg=t,Cg}var Tg,e2;function TI(){if(e2)return Tg;e2=1;function t(){return[]}return Tg=t,Tg}var Mg,t2;function MI(){if(t2)return Mg;t2=1;var t=CI(),e=TI(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(c){return c==null?[]:(c=Object(c),t(a(c),function(u){return n.call(c,u)}))}:e;return Mg=s,Mg}var $g,r2;function $I(){if(r2)return $g;r2=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return $g=t,$g}var Rg,n2;function RI(){if(n2)return Rg;n2=1;var t=Xn(),e=Yn(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Rg=n,Rg}var Ig,a2;function vb(){if(a2)return Ig;a2=1;var t=RI(),e=Yn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return Ig=s,Ig}var nl={exports:{}},Dg,i2;function II(){if(i2)return Dg;i2=1;function t(){return!1}return Dg=t,Dg}nl.exports;var s2;function N5(){return s2||(s2=1,(function(t,e){var r=kn(),n=II(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,c=s&&s.exports===a,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(nl,nl.exports)),nl.exports}var Lg,o2;function yb(){if(o2)return Lg;o2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Lg=r,Lg}var Bg,l2;function xb(){if(l2)return Bg;l2=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Bg=e,Bg}var qg,c2;function DI(){if(c2)return qg;c2=1;var t=Xn(),e=xb(),r=Yn(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",b="[object Set]",w="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",U="[object Uint32Array]",I={};I[A]=I[N]=I[E]=I[_]=I[O]=I[C]=I[P]=I[R]=I[U]=!0,I[n]=I[a]=I[y]=I[s]=I[k]=I[c]=I[u]=I[d]=I[h]=I[p]=I[m]=I[v]=I[b]=I[w]=I[j]=!1;function F(L){return r(L)&&e(L.length)&&!!I[t(L)]}return qg=F,qg}var Ug,u2;function k5(){if(u2)return Ug;u2=1;function t(e){return function(r){return e(r)}}return Ug=t,Ug}var al={exports:{}};al.exports;var d2;function LI(){return d2||(d2=1,(function(t,e){var r=VE(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,c=s&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();t.exports=u})(al,al.exports)),al.exports}var Fg,f2;function O5(){if(f2)return Fg;f2=1;var t=DI(),e=k5(),r=LI(),n=r&&r.isTypedArray,a=n?e(n):t;return Fg=a,Fg}var zg,h2;function BI(){if(h2)return zg;h2=1;var t=$I(),e=vb(),r=hr(),n=N5(),a=yb(),s=O5(),c=Object.prototype,u=c.hasOwnProperty;function d(h,p){var m=r(h),v=!m&&e(h),b=!m&&!v&&n(h),w=!m&&!v&&!b&&s(h),j=m||v||b||w,y=j?t(h.length,String):[],k=y.length;for(var A in h)(p||u.call(h,A))&&!(j&&(A=="length"||b&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,k)))&&y.push(A);return y}return zg=d,zg}var Wg,p2;function qI(){if(p2)return Wg;p2=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Wg=e,Wg}var Hg,m2;function A5(){if(m2)return Hg;m2=1;function t(e,r){return function(n){return e(r(n))}}return Hg=t,Hg}var Vg,g2;function UI(){if(g2)return Vg;g2=1;var t=A5(),e=t(Object.keys,Object);return Vg=e,Vg}var Kg,v2;function FI(){if(v2)return Kg;v2=1;var t=qI(),e=UI(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var c=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&c.push(u);return c}return Kg=a,Kg}var Gg,y2;function oc(){if(y2)return Gg;y2=1;var t=nb(),e=xb();function r(n){return n!=null&&e(n.length)&&!t(n)}return Gg=r,Gg}var Xg,x2;function kf(){if(x2)return Xg;x2=1;var t=BI(),e=FI(),r=oc();function n(a){return r(a)?t(a):e(a)}return Xg=n,Xg}var Yg,b2;function zI(){if(b2)return Yg;b2=1;var t=PI(),e=MI(),r=kf();function n(a){return t(a,r,e)}return Yg=n,Yg}var Jg,w2;function WI(){if(w2)return Jg;w2=1;var t=zI(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,c,u,d,h,p){var m=u&e,v=t(s),b=v.length,w=t(c),j=w.length;if(b!=j&&!m)return!1;for(var y=b;y--;){var k=v[y];if(!(m?k in c:n.call(c,k)))return!1}var A=p.get(s),N=p.get(c);if(A&&N)return A==c&&N==s;var E=!0;p.set(s,c),p.set(c,s);for(var _=m;++y<b;){k=v[y];var O=s[k],C=c[k];if(d)var P=m?d(C,O,k,c,s,p):d(O,C,k,s,c,p);if(!(P===void 0?O===C||h(O,C,u,d,p):P)){E=!1;break}_||(_=k=="constructor")}if(E&&!_){var R=s.constructor,U=c.constructor;R!=U&&"constructor"in s&&"constructor"in c&&!(typeof R=="function"&&R instanceof R&&typeof U=="function"&&U instanceof U)&&(E=!1)}return p.delete(s),p.delete(c),E}return Jg=a,Jg}var Qg,j2;function HI(){if(j2)return Qg;j2=1;var t=wi(),e=kn(),r=t(e,"DataView");return Qg=r,Qg}var Zg,_2;function VI(){if(_2)return Zg;_2=1;var t=wi(),e=kn(),r=t(e,"Promise");return Zg=r,Zg}var ev,S2;function E5(){if(S2)return ev;S2=1;var t=wi(),e=kn(),r=t(e,"Set");return ev=r,ev}var tv,N2;function KI(){if(N2)return tv;N2=1;var t=wi(),e=kn(),r=t(e,"WeakMap");return tv=r,tv}var rv,k2;function GI(){if(k2)return rv;k2=1;var t=HI(),e=ib(),r=VI(),n=E5(),a=KI(),s=Xn(),c=KE(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",b=c(t),w=c(e),j=c(r),y=c(n),k=c(a),A=s;return(t&&A(new t(new ArrayBuffer(1)))!=v||e&&A(new e)!=u||r&&A(r.resolve())!=h||n&&A(new n)!=p||a&&A(new a)!=m)&&(A=function(N){var E=s(N),_=E==d?N.constructor:void 0,O=_?c(_):"";if(O)switch(O){case b:return v;case w:return u;case j:return h;case y:return p;case k:return m}return E}),rv=A,rv}var nv,O2;function XI(){if(O2)return nv;O2=1;var t=x5(),e=_5(),r=EI(),n=WI(),a=GI(),s=hr(),c=N5(),u=O5(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function w(j,y,k,A,N,E){var _=s(j),O=s(y),C=_?p:a(j),P=O?p:a(y);C=C==h?m:C,P=P==h?m:P;var R=C==m,U=P==m,I=C==P;if(I&&c(j)){if(!c(y))return!1;_=!0,R=!1}if(I&&!R)return E||(E=new t),_||u(j)?e(j,y,k,A,N,E):r(j,y,C,k,A,N,E);if(!(k&d)){var F=R&&b.call(j,"__wrapped__"),L=U&&b.call(y,"__wrapped__");if(F||L){var G=F?j.value():j,B=L?y.value():y;return E||(E=new t),N(G,B,k,A,E)}}return I?(E||(E=new t),n(j,y,k,A,N,E)):!1}return nv=w,nv}var av,A2;function bb(){if(A2)return av;A2=1;var t=XI(),e=Yn();function r(n,a,s,c,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,c,r,u)}return av=r,av}var iv,E2;function YI(){if(E2)return iv;E2=1;var t=x5(),e=bb(),r=1,n=2;function a(s,c,u,d){var h=u.length,p=h,m=!d;if(s==null)return!p;for(s=Object(s);h--;){var v=u[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=u[h];var b=v[0],w=s[b],j=v[1];if(m&&v[2]){if(w===void 0&&!(b in s))return!1}else{var y=new t;if(d)var k=d(w,j,b,s,c,y);if(!(k===void 0?e(j,w,r|n,d,y):k))return!1}}return!0}return iv=a,iv}var sv,P2;function P5(){if(P2)return sv;P2=1;var t=Ta();function e(r){return r===r&&!t(r)}return sv=e,sv}var ov,C2;function JI(){if(C2)return ov;C2=1;var t=P5(),e=kf();function r(n){for(var a=e(n),s=a.length;s--;){var c=a[s],u=n[c];a[s]=[c,u,t(u)]}return a}return ov=r,ov}var lv,T2;function C5(){if(T2)return lv;T2=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return lv=t,lv}var cv,M2;function QI(){if(M2)return cv;M2=1;var t=YI(),e=JI(),r=C5();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===a||t(c,a,s)}}return cv=n,cv}var uv,$2;function ZI(){if($2)return uv;$2=1;function t(e,r){return e!=null&&r in Object(e)}return uv=t,uv}var dv,R2;function e3(){if(R2)return dv;R2=1;var t=YE(),e=vb(),r=hr(),n=yb(),a=xb(),s=wf();function c(u,d,h){d=t(d,u);for(var p=-1,m=d.length,v=!1;++p<m;){var b=s(d[p]);if(!(v=u!=null&&h(u,b)))break;u=u[b]}return v||++p!=m?v:(m=u==null?0:u.length,!!m&&a(m)&&n(b,m)&&(r(u)||e(u)))}return dv=c,dv}var fv,I2;function t3(){if(I2)return fv;I2=1;var t=ZI(),e=e3();function r(n,a){return n!=null&&e(n,a,t)}return fv=r,fv}var hv,D2;function r3(){if(D2)return hv;D2=1;var t=bb(),e=JE(),r=t3(),n=rb(),a=P5(),s=C5(),c=wf(),u=1,d=2;function h(p,m){return n(p)&&a(m)?s(c(p),m):function(v){var b=e(v,p);return b===void 0&&b===m?r(v,p):t(m,b,u|d)}}return hv=h,hv}var pv,L2;function Js(){if(L2)return pv;L2=1;function t(e){return e}return pv=t,pv}var mv,B2;function n3(){if(B2)return mv;B2=1;function t(e){return function(r){return r?.[e]}}return mv=t,mv}var gv,q2;function a3(){if(q2)return gv;q2=1;var t=lb();function e(r){return function(n){return t(n,r)}}return gv=e,gv}var vv,U2;function i3(){if(U2)return vv;U2=1;var t=n3(),e=a3(),r=rb(),n=wf();function a(s){return r(s)?t(n(s)):e(s)}return vv=a,vv}var yv,F2;function Ma(){if(F2)return yv;F2=1;var t=QI(),e=r3(),r=Js(),n=hr(),a=i3();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):a(c)}return yv=s,yv}var xv,z2;function T5(){if(z2)return xv;z2=1;function t(e,r,n,a){for(var s=e.length,c=n+(a?1:-1);a?c--:++c<s;)if(r(e[c],c,e))return c;return-1}return xv=t,xv}var bv,W2;function s3(){if(W2)return bv;W2=1;function t(e){return e!==e}return bv=t,bv}var wv,H2;function o3(){if(H2)return wv;H2=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return wv=t,wv}var jv,V2;function l3(){if(V2)return jv;V2=1;var t=T5(),e=s3(),r=o3();function n(a,s,c){return s===s?r(a,s,c):t(a,e,c)}return jv=n,jv}var _v,K2;function c3(){if(K2)return _v;K2=1;var t=l3();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return _v=e,_v}var Sv,G2;function u3(){if(G2)return Sv;G2=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return Sv=t,Sv}var Nv,X2;function d3(){if(X2)return Nv;X2=1;function t(){}return Nv=t,Nv}var kv,Y2;function f3(){if(Y2)return kv;Y2=1;var t=E5(),e=d3(),r=gb(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return kv=a,kv}var Ov,J2;function h3(){if(J2)return Ov;J2=1;var t=b5(),e=c3(),r=u3(),n=j5(),a=f3(),s=gb(),c=200;function u(d,h,p){var m=-1,v=e,b=d.length,w=!0,j=[],y=j;if(p)w=!1,v=r;else if(b>=c){var k=h?null:a(d);if(k)return s(k);w=!1,v=n,y=new t}else y=h?[]:j;e:for(;++m<b;){var A=d[m],N=h?h(A):A;if(A=p||A!==0?A:0,w&&N===N){for(var E=y.length;E--;)if(y[E]===N)continue e;h&&y.push(N),j.push(A)}else v(y,N,p)||(y!==j&&y.push(N),j.push(A))}return j}return Ov=u,Ov}var Av,Q2;function p3(){if(Q2)return Av;Q2=1;var t=Ma(),e=h3();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Av=r,Av}var m3=p3();const Z2=Qe(m3);function M5(t,e,r){return e===!0?Z2(t,r):Le(e)?Z2(t,e):t}function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}var g3=["ref"];function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){Of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R5(n.key),n)}}function y3(t,e,r){return e&&tN(t.prototype,e),r&&tN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x3(t,e,r){return e=bd(e),b3(t,$5()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function b3(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w3(t)}function w3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($5=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function j3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R0(t,e)}function Of(t,e,r){return e=R5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R5(t){var e=_3(t,"string");return ks(e)=="symbol"?e:e+""}function _3(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S3(t,e){if(t==null)return{};var r=N3(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k3(t){return t.value}function O3(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=S3(e,g3);return Y.createElement(mb,r)}var rN=1,ys=(function(t){function e(){var r;v3(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=x3(this,e,[].concat(a)),Of(r,"lastBoundingBox",{width:-1,height:-1}),r}return j3(e,t),y3(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>rN||Math.abs(a.height-this.lastBoundingBox.height)>rN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,c=a.align,u=a.verticalAlign,d=a.margin,h=a.chartWidth,p=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();m={left:((h||0)-b.width)/2}}else m=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();v={top:((p||0)-w.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Rn(Rn({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,c=a.width,u=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,p=a.payload,m=Rn(Rn({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Y.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},O3(s,Rn(Rn({},this.props),{},{payload:M5(p,h,k3)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Rn(Rn({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&pe(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(M.PureComponent);Of(ys,"displayName","Legend");Of(ys,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ev,nN;function A3(){if(nN)return Ev;nN=1;var t=ic(),e=vb(),r=hr(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return Ev=a,Ev}var Pv,aN;function I5(){if(aN)return Pv;aN=1;var t=S5(),e=A3();function r(n,a,s,c,u){var d=-1,h=n.length;for(s||(s=e),u||(u=[]);++d<h;){var p=n[d];a>0&&s(p)?a>1?r(p,a-1,s,c,u):t(u,p):c||(u[u.length]=p)}return u}return Pv=r,Pv}var Cv,iN;function E3(){if(iN)return Cv;iN=1;function t(e){return function(r,n,a){for(var s=-1,c=Object(r),u=a(r),d=u.length;d--;){var h=u[e?d:++s];if(n(c[h],h,c)===!1)break}return r}}return Cv=t,Cv}var Tv,sN;function P3(){if(sN)return Tv;sN=1;var t=E3(),e=t();return Tv=e,Tv}var Mv,oN;function D5(){if(oN)return Mv;oN=1;var t=P3(),e=kf();function r(n,a){return n&&t(n,a,e)}return Mv=r,Mv}var $v,lN;function C3(){if(lN)return $v;lN=1;var t=oc();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var c=a.length,u=n?c:-1,d=Object(a);(n?u--:++u<c)&&s(d[u],u,d)!==!1;);return a}}return $v=e,$v}var Rv,cN;function wb(){if(cN)return Rv;cN=1;var t=D5(),e=C3(),r=e(t);return Rv=r,Rv}var Iv,uN;function L5(){if(uN)return Iv;uN=1;var t=wb(),e=oc();function r(n,a){var s=-1,c=e(n)?Array(n.length):[];return t(n,function(u,d,h){c[++s]=a(u,d,h)}),c}return Iv=r,Iv}var Dv,dN;function T3(){if(dN)return Dv;dN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Dv=t,Dv}var Lv,fN;function M3(){if(fN)return Lv;fN=1;var t=Gs();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,c=r===r,u=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!u&&r>n||u&&d&&p&&!h&&!m||s&&d&&p||!a&&p||!c)return 1;if(!s&&!u&&!m&&r<n||m&&a&&c&&!s&&!u||h&&a&&c||!d&&c||!p)return-1}return 0}return Lv=e,Lv}var Bv,hN;function $3(){if(hN)return Bv;hN=1;var t=M3();function e(r,n,a){for(var s=-1,c=r.criteria,u=n.criteria,d=c.length,h=a.length;++s<d;){var p=t(c[s],u[s]);if(p){if(s>=h)return p;var m=a[s];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Bv=e,Bv}var qv,pN;function R3(){if(pN)return qv;pN=1;var t=ob(),e=lb(),r=Ma(),n=L5(),a=T3(),s=k5(),c=$3(),u=Js(),d=hr();function h(p,m,v){m.length?m=t(m,function(j){return d(j)?function(y){return e(y,j.length===1?j[0]:j)}:j}):m=[u];var b=-1;m=t(m,s(r));var w=n(p,function(j,y,k){var A=t(m,function(N){return N(j)});return{criteria:A,index:++b,value:j}});return a(w,function(j,y){return c(j,y,v)})}return qv=h,qv}var Uv,mN;function I3(){if(mN)return Uv;mN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Uv=t,Uv}var Fv,gN;function D3(){if(gN)return Fv;gN=1;var t=I3(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,d=e(c.length-a,0),h=Array(d);++u<d;)h[u]=c[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=c[u];return p[a]=s(h),t(n,this,p)}}return Fv=r,Fv}var zv,vN;function L3(){if(vN)return zv;vN=1;function t(e){return function(){return e}}return zv=t,zv}var Wv,yN;function B5(){if(yN)return Wv;yN=1;var t=wi(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Wv=e,Wv}var Hv,xN;function B3(){if(xN)return Hv;xN=1;var t=L3(),e=B5(),r=Js(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Hv=n,Hv}var Vv,bN;function q3(){if(bN)return Vv;bN=1;var t=800,e=16,r=Date.now;function n(a){var s=0,c=0;return function(){var u=r(),d=e-(u-c);if(c=u,d>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Vv=n,Vv}var Kv,wN;function U3(){if(wN)return Kv;wN=1;var t=B3(),e=q3(),r=e(t);return Kv=r,Kv}var Gv,jN;function F3(){if(jN)return Gv;jN=1;var t=Js(),e=D3(),r=U3();function n(a,s){return r(e(a,s,t),a+"")}return Gv=n,Gv}var Xv,_N;function Af(){if(_N)return Xv;_N=1;var t=ab(),e=oc(),r=yb(),n=Ta();function a(s,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?e(u)&&r(c,u.length):d=="string"&&c in u)?t(u[c],s):!1}return Xv=a,Xv}var Yv,SN;function z3(){if(SN)return Yv;SN=1;var t=I5(),e=R3(),r=F3(),n=Af(),a=r(function(s,c){if(s==null)return[];var u=c.length;return u>1&&n(s,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),e(s,t(c,1),[])});return Yv=a,Yv}var W3=z3();const jb=Qe(W3);function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function H3(t,e){return X3(t)||G3(t,e)||K3(t,e)||V3()}function V3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3(t,e){if(t){if(typeof t=="string")return NN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function X3(t){if(Array.isArray(t))return t}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){Y3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y3(t,e,r){return e=J3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J3(t){var e=Q3(t,"string");return xl(e)=="symbol"?e:e+""}function Q3(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z3(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var eD=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,c=e.itemStyle,u=c===void 0?{}:c,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,b=e.wrapperClassName,w=e.labelClassName,j=e.label,y=e.labelFormatter,k=e.accessibilityLayer,A=k===void 0?!1:k,N=function(){if(p&&p.length){var F={padding:0,margin:0},L=(v?jb(p,v):p).map(function(G,B){if(G.type==="none")return null;var z=Jv({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),ee=G.formatter||m||Z3,H=G.value,W=G.name,J=H,$=W;if(ee&&J!=null&&$!=null){var q=ee(H,W,G,B,p);if(Array.isArray(q)){var ne=H3(q,2);J=ne[0],$=ne[1]}else J=q}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:z},Mt($)?Y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Mt($)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},J),Y.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},E=Jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=Jv({margin:0},h),O=!qe(j),C=O?j:"",P=ze("recharts-default-tooltip",b),R=ze("recharts-tooltip-label",w);O&&y&&p!==void 0&&p!==null&&(C=y(j,p));var U=A?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",I0({className:P,style:E},U),Y.createElement("p",{className:R,style:_},Y.isValidElement(C)?C:"".concat(C)),N())};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Ou(t,e,r){return e=tD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tD(t){var e=rD(t,"string");return bl(e)=="symbol"?e:e+""}function rD(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo="recharts-tooltip-wrapper",nD={visibility:"hidden"};function aD(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ze(Fo,Ou(Ou(Ou(Ou({},"".concat(Fo,"-right"),pe(r)&&e&&pe(e.x)&&r>=e.x),"".concat(Fo,"-left"),pe(r)&&e&&pe(e.x)&&r<e.x),"".concat(Fo,"-bottom"),pe(n)&&e&&pe(e.y)&&n>=e.y),"".concat(Fo,"-top"),pe(n)&&e&&pe(e.y)&&n<e.y))}function ON(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,c=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&pe(s[n]))return s[n];var p=r[n]-u-a,m=r[n]+a;if(e[n])return c[n]?p:m;if(c[n]){var v=p,b=d[n];return v<b?Math.max(m,d[n]):Math.max(p,d[n])}var w=m+u,j=d[n]+h;return w>j?Math.max(p,d[n]):Math.max(m,d[n])}function iD(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function sD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,c=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,p,m;return c.height>0&&c.width>0&&r?(p=ON({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),m=ON({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),h=iD({translateX:p,translateY:m,useTranslate3d:u})):h=nD,{cssProperties:h,cssClasses:aD({translateX:p,translateY:m,coordinate:r})}}function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){L0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U5(n.key),n)}}function cD(t,e,r){return e&&lD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uD(t,e,r){return e=wd(e),dD(t,q5()?Reflect.construct(e,r||[],wd(t).constructor):e.apply(t,r))}function dD(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fD(t)}function fD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(t)}function hD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D0(t,e)}function L0(t,e,r){return e=U5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5(t){var e=pD(t,"string");return Os(e)=="symbol"?e:e+""}function pD(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PN=1,mD=(function(t){function e(){var r;oD(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=uD(this,e,[].concat(a)),L0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L0(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return hD(e,t),cD(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PN||Math.abs(n.height-this.state.lastBoundingBox.height)>PN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.children,p=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,b=a.offset,w=a.position,j=a.reverseDirection,y=a.useTranslate3d,k=a.viewBox,A=a.wrapperStyle,N=sD({allowEscapeViewBox:c,coordinate:p,offsetTopLeft:b,position:w,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:k}),E=N.cssClasses,_=N.cssProperties,O=EN(EN({transition:v&&s?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return Y.createElement("div",{tabIndex:-1,className:E,style:O,ref:function(P){n.wrapperNode=P}},h)}}])})(M.PureComponent),gD=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qs={isSsr:gD()};function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function CN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(r),!0).forEach(function(n){_b(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z5(n.key),n)}}function xD(t,e,r){return e&&yD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bD(t,e,r){return e=jd(e),wD(t,F5()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function wD(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jD(t)}function jD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function _D(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B0(t,e)}function _b(t,e,r){return e=z5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z5(t){var e=SD(t,"string");return As(e)=="symbol"?e:e+""}function SD(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ND(t){return t.dataKey}function kD(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(eD,e)}var vn=(function(t){function e(){return vD(this,e),bD(this,e,arguments)}return _D(e,t),xD(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.content,p=a.coordinate,m=a.filterNull,v=a.isAnimationActive,b=a.offset,w=a.payload,j=a.payloadUniqBy,y=a.position,k=a.reverseDirection,A=a.useTranslate3d,N=a.viewBox,E=a.wrapperStyle,_=w??[];m&&_.length&&(_=M5(w.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),j,ND));var O=_.length>0;return Y.createElement(mD,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:v,active:s,coordinate:p,hasPayload:O,offset:b,position:y,reverseDirection:k,useTranslate3d:A,viewBox:N,wrapperStyle:E},kD(h,TN(TN({},this.props),{},{payload:_})))}}])})(M.PureComponent);_b(vn,"displayName","Tooltip");_b(vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qv,MN;function OD(){if(MN)return Qv;MN=1;var t=kn(),e=function(){return t.Date.now()};return Qv=e,Qv}var Zv,$N;function AD(){if($N)return Zv;$N=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Zv=e,Zv}var ey,RN;function ED(){if(RN)return ey;RN=1;var t=AD(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ey=r,ey}var ty,IN;function W5(){if(IN)return ty;IN=1;var t=ED(),e=Ta(),r=Gs(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||c.test(h)?u(h.slice(2),m?2:8):a.test(h)?n:+h}return ty=d,ty}var ry,DN;function PD(){if(DN)return ry;DN=1;var t=Ta(),e=OD(),r=W5(),n="Expected a function",a=Math.max,s=Math.min;function c(u,d,h){var p,m,v,b,w,j,y=0,k=!1,A=!1,N=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(k=!!h.leading,A="maxWait"in h,v=A?a(r(h.maxWait)||0,d):v,N="trailing"in h?!!h.trailing:N);function E(L){var G=p,B=m;return p=m=void 0,y=L,b=u.apply(B,G),b}function _(L){return y=L,w=setTimeout(P,d),k?E(L):b}function O(L){var G=L-j,B=L-y,z=d-G;return A?s(z,v-B):z}function C(L){var G=L-j,B=L-y;return j===void 0||G>=d||G<0||A&&B>=v}function P(){var L=e();if(C(L))return R(L);w=setTimeout(P,O(L))}function R(L){return w=void 0,N&&p?E(L):(p=m=void 0,b)}function U(){w!==void 0&&clearTimeout(w),y=0,p=j=m=w=void 0}function I(){return w===void 0?b:R(e())}function F(){var L=e(),G=C(L);if(p=arguments,m=this,j=L,G){if(w===void 0)return _(j);if(A)return clearTimeout(w),w=setTimeout(P,d),E(j)}return w===void 0&&(w=setTimeout(P,d)),b}return F.cancel=U,F.flush=I,F}return ry=c,ry}var ny,LN;function CD(){if(LN)return ny;LN=1;var t=PD(),e=Ta(),r="Expected a function";function n(a,s,c){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),t(a,s,{leading:u,maxWait:s,trailing:d})}return ny=n,ny}var TD=CD();const H5=Qe(TD);function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){MD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MD(t,e,r){return e=$D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $D(t){var e=RD(t,"string");return wl(e)=="symbol"?e:e+""}function RD(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ID(t,e){return qD(t)||BD(t,e)||LD(t,e)||DD()}function DD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(t,e){if(t){if(typeof t=="string")return qN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(t,e)}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function qD(t){if(Array.isArray(t))return t}var UD=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,c=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,b=t.children,w=t.debounce,j=w===void 0?0:w,y=t.id,k=t.className,A=t.onResize,N=t.style,E=N===void 0?{}:N,_=M.useRef(null),O=M.useRef();O.current=A,M.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=M.useState({containerWidth:a.width,containerHeight:a.height}),P=ID(C,2),R=P[0],U=P[1],I=M.useCallback(function(L,G){U(function(B){var z=Math.round(L),ee=Math.round(G);return B.containerWidth===z&&B.containerHeight===ee?B:{containerWidth:z,containerHeight:ee}})},[]);M.useEffect(function(){var L=function(W){var J,$=W[0].contentRect,q=$.width,ne=$.height;I(q,ne),(J=O.current)===null||J===void 0||J.call(O,q,ne)};j>0&&(L=H5(L,j,{trailing:!0,leading:!1}));var G=new ResizeObserver(L),B=_.current.getBoundingClientRect(),z=B.width,ee=B.height;return I(z,ee),G.observe(_.current),function(){G.disconnect()}},[I,j]);var F=M.useMemo(function(){var L=R.containerWidth,G=R.containerHeight;if(L<0||G<0)return null;hi(si(c)||si(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),hi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=si(c)?L:c,z=si(d)?G:d;r&&r>0&&(B?z=B/r:z&&(B=z*r),v&&z>v&&(z=v)),hi(B>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,z,c,d,p,m,r);var ee=!Array.isArray(b)&&qn(b.type).endsWith("Chart");return Y.Children.map(b,function(H){return Y.isValidElement(H)?M.cloneElement(H,Au({width:B,height:z},ee?{style:Au({height:"100%",width:"100%",maxHeight:z,maxWidth:B},H.props.style)}:{})):H})},[r,b,d,v,m,p,R,c]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:ze("recharts-responsive-container",k),style:Au(Au({},E),{},{width:c,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:_},F)}),V5=function(e){return null};V5.displayName="Cell";function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){FD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FD(t,e,r){return e=zD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zD(t){var e=WD(t,"string");return jl(e)=="symbol"?e:e+""}function WD(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xi={widthCache:{},cacheCount:0},HD=2e3,VD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FN="recharts_measurement_span";function KD(t){var e=q0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ll=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qs.isSsr)return{width:0,height:0};var n=KD(r),a=JSON.stringify({text:e,copyStyle:n});if(Xi.widthCache[a])return Xi.widthCache[a];try{var s=document.getElementById(FN);s||(s=document.createElement("span"),s.setAttribute("id",FN),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=q0(q0({},VD),n);Object.assign(s.style,c),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Xi.widthCache[a]=d,++Xi.cacheCount>HD&&(Xi.cacheCount=0,Xi.widthCache={}),d}catch{return{width:0,height:0}}},GD=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function _d(t,e){return QD(t)||JD(t,e)||YD(t,e)||XD()}function XD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YD(t,e){if(t){if(typeof t=="string")return zN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(t,e)}}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function QD(t){if(Array.isArray(t))return t}function ZD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t7(n.key),n)}}function e7(t,e,r){return e&&WN(t.prototype,e),r&&WN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7(t){var e=r7(t,"string");return _l(e)=="symbol"?e:e+""}function r7(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,a7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i7=Object.keys(K5),ds="NaN";function s7(t,e){return t*K5[e]}var Eu=(function(){function t(e,r){ZD(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!n7.test(r)&&(this.num=NaN,this.unit=""),i7.includes(r)&&(this.num=s7(e,r),this.unit="px")}return e7(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=a7.exec(r))!==null&&n!==void 0?n:[],s=_d(a,3),c=s[1],u=s[2];return new t(parseFloat(c),u??"")}}])})();function G5(t){if(t.includes(ds))return ds;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=HN.exec(e))!==null&&r!==void 0?r:[],a=_d(n,4),s=a[1],c=a[2],u=a[3],d=Eu.parse(s??""),h=Eu.parse(u??""),p=c==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return ds;e=e.replace(HN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=VN.exec(e))!==null&&m!==void 0?m:[],b=_d(v,4),w=b[1],j=b[2],y=b[3],k=Eu.parse(w??""),A=Eu.parse(y??""),N=j==="+"?k.add(A):k.subtract(A);if(N.isNaN())return ds;e=e.replace(VN,N.toString())}return e}var KN=/\(([^()]*)\)/;function o7(t){for(var e=t;e.includes("(");){var r=KN.exec(e),n=_d(r,2),a=n[1];e=e.replace(KN,G5(a))}return e}function l7(t){var e=t.replace(/\s+/g,"");return e=o7(e),e=G5(e),e}function c7(t){try{return l7(t)}catch{return ds}}function ay(t){var e=c7(t.slice(5,-1));return e===ds?"":e}var u7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],d7=["dx","dy","angle","className","breakAll"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function GN(t,e){if(t==null)return{};var r=f7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XN(t,e){return g7(t)||m7(t,e)||p7(t,e)||h7()}function h7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(t,e){if(t){if(typeof t=="string")return YN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(t,e)}}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function g7(t){if(Array.isArray(t))return t}var X5=/[ \f\n\r\t\v\u2028\u2029]+/,Y5=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];qe(r)||(n?s=r.toString().split(""):s=r.toString().split(X5));var c=s.map(function(d){return{word:d,width:ll(d,a).width}}),u=n?0:ll("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},v7=function(e,r,n,a,s){var c=e.maxLines,u=e.children,d=e.style,h=e.breakAll,p=pe(c),m=u,v=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(z,ee){var H=ee.word,W=ee.width,J=z[z.length-1];if(J&&(a==null||s||J.width+W+n<Number(a)))J.words.push(H),J.width+=W+n;else{var $={words:[H],width:W};z.push($)}return z},[])},b=v(r),w=function(B){return B.reduce(function(z,ee){return z.width>ee.width?z:ee})};if(!p)return b;for(var j="",y=function(B){var z=m.slice(0,B),ee=Y5({breakAll:h,style:d,children:z+j}).wordsWithComputedWidth,H=v(ee),W=H.length>c||w(H).width>Number(a);return[W,H]},k=0,A=m.length-1,N=0,E;k<=A&&N<=m.length-1;){var _=Math.floor((k+A)/2),O=_-1,C=y(O),P=XN(C,2),R=P[0],U=P[1],I=y(_),F=XN(I,1),L=F[0];if(!R&&!L&&(k=_+1),R&&L&&(A=_-1),!R&&L){E=U;break}N++}return E||b},JN=function(e){var r=qe(e)?[]:e.toString().split(X5);return[{words:r}]},y7=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,c=e.breakAll,u=e.maxLines;if((r||n)&&!Qs.isSsr){var d,h,p=Y5({breakAll:c,children:a,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,h=v}else return JN(a);return v7({breakAll:c,children:a,maxLines:u,style:s},d,h,r,n)}return JN(a)},QN="#808080",Sd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.lineHeight,u=c===void 0?"1em":c,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,b=v===void 0?"start":v,w=e.verticalAnchor,j=w===void 0?"end":w,y=e.fill,k=y===void 0?QN:y,A=GN(e,u7),N=M.useMemo(function(){return y7({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),E=A.dx,_=A.dy,O=A.angle,C=A.className,P=A.breakAll,R=GN(A,d7);if(!Mt(n)||!Mt(s))return null;var U=n+(pe(E)?E:0),I=s+(pe(_)?_:0),F;switch(j){case"start":F=ay("calc(".concat(h,")"));break;case"middle":F=ay("calc(".concat((N.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:F=ay("calc(".concat(N.length-1," * -").concat(u,")"));break}var L=[];if(m){var G=N[0].width,B=A.width;L.push("scale(".concat((pe(B)?B/G:1)/G,")"))}return O&&L.push("rotate(".concat(O,", ").concat(U,", ").concat(I,")")),L.length&&(R.transform=L.join(" ")),Y.createElement("text",U0({},Be(R,!0),{x:U,y:I,className:ze("recharts-text",C),textAnchor:b,fill:k.includes("url")?QN:k}),N.map(function(z,ee){var H=z.words.join(P?"":" ");return Y.createElement("tspan",{x:U,dy:ee===0?F:u,key:"".concat(H,"-").concat(ee)},H)}))};function Aa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function x7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sb(t){let e,r,n;t.length!==2?(e=Aa,r=(u,d)=>Aa(t(u),d),n=(u,d)=>t(u)-d):(e=t===Aa||t===x7?t:b7,r=t,n=t);function a(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function c(u,d,h=0,p=u.length){const m=a(u,d,h,p-1);return m>h&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:c,right:s}}function b7(){return 0}function J5(t){return t===null?NaN:+t}function*w7(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const j7=Sb(Aa),lc=j7.right;Sb(J5).center;class ZN extends Map{constructor(e,r=N7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(ek(this,e))}has(e){return super.has(ek(this,e))}set(e,r){return super.set(_7(this,e),r)}delete(e){return super.delete(S7(this,e))}}function ek({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _7({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function S7({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function N7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function k7(t=Aa){if(t===Aa)return Q5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Q5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const O7=Math.sqrt(50),A7=Math.sqrt(10),E7=Math.sqrt(2);function Nd(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=O7?10:s>=A7?5:s>=E7?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/c,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*c,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?Nd(t,e,r*2):[u,d,h]}function F0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,c]=n?Nd(e,t,r):Nd(t,e,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)d[h]=(s-h)/-c;else for(let h=0;h<u;++h)d[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)d[h]=(a+h)/-c;else for(let h=0;h<u;++h)d[h]=(a+h)*c;return d}function z0(t,e,r){return e=+e,t=+t,r=+r,Nd(t,e,r)[2]}function W0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?z0(e,t,r):z0(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function tk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Z5(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Q5:k7(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),b=Math.max(r,Math.floor(e-h*m/d+v)),w=Math.min(n,Math.floor(e+(d-h)*m/d+v));Z5(t,e,b,w,a)}const s=t[e];let c=r,u=n;for(zo(t,r,e),a(t[n],s)>0&&zo(t,r,n);c<u;){for(zo(t,c,u),++c,--u;a(t[c],s)<0;)++c;for(;a(t[u],s)>0;)--u}a(t[r],s)===0?zo(t,r,u):(++u,zo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function zo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function P7(t,e,r){if(t=Float64Array.from(w7(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return rk(t);if(e>=1)return tk(t);var n,a=(n-1)*e,s=Math.floor(a),c=tk(Z5(t,s).subarray(0,s+1)),u=rk(t.subarray(s+1));return c+(u-c)*(a-s)}}function C7(t,e,r=J5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),c=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return c+(u-c)*(a-s)}}function T7(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H0=Symbol("implicit");function Nb(){var t=new ZN,e=[],r=[],n=H0;function a(s){let c=t.get(s);if(c===void 0){if(n!==H0)return n;t.set(s,c=e.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ZN;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Nb(e,r).unknown(n)},qr.apply(a,arguments),a}function Sl(){var t=Nb().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,c,u=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,b=a<n,w=b?a:n,j=b?n:a;s=(j-w)/Math.max(1,v-d+h*2),u&&(s=Math.floor(s)),w+=(j-w-s*(v-d))*p,c=s*(1-d),u&&(w=Math.round(w),c=Math.round(c));var y=T7(v).map(function(k){return w+s*k});return r(b?y.reverse():y)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,m()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Sl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(p)},qr.apply(m(),arguments)}function eP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eP(e())},t}function cl(){return eP(Sl.apply(null,arguments).paddingInner(1))}function kb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function tP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function cc(){}var Nl=.7,kd=1/Nl,xs="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M7=/^#([0-9a-f]{3,8})$/,$7=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),R7=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),I7=new RegExp(`^rgba\\(${xs},${xs},${xs},${kl}\\)$`),D7=new RegExp(`^rgba\\(${_n},${_n},${_n},${kl}\\)$`),L7=new RegExp(`^hsl\\(${kl},${_n},${_n}\\)$`),B7=new RegExp(`^hsla\\(${kl},${_n},${_n},${kl}\\)$`),nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kb(cc,Ol,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ak,formatHex:ak,formatHex8:q7,formatHsl:U7,formatRgb:ik,toString:ik});function ak(){return this.rgb().formatHex()}function q7(){return this.rgb().formatHex8()}function U7(){return rP(this).formatHsl()}function ik(){return this.rgb().formatRgb()}function Ol(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=M7.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?sk(e):r===3?new fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Pu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Pu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$7.exec(t))?new fr(e[1],e[2],e[3],1):(e=R7.exec(t))?new fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I7.exec(t))?Pu(e[1],e[2],e[3],e[4]):(e=D7.exec(t))?Pu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=L7.exec(t))?ck(e[1],e[2]/100,e[3]/100,1):(e=B7.exec(t))?ck(e[1],e[2]/100,e[3]/100,e[4]):nk.hasOwnProperty(t)?sk(nk[t]):t==="transparent"?new fr(NaN,NaN,NaN,0):null}function sk(t){return new fr(t>>16&255,t>>8&255,t&255,1)}function Pu(t,e,r,n){return n<=0&&(t=e=r=NaN),new fr(t,e,r,n)}function F7(t){return t instanceof cc||(t=Ol(t)),t?(t=t.rgb(),new fr(t.r,t.g,t.b,t.opacity)):new fr}function V0(t,e,r,n){return arguments.length===1?F7(t):new fr(t,e,r,n??1)}function fr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}kb(fr,V0,tP(cc,{brighter(t){return t=t==null?kd:Math.pow(kd,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nl:Math.pow(Nl,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fr(pi(this.r),pi(this.g),pi(this.b),Od(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ok,formatHex:ok,formatHex8:z7,formatRgb:lk,toString:lk}));function ok(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function z7(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function lk(){const t=Od(this.opacity);return`${t===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${t===1?")":`, ${t})`}`}function Od(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oi(t){return t=pi(t),(t<16?"0":"")+t.toString(16)}function ck(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new en(t,e,r,n)}function rP(t){if(t instanceof en)return new en(t.h,t.s,t.l,t.opacity);if(t instanceof cc||(t=Ol(t)),!t)return new en;if(t instanceof en)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),c=NaN,u=s-a,d=(s+a)/2;return u?(e===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-e)/u+2:c=(e-r)/u+4,u/=d<.5?s+a:2-s-a,c*=60):u=d>0&&d<1?0:c,new en(c,u,d,t.opacity)}function W7(t,e,r,n){return arguments.length===1?rP(t):new en(t,e,r,n??1)}function en(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}kb(en,W7,tP(cc,{brighter(t){return t=t==null?kd:Math.pow(kd,t),new en(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nl:Math.pow(Nl,t),new en(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new fr(iy(t>=240?t-240:t+120,a,n),iy(t,a,n),iy(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new en(uk(this.h),Cu(this.s),Cu(this.l),Od(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Od(this.opacity);return`${t===1?"hsl(":"hsla("}${uk(this.h)}, ${Cu(this.s)*100}%, ${Cu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uk(t){return t=(t||0)%360,t<0?t+360:t}function Cu(t){return Math.max(0,Math.min(1,t||0))}function iy(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ob=t=>()=>t;function H7(t,e){return function(r){return t+r*e}}function V7(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function K7(t){return(t=+t)==1?nP:function(e,r){return r-e?V7(e,r,t):Ob(isNaN(e)?r:e)}}function nP(t,e){var r=e-t;return r?H7(t,r):Ob(isNaN(t)?e:t)}const dk=(function t(e){var r=K7(e);function n(a,s){var c=r((a=V0(a)).r,(s=V0(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),h=nP(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=t,n})(1);function G7(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function X7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Y7(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Zs(t[c],e[c]);for(;c<r;++c)s[c]=e[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function J7(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ad(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Q7(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Zs(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var K0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(K0.source,"g");function Z7(t){return function(){return t}}function eL(t){return function(e){return t(e)+""}}function tL(t,e){var r=K0.lastIndex=sy.lastIndex=0,n,a,s,c=-1,u=[],d=[];for(t=t+"",e=e+"";(n=K0.exec(t))&&(a=sy.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:Ad(n,a)})),r=sy.lastIndex;return r<e.length&&(s=e.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?eL(d[0].x):Z7(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function Zs(t,e){var r=typeof e,n;return e==null||r==="boolean"?Ob(e):(r==="number"?Ad:r==="string"?(n=Ol(e))?(e=n,dk):tL:e instanceof Ol?dk:e instanceof Date?J7:X7(e)?G7:Array.isArray(e)?Y7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Q7:Ad)(t,e)}function Ab(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function rL(t,e){e===void 0&&(e=t,t=Zs);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function nL(t){return function(){return t}}function Ed(t){return+t}var fk=[0,1];function nr(t){return t}function G0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:nL(isNaN(e)?NaN:.5)}function aL(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iL(t,e,r){var n=t[0],a=t[1],s=e[0],c=e[1];return a<n?(n=G0(a,n),s=r(c,s)):(n=G0(n,a),s=r(s,c)),function(u){return s(n(u))}}function sL(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=G0(t[c],t[c+1]),s[c]=r(e[c],e[c+1]);return function(u){var d=lc(t,u,1,n)-1;return s[d](a[d](u))}}function uc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ef(){var t=fk,e=fk,r=Zs,n,a,s,c=nr,u,d,h;function p(){var v=Math.min(t.length,e.length);return c!==nr&&(c=aL(t[0],t[v-1])),u=v>2?sL:iL,d=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(d||(d=u(t.map(n),e,r)))(n(c(v)))}return m.invert=function(v){return c(a((h||(h=u(e,t.map(n),Ad)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Ed),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=Ab,p()},m.clamp=function(v){return arguments.length?(c=v?!0:nr,p()):c!==nr},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,b){return n=v,a=b,p()}}function Eb(){return Ef()(nr,nr)}function oL(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Es(t){return t=Pd(Math.abs(t)),t?t[1]:NaN}function lL(t,e){return function(r,n){for(var a=r.length,s=[],c=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function cL(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var uL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Al(t){if(!(e=uL.exec(t)))throw new Error("invalid format: "+t);var e;return new Pb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Al.prototype=Pb.prototype;function Pb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dL(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var aP;function fL(t,e){var r=Pd(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(aP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pd(t,Math.max(0,e+s-1))[0]}function hk(t,e){var r=Pd(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oL,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hk(t*100,e),r:hk,s:fL,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mk(t){return t}var gk=Array.prototype.map,vk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hL(t){var e=t.grouping===void 0||t.thousands===void 0?mk:lL(gk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?mk:cL(gk.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Al(m);var v=m.fill,b=m.align,w=m.sign,j=m.symbol,y=m.zero,k=m.width,A=m.comma,N=m.precision,E=m.trim,_=m.type;_==="n"?(A=!0,_="g"):pk[_]||(N===void 0&&(N=12),E=!0,_="g"),(y||v==="0"&&b==="=")&&(y=!0,v="0",b="=");var O=j==="$"?r:j==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=j==="$"?n:/[%p]/.test(_)?c:"",P=pk[_],R=/[defgprs%]/.test(_);N=N===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function U(I){var F=O,L=C,G,B,z;if(_==="c")L=P(I)+L,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?d:P(Math.abs(I),N),E&&(I=dL(I)),ee&&+I==0&&w!=="+"&&(ee=!1),F=(ee?w==="("?w:u:w==="-"||w==="("?"":w)+F,L=(_==="s"?vk[8+aP/3]:"")+L+(ee&&w==="("?")":""),R){for(G=-1,B=I.length;++G<B;)if(z=I.charCodeAt(G),48>z||z>57){L=(z===46?a+I.slice(G+1):I.slice(G))+L,I=I.slice(0,G);break}}}A&&!y&&(I=e(I,1/0));var H=F.length+I.length+L.length,W=H<k?new Array(k-H+1).join(v):"";switch(A&&y&&(I=e(W+I,W.length?k-L.length:1/0),W=""),b){case"<":I=F+I+L+W;break;case"=":I=F+W+I+L;break;case"^":I=W.slice(0,H=W.length>>1)+F+I+L+W.slice(H);break;default:I=W+F+I+L;break}return s(I)}return U.toString=function(){return m+""},U}function p(m,v){var b=h((m=Al(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Es(v)/3)))*3,j=Math.pow(10,-w),y=vk[8+w/3];return function(k){return b(j*k)+y}}return{format:h,formatPrefix:p}}var Tu,Cb,iP;pL({thousands:",",grouping:[3],currency:["$",""]});function pL(t){return Tu=hL(t),Cb=Tu.format,iP=Tu.formatPrefix,Tu}function mL(t){return Math.max(0,-Es(Math.abs(t)))}function gL(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(e)/3)))*3-Es(Math.abs(t)))}function vL(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Es(e)-Es(t))+1}function sP(t,e,r,n){var a=W0(t,e,r),s;switch(n=Al(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=gL(a,c))&&(n.precision=s),iP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vL(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=mL(a))&&(n.precision=s-(n.type==="%")*2);break}}return Cb(n)}function $a(t){var e=t.domain;return t.ticks=function(r){var n=e();return F0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return sP(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,c=n[a],u=n[s],d,h,p=10;for(u<c&&(h=c,c=u,u=h,h=a,a=s,s=h);p-- >0;){if(h=z0(c,u,r),h===d)return n[a]=c,n[s]=u,e(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function Cd(){var t=Eb();return t.copy=function(){return uc(t,Cd())},qr.apply(t,arguments),$a(t)}function oP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ed),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return oP(t).unknown(e)},t=arguments.length?Array.from(t,Ed):[0,1],$a(r)}function lP(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),t[r]=e.floor(a),t[n]=e.ceil(s),t}function yk(t){return Math.log(t)}function xk(t){return Math.exp(t)}function yL(t){return-Math.log(-t)}function xL(t){return-Math.exp(-t)}function bL(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wL(t){return t===10?bL:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jL(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bk(t){return(e,r)=>-t(-e,r)}function Tb(t){const e=t(yk,xk),r=e.domain;let n=10,a,s;function c(){return a=jL(n),s=wL(n),r()[0]<0?(a=bk(a),s=bk(s),t(yL,xL)):t(yk,xk),e}return e.base=function(u){return arguments.length?(n=+u,c()):n},e.domain=function(u){return arguments.length?(r(u),c()):r()},e.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=a(h),b=a(p),w,j;const y=u==null?10:+u;let k=[];if(!(n%1)&&b-v<y){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(w=1;w<n;++w)if(j=v<0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;k.push(j)}}else for(;v<=b;++v)for(w=n-1;w>=1;--w)if(j=v>0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;k.push(j)}k.length*2<y&&(k=F0(h,p,y))}else k=F0(v,b,Math.min(b-v,y)).map(s);return m?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Al(d)).precision==null&&(d.trim=!0),d=Cb(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/s(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(lP(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function cP(){const t=Tb(Ef()).domain([1,10]);return t.copy=()=>uc(t,cP()).base(t.base()),qr.apply(t,arguments),t}function wk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mb(t){var e=1,r=t(wk(e),jk(e));return r.constant=function(n){return arguments.length?t(wk(e=+n),jk(e)):e},$a(r)}function uP(){var t=Mb(Ef());return t.copy=function(){return uc(t,uP()).constant(t.constant())},qr.apply(t,arguments)}function _k(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _L(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SL(t){return t<0?-t*t:t*t}function $b(t){var e=t(nr,nr),r=1;function n(){return r===1?t(nr,nr):r===.5?t(_L,SL):t(_k(r),_k(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(e)}function Rb(){var t=$b(Ef());return t.copy=function(){return uc(t,Rb()).exponent(t.exponent())},qr.apply(t,arguments),t}function NL(){return Rb.apply(null,arguments).exponent(.5)}function Sk(t){return Math.sign(t)*t*t}function kL(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dP(){var t=Eb(),e=[0,1],r=!1,n;function a(s){var c=kL(t(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return t.invert(Sk(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ed)).map(Sk)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return dP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qr.apply(a,arguments),$a(a)}function fP(){var t=[],e=[],r=[],n;function a(){var c=0,u=Math.max(1,e.length);for(r=new Array(u-1);++c<u;)r[c-1]=C7(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:e[lc(r,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Aa),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return fP().domain(t).range(e).unknown(n)},qr.apply(s,arguments)}function hP(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function c(d){return d!=null&&d<=d?a[lc(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return c}return c.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},c.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},c.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},c.unknown=function(d){return arguments.length&&(s=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return hP().domain([t,e]).range(a).unknown(s)},qr.apply($a(c),arguments)}function pP(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[lc(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pP().domain(t).range(e).unknown(r)},qr.apply(a,arguments)}const oy=new Date,ly=new Date;function $t(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<c);return d},a.filter=s=>$t(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),r&&(a.count=(s,c)=>(oy.setTime(+s),ly.setTime(+c),t(oy),t(ly),Math.floor(r(oy,ly))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Td=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Td.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Td);Td.range;const Ln=1e3,Dr=Ln*60,Bn=Dr*60,Wn=Bn*24,Ib=Wn*7,Nk=Wn*30,cy=Wn*365,li=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getUTCSeconds());li.range;const Db=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln)},(t,e)=>{t.setTime(+t+e*Dr)},(t,e)=>(e-t)/Dr,t=>t.getMinutes());Db.range;const Lb=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dr)},(t,e)=>(e-t)/Dr,t=>t.getUTCMinutes());Lb.range;const Bb=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln-t.getMinutes()*Dr)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getHours());Bb.range;const qb=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCHours());qb.range;const dc=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Wn,t=>t.getDate()-1);dc.range;const Pf=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wn,t=>t.getUTCDate()-1);Pf.range;const mP=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wn,t=>Math.floor(t/Wn));mP.range;function ji(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Ib)}const Cf=ji(0),Md=ji(1),OL=ji(2),AL=ji(3),Ps=ji(4),EL=ji(5),PL=ji(6);Cf.range;Md.range;OL.range;AL.range;Ps.range;EL.range;PL.range;function _i(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Ib)}const Tf=_i(0),$d=_i(1),CL=_i(2),TL=_i(3),Cs=_i(4),ML=_i(5),$L=_i(6);Tf.range;$d.range;CL.range;TL.range;Cs.range;ML.range;$L.range;const Ub=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ub.range;const Fb=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fb.range;const Hn=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Hn.range;const Vn=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Vn.range;function gP(t,e,r,n,a,s){const c=[[li,1,Ln],[li,5,5*Ln],[li,15,15*Ln],[li,30,30*Ln],[s,1,Dr],[s,5,5*Dr],[s,15,15*Dr],[s,30,30*Dr],[a,1,Bn],[a,3,3*Bn],[a,6,6*Bn],[a,12,12*Bn],[n,1,Wn],[n,2,2*Wn],[r,1,Ib],[e,1,Nk],[e,3,3*Nk],[t,1,cy]];function u(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const b=m&&typeof m.range=="function"?m:d(h,p,m),w=b?b.range(h,+p+1):[];return v?w.reverse():w}function d(h,p,m){const v=Math.abs(p-h)/m,b=Sb(([,,y])=>y).right(c,v);if(b===c.length)return t.every(W0(h/cy,p/cy,m));if(b===0)return Td.every(Math.max(W0(h,p,m),1));const[w,j]=c[v/c[b-1][2]<c[b][2]/v?b-1:b];return w.every(j)}return[u,d]}const[RL,IL]=gP(Vn,Fb,Tf,mP,qb,Lb),[DL,LL]=gP(Hn,Ub,Cf,dc,Bb,Db);function uy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function BL(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,c=t.shortDays,u=t.months,d=t.shortMonths,h=Ho(a),p=Vo(a),m=Ho(s),v=Vo(s),b=Ho(c),w=Vo(c),j=Ho(u),y=Vo(u),k=Ho(d),A=Vo(d),N={a:ee,A:H,b:W,B:J,c:null,d:Ck,e:Ck,f:l6,g:y6,G:b6,H:i6,I:s6,j:o6,L:vP,m:c6,M:u6,p:$,q,Q:$k,s:Rk,S:d6,u:f6,U:h6,V:p6,w:m6,W:g6,x:null,X:null,y:v6,Y:x6,Z:w6,"%":Mk},E={a:ne,A:se,b:ie,B:me,c:null,d:Tk,e:Tk,f:N6,g:R6,G:D6,H:j6,I:_6,j:S6,L:xP,m:k6,M:O6,p:Me,q:ge,Q:$k,s:Rk,S:A6,u:E6,U:P6,V:C6,w:T6,W:M6,x:null,X:null,y:$6,Y:I6,Z:L6,"%":Mk},_={a:U,A:I,b:F,B:L,c:G,d:Ek,e:Ek,f:t6,g:Ak,G:Ok,H:Pk,I:Pk,j:JL,L:e6,m:YL,M:QL,p:R,q:XL,Q:n6,s:a6,S:ZL,u:WL,U:HL,V:VL,w:zL,W:KL,x:B,X:z,y:Ak,Y:Ok,Z:GL,"%":r6};N.x=O(r,N),N.X=O(n,N),N.c=O(e,N),E.x=O(r,E),E.X=O(n,E),E.c=O(e,E);function O(oe,be){return function(ke){var Z=[],Se=-1,Ie=0,Ve=oe.length,et,gt,he;for(ke instanceof Date||(ke=new Date(+ke));++Se<Ve;)oe.charCodeAt(Se)===37&&(Z.push(oe.slice(Ie,Se)),(gt=kk[et=oe.charAt(++Se)])!=null?et=oe.charAt(++Se):gt=et==="e"?" ":"0",(he=be[et])&&(et=he(ke,gt)),Z.push(et),Ie=Se+1);return Z.push(oe.slice(Ie,Se)),Z.join("")}}function C(oe,be){return function(ke){var Z=Wo(1900,void 0,1),Se=P(Z,oe,ke+="",0),Ie,Ve;if(Se!=ke.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(be&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ie=dy(Wo(Z.y,0,1)),Ve=Ie.getUTCDay(),Ie=Ve>4||Ve===0?$d.ceil(Ie):$d(Ie),Ie=Pf.offset(Ie,(Z.V-1)*7),Z.y=Ie.getUTCFullYear(),Z.m=Ie.getUTCMonth(),Z.d=Ie.getUTCDate()+(Z.w+6)%7):(Ie=uy(Wo(Z.y,0,1)),Ve=Ie.getDay(),Ie=Ve>4||Ve===0?Md.ceil(Ie):Md(Ie),Ie=dc.offset(Ie,(Z.V-1)*7),Z.y=Ie.getFullYear(),Z.m=Ie.getMonth(),Z.d=Ie.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ve="Z"in Z?dy(Wo(Z.y,0,1)).getUTCDay():uy(Wo(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ve+5)%7:Z.w+Z.U*7-(Ve+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,dy(Z)):uy(Z)}}function P(oe,be,ke,Z){for(var Se=0,Ie=be.length,Ve=ke.length,et,gt;Se<Ie;){if(Z>=Ve)return-1;if(et=be.charCodeAt(Se++),et===37){if(et=be.charAt(Se++),gt=_[et in kk?be.charAt(Se++):et],!gt||(Z=gt(oe,ke,Z))<0)return-1}else if(et!=ke.charCodeAt(Z++))return-1}return Z}function R(oe,be,ke){var Z=h.exec(be.slice(ke));return Z?(oe.p=p.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function U(oe,be,ke){var Z=b.exec(be.slice(ke));return Z?(oe.w=w.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function I(oe,be,ke){var Z=m.exec(be.slice(ke));return Z?(oe.w=v.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function F(oe,be,ke){var Z=k.exec(be.slice(ke));return Z?(oe.m=A.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function L(oe,be,ke){var Z=j.exec(be.slice(ke));return Z?(oe.m=y.get(Z[0].toLowerCase()),ke+Z[0].length):-1}function G(oe,be,ke){return P(oe,e,be,ke)}function B(oe,be,ke){return P(oe,r,be,ke)}function z(oe,be,ke){return P(oe,n,be,ke)}function ee(oe){return c[oe.getDay()]}function H(oe){return s[oe.getDay()]}function W(oe){return d[oe.getMonth()]}function J(oe){return u[oe.getMonth()]}function $(oe){return a[+(oe.getHours()>=12)]}function q(oe){return 1+~~(oe.getMonth()/3)}function ne(oe){return c[oe.getUTCDay()]}function se(oe){return s[oe.getUTCDay()]}function ie(oe){return d[oe.getUTCMonth()]}function me(oe){return u[oe.getUTCMonth()]}function Me(oe){return a[+(oe.getUTCHours()>=12)]}function ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var be=O(oe+="",N);return be.toString=function(){return oe},be},parse:function(oe){var be=C(oe+="",!1);return be.toString=function(){return oe},be},utcFormat:function(oe){var be=O(oe+="",E);return be.toString=function(){return oe},be},utcParse:function(oe){var be=C(oe+="",!0);return be.toString=function(){return oe},be}}}var kk={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,qL=/^%/,UL=/[\\^$*+?|[\]().{}]/g;function He(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function FL(t){return t.replace(UL,"\\$&")}function Ho(t){return new RegExp("^(?:"+t.map(FL).join("|")+")","i")}function Vo(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function zL(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function WL(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function HL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function VL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function KL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Ok(t,e,r){var n=Bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Ak(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GL(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XL(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Ek(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function JL(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Pk(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function QL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ZL(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function t6(t,e,r){var n=Bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function r6(t,e,r){var n=qL.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function n6(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function a6(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Ck(t,e){return He(t.getDate(),e,2)}function i6(t,e){return He(t.getHours(),e,2)}function s6(t,e){return He(t.getHours()%12||12,e,2)}function o6(t,e){return He(1+dc.count(Hn(t),t),e,3)}function vP(t,e){return He(t.getMilliseconds(),e,3)}function l6(t,e){return vP(t,e)+"000"}function c6(t,e){return He(t.getMonth()+1,e,2)}function u6(t,e){return He(t.getMinutes(),e,2)}function d6(t,e){return He(t.getSeconds(),e,2)}function f6(t){var e=t.getDay();return e===0?7:e}function h6(t,e){return He(Cf.count(Hn(t)-1,t),e,2)}function yP(t){var e=t.getDay();return e>=4||e===0?Ps(t):Ps.ceil(t)}function p6(t,e){return t=yP(t),He(Ps.count(Hn(t),t)+(Hn(t).getDay()===4),e,2)}function m6(t){return t.getDay()}function g6(t,e){return He(Md.count(Hn(t)-1,t),e,2)}function v6(t,e){return He(t.getFullYear()%100,e,2)}function y6(t,e){return t=yP(t),He(t.getFullYear()%100,e,2)}function x6(t,e){return He(t.getFullYear()%1e4,e,4)}function b6(t,e){var r=t.getDay();return t=r>=4||r===0?Ps(t):Ps.ceil(t),He(t.getFullYear()%1e4,e,4)}function w6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function Tk(t,e){return He(t.getUTCDate(),e,2)}function j6(t,e){return He(t.getUTCHours(),e,2)}function _6(t,e){return He(t.getUTCHours()%12||12,e,2)}function S6(t,e){return He(1+Pf.count(Vn(t),t),e,3)}function xP(t,e){return He(t.getUTCMilliseconds(),e,3)}function N6(t,e){return xP(t,e)+"000"}function k6(t,e){return He(t.getUTCMonth()+1,e,2)}function O6(t,e){return He(t.getUTCMinutes(),e,2)}function A6(t,e){return He(t.getUTCSeconds(),e,2)}function E6(t){var e=t.getUTCDay();return e===0?7:e}function P6(t,e){return He(Tf.count(Vn(t)-1,t),e,2)}function bP(t){var e=t.getUTCDay();return e>=4||e===0?Cs(t):Cs.ceil(t)}function C6(t,e){return t=bP(t),He(Cs.count(Vn(t),t)+(Vn(t).getUTCDay()===4),e,2)}function T6(t){return t.getUTCDay()}function M6(t,e){return He($d.count(Vn(t)-1,t),e,2)}function $6(t,e){return He(t.getUTCFullYear()%100,e,2)}function R6(t,e){return t=bP(t),He(t.getUTCFullYear()%100,e,2)}function I6(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function D6(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Cs(t):Cs.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function L6(){return"+0000"}function Mk(){return"%"}function $k(t){return+t}function Rk(t){return Math.floor(+t/1e3)}var Yi,wP,jP;B6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B6(t){return Yi=BL(t),wP=Yi.format,Yi.parse,jP=Yi.utcFormat,Yi.utcParse,Yi}function q6(t){return new Date(t)}function U6(t){return t instanceof Date?+t:+new Date(+t)}function zb(t,e,r,n,a,s,c,u,d,h){var p=Eb(),m=p.invert,v=p.domain,b=h(".%L"),w=h(":%S"),j=h("%I:%M"),y=h("%I %p"),k=h("%a %d"),A=h("%b %d"),N=h("%B"),E=h("%Y");function _(O){return(d(O)<O?b:u(O)<O?w:c(O)<O?j:s(O)<O?y:n(O)<O?a(O)<O?k:A:r(O)<O?N:E)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?v(Array.from(O,U6)):v().map(q6)},p.ticks=function(O){var C=v();return t(C[0],C[C.length-1],O??10)},p.tickFormat=function(O,C){return C==null?_:h(C)},p.nice=function(O){var C=v();return(!O||typeof O.range!="function")&&(O=e(C[0],C[C.length-1],O??10)),O?v(lP(C,O)):p},p.copy=function(){return uc(p,zb(t,e,r,n,a,s,c,u,d,h))},p}function F6(){return qr.apply(zb(DL,LL,Hn,Ub,Cf,dc,Bb,Db,li,wP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z6(){return qr.apply(zb(RL,IL,Vn,Fb,Tf,Pf,qb,Lb,li,jP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mf(){var t=0,e=1,r,n,a,s,c=nr,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:c(a===0?.5:(m=(s(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(v){var b,w;return arguments.length?([b,w]=v,c=m(b,w),h):[c(0),c(1)]}}return h.range=p(Zs),h.rangeRound=p(Ab),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),h}}function Ra(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _P(){var t=$a(Mf()(nr));return t.copy=function(){return Ra(t,_P())},Jn.apply(t,arguments)}function SP(){var t=Tb(Mf()).domain([1,10]);return t.copy=function(){return Ra(t,SP()).base(t.base())},Jn.apply(t,arguments)}function NP(){var t=Mb(Mf());return t.copy=function(){return Ra(t,NP()).constant(t.constant())},Jn.apply(t,arguments)}function Wb(){var t=$b(Mf());return t.copy=function(){return Ra(t,Wb()).exponent(t.exponent())},Jn.apply(t,arguments)}function W6(){return Wb.apply(null,arguments).exponent(.5)}function kP(){var t=[],e=nr;function r(n){if(n!=null&&!isNaN(n=+n))return e((lc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Aa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>P7(t,s/n))},r.copy=function(){return kP(e).domain(t)},Jn.apply(r,arguments)}function $f(){var t=0,e=.5,r=1,n=1,a,s,c,u,d,h=nr,p,m=!1,v;function b(j){return isNaN(j=+j)?v:(j=.5+((j=+p(j))-s)*(n*j<n*s?u:d),h(m?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([t,e,r]=j,a=p(t=+t),s=p(e=+e),c=p(r=+r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,b):[t,e,r]},b.clamp=function(j){return arguments.length?(m=!!j,b):m},b.interpolator=function(j){return arguments.length?(h=j,b):h};function w(j){return function(y){var k,A,N;return arguments.length?([k,A,N]=y,h=rL(j,[k,A,N]),b):[h(0),h(.5),h(1)]}}return b.range=w(Zs),b.rangeRound=w(Ab),b.unknown=function(j){return arguments.length?(v=j,b):v},function(j){return p=j,a=j(t),s=j(e),c=j(r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,b}}function OP(){var t=$a($f()(nr));return t.copy=function(){return Ra(t,OP())},Jn.apply(t,arguments)}function AP(){var t=Tb($f()).domain([.1,1,10]);return t.copy=function(){return Ra(t,AP()).base(t.base())},Jn.apply(t,arguments)}function EP(){var t=Mb($f());return t.copy=function(){return Ra(t,EP()).constant(t.constant())},Jn.apply(t,arguments)}function Hb(){var t=$b($f());return t.copy=function(){return Ra(t,Hb()).exponent(t.exponent())},Jn.apply(t,arguments)}function H6(){return Hb.apply(null,arguments).exponent(.5)}const Ik=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sl,scaleDiverging:OP,scaleDivergingLog:AP,scaleDivergingPow:Hb,scaleDivergingSqrt:H6,scaleDivergingSymlog:EP,scaleIdentity:oP,scaleImplicit:H0,scaleLinear:Cd,scaleLog:cP,scaleOrdinal:Nb,scalePoint:cl,scalePow:Rb,scaleQuantile:fP,scaleQuantize:hP,scaleRadial:dP,scaleSequential:_P,scaleSequentialLog:SP,scaleSequentialPow:Wb,scaleSequentialQuantile:kP,scaleSequentialSqrt:W6,scaleSequentialSymlog:NP,scaleSqrt:NL,scaleSymlog:uP,scaleThreshold:pP,scaleTime:F6,scaleUtc:z6,tickFormat:sP},Symbol.toStringTag,{value:"Module"}));var fy,Dk;function PP(){if(Dk)return fy;Dk=1;var t=Gs();function e(r,n,a){for(var s=-1,c=r.length;++s<c;){var u=r[s],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,p=u}return p}return fy=e,fy}var hy,Lk;function V6(){if(Lk)return hy;Lk=1;function t(e,r){return e>r}return hy=t,hy}var py,Bk;function K6(){if(Bk)return py;Bk=1;var t=PP(),e=V6(),r=Js();function n(a){return a&&a.length?t(a,r,e):void 0}return py=n,py}var G6=K6();const Sa=Qe(G6);var my,qk;function X6(){if(qk)return my;qk=1;function t(e,r){return e<r}return my=t,my}var gy,Uk;function Y6(){if(Uk)return gy;Uk=1;var t=PP(),e=X6(),r=Js();function n(a){return a&&a.length?t(a,r,e):void 0}return gy=n,gy}var J6=Y6();const Rf=Qe(J6);var vy,Fk;function Q6(){if(Fk)return vy;Fk=1;var t=ob(),e=Ma(),r=L5(),n=hr();function a(s,c){var u=n(s)?t:r;return u(s,e(c,3))}return vy=a,vy}var yy,zk;function Z6(){if(zk)return yy;zk=1;var t=I5(),e=Q6();function r(n,a){return t(e(n,a),1)}return yy=r,yy}var e8=Z6();const t8=Qe(e8);var xy,Wk;function r8(){if(Wk)return xy;Wk=1;var t=bb();function e(r,n){return t(r,n)}return xy=e,xy}var n8=r8();const El=Qe(n8);var eo=1e9,a8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Kb,dt=!0,Br="[DecimalError] ",mi=Br+"Invalid argument: ",Vb=Br+"Exponent out of range: ",to=Math.floor,ri=Math.pow,i8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,Lt=1e7,ot=7,CP=9007199254740991,Rd=to(CP/ot),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return Un(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return Ze(Un(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return kt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_r))throw Error(Br+"NaN");if(r.s<1)throw Error(Br+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(dt=!1,e=Un(Pl(r,s),Pl(t,s),s),dt=!0,Ze(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$P(e,t):TP(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Br+"NaN");return r.s?(dt=!1,e=Un(r,t,0,1).times(t),dt=!0,r.minus(e)):Ze(new n(r),a)};xe.naturalExponential=xe.exp=function(){return MP(this)};xe.naturalLogarithm=xe.ln=function(){return Pl(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TP(e,t):$P(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mi+t);if(e=kt(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,a,s,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Br+"NaN")}for(t=kt(u),dt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=yn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=to((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=c=r+3;;)if(s=n,n=s.plus(Un(u,s,c+2)).times(.5),yn(s.d).slice(0,c)===(e=yn(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ze(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;c+=4}return dt=!0,Ze(n,r)};xe.times=xe.mul=function(t){var e,r,n,a,s,c,u,d,h,p=this,m=p.constructor,v=p.d,b=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=v.length,h=b.length,d<h&&(s=v,v=b,b=s,c=d,d=h,h=c),s=[],c=d+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)u=s[a]+b[n]*v[a-n-1]+e,s[a--]=u%Lt|0,e=u/Lt|0;s[a]=(s[a]+e)%Lt|0}for(;!s[--c];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,dt?Ze(t,m.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Nn(t,0,eo),e===void 0?e=n.rounding:Nn(e,0,8),Ze(r,t+kt(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=xi(n,!0):(Nn(t,0,eo),e===void 0?e=a.rounding:Nn(e,0,8),n=Ze(new a(n),t+1,e),r=xi(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?xi(a):(Nn(t,0,eo),e===void 0?e=s.rounding:Nn(e,0,8),n=Ze(new s(a),t+kt(a)+1,e),r=xi(n.abs(),!1,t+kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),kt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,a,s,c,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(_r);if(u=new d(u),!u.s){if(t.s<1)throw Error(Br+"Infinity");return u}if(u.eq(_r))return u;if(n=d.precision,t.eq(_r))return Ze(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,s=u.s,c){if((r=p<0?-p:p)<=CP){for(a=new d(_r),e=Math.ceil(n/ot+4),dt=!1;r%2&&(a=a.times(u),Vk(a.d,e)),r=to(r/2),r!==0;)u=u.times(u),Vk(u.d,e);return dt=!0,t.s<0?new d(_r).div(a):Ze(a,n)}}else if(s<0)throw Error(Br+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,dt=!1,a=t.times(Pl(u,n+h)),dt=!0,a=MP(a),a.s=s,a};xe.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=kt(a),n=xi(a,r<=s.toExpNeg||r>=s.toExpPos)):(Nn(t,1,eo),e===void 0?e=s.rounding:Nn(e,0,8),a=Ze(new s(a),t,e),r=kt(a),n=xi(a,t<=r||r<=s.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Nn(t,1,eo),e===void 0?e=n.rounding:Nn(e,0,8)),Ze(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),r=t.constructor;return xi(t,e<=r.toExpNeg||e>=r.toExpPos)};function TP(t,e){var r,n,a,s,c,u,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),dt?Ze(e,m):e;if(d=t.d,h=e.d,c=t.e,a=e.e,d=d.slice(),s=c-a,s){for(s<0?(n=d,s=-s,u=h.length):(n=h,a=c,u=d.length),c=Math.ceil(m/ot),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Lt|0,d[s]%=Lt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,dt?Ze(e,m):e}function Nn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(mi+t)}function yn(t){var e,r,n,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)n=t[e]+"",r=ot-n.length,r&&(s+=wa(r)),s+=n;c=t[e],n=c+"",r=ot-n.length,r&&(s+=wa(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Un=(function(){function t(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%Lt|0,c=s/Lt|0;return c&&n.unshift(c),n}function e(n,a,s,c){var u,d;if(s!=c)d=s>c?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Lt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,d,h,p,m,v,b,w,j,y,k,A,N,E,_,O,C,P,R=n.constructor,U=n.s==a.s?1:-1,I=n.d,F=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Br+"Division by zero");for(d=n.e-a.e,C=F.length,_=I.length,b=new R(U),w=b.d=[],h=0;F[h]==(I[h]||0);)++h;if(F[h]>(I[h]||0)&&--d,s==null?A=s=R.precision:c?A=s+(kt(n)-kt(a))+1:A=s,A<0)return new R(0);if(A=A/ot+2|0,h=0,C==1)for(p=0,F=F[0],A++;(h<_||p)&&A--;h++)N=p*Lt+(I[h]||0),w[h]=N/F|0,p=N%F|0;else{for(p=Lt/(F[0]+1)|0,p>1&&(F=t(F,p),I=t(I,p),C=F.length,_=I.length),E=C,j=I.slice(0,C),y=j.length;y<C;)j[y++]=0;P=F.slice(),P.unshift(0),O=F[0],F[1]>=Lt/2&&++O;do p=0,u=e(F,j,C,y),u<0?(k=j[0],C!=y&&(k=k*Lt+(j[1]||0)),p=k/O|0,p>1?(p>=Lt&&(p=Lt-1),m=t(F,p),v=m.length,y=j.length,u=e(m,j,v,y),u==1&&(p--,r(m,C<v?P:F,v))):(p==0&&(u=p=1),m=F.slice()),v=m.length,v<y&&m.unshift(0),r(j,m,y),u==-1&&(y=j.length,u=e(F,j,C,y),u<1&&(p++,r(j,C<y?P:F,y))),y=j.length):u===0&&(p++,j=[0]),w[h++]=p,u&&j[0]?j[y++]=I[E]||0:(j=[I[E]],y=1);while((E++<_||j[0]!==void 0)&&A--)}return w[0]||w.shift(),b.e=d,Ze(b,c?s+kt(b)+1:s)}})();function MP(t,e){var r,n,a,s,c,u,d=0,h=0,p=t.constructor,m=p.precision;if(kt(t)>16)throw Error(Vb+kt(t));if(!t.s)return new p(_r);for(dt=!1,u=m,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(n=Math.log(ri(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new p(_r),p.precision=u;;){if(a=Ze(a.times(t),u),r=r.times(++d),c=s.plus(Un(a,r,u)),yn(c.d).slice(0,u)===yn(s.d).slice(0,u)){for(;h--;)s=Ze(s.times(s),u);return p.precision=m,e==null?(dt=!0,Ze(s,m)):s}s=c}}function kt(t){for(var e=t.e*ot,r=t.d[0];r>=10;r/=10)e++;return e}function by(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(Br+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function wa(t){for(var e="";t--;)e+="0";return e}function Pl(t,e){var r,n,a,s,c,u,d,h,p,m=1,v=10,b=t,w=b.d,j=b.constructor,y=j.precision;if(b.s<1)throw Error(Br+(b.s?"NaN":"-Infinity"));if(b.eq(_r))return new j(0);if(e==null?(dt=!1,h=y):h=e,b.eq(10))return e==null&&(dt=!0),by(j,h);if(h+=v,j.precision=h,r=yn(w),n=r.charAt(0),s=kt(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=yn(b.d),n=r.charAt(0),m++;s=kt(b),n>1?(b=new j("0."+r),s++):b=new j(n+"."+r.slice(1))}else return d=by(j,h+2,y).times(s+""),b=Pl(new j(n+"."+r.slice(1)),h-v).plus(d),j.precision=y,e==null?(dt=!0,Ze(b,y)):b;for(u=c=b=Un(b.minus(_r),b.plus(_r),h),p=Ze(b.times(b),h),a=3;;){if(c=Ze(c.times(p),h),d=u.plus(Un(c,new j(a),h)),yn(d.d).slice(0,h)===yn(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(by(j,h+2,y).times(s+""))),u=Un(u,new j(m),h),j.precision=y,e==null?(dt=!0,Ze(u,y)):u;u=d,a+=2}}function Hk(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=to(r/ot),t.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ot;n<a;)t.d.push(+e.slice(n,n+=ot));e=e.slice(n),n=ot-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>Rd||t.e<-Rd))throw Error(Vb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,r){var n,a,s,c,u,d,h,p,m=t.d;for(c=1,s=m[0];s>=10;s/=10)c++;if(n=e-c,n<0)n+=ot,a=e,h=m[p=0];else{if(p=Math.ceil((n+1)/ot),s=m.length,p>=s)return t;for(h=s=m[p],c=1;s>=10;s/=10)c++;n%=ot,a=n-ot+c}if(r!==void 0&&(s=ri(10,c-a-1),u=h/s%10|0,d=e<0||m[p+1]!==void 0||h%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ri(10,c-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(s=kt(t),m.length=1,e=e-s-1,m[0]=ri(10,(ot-e%ot)%ot),t.e=to(-e/ot)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,s=1,p--):(m.length=p+1,s=ri(10,ot-n),m[p]=a>0?(h/ri(10,c-a)%ri(10,a)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Lt&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Lt)break;m[p--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(dt&&(t.e>Rd||t.e<-Rd))throw Error(Vb+kt(t));return t}function $P(t,e){var r,n,a,s,c,u,d,h,p,m,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),dt?Ze(e,b):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),c=h-n,c){for(p=c<0,p?(r=d,c=-c,u=m.length):(r=m,n=h,u=d.length),a=Math.max(Math.ceil(b/ot),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}c=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>c;){if(d[--a]<m[a]){for(s=a;s&&d[--s]===0;)d[s]=Lt-1;--d[s],d[a]+=Lt}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,dt?Ze(e,b):e):new v(0)}function xi(t,e,r){var n,a=kt(t),s=yn(t.d),c=s.length;return e?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+wa(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+wa(-a-1)+s,r&&(n=r-c)>0&&(s+=wa(n))):a>=c?(s+=wa(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+wa(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=wa(n))),t.s<0?"-"+s:s}function Vk(t,e){if(t.length>e)return t.length=e,!0}function RP(t){var e,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(mi+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return Hk(c,s.toString())}else if(typeof s!="string")throw Error(mi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,i8.test(s))Hk(c,s);else throw Error(mi+s)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=RP,a.config=a.set=s8,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function s8(t){if(!t||typeof t!="object")throw Error(Br+"Object expected");var e,r,n,a=["precision",1,eo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(to(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Kb=RP(a8);_r=new Kb(1);const Je=Kb;function o8(t){return d8(t)||u8(t)||c8(t)||l8()}function l8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8(t,e){if(t){if(typeof t=="string")return X0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(t,e)}}function u8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function d8(t){if(Array.isArray(t))return X0(t)}function X0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f8=function(e){return e},IP={},DP=function(e){return e===IP},Kk=function(e){return function r(){return arguments.length===0||arguments.length===1&&DP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},h8=function t(e,r){return e===1?r:Kk(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=a.filter(function(u){return u!==IP}).length;return c>=e?r.apply(void 0,a):t(e-c,Kk(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var p=a.map(function(m){return DP(m)?d.shift():m});return r.apply(void 0,o8(p).concat(d))}))})},If=function(e){return h8(e.length,e)},Y0=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},p8=If(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),m8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return f8;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},J0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LP=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function g8(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function v8(t,e,r){for(var n=new Je(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var y8=If(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),x8=If(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),b8=If(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Df={rangeStep:v8,getDigitCount:g8,interpolateNumber:y8,uninterpolateNumber:x8,uninterpolateTruncation:b8};function Q0(t){return _8(t)||j8(t)||BP(t)||w8()}function w8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _8(t){if(Array.isArray(t))return Z0(t)}function Cl(t,e){return k8(t)||N8(t,e)||BP(t,e)||S8()}function S8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(t,e){if(t){if(typeof t=="string")return Z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(t,e)}}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var c=t[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,s=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw s}}return r}}function k8(t){if(Array.isArray(t))return t}function qP(t){var e=Cl(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function UP(t,e,r){if(t.lte(0))return new Je(0);var n=Df.getDigitCount(t.toNumber()),a=new Je(10).pow(n),s=t.div(a),c=n!==1?.05:.1,u=new Je(Math.ceil(s.div(c).toNumber())).add(r).mul(c),d=u.mul(a);return e?d:new Je(Math.ceil(d))}function O8(t,e,r){var n=1,a=new Je(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new Je(10).pow(Df.getDigitCount(t)-1),a=new Je(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Je(Math.floor(t)))}else t===0?a=new Je(Math.floor((e-1)/2)):r||(a=new Je(Math.floor(t)));var c=Math.floor((e-1)/2),u=m8(p8(function(d){return a.add(new Je(d-c).mul(n)).toNumber()}),Y0);return u(0,e)}function FP(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var s=UP(new Je(e).sub(t).div(r-1),n,a),c;t<=0&&e>=0?c=new Je(0):(c=new Je(t).add(e).div(2),c=c.sub(new Je(c).mod(s)));var u=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new Je(e).sub(c).div(s).toNumber()),h=u+d+1;return h>r?FP(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:s,tickMin:c.sub(new Je(u).mul(s)),tickMax:c.add(new Je(d).mul(s))})}function A8(t){var e=Cl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=qP([r,n]),d=Cl(u,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Q0(Y0(0,a-1).map(function(){return 1/0}))):[].concat(Q0(Y0(0,a-1).map(function(){return-1/0})),[p]);return r>n?J0(m):m}if(h===p)return O8(h,a,s);var v=FP(h,p,c,s),b=v.step,w=v.tickMin,j=v.tickMax,y=Df.rangeStep(w,j.add(new Je(.1).mul(b)),b);return r>n?J0(y):y}function E8(t,e){var r=Cl(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=qP([n,a]),u=Cl(c,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var p=Math.max(e,2),m=UP(new Je(h).sub(d).div(p-1),s,0),v=[].concat(Q0(Df.rangeStep(new Je(d),new Je(h).sub(new Je(.99).mul(m)),m)),[h]);return n>a?J0(v):v}var P8=LP(A8),C8=LP(E8),T8="Invariant failed";function bi(t,e){throw new Error(T8)}var M8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Id.apply(this,arguments)}function $8(t,e){return L8(t)||D8(t,e)||I8(t,e)||R8()}function R8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function L8(t){if(Array.isArray(t))return t}function B8(t,e){if(t==null)return{};var r=q8(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HP(n.key),n)}}function z8(t,e,r){return e&&F8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W8(t,e,r){return e=Dd(e),H8(t,zP()?Reflect.construct(e,r||[],Dd(t).constructor):e.apply(t,r))}function H8(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V8(t)}function V8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(t)}function K8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ex(t,e)}function WP(t,e,r){return e=HP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HP(t){var e=G8(t,"string");return Ts(e)=="symbol"?e:e+""}function G8(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lf=(function(t){function e(){return U8(this,e),W8(this,e,arguments)}return K8(e,t),z8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,c=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=B8(n,M8),b=Be(v,!1);this.props.direction==="x"&&p.type!=="number"&&bi();var w=d.map(function(j){var y=h(j,u),k=y.x,A=y.y,N=y.value,E=y.errorVal;if(!E)return null;var _=[],O,C;if(Array.isArray(E)){var P=$8(E,2);O=P[0],C=P[1]}else O=C=E;if(s==="vertical"){var R=p.scale,U=A+a,I=U+c,F=U-c,L=R(N-O),G=R(N+C);_.push({x1:G,y1:I,x2:G,y2:F}),_.push({x1:L,y1:U,x2:G,y2:U}),_.push({x1:L,y1:I,x2:L,y2:F})}else if(s==="horizontal"){var B=m.scale,z=k+a,ee=z-c,H=z+c,W=B(N-O),J=B(N+C);_.push({x1:ee,y1:J,x2:H,y2:J}),_.push({x1:z,y1:W,x2:z,y2:J}),_.push({x1:ee,y1:W,x2:H,y2:W})}return Y.createElement(mt,Id({className:"recharts-errorBar",key:"bar-".concat(_.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},b),_.map(function($){return Y.createElement("line",Id({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return Y.createElement(mt,{className:"recharts-errorBars"},w)}}])})(Y.Component);WP(Lf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});WP(Lf,"displayName","ErrorBar");function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){X8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X8(t,e,r){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y8(t){var e=J8(t,"string");return Tl(e)=="symbol"?e:e+""}function J8(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VP=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,c=jr(r,ys);if(!c)return null;var u=ys.defaultProps,d=u!==void 0?Ja(Ja({},u),c.props):{},h;return c.props&&c.props.payload?h=c.props&&c.props.payload:s==="children"?h=(n||[]).reduce(function(p,m){var v=m.item,b=m.props,w=b.sectors||b.data||[];return p.concat(w.map(function(j){return{type:c.props.iconType||v.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):h=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,b=v!==void 0?Ja(Ja({},v),m.props):{},w=b.dataKey,j=b.name,y=b.legendType,k=b.hide;return{inactive:k,dataKey:w,type:d.iconType||y||"square",color:Gb(m),value:j||w,payload:b}}),Ja(Ja(Ja({},d),ys.getWithHeight(c,a)),{},{payload:h,item:c})};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Yk(t){return tB(t)||eB(t)||Z8(t)||Q8()}function Q8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function eB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tB(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bs(t,e,r){return e=rB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rB(t){var e=nB(t,"string");return Ml(e)=="symbol"?e:e+""}function nB(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e,r){return qe(t)||qe(e)?r:Mt(e)?Lr(t,e,r):Le(e)?e(t):r}function ul(t,e,r,n){var a=t8(t,function(u){return kr(u,e)});if(r==="number"){var s=a.filter(function(u){return pe(u)||parseFloat(u)});return s.length?[Rf(s),Sa(s)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!qe(u)}):a;return c.map(function(u){return Mt(u)||u instanceof Date?u:""})}var aB=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<u;h++){var p=h>0?a[h-1].coordinate:a[u-1].coordinate,m=a[h].coordinate,v=h>=u-1?a[0].coordinate:a[h+1].coordinate,b=void 0;if(rn(m-p)!==rn(v-m)){var w=[];if(rn(v-m)===rn(d[1]-d[0])){b=v;var j=m+d[1]-d[0];w[0]=Math.min(j,(j+p)/2),w[1]=Math.max(j,(j+p)/2)}else{b=p;var y=v+d[1]-d[0];w[0]=Math.min(m,(y+m)/2),w[1]=Math.max(m,(y+m)/2)}var k=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>k[0]&&e<=k[1]||e>=w[0]&&e<=w[1]){c=a[h].index;break}}else{var A=Math.min(p,v),N=Math.max(p,v);if(e>(A+m)/2&&e<=(N+m)/2){c=a[h].index;break}}}else for(var E=0;E<u;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){c=n[E].index;break}return c},Gb=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,c=s.stroke,u=s.fill,d;switch(a){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},iB=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var c={},u=Object.keys(s),d=0,h=u.length;d<h;d++)for(var p=s[u[d]].stackGroups,m=Object.keys(p),v=0,b=m.length;v<b;v++){var w=p[m[v]],j=w.items,y=w.cateAxisId,k=j.filter(function(C){return qn(C.type).indexOf("Bar")>=0});if(k&&k.length){var A=k[0].type.defaultProps,N=A!==void 0?xt(xt({},A),k[0].props):k[0].props,E=N.barSize,_=N[y];c[_]||(c[_]=[]);var O=qe(E)?r:E;c[_].push({item:k[0],stackList:k.slice(1),barSize:qe(O)?void 0:yi(O,n,0)})}}return c},sB=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,u=e.maxBarSize,d=c.length;if(d<1)return null;var h=yi(r,a,0,!0),p,m=[];if(c[0].barSize===+c[0].barSize){var v=!1,b=a/d,w=c.reduce(function(E,_){return E+_.barSize||0},0);w+=(d-1)*h,w>=a&&(w-=(d-1)*h,h=0),w>=a&&b>0&&(v=!0,b*=.9,w=d*b);var j=(a-w)/2>>0,y={offset:j-h,size:0};p=c.reduce(function(E,_){var O={item:_.item,position:{offset:y.offset+y.size+h,size:v?b:_.barSize}},C=[].concat(Yk(E),[O]);return y=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(P){C.push({item:P,position:y})}),C},m)}else{var k=yi(n,a,0,!0);a-2*k-(d-1)*h<=0&&(h=0);var A=(a-2*k-(d-1)*h)/d;A>1&&(A>>=0);var N=u===+u?Math.min(A,u):A;p=c.reduce(function(E,_,O){var C=[].concat(Yk(E),[{item:_.item,position:{offset:k+(A+h)*O+(A-N)/2,size:N}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},m)}return p},oB=function(e,r,n,a){var s=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),h=VP({children:s,legendWidth:d});if(h){var p=a||{},m=p.width,v=p.height,b=h.align,w=h.verticalAlign,j=h.layout;if((j==="vertical"||j==="horizontal"&&w==="middle")&&b!=="center"&&pe(e[b]))return xt(xt({},e),{},bs({},b,e[b]+(m||0)));if((j==="horizontal"||j==="vertical"&&b==="center")&&w!=="middle"&&pe(e[w]))return xt(xt({},e),{},bs({},w,e[w]+(v||0)))}return e},lB=function(e,r,n){return qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},KP=function(e,r,n,a,s){var c=r.props.children,u=sn(c,Lf).filter(function(h){return lB(a,s,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=kr(p,n);if(qe(m))return h;var v=Array.isArray(m)?[Rf(m),Sa(m)]:[m,m],b=d.reduce(function(w,j){var y=kr(p,j,0),k=v[0]-Math.abs(Array.isArray(y)?y[0]:y),A=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(k,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},cB=function(e,r,n,a,s){var c=r.map(function(u){return KP(e,u,n,s,a)}).filter(function(u){return!qe(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},GP=function(e,r,n,a,s){var c=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&KP(e,d,h,a)||ul(e,h,n,s)});if(n==="number")return c.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)u[h[p]]||(u[h[p]]=!0,d.push(h[p]));return d},[])},XP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ci=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,c=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?rn(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:a(v)+h,value:m,offset:h}});return p.filter(function(m){return!Ys(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+h,value:m,index:v,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+h,value:m,offset:h}}):a.domain().map(function(m,v){return{coordinate:a(m)+h,value:s?s[m]:m,index:v,offset:h}})},wy=new WeakMap,Mu=function(e,r){if(typeof r!="function")return e;wy.has(e)||wy.set(e,new WeakMap);var n=wy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},uB=function(e,r,n){var a=e.scale,s=e.type,c=e.layout,u=e.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Sl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Cd(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cl(),realScaleType:"point"}:s==="category"?{scale:Sl(),realScaleType:"band"}:{scale:Cd(),realScaleType:"linear"};if(vi(a)){var d="scale".concat(jf(a));return{scale:(Ik[d]||cl)(),realScaleType:Ik[d]?d:"point"}}return Le(a)?{scale:a}:{scale:cl(),realScaleType:"point"}},Qk=1e-4,dB=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-Qk,c=Math.max(a[0],a[1])+Qk,u=e(r[0]),d=e(r[n-1]);(u<s||u>c||d<s||d>c)&&e.domain([r[0],r[n-1]])}},fB=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},hB=function(e,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!pe(e[0])||e[0]<n)&&(s[0]=n),(!pe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},pB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0,u=0;u<r;++u){var d=Ys(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+d,c=e[u][n][1])}},mB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0;c<r;++c){var u=Ys(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},gB={sign:pB,expand:QR,none:Ss,silhouette:ZR,wiggle:eI,positive:mB},vB=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),s=gB[n],c=JR().keys(a).value(function(u,d){return+kr(u,d,0)}).order(C0).offset(s);return c(e)},yB=function(e,r,n,a,s,c){if(!e)return null;var u=c?r.reverse():r,d={},h=u.reduce(function(m,v){var b,w=(b=v.type)!==null&&b!==void 0&&b.defaultProps?xt(xt({},v.type.defaultProps),v.props):v.props,j=w.stackId,y=w.hide;if(y)return m;var k=w[n],A=m[k]||{hasStack:!1,stackGroups:{}};if(Mt(j)){var N=A.stackGroups[j]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(v),A.hasStack=!0,A.stackGroups[j]=N}else A.stackGroups[sc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return xt(xt({},m),{},bs({},k,A))},d),p={};return Object.keys(h).reduce(function(m,v){var b=h[v];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(j,y){var k=b.stackGroups[y];return xt(xt({},j),{},bs({},y,{numericAxisId:n,cateAxisId:a,items:k.items,stackedData:vB(e,k.items,s)}))},w)}return xt(xt({},m),{},bs({},v,b))},p)},xB=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=P8(h,s,u);return e.domain([Rf(p),Sa(p)]),{niceTicks:p}}if(s&&a==="number"){var m=e.domain(),v=C8(m,s,u);return{niceTicks:v}}return null};function Zk(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,c=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qe(a[e.dataKey])){var u=dd(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=kr(a,qe(c)?e.dataKey:c);return qe(d)?null:e.scale(d)}var eO=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,c=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=kr(c,r.dataKey,r.domain[u]);return qe(d)?null:r.scale(d)-s/2+a},bB=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},wB=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Mt(s)){var c=r[s];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null},jB=function(e){return e.reduce(function(r,n){return[Rf(n.concat([r[0]]).filter(pe)),Sa(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},YP=function(e,r,n){return Object.keys(e).reduce(function(a,s){var c=e[s],u=c.stackedData,d=u.reduce(function(h,p){var m=jB(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},tO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rx=function(e,r,n){if(Le(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(pe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(tO.test(e[0])){var s=+tO.exec(e[0])[1];a[0]=r[0]-s}else Le(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(pe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(rO.test(e[1])){var c=+rO.exec(e[1])[1];a[1]=r[1]+c}else Le(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Ld=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=jb(r,function(m){return m.coordinate}),c=1/0,u=1,d=s.length;u<d;u++){var h=s[u],p=s[u-1];c=Math.min((h.coordinate||0)-(p.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},nO=function(e,r,n){return!e||!e.length||El(e,Lr(n,"type.defaultProps.domain"))?r:e},JP=function(e,r){var n=e.type.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return xt(xt({},Be(e,!1)),{},{dataKey:a,unit:c,formatter:u,name:s||a,color:Gb(e),value:kr(r,a),type:d,payload:r,chartType:h,hide:p})};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){_B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _B(t,e,r){return e=SB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SB(t){var e=NB(t,"string");return $l(e)=="symbol"?e:e+""}function NB(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bd=Math.PI/180,kB=function(e){return e*180/Math.PI},Ht=function(e,r,n,a){return{x:e+Math.cos(-Bd*a)*n,y:r+Math.sin(-Bd*a)*n}},OB=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-c,2))},AB=function(e,r){var n=e.x,a=e.y,s=r.cx,c=r.cy,u=OB({x:n,y:a},{x:s,y:c});if(u<=0)return{radius:u};var d=(n-s)/u,h=Math.acos(d);return a>c&&(h=2*Math.PI-h),{radius:u,angle:kB(h),angleInRadian:h}},EB=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return{startAngle:r-c*360,endAngle:n-c*360}},PB=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(s,c);return e+u*360},sO=function(e,r){var n=e.x,a=e.y,s=AB({x:n,y:a},r),c=s.radius,u=s.angle,d=r.innerRadius,h=r.outerRadius;if(c<d||c>h)return!1;if(c===0)return!0;var p=EB(r),m=p.startAngle,v=p.endAngle,b=u,w;if(m<=v){for(;b>v;)b-=360;for(;b<m;)b+=360;w=b>=m&&b<=v}else{for(;b>m;)b-=360;for(;b<v;)b+=360;w=b>=v&&b<=m}return w?iO(iO({},r),{},{radius:c,angle:PB(b,r)}):null};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}var CB=["offset"];function TB(t){return IB(t)||RB(t)||$B(t)||MB()}function MB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(t,e){if(t){if(typeof t=="string")return nx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(t,e)}}function RB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IB(t){if(Array.isArray(t))return nx(t)}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DB(t,e){if(t==null)return{};var r=LB(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){BB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BB(t,e,r){return e=qB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qB(t){var e=UB(t,"string");return Rl(e)=="symbol"?e:e+""}function UB(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Il.apply(this,arguments)}var FB=function(e){var r=e.value,n=e.formatter,a=qe(e.children)?r:e.children;return Le(n)?n(a):a},zB=function(e,r){var n=rn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},WB=function(e,r,n){var a=e.position,s=e.viewBox,c=e.offset,u=e.className,d=s,h=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,b=d.startAngle,w=d.endAngle,j=d.clockWise,y=(m+v)/2,k=zB(b,w),A=k>=0?1:-1,N,E;a==="insideStart"?(N=b+A*c,E=j):a==="insideEnd"?(N=w-A*c,E=!j):a==="end"&&(N=w+A*c,E=j),E=k<=0?E:!E;var _=Ht(h,p,y,N),O=Ht(h,p,y,N+(E?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),P=qe(e.id)?sc("recharts-radial-line-"):e.id;return Y.createElement("text",Il({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",u)}),Y.createElement("defs",null,Y.createElement("path",{id:P,d:C})),Y.createElement("textPath",{xlinkHref:"#".concat(P)},r))},HB=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,c=s.cx,u=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(a==="outside"){var b=Ht(c,u,h+n,v),w=b.x,j=b.y;return{x:w,y:j,textAnchor:w>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+h)/2,k=Ht(c,u,y,v),A=k.x,N=k.y;return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},VB=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,c=r,u=c.x,d=c.y,h=c.width,p=c.height,m=p>=0?1:-1,v=m*a,b=m>0?"end":"start",w=m>0?"start":"end",j=h>=0?1:-1,y=j*a,k=j>0?"end":"start",A=j>0?"start":"end";if(s==="top"){var N={x:u+h/2,y:d-m*a,textAnchor:"middle",verticalAnchor:b};return Ct(Ct({},N),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var E={x:u+h/2,y:d+p+v,textAnchor:"middle",verticalAnchor:w};return Ct(Ct({},E),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(s==="left"){var _={x:u-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return Ct(Ct({},_),n?{width:Math.max(_.x-n.x,0),height:p}:{})}if(s==="right"){var O={x:u+h+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return Ct(Ct({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var C=n?{width:h,height:p}:{};return s==="insideLeft"?Ct({x:u+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},C):s==="insideRight"?Ct({x:u+h-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},C):s==="insideTop"?Ct({x:u+h/2,y:d+v,textAnchor:"middle",verticalAnchor:w},C):s==="insideBottom"?Ct({x:u+h/2,y:d+p-v,textAnchor:"middle",verticalAnchor:b},C):s==="insideTopLeft"?Ct({x:u+y,y:d+v,textAnchor:A,verticalAnchor:w},C):s==="insideTopRight"?Ct({x:u+h-y,y:d+v,textAnchor:k,verticalAnchor:w},C):s==="insideBottomLeft"?Ct({x:u+y,y:d+p-v,textAnchor:A,verticalAnchor:b},C):s==="insideBottomRight"?Ct({x:u+h-y,y:d+p-v,textAnchor:k,verticalAnchor:b},C):Xs(s)&&(pe(s.x)||si(s.x))&&(pe(s.y)||si(s.y))?Ct({x:u+yi(s.x,h),y:d+yi(s.y,p),textAnchor:"end",verticalAnchor:"end"},C):Ct({x:u+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},C)},KB=function(e){return"cx"in e&&pe(e.cx)};function Jt(t){var e=t.offset,r=e===void 0?5:e,n=DB(t,CB),a=Ct({offset:r},n),s=a.viewBox,c=a.position,u=a.value,d=a.children,h=a.content,p=a.className,m=p===void 0?"":p,v=a.textBreakAll;if(!s||qe(u)&&qe(d)&&!M.isValidElement(h)&&!Le(h))return null;if(M.isValidElement(h))return M.cloneElement(h,a);var b;if(Le(h)){if(b=M.createElement(h,a),M.isValidElement(b))return b}else b=FB(a);var w=KB(s),j=Be(a,!0);if(w&&(c==="insideStart"||c==="insideEnd"||c==="end"))return WB(a,b,j);var y=w?HB(a):VB(a);return Y.createElement(Sd,Il({className:ze("recharts-label",m)},j,y,{breakAll:v}),b)}Jt.displayName="Label";var QP=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,c=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,b=e.top,w=e.left,j=e.width,y=e.height,k=e.clockWise,A=e.labelViewBox;if(A)return A;if(pe(j)&&pe(y)){if(pe(m)&&pe(v))return{x:m,y:v,width:j,height:y};if(pe(b)&&pe(w))return{x:b,y:w,width:j,height:y}}return pe(m)&&pe(v)?{x:m,y:v,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:c||a||0,innerRadius:h||0,outerRadius:p||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},GB=function(e,r){return e?e===!0?Y.createElement(Jt,{key:"label-implicit",viewBox:r}):Mt(e)?Y.createElement(Jt,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===Jt?M.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(Jt,{key:"label-implicit",content:e,viewBox:r}):Le(e)?Y.createElement(Jt,{key:"label-implicit",content:e,viewBox:r}):Xs(e)?Y.createElement(Jt,Il({viewBox:r},e,{key:"label-implicit"})):null:null},XB=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=QP(e),c=sn(a,Jt).map(function(d,h){return M.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return c;var u=GB(e.label,r||s);return[u].concat(TB(c))};Jt.parseViewBox=QP;Jt.renderCallByParent=XB;var jy,lO;function YB(){if(lO)return jy;lO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return jy=t,jy}var JB=YB();const QB=Qe(JB);function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var ZB=["valueAccessor"],eq=["data","dataKey","clockWise","id","textBreakAll"];function tq(t){return iq(t)||aq(t)||nq(t)||rq()}function rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t,e){if(t){if(typeof t=="string")return ax(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(t,e)}}function aq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iq(t){if(Array.isArray(t))return ax(t)}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qd.apply(this,arguments)}function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){sq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sq(t,e,r){return e=oq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oq(t){var e=lq(t,"string");return Dl(e)=="symbol"?e:e+""}function lq(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dO(t,e){if(t==null)return{};var r=cq(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uq=function(e){return Array.isArray(e.value)?QB(e.value):e.value};function Ea(t){var e=t.valueAccessor,r=e===void 0?uq:e,n=dO(t,ZB),a=n.data,s=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,h=dO(n,eq);return!a||!a.length?null:Y.createElement(mt,{className:"recharts-label-list"},a.map(function(p,m){var v=qe(s)?r(p,m):kr(p&&p.payload,s),b=qe(u)?{}:{id:"".concat(u,"-").concat(m)};return Y.createElement(Jt,qd({},Be(p,!0),h,b,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:Jt.parseViewBox(qe(c)?p:uO(uO({},p),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}Ea.displayName="LabelList";function dq(t,e){return t?t===!0?Y.createElement(Ea,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||Le(t)?Y.createElement(Ea,{key:"labelList-implicit",data:e,content:t}):Xs(t)?Y.createElement(Ea,qd({data:e},t,{key:"labelList-implicit"})):null:null}function fq(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=sn(n,Ea).map(function(c,u){return M.cloneElement(c,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var s=dq(t.label,e);return[s].concat(tq(a))}Ea.renderCallByParent=fq;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){hq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hq(t,e,r){return e=pq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pq(t){var e=mq(t,"string");return Ll(e)=="symbol"?e:e+""}function mq(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gq=function(e,r){var n=rn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},$u=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,c=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(u?1:-1)+a,m=Math.asin(d/p)/Bd,v=h?s:s+c*m,b=Ht(r,n,p,v),w=Ht(r,n,a,v),j=h?s-c*m:s,y=Ht(r,n,p*Math.cos(m*Bd),j);return{center:b,circleTangency:w,lineTangency:y,theta:m}},ZP=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.startAngle,u=e.endAngle,d=gq(c,u),h=c+d,p=Ht(r,n,s,c),m=Ht(r,n,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var b=Ht(r,n,a,c),w=Ht(r,n,a,h);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},vq=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=rn(p-h),v=$u({cx:r,cy:n,radius:s,angle:h,sign:m,cornerRadius:c,cornerIsExternal:d}),b=v.circleTangency,w=v.lineTangency,j=v.theta,y=$u({cx:r,cy:n,radius:s,angle:p,sign:-m,cornerRadius:c,cornerIsExternal:d}),k=y.circleTangency,A=y.lineTangency,N=y.theta,E=d?Math.abs(h-p):Math.abs(h-p)-j-N;if(E<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):ZP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var O=$u({cx:r,cy:n,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),C=O.circleTangency,P=O.lineTangency,R=O.theta,U=$u({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=U.circleTangency,F=U.lineTangency,L=U.theta,G=d?Math.abs(h-p):Math.abs(h-p)-R-L;if(G<0&&c===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(F.x,",").concat(F.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},yq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eC=function(e){var r=hO(hO({},yq),e),n=r.cx,a=r.cy,s=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(c<s||p===m)return null;var b=ze("recharts-sector",v),w=c-s,j=yi(u,w,0,!0),y;return j>0&&Math.abs(p-m)<360?y=vq({cx:n,cy:a,innerRadius:s,outerRadius:c,cornerRadius:Math.min(j,w/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):y=ZP({cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:p,endAngle:m}),Y.createElement("path",ix({},Be(r,!0),{className:b,d:y,role:"img"}))};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){xq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xq(t,e,r){return e=bq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bq(t){var e=wq(t,"string");return Bl(e)=="symbol"?e:e+""}function wq(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gO={curveBasisClosed:qR,curveBasisOpen:UR,curveBasis:BR,curveBumpX:NR,curveBumpY:kR,curveLinearClosed:FR,curveLinear:Sf,curveMonotoneX:zR,curveMonotoneY:WR,curveNatural:HR,curveStep:VR,curveStepAfter:GR,curveStepBefore:KR},Ru=function(e){return e.x===+e.x&&e.y===+e.y},Ko=function(e){return e.x},Go=function(e){return e.y},jq=function(e,r){if(Le(e))return e;var n="curve".concat(jf(e));return(n==="curveMonotone"||n==="curveBump")&&r?gO["".concat(n).concat(r==="vertical"?"Y":"X")]:gO[n]||Sf},_q=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,c=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=jq(n,u),m=h?s.filter(function(j){return Ru(j)}):s,v;if(Array.isArray(c)){var b=h?c.filter(function(j){return Ru(j)}):c,w=m.map(function(j,y){return mO(mO({},j),{},{base:b[y]})});return u==="vertical"?v=ku().y(Go).x1(Ko).x0(function(j){return j.base.x}):v=ku().x(Ko).y1(Go).y0(function(j){return j.base.y}),v.defined(Ru).curve(p),v(w)}return u==="vertical"&&pe(c)?v=ku().y(Go).x1(Ko).x0(c):pe(c)?v=ku().x(Ko).y1(Go).y0(c):v=i5().x(Ko).y(Go),v.defined(Ru).curve(p),v(m)},dl=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?_q(e):a;return M.createElement("path",sx({},Be(e,!1),fd(e),{className:ze("recharts-curve",r),d:c,ref:s}))},_y={exports:{}},Sy,vO;function Sq(){if(vO)return Sy;vO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sy=t,Sy}var Ny,yO;function Nq(){if(yO)return Ny;yO=1;var t=Sq();function e(){}function r(){}return r.resetWarningCache=e,Ny=function(){function n(c,u,d,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},Ny}var xO;function kq(){return xO||(xO=1,_y.exports=Nq()()),_y.exports}var Oq=kq();const Ge=Qe(Oq),{getOwnPropertyNames:Aq,getOwnPropertySymbols:Eq}=Object,{hasOwnProperty:Pq}=Object.prototype;function ky(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Iu(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:s}=a,c=s.get(r),u=s.get(n);if(c&&u)return c===n&&u===r;s.set(r,n),s.set(n,r);const d=t(r,n,a);return s.delete(r),s.delete(n),d}}function Cq(t){return t?.[Symbol.toStringTag]}function bO(t){return Aq(t).concat(Eq(t))}const Tq=Object.hasOwn||((t,e)=>Pq.call(t,e));function Si(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Mq="__v",$q="__o",Rq="_owner",{getOwnPropertyDescriptor:wO,keys:jO}=Object;function Iq(t,e){return t.byteLength===e.byteLength&&Ud(new Uint8Array(t),new Uint8Array(e))}function Dq(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Lq(t,e){return t.byteLength===e.byteLength&&Ud(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Bq(t,e){return Si(t.getTime(),e.getTime())}function qq(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Uq(t,e){return t===e}function _O(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.entries();let c,u,d=0;for(;(c=s.next())&&!c.done;){const h=e.entries();let p=!1,m=0;for(;(u=h.next())&&!u.done;){if(a[m]){m++;continue}const v=c.value,b=u.value;if(r.equals(v[0],b[0],d,m,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}const Fq=Si;function zq(t,e,r){const n=jO(t);let a=n.length;if(jO(e).length!==a)return!1;for(;a-- >0;)if(!tC(t,e,r,n[a]))return!1;return!0}function Xo(t,e,r){const n=bO(t);let a=n.length;if(bO(e).length!==a)return!1;let s,c,u;for(;a-- >0;)if(s=n[a],!tC(t,e,r,s)||(c=wO(t,s),u=wO(e,s),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function Wq(t,e){return Si(t.valueOf(),e.valueOf())}function Hq(t,e){return t.source===e.source&&t.flags===e.flags}function SO(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.values();let c,u;for(;(c=s.next())&&!c.done;){const d=e.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(c.value,u.value,c.value,u.value,t,e,r)){h=a[p]=!0;break}p++}if(!h)return!1}return!0}function Ud(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Vq(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tC(t,e,r,n){return(n===Rq||n===$q||n===Mq)&&(t.$$typeof||e.$$typeof)?!0:Tq(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Kq="[object ArrayBuffer]",Gq="[object Arguments]",Xq="[object Boolean]",Yq="[object DataView]",Jq="[object Date]",Qq="[object Error]",Zq="[object Map]",eU="[object Number]",tU="[object Object]",rU="[object RegExp]",nU="[object Set]",aU="[object String]",iU={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sU="[object URL]",oU=Object.prototype.toString;function lU({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:b,unknownTagComparators:w}){return function(y,k,A){if(y===k)return!0;if(y==null||k==null)return!1;const N=typeof y;if(N!==typeof k)return!1;if(N!=="object")return N==="number"?u(y,k,A):N==="function"?s(y,k,A):!1;const E=y.constructor;if(E!==k.constructor)return!1;if(E===Object)return d(y,k,A);if(Array.isArray(y))return e(y,k,A);if(E===Date)return n(y,k,A);if(E===RegExp)return p(y,k,A);if(E===Map)return c(y,k,A);if(E===Set)return m(y,k,A);const _=oU.call(y);if(_===Jq)return n(y,k,A);if(_===rU)return p(y,k,A);if(_===Zq)return c(y,k,A);if(_===nU)return m(y,k,A);if(_===tU)return typeof y.then!="function"&&typeof k.then!="function"&&d(y,k,A);if(_===sU)return b(y,k,A);if(_===Qq)return a(y,k,A);if(_===Gq)return d(y,k,A);if(iU[_])return v(y,k,A);if(_===Kq)return t(y,k,A);if(_===Yq)return r(y,k,A);if(_===Xq||_===eU||_===aU)return h(y,k,A);if(w){let O=w[_];if(!O){const C=Cq(y);C&&(O=w[C])}if(O)return O(y,k,A)}return!1}}function cU({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Iq,areArraysEqual:r?Xo:Dq,areDataViewsEqual:Lq,areDatesEqual:Bq,areErrorsEqual:qq,areFunctionsEqual:Uq,areMapsEqual:r?ky(_O,Xo):_O,areNumbersEqual:Fq,areObjectsEqual:r?Xo:zq,arePrimitiveWrappersEqual:Wq,areRegExpsEqual:Hq,areSetsEqual:r?ky(SO,Xo):SO,areTypedArraysEqual:r?ky(Ud,Xo):Ud,areUrlsEqual:Vq,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=Iu(n.areArraysEqual),s=Iu(n.areMapsEqual),c=Iu(n.areObjectsEqual),u=Iu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:u})}return n}function uU(t){return function(e,r,n,a,s,c,u){return t(e,r,u)}}function dU({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:p}=r();return e(u,d,{cache:h,equals:n,meta:p,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,s)}}const fU=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:()=>Si});Ia({strict:!0,createInternalComparator:()=>Si});Ia({circular:!0,createInternalComparator:()=>Si});Ia({circular:!0,createInternalComparator:()=>Si,strict:!0});function Ia(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,s=cU(t),c=lU(s),u=r?r(c):uU(c);return dU({circular:e,comparator:c,createState:n,equals:u,strict:a})}function hU(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):hU(a)};requestAnimationFrame(n)}function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function pU(t){return yU(t)||vU(t)||gU(t)||mU()}function mU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return kO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kO(t,e)}}function kO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yU(t){if(Array.isArray(t))return t}function xU(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,u=pU(c),d=u[0],h=u.slice(1);if(typeof d=="number"){NO(a.bind(null,h),d);return}a(d),NO(a.bind(null,h));return}ox(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){rC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rC(t,e,r){return e=bU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bU(t){var e=wU(t,"string");return ql(e)==="symbol"?e:String(e)}function wU(t,e){if(ql(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jU=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},_U=function(e){return e},SU=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fl=function(e,r){return Object.keys(r).reduce(function(n,a){return AO(AO({},n),{},rC({},a,e(a,r[a])))},{})},EO=function(e,r,n){return e.map(function(a){return"".concat(SU(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NU(t,e){return AU(t)||OU(t,e)||nC(t,e)||kU()}function kU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function AU(t){if(Array.isArray(t))return t}function EU(t){return TU(t)||CU(t)||nC(t)||PU()}function PU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nC(t,e){if(t){if(typeof t=="string")return lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(t,e)}}function CU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TU(t){if(Array.isArray(t))return lx(t)}function lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fd=1e-4,aC=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},iC=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},PO=function(e,r){return function(n){var a=aC(e,r);return iC(a,n)}},MU=function(e,r){return function(n){var a=aC(e,r),s=[].concat(EU(a.map(function(c,u){return c*u}).slice(1)),[0]);return iC(s,n)}},CO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,c=1,u=1;break;case"ease":a=.25,s=.1,c=.25,u=1;break;case"ease-in":a=.42,s=0,c=1,u=1;break;case"ease-out":a=.42,s=0,c=.58,u=1;break;case"ease-in-out":a=0,s=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=NU(h,4);a=p[0],s=p[1],c=p[2],u=p[3]}}}var m=PO(a,c),v=PO(s,u),b=MU(a,c),w=function(k){return k>1?1:k<0?0:k},j=function(k){for(var A=k>1?1:k,N=A,E=0;E<8;++E){var _=m(N)-A,O=b(N);if(Math.abs(_-A)<Fd||O<Fd)return v(N);N=w(N-_/O)}return v(N)};return j.isStepper=!1,j},$U=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,c=e.dt,u=c===void 0?17:c,d=function(p,m,v){var b=-(p-m)*n,w=v*s,j=v+(b-w)*u/1e3,y=v*u/1e3+p;return Math.abs(y-m)<Fd&&Math.abs(j)<Fd?[m,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},RU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CO(a);case"spring":return $U();default:if(a.split("(")[0]==="cubic-bezier")return CO(a)}return typeof a=="function"?a:null};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function TO(t){return LU(t)||DU(t)||sC(t)||IU()}function IU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LU(t){if(Array.isArray(t))return ux(t)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){cx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cx(t,e,r){return e=BU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BU(t){var e=qU(t,"string");return Ul(e)==="symbol"?e:String(e)}function qU(t,e){if(Ul(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UU(t,e){return WU(t)||zU(t,e)||sC(t,e)||FU()}function FU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sC(t,e){if(t){if(typeof t=="string")return ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(t,e)}}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function WU(t){if(Array.isArray(t))return t}var zd=function(e,r,n){return e+(r-e)*n},dx=function(e){var r=e.from,n=e.to;return r!==n},HU=function t(e,r,n){var a=fl(function(s,c){if(dx(c)){var u=e(c.from,c.to,c.velocity),d=UU(u,2),h=d[0],p=d[1];return Wt(Wt({},c),{},{from:h,velocity:p})}return c},r);return n<1?fl(function(s,c){return dx(c)?Wt(Wt({},c),{},{velocity:zd(c.velocity,a[s].velocity,n),from:zd(c.from,a[s].from,n)}):c},r):t(e,a,n-1)};const VU=(function(t,e,r,n,a){var s=jU(t,e),c=s.reduce(function(y,k){return Wt(Wt({},y),{},cx({},k,[t[k],e[k]]))},{}),u=s.reduce(function(y,k){return Wt(Wt({},y),{},cx({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,h,p,m=function(){return null},v=function(){return fl(function(k,A){return A.from},u)},b=function(){return!Object.values(u).filter(dx).length},w=function(k){h||(h=k);var A=k-h,N=A/r.dt;u=HU(r,u,N),a(Wt(Wt(Wt({},t),e),v())),h=k,b()||(d=requestAnimationFrame(m))},j=function(k){p||(p=k);var A=(k-p)/n,N=fl(function(_,O){return zd.apply(void 0,TO(O).concat([r(A)]))},c);if(a(Wt(Wt(Wt({},t),e),N)),A<1)d=requestAnimationFrame(m);else{var E=fl(function(_,O){return zd.apply(void 0,TO(O).concat([r(1)]))},c);a(Wt(Wt(Wt({},t),e),E))}};return m=r.isStepper?w:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var KU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GU(t,e){if(t==null)return{};var r=XU(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XU(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Oy(t){return ZU(t)||QU(t)||JU(t)||YU()}function YU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(t,e){if(t){if(typeof t=="string")return fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(t,e)}}function QU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZU(t){if(Array.isArray(t))return fx(t)}function fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){il(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function il(t,e,r){return e=oC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oC(n.key),n)}}function rF(t,e,r){return e&&tF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oC(t){var e=nF(t,"string");return Ms(e)==="symbol"?e:String(e)}function nF(t,e){if(Ms(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(t,e)}function iF(t){var e=sF();return function(){var n=Wd(t),a;if(e){var s=Wd(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return px(this,a)}}function px(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mx(t)}function mx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}var Kn=(function(t){aF(r,t);var e=iF(r);function r(n,a){var s;eF(this,r),s=e.call(this,n,a);var c=s.props,u=c.isActive,d=c.attributeName,h=c.from,p=c.to,m=c.steps,v=c.children,b=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(mx(s)),s.changeStyle=s.changeStyle.bind(mx(s)),!u||b<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),px(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},px(s);s.state={style:d?il({},d,h):h}}else s.state={style:{}};return s}return rF(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,c=a.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,c=s.isActive,u=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(u){if(!c){var b={style:d?il({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(b);return}if(!(fU(a.to,p)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=w||h?m:a.to;if(this.state&&v){var y={style:d?il({},d,j):j};(d&&v[d]!==j||!d&&v!==j)&&this.setState(y)}this.runAnimation(Xr(Xr({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,c=a.from,u=a.to,d=a.duration,h=a.easing,p=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,b=VU(c,u,RU(h),d,this.changeStyle),w=function(){s.stopJSAnimation=b()};this.manager.start([v,p,w,d,m])}},{key:"runStepAnimation",value:function(a){var s=this,c=a.steps,u=a.begin,d=a.onAnimationStart,h=c[0],p=h.style,m=h.duration,v=m===void 0?0:m,b=function(j,y,k){if(k===0)return j;var A=y.duration,N=y.easing,E=N===void 0?"ease":N,_=y.style,O=y.properties,C=y.onAnimationEnd,P=k>0?c[k-1]:y,R=O||Object.keys(_);if(typeof E=="function"||E==="spring")return[].concat(Oy(j),[s.runJSAnimation.bind(s,{from:P.style,to:_,duration:A,easing:E}),A]);var U=EO(R,A,E),I=Xr(Xr(Xr({},P.style),_),{},{transition:U});return[].concat(Oy(j),[I,A,C]).filter(_U)};return this.manager.start([d].concat(Oy(c.reduce(b,[p,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=xU());var s=a.begin,c=a.duration,u=a.attributeName,d=a.to,h=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,b=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var j=u?il({},u,d):d,y=EO(Object.keys(j),c,h);w.start([p,s,Xr(Xr({},j),{},{transition:y}),c,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=GU(a,KU),h=M.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||h===0||c<=0)return s;var m=function(b){var w=b.props,j=w.style,y=j===void 0?{}:j,k=w.className,A=M.cloneElement(b,Xr(Xr({},d),{},{style:Xr(Xr({},y),p),className:k}));return A};return h===1?m(M.Children.only(s)):Y.createElement("div",null,M.Children.map(s,function(v){return m(v)}))}}]),r})(M.PureComponent);Kn.displayName="Animate";Kn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kn.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};var oF=EE();const lF=Qe(oF);function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hd.apply(this,arguments)}function cF(t,e){return hF(t)||fF(t,e)||dF(t,e)||uF()}function uF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function hF(t){if(Array.isArray(t))return t}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){pF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pF(t,e,r){return e=mF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mF(t){var e=gF(t,"string");return Fl(e)=="symbol"?e:e+""}function gF(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,r,n,a,s){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,p;if(c>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,b=4;v<b;v++)m[v]=s[v]>c?c:s[v];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+a-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-u*m[3])),p+="Z"}else if(c>0&&s===+s&&s>0){var w=Math.min(c,s);p="M ".concat(e,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+d*w,",").concat(r,`
            L `).concat(e+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*w,`
            L `).concat(e+n,",").concat(r+a-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+n-d*w,",").concat(r+a,`
            L `).concat(e+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e,",").concat(r+a-u*w," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},vF=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(s,s+u),p=Math.max(s,s+u),m=Math.min(c,c+d),v=Math.max(c,c+d);return n>=h&&n<=p&&a>=m&&a<=v}return!1},yF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xb=function(e){var r=DO(DO({},yF),e),n=M.useRef(),a=M.useState(-1),s=cF(a,2),c=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,v=r.radius,b=r.className,w=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var N=ze("recharts-rectangle",b);return A?Y.createElement(Kn,{canBegin:c>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:j,animationEasing:w,isActive:A},function(E){var _=E.width,O=E.height,C=E.x,P=E.y;return Y.createElement(Kn,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:k,easing:w},Y.createElement("path",Hd({},Be(r,!0),{className:N,d:LO(C,P,_,O,v),ref:n})))}):Y.createElement("path",Hd({},Be(r,!0),{className:N,d:LO(d,h,p,m,v)}))};function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}var Yb=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,c=ze("recharts-dot",s);return r===+r&&n===+n&&a===+a?M.createElement("circle",gx({},Be(e,!1),fd(e),{className:c,cx:r,cy:n,r:a})):null};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}var xF=["x","y","top","left","width","height","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){wF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wF(t,e,r){return e=jF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jF(t){var e=_F(t,"string");return zl(e)=="symbol"?e:e+""}function _F(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SF(t,e){if(t==null)return{};var r=NF(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kF=function(e,r,n,a,s,c){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},OF=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.top,u=c===void 0?0:c,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,b=v===void 0?0:v,w=e.className,j=SF(e,xF),y=bF({x:n,y:s,top:u,left:h,width:m,height:b},j);return!pe(n)||!pe(s)||!pe(m)||!pe(b)||!pe(u)||!pe(h)?null:Y.createElement("path",vx({},Be(y,!0),{className:ze("recharts-cross",w),d:kF(n,s,m,b,u,h)}))},Ay,qO;function AF(){if(qO)return Ay;qO=1;var t=A5(),e=t(Object.getPrototypeOf,Object);return Ay=e,Ay}var Ey,UO;function EF(){if(UO)return Ey;UO=1;var t=Xn(),e=AF(),r=Yn(),n="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,d=c.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&c.call(v)==d}return Ey=h,Ey}var PF=EF();const CF=Qe(PF);var Py,FO;function TF(){if(FO)return Py;FO=1;var t=Xn(),e=Yn(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Py=n,Py}var MF=TF();const $F=Qe(MF);function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(this,arguments)}function RF(t,e){return BF(t)||LF(t,e)||DF(t,e)||IF()}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function BF(t){if(Array.isArray(t))return t}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){qF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qF(t,e,r){return e=UF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UF(t){var e=FF(t,"string");return Wl(e)=="symbol"?e:e+""}function FF(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VO=function(e,r,n,a,s){var c=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-c/2,",").concat(r+s),u+="L ".concat(e+n-c/2-a,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},zF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WF=function(e){var r=HO(HO({},zF),e),n=M.useRef(),a=M.useState(-1),s=RF(a,2),c=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,b=r.className,w=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var A=ze("recharts-trapezoid",b);return k?Y.createElement(Kn,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:h},duration:j,animationEasing:w,isActive:k},function(N){var E=N.upperWidth,_=N.lowerWidth,O=N.height,C=N.x,P=N.y;return Y.createElement(Kn,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:w},Y.createElement("path",Vd({},Be(r,!0),{className:A,d:VO(C,P,E,_,O),ref:n})))}):Y.createElement("g",null,Y.createElement("path",Vd({},Be(r,!0),{className:A,d:VO(d,h,p,m,v)})))},HF=["option","shapeType","propTransformer","activeClassName","isActive"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function VF(t,e){if(t==null)return{};var r=KF(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){GF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GF(t,e,r){return e=XF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XF(t){var e=YF(t,"string");return Hl(e)=="symbol"?e:e+""}function YF(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JF(t,e){return Kd(Kd({},e),t)}function QF(t,e){return t==="symbols"}function GO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(Xb,r);case"trapezoid":return Y.createElement(WF,r);case"sector":return Y.createElement(eC,r);case"symbols":if(QF(e))return Y.createElement(pb,r);break;default:return null}}function ZF(t){return M.isValidElement(t)?t.props:t}function ez(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?JF:n,s=t.activeClassName,c=s===void 0?"recharts-active-shape":s,u=t.isActive,d=VF(t,HF),h;if(M.isValidElement(e))h=M.cloneElement(e,Kd(Kd({},d),ZF(e)));else if(Le(e))h=e(d);else if(CF(e)&&!$F(e)){var p=a(e,d);h=Y.createElement(GO,{shapeType:r,elementProps:p})}else{var m=d;h=Y.createElement(GO,{shapeType:r,elementProps:m})}return u?Y.createElement(mt,{className:c},h):h}function Bf(t,e){return e!=null&&"trapezoids"in t.props}function qf(t,e){return e!=null&&"sectors"in t.props}function Vl(t,e){return e!=null&&"points"in t.props}function tz(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function rz(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function nz(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function az(t,e){var r;return Bf(t,e)?r=tz:qf(t,e)?r=rz:Vl(t,e)&&(r=nz),r}function iz(t,e){var r;return Bf(t,e)?r="trapezoids":qf(t,e)?r="sectors":Vl(t,e)&&(r="points"),r}function sz(t,e){if(Bf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vl(t,e)?e.payload:{}}function oz(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=iz(r,e),s=sz(r,e),c=n.filter(function(d,h){var p=El(s,d),m=r.props[a].filter(function(w){var j=az(r,e);return j(w,e)}),v=r.props[a].indexOf(m[m.length-1]),b=h===v;return p&&b}),u=n.indexOf(c[c.length-1]);return u}var Cy,XO;function lz(){if(XO)return Cy;XO=1;var t=Math.ceil,e=Math.max;function r(n,a,s,c){for(var u=-1,d=e(t((a-n)/(s||1)),0),h=Array(d);d--;)h[c?d:++u]=n,n+=s;return h}return Cy=r,Cy}var Ty,YO;function lC(){if(YO)return Ty;YO=1;var t=W5(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return Ty=n,Ty}var My,JO;function cz(){if(JO)return My;JO=1;var t=lz(),e=Af(),r=lC();function n(a){return function(s,c,u){return u&&typeof u!="number"&&e(s,c,u)&&(c=u=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),u=u===void 0?s<c?1:-1:r(u),t(s,c,u,a)}}return My=n,My}var $y,QO;function uz(){if(QO)return $y;QO=1;var t=cz(),e=t();return $y=e,$y}var dz=uz();const Gd=Qe(dz);function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){cC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cC(t,e,r){return e=fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fz(t){var e=hz(t,"string");return Kl(e)=="symbol"?e:e+""}function hz(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pz=["Webkit","Moz","O","ms"],mz=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=pz.reduce(function(s,c){return eA(eA({},s),{},cC({},c+n,r))},{});return a[e]=r,a};function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xd.apply(this,arguments)}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(n){wr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dC(n.key),n)}}function vz(t,e,r){return e&&rA(t.prototype,e),r&&rA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yz(t,e,r){return e=Yd(e),xz(t,uC()?Reflect.construct(e,r||[],Yd(t).constructor):e.apply(t,r))}function xz(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bz(t)}function bz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}function wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yx(t,e)}function wr(t,e,r){return e=dC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dC(t){var e=jz(t,"string");return $s(e)=="symbol"?e:e+""}function jz(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _z=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,c=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=cl().domain(Gd(0,d)).range([s,s+c-u]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:p}},nA=function(e){return e.changedTouches&&!!e.changedTouches.length},Rs=(function(t){function e(r){var n;return gz(this,e),n=yz(this,e,[r]),wr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),wr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),wr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),wr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wr(n,"handleSlideDragStart",function(a){var s=nA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wz(e,t),vz(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,p=h.length-1,m=Math.min(a,s),v=Math.max(a,s),b=e.getIndexInRange(c,m),w=e.getIndexInRange(c,v);return{startIndex:b-b%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,c=a.tickFormatter,u=a.dataKey,d=kr(s[n],u,n);return Le(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,c=a.startX,u=a.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,b=d.endIndex,w=d.onChange,j=n.pageX-s;j>0?j=Math.min(j,h+p-m-u,h+p-m-c):j<0&&(j=Math.max(j,h-c,h-u));var y=this.getIndex({startX:c+j,endX:u+j});(y.startIndex!==v||y.endIndex!==b)&&w&&w(y),this.setState({startX:c+j,endX:u+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=nA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,d=a.startX,h=this.state[c],p=this.props,m=p.x,v=p.width,b=p.travellerWidth,w=p.onChange,j=p.gap,y=p.data,k={startX:this.state.startX,endX:this.state.endX},A=n.pageX-s;A>0?A=Math.min(A,m+v-b-h):A<0&&(A=Math.max(A,m-h)),k[c]=h+A;var N=this.getIndex(k),E=N.startIndex,_=N.endIndex,O=function(){var P=y.length-1;return c==="startX"&&(u>d?E%j===0:_%j===0)||u<d&&_===P||c==="endX"&&(u>d?_%j===0:E%j===0)||u>d&&_===P};this.setState(wr(wr({},c,h+A),"brushMoveStartX",n.pageX),function(){w&&O()&&w(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,c=this.state,u=c.scaleValues,d=c.startX,h=c.endX,p=this.state[a],m=u.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var b=u[v];a==="startX"&&b>=h||a==="endX"&&b<=d||this.setState(wr({},a,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.fill,h=n.stroke;return Y.createElement("rect",{stroke:h,fill:d,x:a,y:s,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.data,h=n.children,p=n.padding,m=M.Children.only(h);return m?Y.cloneElement(m,{x:a,y:s,width:c,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,c,u=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,v=d.traveller,b=d.ariaLabel,w=d.data,j=d.startIndex,y=d.endIndex,k=Math.max(n,this.props.x),A=Ry(Ry({},Be(this.props,!1)),{},{x:k,y:h,width:p,height:m}),N=b||"Min value: ".concat((s=w[j])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=w[y])===null||c===void 0?void 0:c.name);return Y.createElement(mt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,a){var s=this.props,c=s.y,u=s.height,d=s.stroke,h=s.travellerWidth,p=Math.min(n,a)+h,m=Math.max(Math.abs(a-n)-h,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:c,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,v=p.endX,b=5,w={pointerEvents:"none",fill:h};return Y.createElement(mt,{className:"recharts-brush-texts"},Y.createElement(Sd,Xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-b,y:c+u/2},w),this.getTextOfTick(a)),Y.createElement(Sd,Xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+b,y:c+u/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,c=n.children,u=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,v=this.state,b=v.startX,w=v.endX,j=v.isTextActive,y=v.isSlideMoving,k=v.isTravellerMoving,A=v.isTravellerFocused;if(!a||!a.length||!pe(u)||!pe(d)||!pe(h)||!pe(p)||h<=0||p<=0)return null;var N=ze("recharts-brush",s),E=Y.Children.count(c)===1,_=mz("userSelect","none");return Y.createElement(mt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(j||y||k||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,c=n.width,u=n.height,d=n.stroke,h=Math.floor(s+u/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:a,y:s,width:c,height:u,fill:d,stroke:"none"}),Y.createElement("line",{x1:a+1,y1:h,x2:a+c-1,y2:h,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:a+1,y1:h+2,x2:a+c-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return Y.isValidElement(n)?s=Y.cloneElement(n,a):Le(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,c=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(s!==a.prevData||h!==a.prevUpdateId)return Ry({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:c},s&&s.length?_z({data:s,width:c,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+c-d]);var v=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,c=0,u=s-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>a?u=d:c=d}return a>=n[u]?u:c}}])})(M.PureComponent);wr(Rs,"displayName","Brush");wr(Rs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Iy,aA;function Sz(){if(aA)return Iy;aA=1;var t=wb();function e(r,n){var a;return t(r,function(s,c,u){return a=n(s,c,u),!a}),!!a}return Iy=e,Iy}var Dy,iA;function Nz(){if(iA)return Dy;iA=1;var t=w5(),e=Ma(),r=Sz(),n=hr(),a=Af();function s(c,u,d){var h=n(c)?t:r;return d&&a(c,u,d)&&(u=void 0),h(c,e(u,3))}return Dy=s,Dy}var kz=Nz();const Oz=Qe(kz);var Sn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Ly,sA;function Az(){if(sA)return Ly;sA=1;var t=B5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Ly=e,Ly}var By,oA;function Ez(){if(oA)return By;oA=1;var t=Az(),e=D5(),r=Ma();function n(a,s){var c={};return s=r(s,3),e(a,function(u,d,h){t(c,d,s(u,d,h))}),c}return By=n,By}var Pz=Ez();const Cz=Qe(Pz);var qy,lA;function Tz(){if(lA)return qy;lA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return qy=t,qy}var Uy,cA;function Mz(){if(cA)return Uy;cA=1;var t=wb();function e(r,n){var a=!0;return t(r,function(s,c,u){return a=!!n(s,c,u),a}),a}return Uy=e,Uy}var Fy,uA;function $z(){if(uA)return Fy;uA=1;var t=Tz(),e=Mz(),r=Ma(),n=hr(),a=Af();function s(c,u,d){var h=n(c)?t:e;return d&&a(c,u,d)&&(u=void 0),h(c,r(u,3))}return Fy=s,Fy}var Rz=$z();const Iz=Qe(Rz);var Dz=["x","y"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xx.apply(this,arguments)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){Lz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lz(t,e,r){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bz(t){var e=qz(t,"string");return Gl(e)=="symbol"?e:e+""}function qz(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uz(t,e){if(t==null)return{};var r=Fz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zz(t,e){var r=t.x,n=t.y,a=Uz(t,Dz),s="".concat(r),c=parseInt(s,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||a.height),p=parseInt(h,10),m="".concat(e.width||a.width),v=parseInt(m,10);return Yo(Yo(Yo(Yo(Yo({},e),a),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function fA(t){return Y.createElement(ez,xx({shapeType:"rectangle",propTransformer:zz,activeClassName:"recharts-active-bar"},t))}var Wz=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=pe(n)||V$(n);return s?e(n,a):(s||bi(),r)}},Hz=["value","background"],fC;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Vz(t,e){if(t==null)return{};var r=Kz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pC(n.key),n)}}function Xz(t,e,r){return e&&pA(t.prototype,e),r&&pA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yz(t,e,r){return e=Qd(e),Jz(t,hC()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function Jz(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qz(t)}function Qz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hC=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function Zz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bx(t,e)}function Na(t,e,r){return e=pC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pC(t){var e=e9(t,"string");return Is(e)=="symbol"?e:e+""}function e9(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fc=(function(t){function e(){var r;Gz(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yz(this,e,[].concat(a)),Na(r,"state",{isAnimationFinished:!1}),Na(r,"id",sc("recharts-bar-")),Na(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),Na(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return Zz(e,t),Xz(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.dataKey,d=s.activeIndex,h=s.activeBar,p=Be(this.props,!1);return n&&n.map(function(m,v){var b=v===d,w=b?h:c,j=St(St(St({},p),m),{},{isActive:b,option:w,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Y.createElement(mt,Jd({className:"recharts-bar-rectangle"},hd(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),Y.createElement(fA,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,c=a.layout,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,v=this.state.prevData;return Y.createElement(Kn,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,j=s.map(function(y,k){var A=v&&v[k];if(A){var N=Ir(A.x,y.x),E=Ir(A.y,y.y),_=Ir(A.width,y.width),O=Ir(A.height,y.height);return St(St({},y),{},{x:N(w),y:E(w),width:_(w),height:O(w)})}if(c==="horizontal"){var C=Ir(0,y.height),P=C(w);return St(St({},y),{},{y:y.y+y.height-P,height:P})}var R=Ir(0,y.width),U=R(w);return St(St({},y),{},{width:U})});return Y.createElement(mt,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&a&&a.length&&(!c||!El(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,c=a.dataKey,u=a.activeIndex,d=Be(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=Vz(h,Hz);if(!m)return null;var b=St(St(St(St(St({},v),{},{fill:"#eee"},m),d),hd(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:p,className:"recharts-bar-background-rectangle"});return Y.createElement(fA,Jd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},b))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,u=s.xAxis,d=s.yAxis,h=s.layout,p=s.children,m=sn(p,Lf);if(!m)return null;var v=h==="vertical"?c[0].height/2:c[0].width/2,b=function(y,k){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:kr(y,k)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Y.createElement(mt,w,m.map(function(j){return Y.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:c,xAxis:u,yAxis:d,layout:h,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,c=n.className,u=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,v=n.height,b=n.isAnimationActive,w=n.background,j=n.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,k=ze("recharts-bar",c),A=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,E=A||N,_=qe(j)?this.id:j;return Y.createElement(mt,{className:k},A||N?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(_)},Y.createElement("rect",{x:A?h:h-m/2,y:N?p:p-v/2,width:A?m:m*2,height:N?v:v*2}))):null,Y.createElement(mt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,_),(!b||y)&&Ea.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(M.PureComponent);fC=fc;Na(fc,"displayName","Bar");Na(fc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Na(fc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,c=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,b=fB(n,r);if(!b)return null;var w=e.layout,j=r.type.defaultProps,y=j!==void 0?St(St({},j),r.props):r.props,k=y.dataKey,A=y.children,N=y.minPointSize,E=w==="horizontal"?c:s,_=h?E.scale.domain():null,O=bB({numericAxis:E}),C=sn(A,V5),P=m.map(function(R,U){var I,F,L,G,B,z;h?I=hB(h[p+U],_):(I=kr(R,k),Array.isArray(I)||(I=[O,I]));var ee=Wz(N,fC.defaultProps.minPointSize)(I[1],U);if(w==="horizontal"){var H,W=[c.scale(I[0]),c.scale(I[1])],J=W[0],$=W[1];F=eO({axis:s,ticks:u,bandSize:a,offset:b.offset,entry:R,index:U}),L=(H=$??J)!==null&&H!==void 0?H:void 0,G=b.size;var q=J-$;if(B=Number.isNaN(q)?0:q,z={x:F,y:c.y,width:G,height:c.height},Math.abs(ee)>0&&Math.abs(B)<Math.abs(ee)){var ne=rn(B||ee)*(Math.abs(ee)-Math.abs(B));L-=ne,B+=ne}}else{var se=[s.scale(I[0]),s.scale(I[1])],ie=se[0],me=se[1];if(F=ie,L=eO({axis:c,ticks:d,bandSize:a,offset:b.offset,entry:R,index:U}),G=me-ie,B=b.size,z={x:s.x,y:L,width:s.width,height:B},Math.abs(ee)>0&&Math.abs(G)<Math.abs(ee)){var Me=rn(G||ee)*(Math.abs(ee)-Math.abs(G));G+=Me}}return St(St(St({},R),{},{x:F,y:L,width:G,height:B,value:h?I:I[1],payload:R,background:z},C&&C[U]&&C[U].props),{},{tooltipPayload:[JP(r,R)],tooltipPosition:{x:F+G/2,y:L+B/2}})});return St({data:P,layout:w},v)});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function t9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mC(n.key),n)}}function r9(t,e,r){return e&&mA(t.prototype,e),r&&mA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(r),!0).forEach(function(n){Uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uf(t,e,r){return e=mC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mC(t){var e=n9(t,"string");return Xl(e)=="symbol"?e:e+""}function n9(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9=function(e,r,n,a,s){var c=e.width,u=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!jr(h,fc);return p.reduce(function(b,w){var j=r[w],y=j.orientation,k=j.domain,A=j.padding,N=A===void 0?{}:A,E=j.mirror,_=j.reversed,O="".concat(y).concat(E?"Mirror":""),C,P,R,U,I;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var F=k[1]-k[0],L=1/0,G=j.categoricalDomain.sort(X$);if(G.forEach(function(se,ie){ie>0&&(L=Math.min((se||0)-(G[ie-1]||0),L))}),Number.isFinite(L)){var B=L/F,z=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(C=B*z/2),j.padding==="no-gap"){var ee=yi(e.barCategoryGap,B*z),H=B*z/2;C=H-ee-(H-ee)/z*ee}}}a==="xAxis"?P=[n.left+(N.left||0)+(C||0),n.left+n.width-(N.right||0)-(C||0)]:a==="yAxis"?P=d==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(C||0),n.top+n.height-(N.bottom||0)-(C||0)]:P=j.range,_&&(P=[P[1],P[0]]);var W=uB(j,s,v),J=W.scale,$=W.realScaleType;J.domain(k).range(P),dB(J);var q=xB(J,Qr(Qr({},j),{},{realScaleType:$}));a==="xAxis"?(I=y==="top"&&!E||y==="bottom"&&E,R=n.left,U=m[O]-I*j.height):a==="yAxis"&&(I=y==="left"&&!E||y==="right"&&E,R=m[O]-I*j.width,U=n.top);var ne=Qr(Qr(Qr({},j),q),{},{realScaleType:$,x:R,y:U,scale:J,width:a==="xAxis"?n.width:j.width,height:a==="yAxis"?n.height:j.height});return ne.bandSize=Ld(ne,q),!j.hide&&a==="xAxis"?m[O]+=(I?-1:1)*ne.height:j.hide||(m[O]+=(I?-1:1)*ne.width),Qr(Qr({},b),{},Uf({},w,ne))},{})},gC=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(a,c),width:Math.abs(s-n),height:Math.abs(c-a)}},i9=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return gC({x:r,y:n},{x:a,y:s})},vC=(function(){function t(e){t9(this,t),this.scale=e}return r9(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Uf(vC,"EPS",1e-4);var Jb=function(e){var r=Object.keys(e).reduce(function(n,a){return Qr(Qr({},n),{},Uf({},a,vC.create(e[a])))},{});return Qr(Qr({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,u=s.position;return Cz(a,function(d,h){return r[h].apply(d,{bandAware:c,position:u})})},isInRange:function(a){return Iz(a,function(s,c){return r[c].isInRange(s)})}})};function s9(t){return(t%180+180)%180}var o9=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=s9(a),c=s*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},zy,vA;function l9(){if(vA)return zy;vA=1;var t=Ma(),e=oc(),r=kf();function n(a){return function(s,c,u){var d=Object(s);if(!e(s)){var h=t(c,3);s=r(s),c=function(m){return h(d[m],m,d)}}var p=a(s,c,u);return p>-1?d[h?s[p]:p]:void 0}}return zy=n,zy}var Wy,yA;function c9(){if(yA)return Wy;yA=1;var t=lC();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Wy=e,Wy}var Hy,xA;function u9(){if(xA)return Hy;xA=1;var t=T5(),e=Ma(),r=c9(),n=Math.max;function a(s,c,u){var d=s==null?0:s.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(s,e(c,3),h)}return Hy=a,Hy}var Vy,bA;function d9(){if(bA)return Vy;bA=1;var t=l9(),e=u9(),r=t(e);return Vy=r,Vy}d9();var f9=GE();const h9=Qe(f9);var p9=h9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yC=M.createContext(void 0),xC=M.createContext(void 0),bC=M.createContext(void 0),m9=M.createContext({}),wC=M.createContext(void 0),jC=M.createContext(0),_C=M.createContext(0),wA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,c=e.clipPathId,u=e.children,d=e.width,h=e.height,p=p9(s);return Y.createElement(yC.Provider,{value:n},Y.createElement(xC.Provider,{value:a},Y.createElement(m9.Provider,{value:s},Y.createElement(bC.Provider,{value:p},Y.createElement(wC.Provider,{value:c},Y.createElement(jC.Provider,{value:h},Y.createElement(_C.Provider,{value:d},u)))))))},g9=function(){return M.useContext(wC)},SC=function(e){var r=M.useContext(yC);r==null&&bi();var n=r[e];return n==null&&bi(),n},NC=function(e){var r=M.useContext(xC);r==null&&bi();var n=r[e];return n==null&&bi(),n},v9=function(){var e=M.useContext(bC);return e},kC=function(){return M.useContext(_C)},OC=function(){return M.useContext(jC)};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EC(n.key),n)}}function b9(t,e,r){return e&&x9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w9(t,e,r){return e=Zd(e),j9(t,AC()?Reflect.construct(e,r||[],Zd(t).constructor):e.apply(t,r))}function j9(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9(t)}function _9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AC=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(t)}function S9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(t,e)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){Qb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qb(t,e,r){return e=EC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EC(t){var e=N9(t,"string");return Ds(e)=="symbol"?e:e+""}function N9(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k9(t,e){return P9(t)||E9(t,e)||A9(t,e)||O9()}function O9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9(t,e){if(t){if(typeof t=="string")return SA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function P9(t){if(Array.isArray(t))return t}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}var C9=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):Le(e)?n=e(r):n=Y.createElement("line",jx({},r,{className:"recharts-reference-line-line"})),n},T9=function(e,r,n,a,s,c,u,d,h){var p=s.x,m=s.y,v=s.width,b=s.height;if(n){var w=h.y,j=e.y.apply(w,{position:c});if(Sn(h,"discard")&&!e.y.isInRange(j))return null;var y=[{x:p+v,y:j},{x:p,y:j}];return d==="left"?y.reverse():y}if(r){var k=h.x,A=e.x.apply(k,{position:c});if(Sn(h,"discard")&&!e.x.isInRange(A))return null;var N=[{x:A,y:m+b},{x:A,y:m}];return u==="top"?N.reverse():N}if(a){var E=h.segment,_=E.map(function(O){return e.apply(O,{position:c})});return Sn(h,"discard")&&Oz(_,function(O){return!e.isInRange(O)})?null:_}return null};function M9(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,c=t.shape,u=t.className,d=t.alwaysShow,h=g9(),p=SC(a),m=NC(s),v=v9();if(!h||!v)return null;hi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Jb({x:p.scale,y:m.scale}),w=Mt(e),j=Mt(r),y=n&&n.length===2,k=T9(b,w,j,y,v,t.position,p.orientation,m.orientation,t);if(!k)return null;var A=k9(k,2),N=A[0],E=N.x,_=N.y,O=A[1],C=O.x,P=O.y,R=Sn(t,"hidden")?"url(#".concat(h,")"):void 0,U=_A(_A({clipPath:R},Be(t,!0)),{},{x1:E,y1:_,x2:C,y2:P});return Y.createElement(mt,{className:ze("recharts-reference-line",u)},C9(c,U),Jt.renderCallByParent(t,i9({x1:E,y1:_,x2:C,y2:P})))}var Zb=(function(t){function e(){return y9(this,e),w9(this,e,arguments)}return S9(e,t),b9(e,[{key:"render",value:function(){return Y.createElement(M9,this.props)}}])})(Y.Component);Qb(Zb,"displayName","ReferenceLine");Qb(Zb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function NA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(r),!0).forEach(function(n){Ff(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CC(n.key),n)}}function I9(t,e,r){return e&&R9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D9(t,e,r){return e=ef(e),L9(t,PC()?Reflect.construct(e,r||[],ef(t).constructor):e.apply(t,r))}function L9(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B9(t)}function B9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PC=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(t)}function q9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sx(t,e)}function Ff(t,e,r){return e=CC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CC(t){var e=U9(t,"string");return Ls(e)=="symbol"?e:e+""}function U9(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F9=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,c=Jb({x:a.scale,y:s.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return Sn(e,"discard")&&!c.isInRange(u)?null:u},zf=(function(t){function e(){return $9(this,e),D9(this,e,arguments)}return q9(e,t),I9(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,h=Mt(a),p=Mt(s);if(hi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=F9(this.props);if(!m)return null;var v=m.x,b=m.y,w=this.props,j=w.shape,y=w.className,k=Sn(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=kA(kA({clipPath:k},Be(this.props,!0)),{},{cx:v,cy:b});return Y.createElement(mt,{className:ze("recharts-reference-dot",y)},e.renderDot(j,A),Jt.renderCallByParent(this.props,{x:v-c,y:b-c,width:2*c,height:2*c}))}}])})(Y.Component);Ff(zf,"displayName","ReferenceDot");Ff(zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ff(zf,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):Le(t)?r=t(e):r=Y.createElement(Yb,_x({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){Wf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MC(n.key),n)}}function H9(t,e,r){return e&&W9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V9(t,e,r){return e=tf(e),K9(t,TC()?Reflect.construct(e,r||[],tf(t).constructor):e.apply(t,r))}function K9(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(t)}function G9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TC=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(t)}function X9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kx(t,e)}function Wf(t,e,r){return e=MC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MC(t){var e=Y9(t,"string");return Bs(e)=="symbol"?e:e+""}function Y9(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J9=function(e,r,n,a,s){var c=s.x1,u=s.x2,d=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=Jb({x:p.scale,y:m.scale}),b={x:e?v.x.apply(c,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Sn(s,"discard")&&(!v.isInRange(b)||!v.isInRange(w))?null:gC(b,w)},Hf=(function(t){function e(){return z9(this,e),V9(this,e,arguments)}return X9(e,t),H9(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,c=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;hi(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Mt(a),v=Mt(s),b=Mt(c),w=Mt(u),j=this.props.shape;if(!m&&!v&&!b&&!w&&!j)return null;var y=J9(m,v,b,w,this.props);if(!y&&!j)return null;var k=Sn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Y.createElement(mt,{className:ze("recharts-reference-area",d)},e.renderRect(j,AA(AA({clipPath:k},Be(this.props,!0)),y)),Jt.renderCallByParent(this.props,y))}}])})(Y.Component);Wf(Hf,"displayName","ReferenceArea");Wf(Hf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Wf(Hf,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):Le(t)?r=t(e):r=Y.createElement(Xb,Nx({},e,{className:"recharts-reference-area-rect"})),r});function $C(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Q9(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return o9(n,r)}function Z9(t,e,r){var n=r==="width",a=t.x,s=t.y,c=t.width,u=t.height;return e===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function rf(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function eW(t,e){return $C(t,e+1)}function tW(t,e,r,n,a){for(var s=(n||[]).slice(),c=e.start,u=e.end,d=0,h=1,p=c,m=function(){var w=n?.[d];if(w===void 0)return{v:$C(n,h)};var j=d,y,k=function(){return y===void 0&&(y=r(w,j)),y},A=w.coordinate,N=d===0||rf(t,A,k,p,u);N||(d=0,p=c,h+=1),N&&(p=A+t*(k()/2+a),d+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){rW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rW(t,e,r){return e=nW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nW(t){var e=aW(t,"string");return Yl(e)=="symbol"?e:e+""}function aW(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iW(t,e,r,n,a){for(var s=(n||[]).slice(),c=s.length,u=e.start,d=e.end,h=function(v){var b=s[v],w,j=function(){return w===void 0&&(w=r(b,v)),w};if(v===c-1){var y=t*(b.coordinate+t*j()/2-d);s[v]=b=Yt(Yt({},b),{},{tickCoord:y>0?b.coordinate-y*t:b.coordinate})}else s[v]=b=Yt(Yt({},b),{},{tickCoord:b.coordinate});var k=rf(t,b.tickCoord,j,u,d);k&&(d=b.tickCoord-t*(j()/2+a),s[v]=Yt(Yt({},b),{},{isShow:!0}))},p=c-1;p>=0;p--)h(p);return s}function sW(t,e,r,n,a,s){var c=(n||[]).slice(),u=c.length,d=e.start,h=e.end;if(s){var p=n[u-1],m=r(p,u-1),v=t*(p.coordinate+t*m/2-h);c[u-1]=p=Yt(Yt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var b=rf(t,p.tickCoord,function(){return m},d,h);b&&(h=p.tickCoord-t*(m/2+a),c[u-1]=Yt(Yt({},p),{},{isShow:!0}))}for(var w=s?u-1:u,j=function(A){var N=c[A],E,_=function(){return E===void 0&&(E=r(N,A)),E};if(A===0){var O=t*(N.coordinate-t*_()/2-d);c[A]=N=Yt(Yt({},N),{},{tickCoord:O<0?N.coordinate-O*t:N.coordinate})}else c[A]=N=Yt(Yt({},N),{},{tickCoord:N.coordinate});var C=rf(t,N.tickCoord,_,d,h);C&&(d=N.tickCoord+t*(_()/2+a),c[A]=Yt(Yt({},N),{},{isShow:!0}))},y=0;y<w;y++)j(y);return c}function oW(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,c=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(pe(d)||Qs.isSsr)return eW(a,typeof d=="number"&&pe(d)?d:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",w=p&&b==="width"?ll(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=function(N,E){var _=Le(h)?h(N.value,E):N.value;return b==="width"?Q9(ll(_,{fontSize:e,letterSpacing:r}),w,m):ll(_,{fontSize:e,letterSpacing:r})[b]},y=a.length>=2?rn(a[1].coordinate-a[0].coordinate):1,k=Z9(s,y,b);return d==="equidistantPreserveStart"?tW(y,k,j,a,c):(d==="preserveStart"||d==="preserveStartEnd"?v=sW(y,k,j,a,c,d==="preserveStartEnd"):v=iW(y,k,j,a,c),v.filter(function(A){return A.isShow}))}var lW=["viewBox"],cW=["viewBox"],uW=["ticks"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ky(t,e){if(t==null)return{};var r=dW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IC(n.key),n)}}function hW(t,e,r){return e&&CA(t.prototype,e),r&&CA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pW(t,e,r){return e=nf(e),mW(t,RC()?Reflect.construct(e,r||[],nf(t).constructor):e.apply(t,r))}function mW(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gW(t)}function gW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RC=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(t)}function vW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ox(t,e)}function ew(t,e,r){return e=IC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IC(t){var e=yW(t,"string");return qs(e)=="symbol"?e:e+""}function yW(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vf=(function(t){function e(r){var n;return fW(this,e),n=pW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return vW(e,t),hW(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,c=Ky(n,lW),u=this.props,d=u.viewBox,h=Ky(u,cW);return!vs(s,d)||!vs(c,h)||!vs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,c=a.y,u=a.width,d=a.height,h=a.orientation,p=a.tickSize,m=a.mirror,v=a.tickMargin,b,w,j,y,k,A,N=m?-1:1,E=n.tickSize||p,_=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":b=w=n.coordinate,y=c+ +!m*d,j=y-N*E,A=j-N*v,k=_;break;case"left":j=y=n.coordinate,w=s+ +!m*u,b=w-N*E,k=b-N*v,A=_;break;case"right":j=y=n.coordinate,w=s+ +m*u,b=w+N*E,k=b+N*v,A=_;break;default:b=w=n.coordinate,y=c+ +m*d,j=y+N*E,A=j+N*v,k=_;break}return{line:{x1:b,y1:j,x2:w,y2:y},tick:{x:k,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c;switch(a){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=Pt(Pt(Pt({},Be(this.props,!1)),Be(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!h||d==="bottom"&&h);m=Pt(Pt({},m),{},{x1:a,y1:s+v*u,x2:a+c,y2:s+v*u})}else{var b=+(d==="left"&&!h||d==="right"&&h);m=Pt(Pt({},m),{},{x1:a+b*c,y1:s,x2:a+b*c,y2:s+u})}return Y.createElement("line",fs({},m,{className:ze("recharts-cartesian-axis-line",Lr(p,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var c=this,u=this.props,d=u.tickLine,h=u.stroke,p=u.tick,m=u.tickFormatter,v=u.unit,b=oW(Pt(Pt({},this.props),{},{ticks:n}),a,s),w=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=Be(this.props,!1),k=Be(p,!1),A=Pt(Pt({},y),{},{fill:"none"},Be(d,!1)),N=b.map(function(E,_){var O=c.getTickLineCoord(E),C=O.line,P=O.tick,R=Pt(Pt(Pt(Pt({textAnchor:w,verticalAnchor:j},y),{},{stroke:"none",fill:h},k),P),{},{index:_,payload:E,visibleTicksCount:b.length,tickFormatter:m});return Y.createElement(mt,fs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},hd(c.props,E,_)),d&&Y.createElement("line",fs({},A,C,{className:ze("recharts-cartesian-axis-tick-line",Lr(d,"className"))})),p&&e.renderTickItem(p,R,"".concat(Le(m)?m(E.value,_):E.value).concat(v||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,c=a.width,u=a.height,d=a.ticksGenerator,h=a.className,p=a.hide;if(p)return null;var m=this.props,v=m.ticks,b=Ky(m,uW),w=v;return Le(d)&&(w=v&&v.length>0?d(this.props):d(b)),c<=0||u<=0||!w||!w.length?null:Y.createElement(mt,{className:ze("recharts-cartesian-axis",h),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var c,u=ze(a.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?c=Y.cloneElement(n,Pt(Pt({},a),{},{className:u})):Le(n)?c=n(Pt(Pt({},a),{},{className:u})):c=Y.createElement(Sd,fs({},a,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(M.Component);ew(Vf,"displayName","CartesianAxis");ew(Vf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xW=["layout","type","stroke","connectNulls","isRange","ref"],bW=["key"],DC;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function LC(t,e){if(t==null)return{};var r=wW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ui.apply(this,arguments)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qC(n.key),n)}}function _W(t,e,r){return e&&MA(t.prototype,e),r&&MA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SW(t,e,r){return e=af(e),NW(t,BC()?Reflect.construct(e,r||[],af(t).constructor):e.apply(t,r))}function NW(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kW(t)}function kW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BC=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(t)}function OW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ax(t,e)}function xn(t,e,r){return e=qC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qC(t){var e=AW(t,"string");return Us(e)=="symbol"?e:e+""}function AW(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Da=(function(t){function e(){var r;jW(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=SW(this,e,[].concat(a)),xn(r,"state",{isAnimationFinished:!0}),xn(r,"id",sc("recharts-area-")),xn(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Le(c)&&c()}),xn(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Le(c)&&c()}),r}return OW(e,t),_W(e,[{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,h=d.dot,p=d.points,m=d.dataKey,v=Be(this.props,!1),b=Be(h,!0),w=p.map(function(y,k){var A=ba(ba(ba({key:"dot-".concat(k),r:3},v),b),{},{index:k,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:p});return e.renderDotItem(h,A)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Y.createElement(mt,ui({className:"recharts-area-dots"},j),w)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].x,h=c[c.length-1].x,p=n*Math.abs(d-h),m=Sa(c.map(function(v){return v.y||0}));return pe(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Sa(s.map(function(v){return v.y||0})),m)),pe(m)?Y.createElement("rect",{x:d<h?d:d-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].y,h=c[c.length-1].y,p=n*Math.abs(d-h),m=Sa(c.map(function(v){return v.x||0}));return pe(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Sa(s.map(function(v){return v.x||0})),m)),pe(m)?Y.createElement("rect",{x:0,y:d<h?d:d-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,c){var u=this.props,d=u.layout,h=u.type,p=u.stroke,m=u.connectNulls,v=u.isRange;u.ref;var b=LC(u,xW);return Y.createElement(mt,{clipPath:s?"url(#clipPath-".concat(c,")"):null},Y.createElement(dl,ui({},Be(b,!0),{points:n,connectNulls:m,type:h,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&Y.createElement(dl,ui({},Be(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:m,fill:"none",points:n})),p!=="none"&&v&&Y.createElement(dl,ui({},Be(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,d=c.baseLine,h=c.isAnimationActive,p=c.animationBegin,m=c.animationDuration,v=c.animationEasing,b=c.animationId,w=this.state,j=w.prevPoints,y=w.prevBaseLine;return Y.createElement(Kn,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(j){var N=j.length/u.length,E=u.map(function(P,R){var U=Math.floor(R*N);if(j[U]){var I=j[U],F=Ir(I.x,P.x),L=Ir(I.y,P.y);return ba(ba({},P),{},{x:F(A),y:L(A)})}return P}),_;if(pe(d)&&typeof d=="number"){var O=Ir(y,d);_=O(A)}else if(qe(d)||Ys(d)){var C=Ir(y,0);_=C(A)}else _=d.map(function(P,R){var U=Math.floor(R*N);if(y[U]){var I=y[U],F=Ir(I.x,P.x),L=Ir(I.y,P.y);return ba(ba({},P),{},{x:F(A),y:L(A)})}return P});return s.renderAreaStatically(E,_,n,a)}return Y.createElement(mt,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(A))),Y.createElement(mt,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,c=s.points,u=s.baseLine,d=s.isAnimationActive,h=this.state,p=h.prevPoints,m=h.prevBaseLine,v=h.totalLength;return d&&c&&c.length&&(!p&&v>0||!El(p,c)||!El(m,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,d=a.className,h=a.top,p=a.left,m=a.xAxis,v=a.yAxis,b=a.width,w=a.height,j=a.isAnimationActive,y=a.id;if(s||!u||!u.length)return null;var k=this.state.isAnimationFinished,A=u.length===1,N=ze("recharts-area",d),E=m&&m.allowDataOverflow,_=v&&v.allowDataOverflow,O=E||_,C=qe(y)?this.id:y,P=(n=Be(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=P.r,U=R===void 0?3:R,I=P.strokeWidth,F=I===void 0?2:I,L=aR(c)?c:{},G=L.clipDot,B=G===void 0?!0:G,z=U*2+F;return Y.createElement(mt,{className:N},E||_?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:E?p:p-b/2,y:_?h:h-w/2,width:E?b:b*2,height:_?w:w*2})),!B&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Y.createElement("rect",{x:p-z/2,y:h-z/2,width:b+z,height:w+z}))):null,A?null:this.renderArea(O,C),(c||A)&&this.renderDots(O,B,C),(!j||k)&&Ea.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);DC=Da;xn(Da,"displayName","Area");xn(Da,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xn(Da,"getBaseValue",function(t,e,r,n){var a=t.layout,s=t.baseValue,c=e.props.baseValue,u=c??s;if(pe(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var p=Math.max(h[0],h[1]),m=Math.min(h[0],h[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});xn(Da,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,d=t.dataKey,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,b=e.layout,w=h&&h.length,j=DC.getBaseValue(e,r,n,a),y=b==="horizontal",k=!1,A=m.map(function(E,_){var O;w?O=h[p+_]:(O=kr(E,d),Array.isArray(O)?k=!0:O=[j,O]);var C=O[1]==null||w&&kr(E,d)==null;return y?{x:Zk({axis:n,ticks:s,bandSize:u,entry:E,index:_}),y:C?null:a.scale(O[1]),value:O,payload:E}:{x:C?null:n.scale(O[1]),y:Zk({axis:a,ticks:c,bandSize:u,entry:E,index:_}),value:O,payload:E}}),N;return w||k?N=A.map(function(E){var _=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:_!=null&&E.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:E.y}}):N=y?a.scale(j):n.scale(j),ba({points:A,baseLine:N,layout:b,isRange:k},v)});xn(Da,"renderDotItem",function(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(Le(t))r=t(e);else{var n=ze("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=LC(e,bW);r=Y.createElement(Yb,ui({},s,{key:a,className:n}))}return r});function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zC(n.key),n)}}function CW(t,e,r){return e&&PW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TW(t,e,r){return e=sf(e),MW(t,UC()?Reflect.construct(e,r||[],sf(t).constructor):e.apply(t,r))}function MW(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $W(t)}function $W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(t)}function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ex(t,e)}function Ex(t,e){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ex(t,e)}function FC(t,e,r){return e=zC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zC(t){var e=IW(t,"string");return Fs(e)=="symbol"?e:e+""}function IW(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Px.apply(this,arguments)}function DW(t){var e=t.xAxisId,r=kC(),n=OC(),a=SC(e);return a==null?null:M.createElement(Vf,Px({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return ci(c,!0)}}))}var Kf=(function(t){function e(){return EW(this,e),TW(this,e,arguments)}return RW(e,t),CW(e,[{key:"render",value:function(){return M.createElement(DW,this.props)}}])})(M.Component);FC(Kf,"displayName","XAxis");FC(Kf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function LW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VC(n.key),n)}}function qW(t,e,r){return e&&BW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UW(t,e,r){return e=of(e),FW(t,WC()?Reflect.construct(e,r||[],of(t).constructor):e.apply(t,r))}function FW(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(t)}function zW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WC=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(t)}function WW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cx(t,e)}function Cx(t,e){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cx(t,e)}function HC(t,e,r){return e=VC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VC(t){var e=HW(t,"string");return zs(e)=="symbol"?e:e+""}function HW(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}var VW=function(e){var r=e.yAxisId,n=kC(),a=OC(),s=NC(r);return s==null?null:M.createElement(Vf,Tx({},s,{className:ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return ci(u,!0)}}))},Gf=(function(t){function e(){return LW(this,e),UW(this,e,arguments)}return WW(e,t),qW(e,[{key:"render",value:function(){return M.createElement(VW,this.props)}}])})(M.Component);HC(Gf,"displayName","YAxis");HC(Gf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $A(t){return YW(t)||XW(t)||GW(t)||KW()}function KW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(t,e){if(t){if(typeof t=="string")return Mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mx(t,e)}}function XW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YW(t){if(Array.isArray(t))return Mx(t)}function Mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $x=function(e,r,n,a,s){var c=sn(e,Zb),u=sn(e,zf),d=[].concat($A(c),$A(u)),h=sn(e,Hf),p="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(j,y){if(y.props[p]===n&&Sn(y.props,"extendDomain")&&pe(y.props[m])){var k=y.props[m];return[Math.min(j[0],k),Math.max(j[1],k)]}return j},v)),h.length){var b="".concat(m,"1"),w="".concat(m,"2");v=h.reduce(function(j,y){if(y.props[p]===n&&Sn(y.props,"extendDomain")&&pe(y.props[b])&&pe(y.props[w])){var k=y.props[b],A=y.props[w];return[Math.min(j[0],k,A),Math.max(j[1],k,A)]}return j},v)}return s&&s.length&&(v=s.reduce(function(j,y){return pe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},v)),v},Gy={exports:{}},RA;function JW(){return RA||(RA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,m||d,v),w=r?r+h:h;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function c(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,w=new Array(b);v<b;v++)w[v]=m[v].fn;return w},u.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,v,b,w){var j=r?r+h:h;if(!this._events[j])return!1;var y=this._events[j],k=arguments.length,A,N;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),k){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,v),!0;case 5:return y.fn.call(y.context,p,m,v,b),!0;case 6:return y.fn.call(y.context,p,m,v,b,w),!0}for(N=1,A=new Array(k-1);N<k;N++)A[N-1]=arguments[N];y.fn.apply(y.context,A)}else{var E=y.length,_;for(N=0;N<E;N++)switch(y[N].once&&this.removeListener(h,y[N].fn,void 0,!0),k){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,p);break;case 3:y[N].fn.call(y[N].context,p,m);break;case 4:y[N].fn.call(y[N].context,p,m,v);break;default:if(!A)for(_=1,A=new Array(k-1);_<k;_++)A[_-1]=arguments[_];y[N].fn.apply(y[N].context,A)}}return!0},u.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,v){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!v||w.once)&&(!m||w.context===m)&&c(this,b);else{for(var j=0,y=[],k=w.length;j<k;j++)(w[j].fn!==p||v&&!w[j].once||m&&w[j].context!==m)&&y.push(w[j]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Gy)),Gy.exports}var QW=JW();const ZW=Qe(QW);var Xy=new ZW,Yy="recharts.syncMouseEvents";function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function eH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KC(n.key),n)}}function rH(t,e,r){return e&&tH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jy(t,e,r){return e=KC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KC(t){var e=nH(t,"string");return Jl(e)=="symbol"?e:e+""}function nH(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aH=(function(){function t(){eH(this,t),Jy(this,"activeIndex",0),Jy(this,"coordinateList",[]),Jy(this,"layout","horizontal")}return rH(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,c=r.container,u=c===void 0?null:c,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,c=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+d+h,v=c+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function iH(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function sH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function GC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,c=Ht(e,r,n,a),u=Ht(e,r,n,s);return{points:[c,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function oH(t,e,r){var n,a,s,c;if(t==="horizontal")n=e.x,s=n,a=r.top,c=r.top+r.height;else if(t==="vertical")a=e.y,c=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=Ht(u,d,h,m),b=Ht(u,d,p,m);n=v.x,a=v.y,s=b.x,c=b.y}else return GC(e);return[{x:n,y:a},{x:s,y:c}]}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){lH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lH(t,e,r){return e=cH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cH(t){var e=uH(t,"string");return Ql(e)=="symbol"?e:e+""}function uH(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dH(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,c=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!c||v!=="ScatterChart"&&a!=="axis")return null;var w,j=dl;if(v==="ScatterChart")w=c,j=OF;else if(v==="BarChart")w=sH(m,c,d,p),j=Xb;else if(m==="radial"){var y=GC(c),k=y.cx,A=y.cy,N=y.radius,E=y.startAngle,_=y.endAngle;w={cx:k,cy:A,startAngle:E,endAngle:_,innerRadius:N,outerRadius:N},j=eC}else w={points:oH(m,c,d)},j=dl;var O=Du(Du(Du(Du({stroke:"#ccc",pointerEvents:"none"},d),w),Be(b,!1)),{},{payload:u,payloadIndex:h,className:ze("recharts-tooltip-cursor",b.className)});return M.isValidElement(b)?M.cloneElement(b,O):M.createElement(j,O)}var fH=["item"],hH=["children","className","width","height","style","compact","title","desc"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}function DA(t,e){return gH(t)||mH(t,e)||YC(t,e)||pH()}function pH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function gH(t){if(Array.isArray(t))return t}function LA(t,e){if(t==null)return{};var r=vH(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JC(n.key),n)}}function bH(t,e,r){return e&&xH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wH(t,e,r){return e=lf(e),jH(t,XC()?Reflect.construct(e,r||[],lf(t).constructor):e.apply(t,r))}function jH(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _H(t)}function _H(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(t)}function SH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rx(t,e)}function Rx(t,e){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rx(t,e)}function Hs(t){return OH(t)||kH(t)||YC(t)||NH()}function NH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YC(t,e){if(t){if(typeof t=="string")return Ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(t,e)}}function kH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OH(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){Ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ee(t,e,r){return e=JC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JC(t){var e=AH(t,"string");return Ws(e)=="symbol"?e:e+""}function AH(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EH={xAxis:["bottom","top"],yAxis:["left","right"]},PH={width:"100%",height:"100%"},QC={x:0,y:0};function Lu(t){return t}var CH=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},TH=function(e,r,n,a){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,u=a.radius;return ae(ae(ae({},a),Ht(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var d=s.coordinate,h=a.angle;return ae(ae(ae({},a),Ht(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return QC},Xf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Hs(u),Hs(h)):u},[]);return c.length>0?c:e&&e.length&&pe(a)&&pe(s)?e.slice(a,s+1):[]};function ZC(t){return t==="number"?[0,"auto"]:void 0}var Dx=function(e,r,n,a){var s=e.graphicalItems,c=e.tooltipAxis,u=Xf(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(c.dataKey&&!c.allowDuplicatedCategory){var b=m===void 0?u:m;v=dd(b,c.dataKey,a)}else v=m&&m[n]||u[n];return v?[].concat(Hs(d),[JP(h,v)]):d},[])},qA=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},c=CH(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=aB(c,u,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,v=Dx(e,r,p,m),b=TH(n,u,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:b}}return null},MH=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,b=XP(p,s);return n.reduce(function(w,j){var y,k=j.type.defaultProps!==void 0?ae(ae({},j.type.defaultProps),j.props):j.props,A=k.type,N=k.dataKey,E=k.allowDataOverflow,_=k.allowDuplicatedCategory,O=k.scale,C=k.ticks,P=k.includeHidden,R=k[c];if(w[R])return w;var U=Xf(e.data,{graphicalItems:a.filter(function(q){var ne,se=c in q.props?q.props[c]:(ne=q.type.defaultProps)===null||ne===void 0?void 0:ne[c];return se===R}),dataStartIndex:d,dataEndIndex:h}),I=U.length,F,L,G;iH(k.domain,E,A)&&(F=rx(k.domain,null,E),b&&(A==="number"||O!=="auto")&&(G=ul(U,N,"category")));var B=ZC(A);if(!F||F.length===0){var z,ee=(z=k.domain)!==null&&z!==void 0?z:B;if(N){if(F=ul(U,N,A),A==="category"&&b){var H=G$(F);_&&H?(L=F,F=Gd(0,I)):_||(F=nO(ee,F,j).reduce(function(q,ne){return q.indexOf(ne)>=0?q:[].concat(Hs(q),[ne])},[]))}else if(A==="category")_?F=F.filter(function(q){return q!==""&&!qe(q)}):F=nO(ee,F,j).reduce(function(q,ne){return q.indexOf(ne)>=0||ne===""||qe(ne)?q:[].concat(Hs(q),[ne])},[]);else if(A==="number"){var W=cB(U,a.filter(function(q){var ne,se,ie=c in q.props?q.props[c]:(ne=q.type.defaultProps)===null||ne===void 0?void 0:ne[c],me="hide"in q.props?q.props.hide:(se=q.type.defaultProps)===null||se===void 0?void 0:se.hide;return ie===R&&(P||!me)}),N,s,p);W&&(F=W)}b&&(A==="number"||O!=="auto")&&(G=ul(U,N,"category"))}else b?F=Gd(0,I):u&&u[R]&&u[R].hasStack&&A==="number"?F=v==="expand"?[0,1]:YP(u[R].stackGroups,d,h):F=GP(U,a.filter(function(q){var ne=c in q.props?q.props[c]:q.type.defaultProps[c],se="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return ne===R&&(P||!se)}),A,p,!0);if(A==="number")F=$x(m,F,R,s,C),ee&&(F=rx(ee,F,E));else if(A==="category"&&ee){var J=ee,$=F.every(function(q){return J.indexOf(q)>=0});$&&(F=J)}}return ae(ae({},w),{},Ee({},R,ae(ae({},k),{},{axisType:s,domain:F,categoricalDomain:G,duplicateDomain:L,originalDomain:(y=k.domain)!==null&&y!==void 0?y:B,isCategorical:b,layout:p})))},{})},$H=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=Xf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),b=v.length,w=XP(p,s),j=-1;return n.reduce(function(y,k){var A=k.type.defaultProps!==void 0?ae(ae({},k.type.defaultProps),k.props):k.props,N=A[c],E=ZC("number");if(!y[N]){j++;var _;return w?_=Gd(0,b):u&&u[N]&&u[N].hasStack?(_=YP(u[N].stackGroups,d,h),_=$x(m,_,N,s)):(_=rx(E,GP(v,n.filter(function(O){var C,P,R=c in O.props?O.props[c]:(C=O.type.defaultProps)===null||C===void 0?void 0:C[c],U="hide"in O.props?O.props.hide:(P=O.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===N&&!U}),"number",p),a.defaultProps.allowDataOverflow),_=$x(m,_,N,s)),ae(ae({},y),{},Ee({},N,ae(ae({axisType:s},a.defaultProps),{},{hide:!0,orientation:Lr(EH,"".concat(s,".").concat(j%2),null),domain:_,originalDomain:E,isCategorical:w,layout:p})))}return y},{})},RH=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),v=sn(p,s),b={};return v&&v.length?b=MH(e,{axes:v,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):c&&c.length&&(b=$H(e,{Axis:s,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),b},IH=function(e){var r=ss(e),n=ci(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ld(r,n)}},UA=function(e){var r=e.children,n=e.defaultShowTooltip,a=jr(r,Rs),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},DH=function(e){return!e||!e.length?!1:e.some(function(r){var n=qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},FA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LH=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,p=n.height,m=n.children,v=n.margin||{},b=jr(m,Rs),w=jr(m,ys),j=Object.keys(d).reduce(function(_,O){var C=d[O],P=C.orientation;return!C.mirror&&!C.hide?ae(ae({},_),{},Ee({},P,_[P]+C.width)):_},{left:v.left||0,right:v.right||0}),y=Object.keys(c).reduce(function(_,O){var C=c[O],P=C.orientation;return!C.mirror&&!C.hide?ae(ae({},_),{},Ee({},P,Lr(_,"".concat(P))+C.height)):_},{top:v.top||0,bottom:v.bottom||0}),k=ae(ae({},y),j),A=k.bottom;b&&(k.bottom+=b.props.height||Rs.defaultProps.height),w&&r&&(k=oB(k,a,n,r));var N=h-k.left-k.right,E=p-k.top-k.bottom;return ae(ae({brushBottom:A},k),{},{width:Math.max(N,0),height:Math.max(E,0)})},BH=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},qH=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,c=e.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(k,A){var N=A.graphicalItems,E=A.stackGroups,_=A.offset,O=A.updateId,C=A.dataStartIndex,P=A.dataEndIndex,R=k.barSize,U=k.layout,I=k.barGap,F=k.barCategoryGap,L=k.maxBarSize,G=FA(U),B=G.numericAxisName,z=G.cateAxisName,ee=DH(N),H=[];return N.forEach(function(W,J){var $=Xf(k.data,{graphicalItems:[W],dataStartIndex:C,dataEndIndex:P}),q=W.type.defaultProps!==void 0?ae(ae({},W.type.defaultProps),W.props):W.props,ne=q.dataKey,se=q.maxBarSize,ie=q["".concat(B,"Id")],me=q["".concat(z,"Id")],Me={},ge=d.reduce(function(Xe,at){var Qt=A["".concat(at.axisType,"Map")],pr=q["".concat(at.axisType,"Id")];Qt&&Qt[pr]||at.axisType==="zAxis"||bi();var lt=Qt[pr];return ae(ae({},Xe),{},Ee(Ee({},at.axisType,lt),"".concat(at.axisType,"Ticks"),ci(lt)))},Me),oe=ge[z],be=ge["".concat(z,"Ticks")],ke=E&&E[ie]&&E[ie].hasStack&&wB(W,E[ie].stackGroups),Z=qn(W.type).indexOf("Bar")>=0,Se=Ld(oe,be),Ie=[],Ve=ee&&iB({barSize:R,stackGroups:E,totalSize:BH(ge,z)});if(Z){var et,gt,he=qe(se)?L:se,Ue=(et=(gt=Ld(oe,be,!0))!==null&&gt!==void 0?gt:he)!==null&&et!==void 0?et:0;Ie=sB({barGap:I,barCategoryGap:F,bandSize:Ue!==Se?Ue:Se,sizeList:Ve[me],maxBarSize:he}),Ue!==Se&&(Ie=Ie.map(function(Xe){return ae(ae({},Xe),{},{position:ae(ae({},Xe.position),{},{offset:Xe.position.offset-Ue/2})})}))}var $e=W&&W.type&&W.type.getComposedData;$e&&H.push({props:ae(ae({},$e(ae(ae({},ge),{},{displayedData:$,props:k,dataKey:ne,item:W,bandSize:Se,barPosition:Ie,offset:_,stackedData:ke,layout:U,dataStartIndex:C,dataEndIndex:P}))),{},Ee(Ee(Ee({key:W.key||"item-".concat(J)},B,ge[B]),z,ge[z]),"animationId",O)),childIndex:oR(W,k.children),item:W})}),H},b=function(k,A){var N=k.props,E=k.dataStartIndex,_=k.dataEndIndex,O=k.updateId;if(!vS({props:N}))return null;var C=N.children,P=N.layout,R=N.stackOffset,U=N.data,I=N.reverseStackOrder,F=FA(P),L=F.numericAxisName,G=F.cateAxisName,B=sn(C,n),z=yB(U,B,"".concat(L,"Id"),"".concat(G,"Id"),R,I),ee=d.reduce(function(q,ne){var se="".concat(ne.axisType,"Map");return ae(ae({},q),{},Ee({},se,RH(N,ae(ae({},ne),{},{graphicalItems:B,stackGroups:ne.axisType===L&&z,dataStartIndex:E,dataEndIndex:_}))))},{}),H=LH(ae(ae({},ee),{},{props:N,graphicalItems:B}),A?.legendBBox);Object.keys(ee).forEach(function(q){ee[q]=p(N,ee[q],H,q.replace("Map",""),r)});var W=ee["".concat(G,"Map")],J=IH(W),$=v(N,ae(ae({},ee),{},{dataStartIndex:E,dataEndIndex:_,updateId:O,graphicalItems:B,stackGroups:z,offset:H}));return ae(ae({formattedGraphicalItems:$,graphicalItems:B,offset:H,stackGroups:z},J),ee)},w=(function(y){function k(A){var N,E,_;return yH(this,k),_=wH(this,k,[A]),Ee(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(_,"accessibilityManager",new aH),Ee(_,"handleLegendBBoxUpdate",function(O){if(O){var C=_.state,P=C.dataStartIndex,R=C.dataEndIndex,U=C.updateId;_.setState(ae({legendBBox:O},b({props:_.props,dataStartIndex:P,dataEndIndex:R,updateId:U},ae(ae({},_.state),{},{legendBBox:O}))))}}),Ee(_,"handleReceiveSyncEvent",function(O,C,P){if(_.props.syncId===O){if(P===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(C)}}),Ee(_,"handleBrushChange",function(O){var C=O.startIndex,P=O.endIndex;if(C!==_.state.dataStartIndex||P!==_.state.dataEndIndex){var R=_.state.updateId;_.setState(function(){return ae({dataStartIndex:C,dataEndIndex:P},b({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:R},_.state))}),_.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Ee(_,"handleMouseEnter",function(O){var C=_.getMouseInfo(O);if(C){var P=ae(ae({},C),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var R=_.props.onMouseEnter;Le(R)&&R(P,O)}}),Ee(_,"triggeredAfterMouseMove",function(O){var C=_.getMouseInfo(O),P=C?ae(ae({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var R=_.props.onMouseMove;Le(R)&&R(P,O)}),Ee(_,"handleItemMouseEnter",function(O){_.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ee(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ee(_,"handleMouseMove",function(O){O.persist(),_.throttleTriggeredAfterMouseMove(O)}),Ee(_,"handleMouseLeave",function(O){_.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseLeave;Le(P)&&P(C,O)}),Ee(_,"handleOuterEvent",function(O){var C=sR(O),P=Lr(_.props,"".concat(C));if(C&&Le(P)){var R,U;/.*touch.*/i.test(C)?U=_.getMouseInfo(O.changedTouches[0]):U=_.getMouseInfo(O),P((R=U)!==null&&R!==void 0?R:{},O)}}),Ee(_,"handleClick",function(O){var C=_.getMouseInfo(O);if(C){var P=ae(ae({},C),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var R=_.props.onClick;Le(R)&&R(P,O)}}),Ee(_,"handleMouseDown",function(O){var C=_.props.onMouseDown;if(Le(C)){var P=_.getMouseInfo(O);C(P,O)}}),Ee(_,"handleMouseUp",function(O){var C=_.props.onMouseUp;if(Le(C)){var P=_.getMouseInfo(O);C(P,O)}}),Ee(_,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ee(_,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseDown(O.changedTouches[0])}),Ee(_,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseUp(O.changedTouches[0])}),Ee(_,"handleDoubleClick",function(O){var C=_.props.onDoubleClick;if(Le(C)){var P=_.getMouseInfo(O);C(P,O)}}),Ee(_,"handleContextMenu",function(O){var C=_.props.onContextMenu;if(Le(C)){var P=_.getMouseInfo(O);C(P,O)}}),Ee(_,"triggerSyncEvent",function(O){_.props.syncId!==void 0&&Xy.emit(Yy,_.props.syncId,O,_.eventEmitterSymbol)}),Ee(_,"applySyncEvent",function(O){var C=_.props,P=C.layout,R=C.syncMethod,U=_.state.updateId,I=O.dataStartIndex,F=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)_.setState(ae({dataStartIndex:I,dataEndIndex:F},b({props:_.props,dataStartIndex:I,dataEndIndex:F,updateId:U},_.state)));else if(O.activeTooltipIndex!==void 0){var L=O.chartX,G=O.chartY,B=O.activeTooltipIndex,z=_.state,ee=z.offset,H=z.tooltipTicks;if(!ee)return;if(typeof R=="function")B=R(H,O);else if(R==="value"){B=-1;for(var W=0;W<H.length;W++)if(H[W].value===O.activeLabel){B=W;break}}var J=ae(ae({},ee),{},{x:ee.left,y:ee.top}),$=Math.min(L,J.x+J.width),q=Math.min(G,J.y+J.height),ne=H[B]&&H[B].value,se=Dx(_.state,_.props.data,B),ie=H[B]?{x:P==="horizontal"?H[B].coordinate:$,y:P==="horizontal"?q:H[B].coordinate}:QC;_.setState(ae(ae({},O),{},{activeLabel:ne,activeCoordinate:ie,activePayload:se,activeTooltipIndex:B}))}else _.setState(O)}),Ee(_,"renderCursor",function(O){var C,P=_.state,R=P.isTooltipActive,U=P.activeCoordinate,I=P.activePayload,F=P.offset,L=P.activeTooltipIndex,G=P.tooltipAxisBandSize,B=_.getTooltipEventType(),z=(C=O.props.active)!==null&&C!==void 0?C:R,ee=_.props.layout,H=O.key||"_recharts-cursor";return Y.createElement(dH,{key:H,activeCoordinate:U,activePayload:I,activeTooltipIndex:L,chartName:r,element:O,isActive:z,layout:ee,offset:F,tooltipAxisBandSize:G,tooltipEventType:B})}),Ee(_,"renderPolarAxis",function(O,C,P){var R=Lr(O,"type.axisType"),U=Lr(_.state,"".concat(R,"Map")),I=O.type.defaultProps,F=I!==void 0?ae(ae({},I),O.props):O.props,L=U&&U[F["".concat(R,"Id")]];return M.cloneElement(O,ae(ae({},L),{},{className:ze(R,L.className),key:O.key||"".concat(C,"-").concat(P),ticks:ci(L,!0)}))}),Ee(_,"renderPolarGrid",function(O){var C=O.props,P=C.radialLines,R=C.polarAngles,U=C.polarRadius,I=_.state,F=I.radiusAxisMap,L=I.angleAxisMap,G=ss(F),B=ss(L),z=B.cx,ee=B.cy,H=B.innerRadius,W=B.outerRadius;return M.cloneElement(O,{polarAngles:Array.isArray(R)?R:ci(B,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(U)?U:ci(G,!0).map(function(J){return J.coordinate}),cx:z,cy:ee,innerRadius:H,outerRadius:W,key:O.key||"polar-grid",radialLines:P})}),Ee(_,"renderLegend",function(){var O=_.state.formattedGraphicalItems,C=_.props,P=C.children,R=C.width,U=C.height,I=_.props.margin||{},F=R-(I.left||0)-(I.right||0),L=VP({children:P,formattedGraphicalItems:O,legendWidth:F,legendContent:h});if(!L)return null;var G=L.item,B=LA(L,fH);return M.cloneElement(G,ae(ae({},B),{},{chartWidth:R,chartHeight:U,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ee(_,"renderTooltip",function(){var O,C=_.props,P=C.children,R=C.accessibilityLayer,U=jr(P,vn);if(!U)return null;var I=_.state,F=I.isTooltipActive,L=I.activeCoordinate,G=I.activePayload,B=I.activeLabel,z=I.offset,ee=(O=U.props.active)!==null&&O!==void 0?O:F;return M.cloneElement(U,{viewBox:ae(ae({},z),{},{x:z.left,y:z.top}),active:ee,label:B,payload:ee?G:[],coordinate:L,accessibilityLayer:R})}),Ee(_,"renderBrush",function(O){var C=_.props,P=C.margin,R=C.data,U=_.state,I=U.offset,F=U.dataStartIndex,L=U.dataEndIndex,G=U.updateId;return M.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Mu(_.handleBrushChange,O.props.onChange),data:R,x:pe(O.props.x)?O.props.x:I.left,y:pe(O.props.y)?O.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:pe(O.props.width)?O.props.width:I.width,startIndex:F,endIndex:L,updateId:"brush-".concat(G)})}),Ee(_,"renderReferenceElement",function(O,C,P){if(!O)return null;var R=_,U=R.clipPathId,I=_.state,F=I.xAxisMap,L=I.yAxisMap,G=I.offset,B=O.type.defaultProps||{},z=O.props,ee=z.xAxisId,H=ee===void 0?B.xAxisId:ee,W=z.yAxisId,J=W===void 0?B.yAxisId:W;return M.cloneElement(O,{key:O.key||"".concat(C,"-").concat(P),xAxis:F[H],yAxis:L[J],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:U})}),Ee(_,"renderActivePoints",function(O){var C=O.item,P=O.activePoint,R=O.basePoint,U=O.childIndex,I=O.isRange,F=[],L=C.props.key,G=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,B=G.activeDot,z=G.dataKey,ee=ae(ae({index:U,dataKey:z,cx:P.x,cy:P.y,r:4,fill:Gb(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Be(B,!1)),fd(B));return F.push(k.renderActiveDot(B,ee,"".concat(L,"-activePoint-").concat(U))),R?F.push(k.renderActiveDot(B,ae(ae({},ee),{},{cx:R.x,cy:R.y}),"".concat(L,"-basePoint-").concat(U))):I&&F.push(null),F}),Ee(_,"renderGraphicChild",function(O,C,P){var R=_.filterFormatItem(O,C,P);if(!R)return null;var U=_.getTooltipEventType(),I=_.state,F=I.isTooltipActive,L=I.tooltipAxis,G=I.activeTooltipIndex,B=I.activeLabel,z=_.props.children,ee=jr(z,vn),H=R.props,W=H.points,J=H.isRange,$=H.baseLine,q=R.item.type.defaultProps!==void 0?ae(ae({},R.item.type.defaultProps),R.item.props):R.item.props,ne=q.activeDot,se=q.hide,ie=q.activeBar,me=q.activeShape,Me=!!(!se&&F&&ee&&(ne||ie||me)),ge={};U!=="axis"&&ee&&ee.props.trigger==="click"?ge={onClick:Mu(_.handleItemMouseEnter,O.props.onClick)}:U!=="axis"&&(ge={onMouseLeave:Mu(_.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Mu(_.handleItemMouseEnter,O.props.onMouseEnter)});var oe=M.cloneElement(O,ae(ae({},R.props),ge));function be(at){return typeof L.dataKey=="function"?L.dataKey(at.payload):null}if(Me)if(G>=0){var ke,Z;if(L.dataKey&&!L.allowDuplicatedCategory){var Se=typeof L.dataKey=="function"?be:"payload.".concat(L.dataKey.toString());ke=dd(W,Se,B),Z=J&&$&&dd($,Se,B)}else ke=W?.[G],Z=J&&$&&$[G];if(me||ie){var Ie=O.props.activeIndex!==void 0?O.props.activeIndex:G;return[M.cloneElement(O,ae(ae(ae({},R.props),ge),{},{activeIndex:Ie})),null,null]}if(!qe(ke))return[oe].concat(Hs(_.renderActivePoints({item:R,activePoint:ke,basePoint:Z,childIndex:G,isRange:J})))}else{var Ve,et=(Ve=_.getItemByXY(_.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:oe},gt=et.graphicalItem,he=gt.item,Ue=he===void 0?O:he,$e=gt.childIndex,Xe=ae(ae(ae({},R.props),ge),{},{activeIndex:$e});return[M.cloneElement(Ue,Xe),null,null]}return J?[oe,null,null]:[oe,null]}),Ee(_,"renderCustomized",function(O,C,P){return M.cloneElement(O,ae(ae({key:"recharts-customized-".concat(P)},_.props),_.state))}),Ee(_,"renderMap",{CartesianGrid:{handler:Lu,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Lu},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Lu},YAxis:{handler:Lu},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((N=A.id)!==null&&N!==void 0?N:sc("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=H5(_.triggeredAfterMouseMove,(E=A.throttleDelay)!==null&&E!==void 0?E:1e3/60),_.state={},_}return SH(k,y),bH(k,[{key:"componentDidMount",value:function(){var N,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,E=N.children,_=N.data,O=N.height,C=N.layout,P=jr(E,vn);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,I=Dx(this.state,_,R,U),F=this.state.tooltipTicks[R].coordinate,L=(this.state.offset.top+O)/2,G=C==="horizontal",B=G?{x:F,y:L}:{y:F,x:L},z=this.state.formattedGraphicalItems.find(function(H){var W=H.item;return W.type.name==="Scatter"});z&&(B=ae(ae({},B),z.props.points[R].tooltipPosition),I=z.props.points[R].tooltipPayload);var ee={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:U,activePayload:I,activeCoordinate:B};this.setState(ee),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var _,O;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(N){S0([jr(N.children,vn)],[jr(this.props.children,vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=jr(this.props.children,vn);if(N&&typeof N.props.shared=="boolean"){var E=N.props.shared?"axis":"item";return u.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var E=this.container,_=E.getBoundingClientRect(),O=GD(_),C={chartX:Math.round(N.pageX-O.left),chartY:Math.round(N.pageY-O.top)},P=_.width/E.offsetWidth||1,R=this.inRange(C.chartX,C.chartY,P);if(!R)return null;var U=this.state,I=U.xAxisMap,F=U.yAxisMap,L=this.getTooltipEventType(),G=qA(this.state,this.props.data,this.props.layout,R);if(L!=="axis"&&I&&F){var B=ss(I).scale,z=ss(F).scale,ee=B&&B.invert?B.invert(C.chartX):null,H=z&&z.invert?z.invert(C.chartY):null;return ae(ae({},C),{},{xValue:ee,yValue:H},G)}return G?ae(ae({},C),G):null}},{key:"inRange",value:function(N,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,C=N/_,P=E/_;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,U=C>=R.left&&C<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return U?{x:C,y:P}:null}var I=this.state,F=I.angleAxisMap,L=I.radiusAxisMap;if(F&&L){var G=ss(F);return sO({x:C,y:P},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,E=this.getTooltipEventType(),_=jr(N,vn),O={};_&&E==="axis"&&(_.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=fd(this.props,this.handleOuterEvent);return ae(ae({},C),O)}},{key:"addListener",value:function(){Xy.on(Yy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xy.removeListener(Yy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,E,_){for(var O=this.state.formattedGraphicalItems,C=0,P=O.length;C<P;C++){var R=O[C];if(R.item===N||R.props.key===N.key||E===qn(R.item.type)&&_===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,E=this.state.offset,_=E.left,O=E.top,C=E.height,P=E.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:N},Y.createElement("rect",{x:_,y:O,height:C,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(E,_){var O=DA(_,2),C=O[0],P=O[1];return ae(ae({},E),{},Ee({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(E,_){var O=DA(_,2),C=O[0],P=O[1];return ae(ae({},E),{},Ee({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[N])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(N){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[N])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(N){var E=this.state,_=E.formattedGraphicalItems,O=E.activeItem;if(_&&_.length)for(var C=0,P=_.length;C<P;C++){var R=_[C],U=R.props,I=R.item,F=I.type.defaultProps!==void 0?ae(ae({},I.type.defaultProps),I.props):I.props,L=qn(I.type);if(L==="Bar"){var G=(U.data||[]).find(function(H){return vF(N,H)});if(G)return{graphicalItem:R,payload:G}}else if(L==="RadialBar"){var B=(U.data||[]).find(function(H){return sO(N,H)});if(B)return{graphicalItem:R,payload:B}}else if(Bf(R,O)||qf(R,O)||Vl(R,O)){var z=oz({graphicalItem:R,activeTooltipItem:O,itemData:F.data}),ee=F.activeIndex===void 0?z:F.activeIndex;return{graphicalItem:ae(ae({},R),{},{childIndex:ee}),payload:Vl(R,O)?F.data[z]:R.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!vS(this))return null;var E=this.props,_=E.children,O=E.className,C=E.width,P=E.height,R=E.style,U=E.compact,I=E.title,F=E.desc,L=LA(E,hH),G=Be(L,!1);if(U)return Y.createElement(wA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(k0,hs({},G,{width:C,height:P,title:I,desc:F}),this.renderClipPath(),xS(_,this.renderMap)));if(this.props.accessibilityLayer){var B,z;G.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,G.role=(z=this.props.role)!==null&&z!==void 0?z:"application",G.onKeyDown=function(H){N.accessibilityManager.keyboardEvent(H)},G.onFocus=function(){N.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Y.createElement(wA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",hs({className:ze("recharts-wrapper",O),style:ae({position:"relative",cursor:"default",width:C,height:P},R)},ee,{ref:function(W){N.container=W}}),Y.createElement(k0,hs({},G,{width:C,height:P,title:I,desc:F,style:PH}),this.renderClipPath(),xS(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Ee(w,"displayName",r),Ee(w,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ee(w,"getDerivedStateFromProps",function(y,k){var A=y.dataKey,N=y.data,E=y.children,_=y.width,O=y.height,C=y.layout,P=y.stackOffset,R=y.margin,U=k.dataStartIndex,I=k.dataEndIndex;if(k.updateId===void 0){var F=UA(y);return ae(ae(ae({},F),{},{updateId:0},b(ae(ae({props:y},F),{},{updateId:0}),k)),{},{prevDataKey:A,prevData:N,prevWidth:_,prevHeight:O,prevLayout:C,prevStackOffset:P,prevMargin:R,prevChildren:E})}if(A!==k.prevDataKey||N!==k.prevData||_!==k.prevWidth||O!==k.prevHeight||C!==k.prevLayout||P!==k.prevStackOffset||!vs(R,k.prevMargin)){var L=UA(y),G={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},B=ae(ae({},qA(k,N,C)),{},{updateId:k.updateId+1}),z=ae(ae(ae({},L),G),B);return ae(ae(ae({},z),b(ae({props:y},z),k)),{},{prevDataKey:A,prevData:N,prevWidth:_,prevHeight:O,prevLayout:C,prevStackOffset:P,prevMargin:R,prevChildren:E})}if(!S0(E,k.prevChildren)){var ee,H,W,J,$=jr(E,Rs),q=$&&(ee=(H=$.props)===null||H===void 0?void 0:H.startIndex)!==null&&ee!==void 0?ee:U,ne=$&&(W=(J=$.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:I,se=q!==U||ne!==I,ie=!qe(N),me=ie&&!se?k.updateId:k.updateId+1;return ae(ae({updateId:me},b(ae(ae({props:y},k),{},{updateId:me,dataStartIndex:q,dataEndIndex:ne}),k)),{},{prevChildren:E,dataStartIndex:q,dataEndIndex:ne})}return null}),Ee(w,"renderActiveDot",function(y,k,A){var N;return M.isValidElement(y)?N=M.cloneElement(y,k):Le(y)?N=y(k):N=Y.createElement(Yb,k),Y.createElement(mt,{className:"recharts-active-dot",key:A},N)});var j=M.forwardRef(function(k,A){return Y.createElement(w,hs({},k,{ref:A}))});return j.displayName=w.displayName,j},UH=qH({chartName:"AreaChart",GraphicalChild:Da,axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Gf}],formatAxisMap:a9});const FH=[{key:"curioso",label:"Curiosos",icon:Gn,color:"bg-blue-500"},{key:"ctico",label:"Cticos",icon:mf,color:"bg-fuchsia-500"},{key:"sensvel_preo",label:"Preo",icon:Vs,color:"bg-cyan-500"},{key:"empolgado",label:"Empolgados",icon:gl,color:"bg-emerald-500"},{key:"pronto",label:"Prontos",icon:nn,color:"bg-orange-500"}];function zH({demoMode:t,stats:e,conversations:r,leads:n,onOpenSuggestions:a,onOpenInsights:s,onActivateAI:c,onGoToAnalysis:u,onOpenEvents:d}){const h=r||[],p=n||[],m=!t&&(h.length>0||p.length>0),v=M.useMemo(()=>{const N=e?.conversations_total??h.length,E=e?.leads_total??p.length,_=p.filter(F=>(F.stage||"").toLowerCase()==="pronto"),O=p.filter(F=>["high","critical"].includes((F.urgency_level||"").toLowerCase())),C=p.filter(F=>{const L=F.health_score??50,G=(F.urgency_level||"").toLowerCase();return L<=45&&["high","critical"].includes(G)}),P=p.length>0?Math.round(p.reduce((F,L)=>F+(L.health_score??50),0)/p.length):0,R=p.length>0?Math.round(p.reduce((F,L)=>F+(L.conversion_probability??.3)*100,0)/p.length):0,U=e?.avg_response_time_seconds??0,I={};return p.forEach(F=>{const L=(F.stage||"curioso").toLowerCase();I[L]=(I[L]||0)+1}),{totalConvs:N,totalLeads:E,leadsProonto:_,leadsQuentes:O,leadsEmRisco:C,avgHealth:P,avgConversion:R,avgTime:U,stageCounts:I}},[e,h,p]),b=M.useMemo(()=>{if(e?.activity_last_7_days?.length)return e.activity_last_7_days;const N=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],E={};return N.forEach(_=>E[_]=0),h.forEach(_=>{if(_.updated_at){const O=new Date(_.updated_at),C=N[O.getDay()];E[C]=(E[C]||0)+1}}),N.map(_=>({name:_,value:E[_]||0}))},[e,h]),w=M.useMemo(()=>{const N=[];return[...p].sort((_,O)=>(O.updated_at||"").localeCompare(_.updated_at||"")).slice(0,2).forEach(_=>{const O=_.health_score??50;N.push({title:_.name||zA(_.phone||""),desc:`Health ${O}  ${_.stage||"curioso"}`,time:WH(_.updated_at),icon:O>=70?nn:O>=40?an:rr,tone:O>=70?"orange":O>=40?"cyan":"red"})}),(h.length>0||p.length>0)&&N.push({title:"Sistema operacional",desc:`${h.length} conversas  ${p.length} leads`,time:"agora",icon:gs,tone:"green"}),v.leadsEmRisco.length>0&&N.push({title:`${v.leadsEmRisco.length} leads esfriando`,desc:"Precisam de ateno urgente",time:"ao",icon:rr,tone:"red"}),N.slice(0,4)},[h,p,v]),j=[{name:"Seg",value:12},{name:"Ter",value:18},{name:"Qua",value:16},{name:"Qui",value:25},{name:"Sex",value:21},{name:"Sb",value:14},{name:"Dom",value:9}],y=[{title:"Novo lead qualificado",desc:"Health Score 78/100",time:"h 2 min",icon:ar,tone:"orange"},{title:"Objeo detectada",desc:"Preo em 3 conversas",time:"h 12 min",icon:rr,tone:"red"},{title:"Sistema estvel",desc:"Webhooks OK",time:"h 31 min",icon:gs,tone:"green"},{title:"Performance",desc:"Tempo mdio: 18s",time:"hoje",icon:on,tone:"cyan"}],k=t?j:b,A=t?y:w;return!t&&!m?l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-10",children:l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:[l.jsx(sd,{className:"w-4 h-4 text-[#f57f17]"}),"Produo"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Aguardando dados"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Assim que chegarem conversas via webhook, o dashboard ser preenchido automaticamente."}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Qy,{icon:ir,title:"1. Envie mensagens",desc:"Use o WhatsApp conectado"}),l.jsx(Qy,{icon:gs,title:"2. Verifique webhook",desc:"Endpoint /api respondendo"}),l.jsx(Qy,{icon:r_,title:"3. Aguarde",desc:"Dados aparecem em segundos"})]}),l.jsxs("button",{onClick:u,className:"mt-6 h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center gap-2",children:[l.jsx(on,{className:"w-4 h-4"}),"Ir para Anlise IA",l.jsx(TE,{className:"w-4 h-4"})]})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-8 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -top-20 -right-40 h-[320px] w-[320px] rounded-full bg-[#f57f17]/20 blur-3xl"}),l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap relative",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(r_,{className:"w-4 h-4"}),t?"Demo":"Realtime"]}),l.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Central de Comando"}),l.jsx("p",{className:"text-gray-400 mt-2 max-w-xl",children:"Viso executiva: volume, qualidade, inteno e performance em tempo real."}),l.jsxs("div",{className:"mt-5 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:s,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(Ca,{className:"w-4 h-4"}),"Ver Funil",l.jsx(x0,{className:"w-4 h-4"})]}),l.jsxs("button",{onClick:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-semibold text-gray-200 flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#f57f17]"}),"Sugestes IA"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(Zy,{label:"Health",value:t?"72":String(v.avgHealth),suffix:"%",color:"text-emerald-400"}),l.jsx(Zy,{label:"Converso",value:t?"34":String(v.avgConversion),suffix:"%",color:"text-cyan-400"}),l.jsx(Zy,{label:"Tempo",value:t?"18":v.avgTime>0?String(Math.round(v.avgTime)):"",suffix:"s",color:"text-orange-400"})]})]}),l.jsxs("div",{className:"mt-6 h-[200px] rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Atividade  ltimos 7 dias"}),l.jsx(UD,{width:"100%",height:"100%",children:l.jsxs(UH,{data:k,margin:{top:5,right:5,left:-20,bottom:0},children:[l.jsx(Kf,{dataKey:"name",stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(Gf,{stroke:"#6b7280",tickLine:!1,axisLine:!1,fontSize:11}),l.jsx(vn,{contentStyle:{backgroundColor:"#0b0b0b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"},labelStyle:{color:"#9ca3af"}}),l.jsx(Da,{type:"monotone",dataKey:"value",stroke:"#f57f17",fill:"rgba(245,127,23,0.2)",strokeWidth:2})]})})]})]}),l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-orange-500/20 bg-gradient-to-br from-orange-500/10 to-transparent backdrop-blur-xl p-6 relative overflow-hidden",children:[l.jsx("div",{className:"pointer-events-none absolute -bottom-10 -right-10 h-40 w-40 rounded-full bg-orange-500/20 blur-3xl"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center",children:l.jsx(nn,{className:"w-5 h-5 text-orange-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Prontos para fechar"})]})]}),l.jsx("span",{className:"text-3xl font-black text-orange-400",children:t?"6":v.leadsProonto.length})]}),l.jsx("div",{className:"space-y-2 mb-4",children:(t?[{name:"Joo Silva",health:85},{name:"Maria Santos",health:78},{name:"Pedro Costa",health:72}]:v.leadsProonto.slice(0,3).map(N=>({name:N.name||zA(N.phone||""),health:N.health_score||50}))).map((N,E)=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("span",{className:"text-sm text-gray-300 truncate",children:N.name}),l.jsx("span",{className:"text-xs font-bold text-orange-400",children:N.health})]},E))}),l.jsxs("button",{onClick:u,className:"w-full h-10 rounded-xl border border-orange-500/30 bg-orange-500/10 hover:bg-orange-500/20 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(zn,{className:"w-4 h-4"}),"Executar Follow-ups"]}),v.leadsEmRisco.length>0&&!t&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-400",children:[l.jsx(rr,{className:"w-3.5 h-3.5"}),l.jsxs("span",{children:[v.leadsEmRisco.length," leads esfriando"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(Bu,{icon:ir,label:"Conversas",value:t?"87":String(v.totalConvs),delta:t?"+12%":"",color:"orange"}),l.jsx(Bu,{icon:an,label:"Leads",value:t?"34":String(v.totalLeads),delta:t?"+9%":"",color:"cyan"}),l.jsx(Bu,{icon:nn,label:"Quentes",value:t?"12":String(v.leadsQuentes.length),delta:t?"+4%":"",color:"orange"}),l.jsx(Bu,{icon:cd,label:"Health Mdio",value:t?"68":String(v.avgHealth),delta:t?"+5%":"",color:"green"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline Emocional"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Distribuio por estgio"})]}),l.jsxs("button",{onClick:s,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:["Ver completo ",l.jsx(x0,{className:"w-3 h-3"})]})]}),l.jsx("div",{className:"space-y-3",children:FH.map(N=>{const E=t?Math.floor(Math.random()*15)+2:v.stageCounts[N.key]||0,_=t?50:v.totalLeads||1,O=Math.round(E/_*100),C=N.icon;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${N.color} flex items-center justify-center flex-shrink-0`,children:l.jsx(C,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm text-gray-300",children:N.label}),l.jsx("span",{className:"text-sm font-bold text-white",children:E})]}),l.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${N.color} rounded-full transition-all`,style:{width:`${Math.max(O,3)}%`}})})]})]},N.key)})})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Atividade"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Eventos recentes"})]}),l.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-[10px] font-bold",children:"LIVE"})]}),l.jsx("div",{className:"space-y-3",children:A.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Nenhum evento recente"}):A.map((N,E)=>l.jsxs("div",{className:"flex items-start gap-3 px-3 py-3 rounded-xl bg-black/20 border border-white/5",children:[l.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center flex-shrink-0 ${N.tone==="green"?"bg-emerald-500/20":N.tone==="red"?"bg-red-500/20":N.tone==="cyan"?"bg-cyan-500/20":"bg-orange-500/20"}`,children:l.jsx(N.icon,{className:`w-4 h-4 ${N.tone==="green"?"text-emerald-400":N.tone==="red"?"text-red-400":N.tone==="cyan"?"text-cyan-400":"text-orange-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:N.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.desc})]}),l.jsx("span",{className:"text-[10px] text-gray-600 flex-shrink-0",children:N.time})]},E))}),l.jsx("button",{onClick:d,className:"mt-4 w-full h-9 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs font-medium text-gray-300",children:"Ver todos os eventos"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Aes Recomendadas"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O que fazer agora para aumentar converso"})]}),l.jsx("span",{className:"px-3 py-1 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-bold",children:"DOCA IA"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(qu,{icon:Pa,title:"Atacar prontos",desc:"Follow-up imediato com CTA de call",color:"green"}),l.jsx(qu,{icon:mf,title:"Destravar cticos",desc:"Prova social e cases de sucesso",color:"orange"}),l.jsx(qu,{icon:Vs,title:"Sensveis a preo",desc:"2 opes: parcela vs  vista + ROI",color:"cyan"}),l.jsx(qu,{icon:gl,title:"Frustrados",desc:"Mensagem emptica antes de ofertar",color:"red"})]}),l.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-black/20 border border-white/5 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Prximo passo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Conectar mdulo Anlise IA para relatrios automticos"})]}),l.jsxs("button",{onClick:c,className:"h-9 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white text-sm font-semibold flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4"}),"Ativar Anlise IA"]})]})]})]})}function Qy({icon:t,title:e,desc:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-4",children:[l.jsx("div",{className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center mb-3",children:l.jsx(t,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function Zy({label:t,value:e,suffix:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),l.jsxs("p",{className:`text-2xl font-bold ${n} mt-1`,children:[e,l.jsx("span",{className:"text-sm opacity-60",children:r})]})]})}function Bu({icon:t,label:e,value:r,delta:n,color:a}){const c={orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400",delta:"bg-orange-500/20 text-orange-300"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400",delta:"bg-cyan-500/20 text-cyan-300"},green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400",delta:"bg-emerald-500/20 text-emerald-300"}}[a];return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e}),l.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:r})]}),l.jsx("div",{className:`h-10 w-10 rounded-xl ${c.bg} ${c.border} border flex items-center justify-center`,children:l.jsx(t,{className:`w-5 h-5 ${c.icon}`})})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Variao"}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${c.delta}`,children:n})]})]})}function qu({icon:t,title:e,desc:r,color:n}){const s={green:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-400"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",icon:"text-cyan-400"},red:{bg:"bg-red-500/10",border:"border-red-500/20",icon:"text-red-400"}}[n];return l.jsxs("div",{className:`rounded-xl border ${s.border} ${s.bg} p-4 hover:opacity-80 transition cursor-pointer`,children:[l.jsx("div",{className:`h-9 w-9 rounded-lg ${s.bg} border ${s.border} flex items-center justify-center mb-3`,children:l.jsx(t,{className:`w-4 h-4 ${s.icon}`})}),l.jsx("p",{className:"text-sm text-white font-medium",children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})}function zA(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function WH(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime(),n=e-r,a=Math.floor(n/6e4);if(a<1)return"agora";if(a<60)return`h ${a}min`;const s=Math.floor(a/60);if(s<24)return`h ${s}h`;const c=Math.floor(s/24);return c===1?"ontem":`h ${c}d`}function cf({title:t,subtitle:e,right:r,children:n,className:a=""}){return l.jsxs("div",{className:["rounded-2xl border border-white/10","bg-gradient-to-b from-white/[0.07] to-white/[0.03]","backdrop-blur-xl","shadow-[0_20px_50px_rgba(0,0,0,0.35)]","hover:border-white/20 transition-colors",a].join(" "),children:[(t||e||r)&&l.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-white/5",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[t&&l.jsx("h3",{className:"text-white font-semibold text-base leading-tight",children:t}),e&&l.jsx("p",{className:"text-slate-400 text-sm mt-1 leading-snug",children:e})]}),r&&l.jsx("div",{className:"shrink-0",children:r})]})}),l.jsx("div",{className:"px-6 pb-6 pt-5",children:n})]})}function Uu(){return new Date().toISOString()}function Jo(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Qo(t,e,r){return Math.max(e,Math.min(r,t))}function WA(t){return t[Math.floor(Math.random()*t.length)]}function nd(t){let e=2166136261;for(let r=0;r<t.length;r++)e^=t.charCodeAt(r),e=Math.imul(e,16777619);return Math.abs(e)}function HH(t){let e=nd(t)||123456789;return()=>(e^=e<<13,e^=e>>17,e^=e<<5,(e>>>0)/4294967296)}function eT(t){const e=t.niche||"default",r=t.seedKey||`${e}-${t.businessName||"demo"}`,n=HH(r),a=t.businessName||"Cliente Demo",s=t.city||"So Paulo",c=t.instagram||"",u=t.website||"",d=t.offer||"",h=t.mainPain||"",p=t.objections||"",m=Qo(Number(t.leadsPerMonth??120),10,1e4),v=Qo(Number(t.conversationsCount??60),5,600),b={conversations_last_7d:Math.round(v*.7),leads_last_7d:Math.round(m/4*(.8+n()*.4)),qualified_last_7d:Math.round(m/12*(.7+n()*.6)),avg_response_time_s:Math.round(10+n()*30),updated_at:Uu(),business:{name:a,city:s,instagram:c,website:u,offer:d,mainPain:h,objections:p,niche:e}},w=Qo(Math.round(v*(.45+n()*.25)),8,220),j=["curioso","ctico","sensvel_preo","empolgado","pronto","frustrado"],y=Array.from({length:w}).map((N,E)=>{const _=`lead-${nd(`${r}-lead-${E}`)}-${E}`,O=`55${Jo(11,99)}9${Jo(1e3,9999)}${Jo(1e3,9999)}`,C=Qo(Math.round(40+n()*55),0,100),P=Qo(.15+n()*.75,0,1),U=WA([...["low","normal","high","critical"]]),I=WA([...j]);return{id:_,phone:O,name:null,health_score:C,stage:I,urgency_level:U,conversion_probability:P,tags:[],updated_at:Uu(),created_at:Uu()}}),k=[],A=[];for(let N=0;N<v;N++){const E=y[Math.floor(n()*y.length)],_=`conv-${nd(`${r}-conv-${N}`)}-${N}`,O=[{from:"lead",text:`Oi! Vi sobre ${a}. Como funciona?`},{from:"agent",text:"Oi!  Funciona assim: a gente automatiza atendimento + qualificao + follow-up no WhatsApp. Quer que eu te explique rapidinho?"},{from:"lead",text:"Sim, tenho dvida sobre preo e como instala."},{from:"agent",text:"Show! Te explico os planos e a implementao  bem rpida (em minutos). Me diz seu volume de leads/ms?"}],C=new Date(Date.now()-Jo(1,7)*864e5).toISOString(),P=O.length>0?String(O[O.length-1]?.text||""):"";k.push({id:_,phone:E.phone,name:E.name,status:"active",last_message:P,current_emotion:E.stage,created_at:C,updated_at:Uu(),lead_id:E.id,tags:[]}),O.forEach((R,U)=>{A.push({id:`msg-${nd(`${r}-msg-${N}-${U}`)}-${N}-${U}`,conversation_id:_,from:R.from,text:String(R.text||""),created_at:new Date(Date.now()-Jo(1,7)*864e5+U*12e4).toISOString()})})}return{stats:b,leads:y,conversations:k,messages:A,emotion_events:[]}}const tw="doca:demo:list",rw=t=>`doca:demo:${t}`;function tT(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}function Yf(){return(tT(localStorage.getItem(tw))||[]).sort((e,r)=>r.createdAt-e.createdAt)}function rT(t,e,r){localStorage.setItem(rw(t),JSON.stringify(e));const n=Yf(),a=[{key:t,label:r.label||t,niche:r.niche,createdAt:Date.now()},...n.filter(s=>s.key!==t)];localStorage.setItem(tw,JSON.stringify(a.slice(0,50)))}function nT(t){return tT(localStorage.getItem(rw(t)))}function VH(t){localStorage.removeItem(rw(t));const e=Yf().filter(r=>r.key!==t);localStorage.setItem(tw,JSON.stringify(e))}function nw(){return"".trim().toLowerCase()}function aw(){try{return(new URL(window.location.href).searchParams.get("demo")||"").toString().trim().toLowerCase()}catch{return""}}function ro(){return!!(aw()||nw())}function aT(){const t=(aw()||nw()||"").toString().trim().toLowerCase();if(!t)return"";if(nT(t))return t;try{const r=eT({niche:"restaurante",seedKey:t,businessName:t,city:"So Paulo",instagram:"@docaperformance",website:"docaperformance.com.br",offer:"DOCA Multi Agentes (WhatsApp + IA + Dashboard)",mainPain:"Muitos leads e pouco atendimento",objections:"Medo de parecer rob / preo / integrao",leadsPerMonth:120,conversationsCount:36});return rT(t,r,{label:`Demo  ${t}`,niche:"restaurante"}),t}catch(r){return console.error("[demo] Failed to auto-generate demo:",r),""}}function KH(){const t=Yf().map(r=>({key:r.key,label:r.label,source:"generated"})),e=(aw()||nw()||"").toString().trim().toLowerCase();return e&&!t.some(r=>r.key===e)&&t.unshift({key:e,label:`Demo  ${e}`,source:"generated"}),t.length===0?[{key:"",label:"(sem demos geradas)",source:"generated"}]:t}function no(){const t=aT();if(t){const e=nT(t);if(e)return e}return JH()}function GH(t){const e=eT({niche:t.niche,seedKey:t.key,businessName:t.businessName,city:t.city,instagram:t.instagram,website:t.website,offer:t.offer,mainPain:t.mainPain,objections:t.objections,leadsPerMonth:t.leadsPerMonth,conversationsCount:t.conversationsCount});return rT(t.key,e,{label:t.businessName||t.key,niche:t.niche}),{key:t.key}}function XH(){return Yf()}function YH(t){return VH(t)}function JH(){return{stats:{conversations_last_7d:0,leads_last_7d:0,qualified_last_7d:0,avg_response_time_s:0,updated_at:new Date().toISOString()},conversations:[],leads:[],messages:[],emotion_events:[]}}function QH(t){const e=t.status==="closed"?"closed":"open";return{...t,status:e}}function HA(t){return{id:t.id,conversation_id:t.conversation_id,from:t.role==="assistant"||t.from==="agent"?"agent":"lead",text:t.content||t.text||"",created_at:t.created_at||t.timestamp||"",emotion:t.emotion||t.detected_emotion||null}}const ZH="/api/messages?conversation_id=",VA={anxious:{label:"Ansioso",icon:rr,color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30"},skeptical:{label:"Ctico",icon:RE,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},frustrated:{label:"Frustrado",icon:DE,color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30"},excited:{label:"Empolgado",icon:on,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},price_sensitive:{label:"Sensvel a Preo",icon:Vs,color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30"},ready:{label:"Pronto",icon:Pa,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"},curious:{label:"Curioso",icon:cd,color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30"},neutral:{label:"Neutro",icon:FM,color:"text-gray-400",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/30"}};function e0(t){if(!t)return null;const e=t.toLowerCase().replace(/\s+/g,"_");return VA[e]||VA.neutral}function eV(t){const e=t.phone||"";return!(e.includes("broadcast")||e.startsWith("landing:")||e.startsWith("web_sess")||e.includes("@lid")&&e.replace("@lid","").replace(/\D/g,"").length>14)}function t0(t){let e=(t||"").replace("@c.us","").replace("@lid","").replace("@g.us","").replace(/\D/g,"");if(!e)return t;if(e.startsWith("55")&&e.length>=12){const r=e.slice(2,4),n=e.slice(4,9),a=e.slice(9,13);return`+55 (${r}) ${n}-${a}`}return e.length>=10?`+${e}`:e||t}function KA(t){if(t==null||t==="")return"";if(t instanceof Date)return Number.isNaN(t.getTime())?"":t.toLocaleString("pt-BR");if(typeof t=="number"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleString("pt-BR")}if(typeof t!="string")return"";const e=t.trim().replace(" ","T").replace(/\+00:00$/,"Z").replace(/(\.\d{3})\d+Z$/,"$1Z"),r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function GA(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html"))throw await e.text(),new Error(`Endpoint retornou HTML. URL: ${t}`);if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function tV({initialSelectedId:t,tenantId:e}){const r=M.useMemo(()=>ro()?no():null,[]),n=!!r,[a,s]=M.useState([]),[c,u]=M.useState(!0),[d,h]=M.useState(null),[p,m]=M.useState(""),[v,b]=M.useState(null),[w,j]=M.useState([]),[y,k]=M.useState(!1),[A,N]=M.useState(null);M.useEffect(()=>{let P=!0;async function R(){try{if(u(!0),h(null),n&&r){const F=[...r.conversations].sort((L,G)=>L.updated_at>G.updated_at?-1:1);if(!P)return;s(F);return}const U=e?`/api/conversations?limit=200&tenant_id=${e}`:"/api/conversations?limit=200",I=await GA(U);if(!P)return;s((I||[]).map(QH))}catch(U){if(!P)return;h(U?.message||"Erro ao carregar conversas")}finally{if(!P)return;u(!1)}}return R(),()=>{P=!1}},[n,r,e]),M.useEffect(()=>{if(!t)return;a.some(R=>R.id===t)&&b(t)},[t,a]),M.useEffect(()=>{if(!v){j([]);return}let P=!0;async function R(){try{if(k(!0),N(null),n&&r){const I=(r.messages||[]).filter(F=>F.conversation_id===v).sort((F,L)=>F.created_at>L.created_at?1:-1);if(!P)return;j(I.map(HA));return}const U=await GA(`${ZH}${v}`);if(!P)return;j((U||[]).map(HA))}catch(U){if(!P)return;N(U?.message||"Erro ao carregar mensagens")}finally{if(!P)return;k(!1)}}return R(),()=>{P=!1}},[v,n,r]);const E=M.useMemo(()=>{const P=a.filter(eV);if(!p.trim())return P;const R=p.toLowerCase();return P.filter(U=>{const I=(U.name||"").toLowerCase(),F=(U.phone||"").toLowerCase(),L=(U.last_message||"").toLowerCase();return I.includes(R)||F.includes(R)||L.includes(R)})},[a,p]),_=v&&a.find(P=>P.id===v)||null,O=M.useMemo(()=>{const P={},R=Date.now();return a.forEach(U=>{const I=new Date(U.updated_at).getTime();P[U.id]=R-I<300*1e3}),P},[a]),C=_?e0(_.current_emotion):null;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(ir,{className:"w-6 h-6 text-[#f57f17]"}),"Conversas"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Mensagens e atendimentos em tempo real",n?" (DEMO)":""]})]})}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-6",children:[l.jsx(cf,{title:"Conversas",subtitle:"Fila de atendimento",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gn,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:p,onChange:P=>m(P.target.value),placeholder:"Buscar...",className:"w-full bg-black/30 border border-gray-800 rounded-2xl px-4 py-3 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30"})]}),c?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Carregando conversas..."}):d?l.jsx("div",{className:"text-red-400 text-sm py-6",children:d}):E.length===0?l.jsx("div",{className:"text-gray-400 text-sm py-6",children:"Nenhuma conversa encontrada."}):l.jsx("div",{className:"divide-y divide-gray-800/70 max-h-[600px] overflow-y-auto",children:E.map(P=>{const R=v===P.id,U=O[P.id],I=e0(P.current_emotion);return l.jsx("button",{onClick:()=>b(P.id),className:["w-full text-left px-4 py-4 transition-all",R?"bg-[#f57f17]/10 border border-[#f57f17]/20 rounded-2xl":"hover:bg-white/5 rounded-2xl"].join(" "),children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:P.name||t0(P.phone)}),I&&l.jsxs("span",{className:`flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full ${I.bgColor} ${I.color} border ${I.borderColor}`,children:[l.jsx(I.icon,{className:"w-3 h-3"}),I.label]})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1 truncate",children:KA(P.updated_at)}),P.last_message?l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:P.last_message}):l.jsx("p",{className:"text-gray-600 text-xs mt-2",children:"Sem mensagens ainda"})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[l.jsx("div",{className:["h-2.5 w-2.5 rounded-full",U?"bg-emerald-400":"bg-gray-600"].join(" "),title:U?"Ativo":"Inativo"}),l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border",P.status==="open"?"bg-emerald-500/10 text-emerald-200 border-emerald-500/20":"bg-gray-500/10 text-gray-300 border-gray-500/20"].join(" "),children:P.status==="open"?"ABERTO":"FECHADO"}),(()=>{const F=P.paused_until&&new Date(P.paused_until)>new Date;return l.jsx("span",{className:["text-[10px] px-2 py-1 rounded-full border font-medium",F?"bg-red-500/20 text-red-300 border-red-500/30":"bg-[#f57f17]/20 text-[#f57f17] border-[#f57f17]/30"].join(" "),children:F?"BOT OFF":"BOT ON"})})()]})]})},P.id)})})]})}),l.jsx(cf,{title:_?_.name||t0(_.phone):"Chat",subtitle:_?t0(_.phone):"Selecione uma conversa",right:_?l.jsxs("div",{className:"flex items-center gap-3",children:[C&&l.jsxs("span",{className:`flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full ${C.bgColor} ${C.color} border ${C.borderColor}`,children:[l.jsx(C.icon,{className:"w-4 h-4"}),C.label]}),l.jsx("span",{className:"text-xs text-gray-400",children:_.status==="open"?"Atendimento":"Histrico"}),(()=>{const P=_.paused_until&&new Date(_.paused_until)>new Date;return l.jsx("button",{onClick:async()=>{try{const R=P?"/api/conversations/resume":"/api/conversations/pause",U=_.chat_id||`${_.phone}@c.us`;(await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P?{chatId:U}:{chatId:U,ttlMinutes:1440,by:"dashboard"})})).ok&&s(L=>L.map(G=>G.id===_.id?{...G,paused_until:P?null:new Date(Date.now()+1440*60*1e3).toISOString()}:G))}catch(R){console.error("Erro ao alternar pause:",R)}},className:["text-xs px-3 py-1.5 rounded-full border font-medium transition-all",P?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/30":"bg-red-500/20 text-red-300 border-red-500/30 hover:bg-red-500/30"].join(" "),children:P?"Reativar Bot":"Pausar Bot"})})()]}):l.jsx("span",{className:"text-xs text-gray-500",children:""}),children:_?y?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-400",children:"Carregando mensagens..."}):A?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-red-400",children:A}):w.length===0?l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:"Sem mensagens nessa conversa."}):l.jsx("div",{className:"h-[520px] overflow-y-auto pr-2 space-y-3",children:w.map((P,R)=>{const U=P.from==="agent",I=U?null:e0(P.emotion||_?.current_emotion);return l.jsxs("div",{className:["max-w-[85%] rounded-2xl px-4 py-3 border relative",U?"ml-auto bg-[#f57f17]/10 border-[#f57f17]/20 text-gray-100":`mr-auto bg-black/40 text-gray-100 ${I?I.borderColor:"border-gray-800"}`].join(" "),children:[!U&&I&&l.jsx("div",{className:`absolute -top-2 -left-2 h-6 w-6 rounded-full ${I.bgColor} border ${I.borderColor} flex items-center justify-center`,children:l.jsx(I.icon,{className:`w-3 h-3 ${I.color}`})}),l.jsx("p",{className:"text-sm leading-relaxed",children:P.text}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("p",{className:"text-[11px] text-gray-500",children:KA(P.created_at)}),!U&&I&&l.jsx("span",{className:`text-[10px] ${I.color}`,children:I.label})]})]},P.id)})}):l.jsx("div",{className:"h-[520px] flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ir,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),l.jsx("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]})}const XA={pronto:{title:"Lead PRONTO para fechar!",suggestions:["Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?","E a, pronto pra comear? Tenho um horrio agora pra gente acertar os detalhes!","S falta um passo! Quer que eu te mande o link pra fechar?"]},empolgado:{title:"Lead EMPOLGADO - mantenha a energia!",suggestions:["Que bom que curtiu! Quer ver um exemplo real funcionando?","E a, tudo certo? Quer que eu te explique os prximos passos?","Massa! Vou te mandar um case de sucesso parecido com o seu cenrio."]},curioso:{title:"Lead CURIOSO - tire as dvidas!",suggestions:["Oi! Ficou alguma dvida? T aqui pra te ajudar!","E a, o que achou? Posso explicar melhor alguma parte?","Tem mais alguma coisa que voc gostaria de saber?"]},sensvel_preo:{title:"Lead SENSVEL A PREO - mostre valor!",suggestions:["Oi! Consegui uma condio especial pra voc. Quer saber mais?","Entendo a preocupao com investimento. Posso te mostrar o ROI tpico?","Temos opes flexveis de pagamento. Posso te explicar?"]},ctico:{title:"Lead CTICO - prove com resultados!",suggestions:["Oi! Entendo suas dvidas. Posso te mostrar alguns cases de sucesso?","Normal ter dvidas! Quer ver depoimentos de clientes parecidos com voc?","Que tal uma demonstrao prtica? Assim voc v funcionando."]},frustrado:{title:"Lead FRUSTRADO - seja emptico!",suggestions:["Oi! Vi que teve algumas dificuldades. Como posso te ajudar?","Entendi seu ponto. Vamos resolver isso juntos?","Desculpa pelo inconveniente. O que posso fazer pra melhorar sua experincia?"]}};function rV(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function ad(t){const e=t.replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),s=r.slice(7,11);return`+55 (${n}) ${a}-${s}`}function iT(t,e,r){return Math.max(e,Math.min(r,t))}function nV(t){if(!t)return"";const e=Date.now(),r=new Date(t).getTime();if(isNaN(r))return"";const n=e-r,a=Math.floor(n/6e4),s=Math.floor(a/60),c=Math.floor(s/24);return a<1?"agora":a<60?`h ${a}min`:s<24?`h ${s}h`:c===1?"ontem":c<7?`h ${c} dias`:`h ${Math.floor(c/7)} sem`}function sl(t){const e=(t||"curioso").toLowerCase(),r={ctico:{label:"CTICO",bg:"bg-fuchsia-500/10",border:"border-fuchsia-400/25",text:"text-fuchsia-200",glow:"shadow-[0_0_0_1px_rgba(217,70,239,0.25)]"},frustrado:{label:"FRUSTRADO",bg:"bg-orange-500/10",border:"border-orange-400/25",text:"text-orange-200",glow:"shadow-[0_0_0_1px_rgba(251,146,60,0.25)]"},curioso:{label:"CURIOSO",bg:"bg-blue-500/10",border:"border-blue-400/25",text:"text-blue-200",glow:"shadow-[0_0_0_1px_rgba(96,165,250,0.25)]"},sensvel_preo:{label:"SENSVEL A PREO",bg:"bg-cyan-500/10",border:"border-cyan-400/25",text:"text-cyan-200",glow:"shadow-[0_0_0_1px_rgba(34,211,238,0.25)]"},empolgado:{label:"EMPOLGADO",bg:"bg-emerald-500/10",border:"border-emerald-400/25",text:"text-emerald-200",glow:"shadow-[0_0_0_1px_rgba(52,211,153,0.25)]"},pronto:{label:"PRONTO",bg:"bg-green-500/10",border:"border-green-400/25",text:"text-green-200",glow:"shadow-[0_0_0_1px_rgba(74,222,128,0.25)]"}};return r[e]||r.curioso}function id(t){const e=(t||"normal").toLowerCase(),r={low:{label:"Baixa",dot:"bg-gray-400",text:"text-gray-300",bg:"bg-white/5"},normal:{label:"Normal",dot:"bg-sky-400",text:"text-sky-200",bg:"bg-sky-500/10"},high:{label:"Alta",dot:"bg-yellow-400",text:"text-yellow-200",bg:"bg-yellow-500/10"},critical:{label:"Crtica",dot:"bg-red-400",text:"text-red-200",bg:"bg-red-500/10"}};return r[e]||r.normal}function aV(t){const e=t||"active",r={new:{label:"Novo",bg:"bg-white/5",text:"text-gray-200",dot:"bg-sky-400"},active:{label:"Ativo",bg:"bg-emerald-500/10",text:"text-emerald-200",dot:"bg-emerald-400"},won:{label:"Ganho",bg:"bg-green-500/10",text:"text-green-200",dot:"bg-green-400"},lost:{label:"Perdido",bg:"bg-red-500/10",text:"text-red-200",dot:"bg-red-400"}};return r[e]||r.active}function iV({value:t}){const e=iT(t,0,100),r=e>=70,n=e>=45&&e<70;return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-400",children:[l.jsx("span",{children:"Health"}),l.jsx("span",{className:"text-gray-200 font-semibold",children:e})]}),l.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/5 border border-white/10 overflow-hidden",children:l.jsx("div",{style:{width:`${e}%`},className:["h-full transition-all rounded-full",r?"bg-gradient-to-r from-emerald-500 to-emerald-400":n?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"].join(" ")})})]})}function sV({lead:t,onClose:e,onSend:r}){const n=(t.stage||"curioso").toLowerCase(),a=XA[n]||XA.curioso,[s,c]=M.useState(a.suggestions[0]),[u,d]=M.useState(!1),[h,p]=M.useState(!1);async function m(){s.trim()&&(d(!0),await new Promise(b=>setTimeout(b,500)),r(s),d(!1),e())}async function v(){p(!0),await new Promise(w=>setTimeout(w,800));const b=[`Oi ${t.name?.split(" ")[0]||""}! ${s}`,`${s} O que acha?`,`${s} T disponvel agora se quiser conversar!`];c(b[Math.floor(Math.random()*b.length)]),p(!1)}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-xl rounded-[28px] border border-white/10 bg-[#0a0a0a] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(ka,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Follow-up Inteligente"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Para: ",t.name||ad(t.phone)]})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:l.jsx(ln,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"rounded-xl bg-[#f57f17]/5 border border-[#f57f17]/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:a.title})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Sugestes baseadas no estgio atual do lead"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Sugestes da IA"}),l.jsx("div",{className:"space-y-2",children:a.suggestions.map((b,w)=>l.jsx("button",{onClick:()=>c(b),className:`w-full text-left p-3 rounded-xl border transition text-sm ${s===b?"border-[#f57f17]/50 bg-[#f57f17]/10 text-white":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"}`,children:b},w))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem personalizada"}),l.jsxs("button",{onClick:v,disabled:h,className:"text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[h?l.jsx(bt,{className:"w-3 h-3 animate-spin"}):l.jsx(wn,{className:"w-3 h-3"}),"Gerar variao"]})]}),l.jsx("textarea",{value:s,onChange:b=>c(b.target.value),rows:3,className:"w-full p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none focus:border-[#f57f17]/30",placeholder:"Digite sua mensagem..."}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.length," caracteres"]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contexto do lead"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full ${sl(t.stage).bg} ${sl(t.stage).text} border ${sl(t.stage).border}`,children:sl(t.stage).label}),l.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-full ${id(t.urgency_level).bg} ${id(t.urgency_level).text} border border-white/10`,children:["Urgncia: ",id(t.urgency_level).label]}),l.jsxs("span",{className:"text-[10px] px-2 py-1 rounded-full bg-white/5 text-gray-300 border border-white/10",children:["Health: ",t.health_score??50]})]}),t.last_message&&l.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-black/30 border border-white/5",children:[l.jsx("p",{className:"text-[10px] text-gray-500 mb-1",children:"ltima msg do lead:"}),l.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.last_message})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10",children:"Cancelar"}),l.jsxs("button",{onClick:m,disabled:u||!s.trim(),className:"h-10 px-6 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[u?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(ms,{className:"w-4 h-4"}),"Enviar Follow-up"]})]})]})})}function oV({leads:t,conversations:e,onOpenConversation:r,onSendFollowUp:n,onMarkAsWon:a}){const[s,c]=M.useState(""),[u,d]=M.useState(null),[h,p]=M.useState(null),m=M.useMemo(()=>{const j=new Map(e.map(y=>[y.lead_id,y]));return t.map(y=>{const k=j.get(y.id);return{...y,last_message:y.last_message||k?.last_message||null,conversation_id:y.conversation_id||k?.id||null}})},[t,e]),v=M.useMemo(()=>{let j=m;if(s.trim()){const y=s.toLowerCase();j=j.filter(k=>{const A=(k.name||"").toLowerCase(),N=(k.phone||"").toLowerCase(),E=(k.last_message||"").toLowerCase();return A.includes(y)||N.includes(y)||E.includes(y)})}return[...j].sort((y,k)=>{const A=(y.health_score??50)+(y.conversion_probability??0)*50;return(k.health_score??50)+(k.conversion_probability??0)*50-A})},[m,s]);function b(j){p(j)}function w(j){h&&n&&n(h,j)}return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.02] overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(on,{className:"w-5 h-5 text-[#f57f17]"}),"Leads Prioritrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ordenados por temperatura (health + converso)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gn,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{value:s,onChange:j=>c(j.target.value),placeholder:"Buscar lead...",className:"bg-black/30 border border-white/10 rounded-2xl px-4 py-2 text-sm text-gray-200 outline-none focus:border-[#f57f17]/30 w-60"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[380px_1fr]",children:[l.jsxs("div",{className:"border-r border-white/10 max-h-[700px] overflow-y-auto",children:[v.map((j,y)=>{const k=sl(j.stage),A=aV(j.status),N=id(j.urgency_level),E=iT(Math.round((j.health_score??50)+(j.conversion_probability??0)*50),0,100),_=nV(j.updated_at);return l.jsx("button",{onClick:()=>d(j),className:["w-full text-left p-4 border-b border-white/5 transition",u?.id===j.id?"bg-[#f57f17]/10 border-l-2 border-l-[#f57f17]":"hover:bg-white/5"].join(" "),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:["h-12 w-12 rounded-2xl flex items-center justify-center text-lg font-bold border",E>=70?"bg-orange-500/20 border-orange-400/30 text-orange-200":E>=50?"bg-yellow-500/20 border-yellow-400/30 text-yellow-200":"bg-gray-500/20 border-gray-400/30 text-gray-300"].join(" "),children:rV(j.name,j.phone)}),y<3&&l.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:y+1})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:j.name||ad(j.phone)}),l.jsx("span",{className:["text-[10px] font-bold px-1.5 py-0.5 rounded",E>=80?"bg-orange-500/30 text-orange-200":E>=60?"bg-yellow-500/30 text-yellow-200":E>=40?"bg-blue-500/30 text-blue-200":"bg-gray-500/30 text-gray-300"].join(" "),children:E})]}),l.jsxs("p",{className:"text-gray-500 text-xs truncate flex items-center gap-2",children:[l.jsx("span",{children:j.name?ad(j.phone):"Contato sem nome"}),_&&l.jsxs("span",{className:"text-gray-600",children:[" ",_]})]})]}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${A.bg} border border-white/10`,children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${A.dot}`}),l.jsx("span",{className:`text-xs font-semibold ${A.text}`,children:A.label})]})]}),l.jsx("p",{className:"text-gray-400 text-xs mt-2 line-clamp-2",children:j.last_message||"Sem mensagens ainda  lead recm-criado."}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsx("span",{className:["text-[11px] font-bold px-2.5 py-1 rounded-full border",k.bg,k.border,k.text,k.glow].join(" "),children:k.label}),l.jsxs("span",{className:["text-[11px] font-semibold px-2.5 py-1 rounded-full border border-white/10",N.bg,N.text].join(" "),children:[l.jsx("span",{className:`inline-block h-2 w-2 rounded-full mr-2 ${N.dot}`}),N.label]}),l.jsxs("span",{className:"text-[11px] font-semibold px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-gray-200",children:[Math.round((j.conversion_probability||0)*100),"% converso"]})]})]})]})},j.id)}),v.length===0&&l.jsx("div",{className:"p-6 text-gray-400 text-sm",children:"Nenhum lead encontrado."})]}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-2xl",children:u.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[l.jsx(zn,{className:"w-4 h-4"}),ad(u.phone)]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm",children:["Score: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(nn,{className:"w-4 h-4 text-[#f57f17]"}),"Temp: ",l.jsx("span",{className:"text-white font-semibold",children:u.health_score??50})]}),l.jsxs("span",{className:"px-3 py-2 rounded-2xl border border-white/10 bg-white/5 text-gray-200 text-sm flex items-center gap-2",children:[l.jsx(gs,{className:"w-4 h-4 text-emerald-300"}),Math.round((u.conversion_probability||0)*100),"%"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white leading-relaxed",children:u.last_message||"Sem mensagens ainda  lead criado agora."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:l.jsx(iV,{value:u.health_score??50})}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Prxima ao sugerida"}),l.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(CE,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Follow-up inteligente"}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Priorize este lead com mensagem de valor + CTA. Estgio: ",u.stage,"."]})]})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[l.jsx(rr,{className:"w-4 h-4 text-yellow-300"}),"Sinais detectados"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(u.tags||[]).length===0?l.jsx("span",{className:"text-gray-500 text-sm",children:"Sem tags ainda"}):u.tags?.map(j=>l.jsx("span",{className:"text-xs text-gray-200 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:j},j))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>u&&r?.(u),className:"rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition px-4 py-3 text-white font-semibold",children:"Abrir conversa"}),l.jsxs("button",{onClick:()=>b(u),className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition px-4 py-3 text-white font-semibold flex items-center justify-center gap-2",children:[l.jsx(ka,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up IA"]}),l.jsx("button",{onClick:()=>u&&a?.(u),className:"rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition px-4 py-3 text-white font-semibold",children:"Marcar como ganho"})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Selecione um lead"})})]}),h&&l.jsx(sV,{lead:h,onClose:()=>p(null),onSend:w})]})}function lV(t){const e=Array.isArray(t?.leads)?t.leads:[],r=Array.isArray(t?.conversations)?t.conversations:[];return l.jsx("div",{className:"space-y-6",children:l.jsx(oV,{leads:e,conversations:r,onOpenConversation:t?.onOpenConversation,onSendFollowUp:t?.onSendFollowUp,onMarkAsWon:t?.onMarkAsWon})})}function tn(t,e,r){return Math.max(e,Math.min(r,t))}function cV(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e,n=r.slice(0,2),a=r.slice(2,7),s=r.slice(7,11);return`+55 (${n}) ${a}-${s}`}function uV(t,e){const r=(t||"").trim();if(!r)return e.replace(/\D/g,"").slice(-2).padStart(2,"0");const n=r.split(" ").filter(Boolean);return n.length===1?n[0].slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()}function dV(t){if(!t)return"";const e=new Date(t).getTime();if(Number.isNaN(e))return"";const r=Math.round((Date.now()-e)/6e4);return r<1?"agora":r<60?`${r} min`:`${Math.round(r/60)}h`}function fV(t){const e=(t||"normal").toLowerCase();return e==="critical"?.95:e==="high"?.75:e==="low"?.25:.45}function YA(t){const e=fV(t.urgency_level),r=tn(t.health_score??50,0,100),n=tn((65-r)/65,0,1),a=t.last_touch_at?new Date(t.last_touch_at).getTime():Date.now(),s=tn(Math.round(Math.abs(Date.now()-a)/6e4),0,240),c=tn(s/60,0,1);return tn(.55*e+.25*c+.2*n,0,1)}function JA(t){if(typeof t.conversion_probability=="number")return tn(t.conversion_probability,0,1);const e=(t.stage||"").toLowerCase();return e==="pronto"?.9:e==="empolgado"?.75:e==="sensvel_preo"?.55:e==="ctico"?.35:.45}function hV(t,e){const r=t>=.55,n=e>=.55;return r&&!n?{title:"FECHAR AGORA",hint:"Alta inteno  Baixo risco"}:r&&n?{title:"SALVAR (URGENTE)",hint:"Alta inteno  Alto risco"}:!r&&n?{title:"NUTRIR COM PROVA",hint:"Baixa inteno  Alto risco"}:{title:"AUTOMATIZAR",hint:"Baixa inteno  Baixo risco"}}function pV(t,e){const r=tn(t*.6+e*.4,0,1);return r>.75?"bg-[#f57f17] shadow-[0_0_0_12px_rgba(245,127,23,0.16)]":r>.55?"bg-emerald-400 shadow-[0_0_0_12px_rgba(52,211,153,0.16)]":r>.35?"bg-sky-400 shadow-[0_0_0_12px_rgba(56,189,248,0.16)]":"bg-white/60 shadow-[0_0_0_12px_rgba(255,255,255,0.12)]"}function mV(t){const{anchorX:e,anchorY:r,vw:n,vh:a,cardW:s,cardH:c,pad:u}=t,d=[{x:e+16,y:r-c-16},{x:e-s-16,y:r-c-16},{x:e+16,y:r+16},{x:e-s-16,y:r+16},{x:e+16,y:r-c/2},{x:e-s-16,y:r-c/2}];for(const h of d){const p=h.x>=u&&h.x+s<=n-u,m=h.y>=u&&h.y+c<=a-u;if(p&&m)return h}return{x:tn(e-s/2,u,n-s-u),y:tn(r-c/2,u,a-c-u)}}function gV({leads:t,height:e=420,highlightLeadIds:r=[],onClearHighlights:n,onOpenConversation:a,onSendFollowUp:s,onMarkAsWon:c}){const u=M.useRef(null),[d,h]=M.useState(null),[p,m]=M.useState(null),v=M.useMemo(()=>new Set(r),[r]),b=M.useMemo(()=>t.map(y=>{const k=JA(y),A=YA(y);return{lead:y,intent:k,risk:A,x:k,y:A}}),[t]);function w(y,k,A){h(y);const O=mV({anchorX:k,anchorY:A,vw:window.innerWidth,vh:window.innerHeight,cardW:380,cardH:380,pad:12});m(O)}const j=()=>{h(null),m(null)};return l.jsxs("div",{className:"relative rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:"DOCA Emotion Map"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Inteno  Risco  clique em um ponto para aes e sugesto IA."})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs text-gray-200",children:[b.length," leads"]}),l.jsx("span",{className:"px-3 py-1.5 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 text-xs text-[#f57f17] font-semibold",children:"Assinatura visual DOCA"}),r.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full border border-[#8b5cf6]/30 bg-[#8b5cf6]/15 text-xs text-white font-semibold flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#8b5cf6]"}),"Plano do dia: ",r.length," destacados"]}),l.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs text-gray-200 font-semibold",children:"Limpar destaque"})]})]})]}),l.jsxs("div",{ref:u,className:"relative rounded-b-[28px] overflow-hidden",style:{height:e},children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[1]",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(245,127,23,0.10),transparent_55%)]"}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:48px_48px]"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[2]",children:[l.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/10"}),l.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/10"})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 p-6 z-[3]",children:[l.jsxs("div",{className:"absolute left-6 top-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"SALVAR (URGENTE)"}),l.jsx("div",{children:"Alta inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 top-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"FECHAR AGORA"}),l.jsx("div",{children:"Alta inteno  Baixo risco"})]}),l.jsxs("div",{className:"absolute left-6 bottom-6 text-xs text-gray-400",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"NUTRIR COM PROVA"}),l.jsx("div",{children:"Baixa inteno  Alto risco"})]}),l.jsxs("div",{className:"absolute right-6 bottom-6 text-xs text-gray-400 text-right",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"AUTOMATIZAR"}),l.jsx("div",{children:"Baixa inteno  Baixo risco"})]})]}),l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[4]",children:[l.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[11px] text-gray-500 rotate-[-90deg] origin-left",children:"RISCO "}),l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 text-[11px] text-gray-500",children:"INTENO "})]}),l.jsx("div",{className:"absolute inset-0 z-[10]",children:b.map(y=>{const k=tn(y.x,.04,.96)*100,A=tn(1-y.y,.04,.96)*100,N=v.has(y.lead.id),E=N?"bg-[#8b5cf6] shadow-[0_0_0_16px_rgba(139,92,246,0.22)]":pV(y.intent,y.risk);return l.jsx("button",{onClick:_=>{_.stopPropagation(),w(y.lead,_.clientX,_.clientY)},className:["absolute group",N?"z-[60]":"z-[10]"].join(" "),style:{left:`${k}%`,top:`${A}%`},title:y.lead.name||y.lead.phone,children:l.jsxs("div",{className:"relative",children:[N&&l.jsx("div",{className:"absolute inset-[-22px] rounded-full bg-[#8b5cf6]/14 blur-2xl animate-pulse"}),l.jsx("div",{className:["relative rounded-full border border-black/40 transition-all",E,"group-hover:scale-[1.25]",N?"h-6 w-6":"h-4 w-4",N?"ring-4 ring-[#8b5cf6]/60":""].join(" ")}),N&&l.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-8 px-2 py-0.5 rounded-full text-[10px] font-bold border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] whitespace-nowrap",children:"PLANO"})]})},y.lead.id)})})]}),d&&p?lF.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"fixed inset-0 z-[9998] cursor-default",style:{background:"transparent"},onClick:j,"aria-label":"Fechar"}),l.jsxs("div",{className:"fixed z-[9999] w-[380px] max-w-[calc(100vw-24px)] rounded-[24px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl animate-[fadeIn_140ms_ease-out]",style:{left:p.x,top:p.y},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:uV(d.name,d.phone)}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:d.name||"Contato sem nome"}),l.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-2 mt-0.5",children:[l.jsx(zn,{className:"w-4 h-4"}),cV(d.phone)]}),v.has(d.id)&&l.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full border border-[#8b5cf6]/35 bg-[#8b5cf6]/15 text-[#c4b5fd] text-xs font-semibold",children:[l.jsx(ar,{className:"w-4 h-4 text-[#8b5cf6]"}),"Afetado pelo plano do dia"]})]})]}),l.jsx("button",{onClick:j,className:"h-9 w-9 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition flex items-center justify-center",title:"Fechar",children:l.jsx(ln,{className:"w-4 h-4 text-gray-200"})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[(()=>{const y=JA(d),k=YA(d),A=hV(y,k);return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Quadrante"}),l.jsx("p",{className:"text-white font-bold mt-1",children:A.title}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:A.hint}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(y*100),"% inteno"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:[Math.round(k*100),"% risco"]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["health ",d.health_score??50]}),l.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-gray-200",children:["last ",dV(d.last_touch_at)]})]})]})})(),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltima mensagem"}),l.jsx("p",{className:"text-white text-sm leading-relaxed",children:d.last_message||"Sem mensagens ainda."})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[#f57f17]",children:[l.jsx(nn,{className:"w-4 h-4"}),l.jsx("p",{className:"text-sm font-semibold",children:"Sugesto IA"})]}),l.jsxs("p",{className:"text-gray-200 text-sm mt-2 leading-relaxed",children:["Mensagem curta com prova social + CTA direto. Ex:"," ",l.jsx("span",{className:"text-white font-semibold",children:"Consigo te colocar em funcionamento hoje. Quer que eu te mande os planos?"})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-300",children:[l.jsx(gs,{className:"w-4 h-4 text-emerald-300"}),"Alta chance de resposta em 1020 min"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{onClick:()=>a?.(d),className:"h-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-sm font-semibold text-white",children:"Abrir"}),l.jsxs("button",{onClick:()=>s?.(d),className:"h-10 rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition text-sm font-semibold text-white flex items-center justify-center gap-2",children:[l.jsx(CE,{className:"w-4 h-4 text-[#f57f17]"}),"Follow-up"]}),l.jsx("button",{onClick:()=>c?.(d),className:"h-10 rounded-2xl border border-emerald-400/25 bg-emerald-500/10 hover:bg-emerald-500/15 transition text-sm font-semibold text-white",children:"Ganho"})]}),l.jsx("div",{className:"text-[11px] text-gray-500",children:"*MVP: inteno/risco por heurstica (depois plugamos no motor real)."})]})]}),l.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(6px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `})]}),document.body):null]})}const vV="/api/dashboard";async function yV(t){const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if((e.headers.get("content-type")||"").includes("text/html")){const n=await e.text();throw new Error(`Endpoint retornou HTML (provvel rota errada). URL: ${t}. Exemplo: ${n.slice(0,60)}...`)}if(!e.ok){const n=await e.text().catch(()=>"");throw new Error(`HTTP ${e.status} em ${t}. ${n}`)}return await e.json()}function xV(){const[t,e]=M.useState(null),[r,n]=M.useState(!0),[a,s]=M.useState(null),c=M.useMemo(()=>ro(),[]);return M.useEffect(()=>{let u=!0;async function d(){try{if(n(!0),s(null),c){const m=no()?.stats;u&&e(m);return}const h=await yV(`${vV}/metrics`);u&&e(h)}catch(h){u&&s(h?.message||"Erro desconhecido")}finally{u&&n(!1)}}return d(),()=>{u=!1}},[c]),{data:t,loading:r,error:a}}function bV(t,e,r){return Math.max(e,Math.min(r,t))}function di(t,e){if(t.length<=e)return t;const r=[...t],n=[];for(;n.length<e&&r.length>0;){const a=Math.floor(Math.random()*r.length);n.push(r.splice(a,1)[0])}return n}function wV(t){if(!Array.isArray(t)||t.length===0)return[];const e=t.filter(c=>String(c.stage||"").toLowerCase()==="pronto"),r=t.filter(c=>["high","critical"].includes(String(c.urgency_level||"").toLowerCase())),n=t.filter(c=>{const u=Number(c.health_score??50),d=String(c.urgency_level||"").toLowerCase();return u<=45&&(d==="high"||d==="critical")}),a=[...di(e,4),...di(r,3),...di(n,2)],s=Array.from(new Set(a.map(c=>String(c.id)).filter(Boolean)));if(s.length<5){const c=di(t,8).map(u=>String(u.id));return Array.from(new Set([...s,...c])).slice(0,10)}return s.slice(0,10)}function QA(t){return t.reduce((e,r)=>e+r,0)}function jV(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}const _V=[{key:"curioso",label:"Curiosos",icon:Gn,gradient:"from-blue-500 to-blue-600"},{key:"ctico",label:"Cticos",icon:mf,gradient:"from-fuchsia-500 to-fuchsia-600"},{key:"sensvel_preo",label:"Preo",icon:Vs,gradient:"from-cyan-500 to-cyan-600"},{key:"empolgado",label:"Empolgados",icon:gl,gradient:"from-emerald-500 to-emerald-600"},{key:"pronto",label:"Prontos",icon:nn,gradient:"from-orange-500 to-red-500"}];function SV(t){xV();const e=M.useMemo(()=>ro()?no():null,[]),r=!!e,[n,a]=M.useState(!1),s=M.useMemo(()=>{if(Array.isArray(t?.leads)&&t.leads.length)return t.leads.map(P=>({id:String(P.id),phone:String(P.phone||""),name:P.name??null,stage:P.stage,urgency_level:P.urgency_level,health_score:P.health_score??P.score??50,conversion_probability:P.conversion_probability,tags:Array.isArray(P.tags)?P.tags:[],last_message:P.last_message??P.lastMessage,last_touch_at:P.last_touch_at??P.lastTouchAt??P.updated_at}));if(r&&e?.leads?.length){const P=new Map;return Array.isArray(e.conversations)&&e.conversations.forEach(R=>{R?.phone&&R?.last_message&&P.set(R.phone,R.last_message)}),(e.leads||[]).map(R=>({id:String(R.id),phone:String(R.phone||""),name:R.name??null,stage:R.stage,urgency_level:R.urgency_level,health_score:R.health_score??50,conversion_probability:R.conversion_probability,tags:Array.isArray(R.tags)?R.tags:[],last_message:P.get(R.phone)||"",last_touch_at:R.updated_at}))}return[]},[t?.leads,r,e]),[c,u]=M.useState([]),d=s.length,h=M.useMemo(()=>s.filter(P=>String(P.stage||"").toLowerCase()==="pronto"),[s]),p=M.useMemo(()=>s.filter(P=>["high","critical"].includes(String(P.urgency_level||"").toLowerCase())),[s]),m=M.useMemo(()=>s.filter(P=>{const R=Number(P.health_score??50),U=String(P.urgency_level||"").toLowerCase();return R<=45&&(U==="high"||U==="critical")}),[s]),v=M.useMemo(()=>s.length?Math.round(QA(s.map(P=>Number(P.health_score??50)))/s.length):0,[s]),b=M.useMemo(()=>{const P=s.length?p.length/s.length:0;return bV(140+Math.round(P*80),60,260)},[s.length,p.length]),w=M.useMemo(()=>{const P=s.length?QA(s.map(R=>Number(R.conversion_probability??.35)))/s.length:.35;return Math.round(h.length*1497*P*1.1)},[s,h.length]),j=M.useMemo(()=>{const P={};return s.forEach(R=>{const U=(R.stage||"curioso").toLowerCase();P[U]=(P[U]||0)+1}),P},[s]),y=M.useMemo(()=>c.length===0?[]:s.filter(P=>c.includes(P.id)),[s,c]),k=M.useMemo(()=>wV(s),[s]),A=()=>{u(k),a(!0)},N=()=>{u([]),a(!1)},E=P=>{const R=s.filter(U=>(U.stage||"curioso").toLowerCase()===P);u(R.map(U=>U.id)),a(!0)},_=h.length||c.length||0,O=h.length>0?`${p.length} leads quentes e ${m.length} em risco. Execute o plano para aumentar converso.`:"A IA analisou inteno, urgncia e health. Gere um plano para destacar oportunidades.",C=M.useMemo(()=>[{id:"attack-ready",title:"Atacar leads prontos",desc:`Follow-up para ${Math.min(h.length||4,6)} leads PRONTO`,count:Math.min(h.length||4,6),action:()=>{u(di(h.map(P=>P.id),6)),a(!0)}},{id:"save-risk",title:"Salvar esfriando",desc:`Priorizar ${Math.min(m.length||3,5)} leads em risco`,count:Math.min(m.length||3,5),action:()=>{u(di(m.map(P=>P.id),5)),a(!0)}},{id:"price-objection",title:"Destravar preo",desc:`Responder ${Math.min(3,s.length)} sensveis a preo`,count:Math.min(3,s.length),action:()=>{const P=s.filter(R=>String(R.stage||"").toLowerCase()==="sensvel_preo");u(di((P.length?P:s).map(R=>R.id),6)),a(!0)}}],[s,h,m]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Ca,{className:"w-6 h-6 text-[#f57f17]"}),"Funil & Emoes"]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["War Room: deciso + execuo",r?" (DEMO)":""]})]})}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-start justify-between gap-6 flex-wrap",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(on,{className:"w-4 h-4 text-[#f57f17]"})}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"PLANO DO DIA"})]}),l.jsxs("div",{className:"text-3xl font-extrabold text-white",children:[_," leads prontos"]}),l.jsx("p",{className:"text-gray-500 text-sm max-w-xl",children:O}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-1",children:[l.jsxs("button",{onClick:A,className:"h-11 px-5 rounded-2xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 transition text-white font-semibold flex items-center gap-2 shadow-lg shadow-[#f57f17]/20",children:[l.jsx(on,{className:"w-4 h-4"}),"Executar plano"]}),c.length>0&&l.jsx("button",{onClick:N,className:"h-11 px-5 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition text-white font-semibold",children:"Limpar"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[l.jsx(Fu,{title:"Ativos",value:d,color:"text-white"}),l.jsx(Fu,{title:"Quentes",value:p.length,color:"text-orange-400"}),l.jsx(Fu,{title:"Health",value:v,color:"text-emerald-400"}),l.jsx(Fu,{title:"SLA",value:`${b}m`,color:"text-cyan-400"})]})]})}),l.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(P=>l.jsxs("button",{onClick:P.action,className:"group text-left rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/30 hover:bg-[#f57f17]/5 transition-all",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-white font-semibold group-hover:text-[#f57f17] transition",children:P.title}),l.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-white/5 text-gray-400",children:P.count})]}),l.jsx("p",{className:"text-gray-500 text-sm",children:P.desc})]},P.id))}),w>0&&l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/5 p-4 flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 border border-emerald-500/25 flex items-center justify-center",children:l.jsx(Pa,{className:"w-5 h-5 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-emerald-300 text-sm font-medium",children:"Receita esperada"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",w.toLocaleString("pt-BR")]})]})]}),m.length>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-400",children:[l.jsx(rr,{className:"w-4 h-4"}),l.jsxs("span",{children:[m.length," leads esfriando"]})]})]})})]}),n&&y.length>0&&l.jsxs("div",{className:"rounded-[28px] border border-[#f57f17]/30 bg-gradient-to-br from-[#f57f17]/10 to-transparent backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-[#f57f17]/20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx(an,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Leads Selecionados"}),l.jsxs("p",{className:"text-gray-400 text-xs",children:[y.length," para ao"]})]})]}),l.jsx("button",{onClick:()=>a(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"max-h-[280px] overflow-y-auto divide-y divide-white/5",children:y.map(P=>{const R=P.health_score||50;return l.jsxs("div",{className:"px-4 py-3 hover:bg-white/[0.02] transition flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:["h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0",R>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":R>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"].join(" "),children:R}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:P.name||jV(P.phone)}),l.jsx("p",{className:"text-gray-500 text-xs",children:P.stage||"curioso"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("button",{onClick:()=>t?.onOpenConversation?.(P),className:"h-8 px-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-white flex items-center gap-1.5",children:[l.jsx(ir,{className:"w-3.5 h-3.5"})," Chat"]}),l.jsxs("button",{onClick:()=>t?.onSendFollowUp?.(P),className:"h-8 px-3 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(zn,{className:"w-3.5 h-3.5 text-[#f57f17]"})," FUP"]}),l.jsxs("button",{onClick:()=>t?.onMarkAsWon?.(P),className:"h-8 px-3 rounded-lg border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 text-xs text-white flex items-center gap-1.5",children:[l.jsx(JM,{className:"w-3.5 h-3.5 text-emerald-400"})," Won"]})]})]},P.id)})})]}),l.jsx(gV,{leads:s,height:460,highlightLeadIds:c,onClearHighlights:N,onOpenConversation:P=>t?.onOpenConversation?.(P),onSendFollowUp:P=>t?.onSendFollowUp?.(P),onMarkAsWon:P=>t?.onMarkAsWon?.(P)}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"Pipeline"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Distribuio por estgio emocional"})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("span",{className:"text-white font-semibold",children:d})," leads"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:_V.map(P=>{const R=j[P.key]||0,U=d>0?R/d*100:0,I=P.icon;return l.jsx("button",{onClick:()=>E(P.key),className:"w-full group",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl bg-gradient-to-br ${P.gradient} flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-105 transition`,children:l.jsx(I,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("span",{className:"text-sm text-gray-300 font-medium group-hover:text-white transition",children:P.label}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:R}),l.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(U),"%"]})]})]}),l.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${P.gradient} rounded-full transition-all duration-500 group-hover:opacity-80`,style:{width:`${Math.max(U,2)}%`}})})]}),l.jsx(x0,{className:"w-5 h-5 text-gray-700 group-hover:text-[#f57f17] group-hover:translate-x-1 transition-all flex-shrink-0"})]})},P.key)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(cf,{title:"Insights",subtitle:"O que est acontecendo",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(r0,{label:"Oportunidade",value:h.length>0?`${h.length} leads prontos para fechar`:"Sem leads prontos",good:h.length>0}),l.jsx(r0,{label:"Urgncia",value:p.length>0?`${p.length} leads com alta urgncia`:"Sem urgncias",good:!1}),l.jsx(r0,{label:"Sade",value:v>=60?"Funil saudvel":v>=40?"Funil mdio":"Funil precisa ateno",good:v>=60})]})}),l.jsx(cf,{title:"Aes Recomendadas",subtitle:"Prximos passos",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(n0,{title:"Foco em prontos",desc:"Follow-up imediato com CTA de call"}),l.jsx(n0,{title:"Destravar cticos",desc:"Prova social e cases de sucesso"}),l.jsx(n0,{title:"Sensveis a preo",desc:"Mostrar ROI e opes de pagamento"})]})})]})]})}function Fu({title:t,value:e,color:r}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:t}),l.jsx("p",{className:`text-xl font-bold ${r}`,children:e})]})}function r0({label:t,value:e,good:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 rounded-xl border border-white/5 bg-black/20",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:t}),l.jsx("span",{className:`text-sm font-medium ${r?"text-emerald-400":"text-gray-300"}`,children:e})]})}function n0({title:t,desc:e}){return l.jsxs("div",{className:"px-4 py-3 rounded-xl border border-white/5 bg-black/20 hover:border-[#f57f17]/20 transition",children:[l.jsx("p",{className:"text-white font-medium text-sm",children:t}),l.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:e})]})}const NV="modulepreload",kV=function(t){return"/"+t},ZA={},eE=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=d(r.map(h=>{if(h=kV(h),h in ZA)return;ZA[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":NV,p||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};async function OV(t,e={}){if(!t)throw new Error("exportElementToPdf: element is required.");const{filename:r="DOCA-Relatorio.pdf",backgroundColor:n="#0b0f19",scale:a=2,marginMm:s=8,orientation:c="p"}=e,[{default:u},{jsPDF:d}]=await Promise.all([eE(()=>import("./html2canvas.esm-DXEQVQnt.js"),[]),eE(()=>import("./jspdf.es.min-11M9WVQg.js").then(P=>P.j),[])]),p=await(u||u)(t,{scale:Number(a)||2,backgroundColor:n,useCORS:!0,logging:!1,removeContainer:!0}),m=p.toDataURL("image/png",1),v=new d({orientation:c,unit:"mm",format:"a4"}),b=v.internal.pageSize.getWidth(),w=v.internal.pageSize.getHeight(),j=b-s*2,y=w-s*2,k=p.width,A=p.height,N=k/A;let E=j,_=E/N;_>y&&(_=y,E=_*N);const O=(b-E)/2,C=s;v.addImage(m,"PNG",O,C,E,_,void 0,"FAST"),v.save(r)}const a0=[{key:"today",label:"Hoje"},{key:"7d",label:"7 dias"},{key:"30d",label:"30 dias"},{key:"90d",label:"90 dias"}];function AV({leads:t,conversations:e,onGoToFunnel:r}){const n=ro(),a=M.useMemo(()=>n?no():null,[n]),s=M.useMemo(()=>t&&t.length>0?t:n&&a?.leads?a.leads:[],[t,n,a]),c=M.useMemo(()=>e&&e.length>0?e:n&&a?.conversations?a.conversations:[],[e,n,a]),u=M.useRef(null),[d,h]=M.useState("7d"),[p,m]=M.useState(!1),[v,b]=M.useState(!1),w=M.useMemo(()=>{const _=s.length,O=c.length,C=s.map(Z=>Z.health_score??Z.score??50).filter(Boolean),P=C.length>0?Math.round(C.reduce((Z,Se)=>Z+Se,0)/C.length):0,R=s.map(Z=>Z.conversion_probability??.4),U=R.length>0?Math.round(R.reduce((Z,Se)=>Z+Se,0)/R.length*100):0,I={};s.forEach(Z=>{const Se=Z.stage||"curioso";I[Se]=(I[Se]||0)+1});const F=s.filter(Z=>Z.urgency_level==="high"||Z.urgency_level==="critical").length,L=s.filter(Z=>Z.urgency_level==="critical").length,G=s.filter(Z=>Z.urgency_level==="normal"||!Z.urgency_level).length,B=s.filter(Z=>Z.urgency_level==="low").length,z=s.filter(Z=>(Z.stage||"").toLowerCase()==="pronto").length,ee=s.filter(Z=>(Z.stage||"").toLowerCase()==="empolgado").length,H=s.filter(Z=>(Z.stage||"").toLowerCase()==="curioso").length,W=s.filter(Z=>(Z.stage||"").toLowerCase()==="ctico").length,J=s.filter(Z=>(Z.stage||"").toLowerCase().includes("preo")).length,$=_>0?Math.round(z/_*100):0,q=s.filter(Z=>Z.status==="new").length,ne=s.filter(Z=>Z.status==="contacted").length,se=s.filter(Z=>Z.status==="qualified").length,ie=s.filter(Z=>Z.status==="won").length,me=s.filter(Z=>Z.status==="lost").length,Me=s.filter(Z=>(Z.health_score??50)<=40&&(Z.urgency_level==="high"||Z.urgency_level==="critical")).length,ge=s.filter(Z=>(Z.health_score??50)>=70).length,oe=s.filter(Z=>(Z.health_score??50)<=30).length,be={};s.forEach(Z=>{(Z.tags||[]).forEach(Se=>{be[Se]=(be[Se]||0)+1})});const ke=Object.entries(be).sort((Z,Se)=>Se[1]-Z[1]).slice(0,5).map(([Z,Se])=>({tag:Z,count:Se}));return{totalLeads:_,totalConvs:O,avgHealth:P,avgConversion:U,stages:I,urgencyHigh:F,urgencyCritical:L,urgencyNormal:G,urgencyLow:B,prontos:z,empolgados:ee,curiosos:H,ceticos:W,preco:J,conversionRate:$,statusNew:q,statusContacted:ne,statusQualified:se,statusWon:ie,statusLost:me,emRisco:Me,quentes:ge,frios:oe,topTags:ke}},[s,c]),j=M.useMemo(()=>{const _=[];return w.conversionRate>=20?_.push({type:"success",text:"Excelente! Seu funil est com alta converso."}):w.conversionRate>=10?_.push({type:"warning",text:"Bom potencial. Aumente follow-ups nos leads quentes."}):w.totalLeads>0&&_.push({type:"danger",text:"Converso baixa. Foco em remover objees e criar urgncia."}),w.avgHealth>=70?_.push({type:"success",text:"Health mdio alto! Leads engajados."}):w.avgHealth>=50?_.push({type:"warning",text:"Health mdio OK. Alguns leads podem esfriar."}):w.totalLeads>0&&_.push({type:"danger",text:"Health mdio baixo. Risco de perder leads."}),w.emRisco>0&&_.push({type:"danger",text:`${w.emRisco} lead(s) em risco crtico precisam de ateno.`}),w.urgencyHigh>0&&_.push({type:"warning",text:`${w.urgencyHigh} lead(s) com urgncia alta aguardando ao.`}),w.prontos>0&&_.push({type:"success",text:`${w.prontos} lead(s) prontos para fechar!`}),w.frios>0&&_.push({type:"warning",text:`${w.frios} lead(s) frios precisam de reativao.`}),_.length===0&&_.push({type:"warning",text:"Sem dados suficientes para gerar insights."}),_},[w]),y=M.useMemo(()=>{const _=["curioso","ctico","sensvel_preo","empolgado","pronto"],O={curioso:"Curiosos",ctico:"Cticos",sensvel_preo:"Sensveis a Preo",empolgado:"Empolgados",pronto:"Prontos"},C={curioso:"bg-blue-500",ctico:"bg-fuchsia-500",sensvel_preo:"bg-cyan-500",empolgado:"bg-emerald-500",pronto:"bg-orange-500"},P={curioso:Gn,ctico:mf,sensvel_preo:Vs,empolgado:gl,pronto:nn},R=s.length||1;return _.map(U=>({key:U,label:O[U]||U,count:w.stages[U]||0,pct:Math.round((w.stages[U]||0)/R*100),color:C[U]||"bg-gray-500",Icon:P[U]||an}))},[s,w.stages]);async function k(){if(u.current){b(!0);try{const _=a0.find(P=>P.key===d)?.label||d,O=new Date().toLocaleDateString("pt-BR"),C=new Date().toLocaleTimeString("pt-BR");await OV(u.current,{filename:`Relatorio-DOCA-${_}-${O.replace(/\//g,"-")}.pdf`,scale:2,backgroundColor:"#0a0a0a",orientation:"p"})}catch(_){console.error("Erro ao exportar PDF:",_),alert("Erro ao exportar PDF: "+(_?.message||"Erro desconhecido"))}finally{b(!1)}}}const A=a0.find(_=>_.key===d)?.label||d,N=new Date().toLocaleDateString("pt-BR"),E=new Date().toLocaleTimeString("pt-BR");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(gi,{className:"w-6 h-6 text-[#f57f17]"}),"Relatrios"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Performance do funil, mtricas e insights"})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("div",{className:"h-10 px-3 rounded-xl border border-white/10 bg-white/5 flex items-center gap-2",children:[l.jsx(MM,{className:"w-4 h-4 text-gray-400"}),l.jsx("select",{value:d,onChange:_=>h(_.target.value),className:"bg-transparent outline-none text-sm text-gray-200",children:a0.map(_=>l.jsx("option",{value:_.key,className:"bg-black",children:_.label},_.key))})]}),l.jsxs("button",{onClick:()=>m(!0),className:"h-10 px-4 rounded-xl border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:k,disabled:v,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Oa,{className:"w-4 h-4 animate-spin"}),"Gerando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(eb,{className:"w-4 h-4"}),"Exportar PDF"]})}),l.jsxs("button",{onClick:r,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(Ca,{className:"w-4 h-4"}),"Ir para Funil"]})]})]}),l.jsxs("div",{ref:u,className:"space-y-6 bg-[#0a0a0a] p-6 rounded-[28px]",children:[l.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-2xl bg-[#f57f17]/20 border border-[#f57f17]/30 flex items-center justify-center",children:l.jsx(ml,{className:"w-6 h-6 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Relatrio DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Central de Comando - Anlise de Performance"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white font-semibold",children:["Perodo: ",A]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:["Gerado em ",N," s ",E]})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx($M,{className:"w-5 h-5 text-[#f57f17]"}),"Resumo Executivo"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(zu,{label:"Total de Leads",value:w.totalLeads,icon:an,color:"text-blue-400"}),l.jsx(zu,{label:"Conversas",value:w.totalConvs,icon:gi,color:"text-purple-400"}),l.jsx(zu,{label:"Health Mdio",value:`${w.avgHealth}%`,icon:gl,color:w.avgHealth>=70?"text-emerald-400":w.avgHealth>=50?"text-yellow-400":"text-red-400"}),l.jsx(zu,{label:"Converso Mdia",value:`${w.avgConversion}%`,icon:Pa,color:"text-cyan-400"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Ca,{className:"w-5 h-5 text-[#f57f17]"}),"Distribuio do Pipeline"]}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[l.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:y.map(_=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`h-10 w-10 mx-auto rounded-xl ${_.color}/20 flex items-center justify-center mb-2`,children:l.jsx(_.Icon,{className:`w-5 h-5 ${_.color.replace("bg-","text-")}`})}),l.jsx("p",{className:"text-2xl font-bold text-white",children:_.count}),l.jsx("p",{className:"text-xs text-gray-500",children:_.label}),l.jsxs("p",{className:"text-xs text-gray-600",children:[_.pct,"%"]})]},_.key))}),l.jsx("div",{className:"space-y-2",children:y.map(_=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs text-gray-400 w-24",children:_.label}),l.jsx("div",{className:"flex-1 h-3 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${_.color} rounded-full`,style:{width:`${_.pct}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[_.count," (",_.pct,"%)"]})]},_.key))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status dos Leads"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(In,{label:"Novos",value:w.statusNew,total:w.totalLeads,color:"bg-blue-500"}),l.jsx(In,{label:"Contatados",value:w.statusContacted,total:w.totalLeads,color:"bg-yellow-500"}),l.jsx(In,{label:"Qualificados",value:w.statusQualified,total:w.totalLeads,color:"bg-purple-500"}),l.jsx(In,{label:"Ganhos",value:w.statusWon,total:w.totalLeads,color:"bg-emerald-500"}),l.jsx(In,{label:"Perdidos",value:w.statusLost,total:w.totalLeads,color:"bg-red-500"})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nvel de Urgncia"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(In,{label:"Crtica",value:w.urgencyCritical,total:w.totalLeads,color:"bg-red-500"}),l.jsx(In,{label:"Alta",value:w.urgencyHigh-w.urgencyCritical,total:w.totalLeads,color:"bg-orange-500"}),l.jsx(In,{label:"Normal",value:w.urgencyNormal,total:w.totalLeads,color:"bg-gray-500"}),l.jsx(In,{label:"Baixa",value:w.urgencyLow,total:w.totalLeads,color:"bg-blue-500"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Sade dos Leads"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-500/20 bg-emerald-500/10 p-5 text-center",children:[l.jsx(nn,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-300",children:w.quentes}),l.jsx("p",{className:"text-sm text-emerald-400",children:"Leads Quentes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  70"})]}),l.jsxs("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/10 p-5 text-center",children:[l.jsx(an,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:w.totalLeads-w.quentes-w.frios}),l.jsx("p",{className:"text-sm text-yellow-400",children:"Leads Mornos"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health 31-69"})]}),l.jsxs("div",{className:"rounded-2xl border border-blue-500/20 bg-blue-500/10 p-5 text-center",children:[l.jsx(rr,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-300",children:w.frios}),l.jsx("p",{className:"text-sm text-blue-400",children:"Leads Frios"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Health  30"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Mtricas de Converso"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(Wu,{label:"Taxa de Converso",value:`${w.conversionRate}%`,hint:"Prontos / Total",tone:w.conversionRate>=15?"good":w.conversionRate>=8?"mid":"bad"}),l.jsx(Wu,{label:"Leads Prontos",value:w.prontos,hint:"Estgio final",tone:"good"}),l.jsx(Wu,{label:"Em Risco",value:w.emRisco,hint:"Health baixo + Urgncia alta",tone:w.emRisco>0?"bad":"good"}),l.jsx(Wu,{label:"Aguardando Ao",value:w.urgencyHigh,hint:"Urgncia alta",tone:w.urgencyHigh>3?"bad":w.urgencyHigh>0?"mid":"good"})]})})]}),w.topTags.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tags Mais Frequentes"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:w.topTags.map(({tag:_,count:O})=>l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm text-gray-300",children:[_," ",l.jsxs("span",{className:"text-gray-500",children:["(",O,")"]})]},_))})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-[#f57f17]"}),"Insights da IA"]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 space-y-3",children:j.map((_,O)=>l.jsx("div",{className:`p-3 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx(Fn,{className:"w-4 h-4"}):l.jsx(rr,{className:"w-4 h-4"}),_.text]})},O))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Aes Recomendadas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Hu,{title:"1. Atacar leads prontos",desc:"CTA direto + agendamento. A janela  curta.",pill:`${w.prontos} leads`,priority:w.prontos>0}),l.jsx(Hu,{title:"2. Follow-up urgentes",desc:"Leads com urgncia alta precisam de resposta rpida.",pill:`${w.urgencyHigh} leads`,priority:w.urgencyHigh>0}),l.jsx(Hu,{title:"3. Recuperar em risco",desc:"Health baixo + urgncia alta = risco de perder.",pill:`${w.emRisco} leads`,priority:w.emRisco>0}),l.jsx(Hu,{title:"4. Reativar leads frios",desc:"Nutrio com contedo relevante para reaquecer.",pill:`${w.frios} leads`,priority:w.frios>0})]})]}),l.jsx("div",{className:"border-t border-white/10 pt-6 mt-6",children:l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"DOCA AI - Central de Comando"}),l.jsxs("span",{children:["Relatrio gerado automaticamente em ",N," s ",E]})]})})]}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-[#f57f17]"}),"Insights IA"]}),l.jsx("button",{onClick:()=>m(!1),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),l.jsx("div",{className:"space-y-3",children:j.map((_,O)=>l.jsx("div",{className:`p-4 rounded-xl border ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20":_.type==="warning"?"bg-yellow-500/10 border-yellow-500/20":"bg-red-500/10 border-red-500/20"}`,children:l.jsxs("p",{className:`text-sm flex items-center gap-2 ${_.type==="success"?"text-emerald-300":_.type==="warning"?"text-yellow-300":"text-red-300"}`,children:[_.type==="success"?l.jsx(Fn,{className:"w-4 h-4"}):l.jsx(rr,{className:"w-4 h-4"}),_.text]})},O))}),l.jsx("button",{onClick:()=>m(!1),className:"mt-6 w-full h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white",children:"Entendi"})]})})]})}function zu({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(r,{className:`w-4 h-4 ${n}`}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function In({label:t,value:e,total:r,color:n}){const a=r>0?Math.round(e/r*100):0;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-3 w-3 rounded-full ${n}`}),l.jsx("span",{className:"text-sm text-gray-300 w-24",children:t}),l.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${n} rounded-full`,style:{width:`${a}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500 w-20 text-right",children:[e," (",a,"%)"]})]})}function Wu({label:t,value:e,hint:r,tone:n}){const a={good:"text-emerald-400",mid:"text-yellow-400",bad:"text-red-400"};return l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-3xl font-bold ${a[n]}`,children:e}),l.jsx("p",{className:"text-sm text-white mt-1",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]})}function Hu({title:t,desc:e,pill:r,priority:n}){return l.jsx("div",{className:`rounded-xl border p-4 ${n?"border-[#f57f17]/30 bg-[#f57f17]/5":"border-white/10 bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e})]}),l.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-semibold whitespace-nowrap ${n?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-[#f57f17]":"bg-white/5 border border-white/10 text-gray-400"}`,children:r})]})})}const EV=[{id:"vendas",name:"Vendas Consultivas",description:"Foco em entender necessidades e fechar com valor",tags:["vendas","consultivo"],prompt:`Voc  um especialista em vendas consultivas da DOCA AI.

OBJETIVO: Entender as necessidades do lead e gui-lo para uma deciso de compra.

REGRAS:
- Nunca seja agressivo ou pushy
- Faa perguntas para entender o contexto
- Apresente benefcios, no features
- Use prova social quando apropriado
- Crie urgncia genuna, no artificial

TOM DE VOZ:
- Profissional mas humano
- Emptico e consultivo
- Direto ao ponto
- Sem emojis excessivos

ESTRUTURA DE RESPOSTA:
1. Reconhea a dvida/necessidade
2. Responda de forma clara
3. Faa uma pergunta de qualificao OU apresente prximo passo`},{id:"suporte",name:"Suporte ao Cliente",description:"Resolver problemas com empatia e eficincia",tags:["suporte","atendimento"],prompt:`Voc  um especialista em suporte da DOCA AI.

OBJETIVO: Resolver problemas rapidamente mantendo o cliente satisfeito.

REGRAS:
- Priorize resolver o problema
- Se no souber, escale para humano
- Nunca invente informaes
- Documente o problema para melhoria

TOM DE VOZ:
- Emptico e paciente
- Tcnico quando necessrio
- Sempre oferea alternativas

ESTRUTURA:
1. Reconhea o problema
2. Apresente a soluo
3. Confirme se resolveu`},{id:"qualificacao",name:"Qualificao de Leads",description:"Identificar leads qualificados rapidamente",tags:["vendas","qualificao"],prompt:`Voc  um especialista em qualificao de leads da DOCA AI.

OBJETIVO: Identificar se o lead tem fit com nossa soluo.

CRITRIOS DE QUALIFICAO:
- Budget: Tem oramento para investir?
- Authority:  o decisor?
- Need: Tem uma dor real que resolvemos?
- Timeline: Precisa resolver em quanto tempo?

PERGUNTAS CHAVE:
- Qual seu maior desafio hoje em [rea]?
- Quantos leads/ms vocs recebem?
- Quem mais participa da deciso?
- Qual prazo ideal para implementar?

TOM: Curioso, consultivo, sem presso.`},{id:"reativacao",name:"Reativao de Leads",description:"Reengajar leads frios com valor",tags:["nutrio","reativao"],prompt:`Voc  especialista em reativao de leads da DOCA AI.

OBJETIVO: Reengajar leads que esfriaram oferecendo valor.

ESTRATGIAS:
- Compartilhe novidades relevantes
- Oferea contedo educativo
- Mencione cases de sucesso recentes
- Crie FOMO genuno

NUNCA:
- Seja invasivo ou repetitivo
- Pressione por resposta
- Ignore o contexto anterior

TOM: Amigvel, informativo, sem cobrana.`}];async function hc(t,e){const r=await fetch(t,{headers:{Accept:"application/json",...e?.headers||{}},...e});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}async function PV(t){try{const e=t?`/api/settings?key=agent_prompt&tenant_id=${t}`:"/api/settings?key=agent_prompt";return(await hc(e))?.value||""}catch{return""}}async function CV(t,e){await hc("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_prompt",value:t,tenant_id:e})})}async function TV(t){try{const e=t?`/api/knowledge?tenant_id=${t}`:"/api/knowledge",r=await hc(e);return Array.isArray(r)?r:[]}catch{return[]}}async function tE(t,e){await hc("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,tenant_id:e})})}async function MV(t,e){await hc("/api/knowledge",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,tenant_id:e})})}function $V({tenantId:t}){const[e,r]=M.useState("prompt"),[n,a]=M.useState(null),[s,c]=M.useState(""),[u,d]=M.useState(""),[h,p]=M.useState(!0),[m,v]=M.useState(!1),[b,w]=M.useState(!1),[j,y]=M.useState([]),[k,A]=M.useState(!0),[N,E]=M.useState(""),[_,O]=M.useState("all"),[C,P]=M.useState(!1),[R,U]=M.useState(null),[I,F]=M.useState(!1),[L,G]=M.useState(!1),[B,z]=M.useState([{id:"sp-1",type:"depoimento",title:"Atendimento 24/7",content:"Depois que implementamos a DOCA, nosso atendimento nunca mais parou. Os clientes adoram a rapidez!",author:"Maria Silva",company:"Clnica Esttica",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face",active:!0,created_at:new Date().toISOString()},{id:"sp-2",type:"case",title:"Aumento de 40% em converses",content:"Restaurante que triplicou pedidos pelo WhatsApp usando IA para atendimento automtico.",result:"+40% converso em 30 dias",company:"Pizzaria Napolitana",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()},{id:"sp-3",type:"metrica",title:"Tempo de resposta",content:"Mdia de 8 segundos para primeira resposta, contra 15 minutos do atendimento manual.",result:"8s vs 15min",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=300&h=200&fit=crop",active:!0,created_at:new Date().toISOString()}]),[ee,H]=M.useState(!1),[W,J]=M.useState(null),[$,q]=M.useState(!1),[ne,se]=M.useState("all"),[ie,me]=M.useState(""),[Me,ge]=M.useState(""),[oe,be]=M.useState(!1),[ke,Z]=M.useState([]),Se=(X,Re)=>{a({type:X,text:Re}),setTimeout(()=>a(null),3e3)};M.useEffect(()=>{Ie(),Ve()},[t]);async function Ie(){p(!0);const X=await PV(t);c(X),d(X),p(!1)}async function Ve(){A(!0);const X=await TV(t);y(X),A(!1)}async function et(){if(!s.trim()){Se("error","Prompt vazio");return}v(!0);try{await CV(s,t),d(s),Se("success","Prompt salvo!")}catch{Se("error","Erro ao salvar")}v(!1)}function gt(X){c(X.prompt),w(!1),Se("success",`Template "${X.name}" aplicado`)}const he=M.useMemo(()=>{const X=new Set;return j.forEach(Re=>Re.category&&X.add(Re.category)),["all",...Array.from(X).sort()]},[j]),Ue=M.useMemo(()=>{const X=N.toLowerCase();return j.filter(Re=>_!=="all"&&Re.category!==_?!1:X?`${Re.question} ${Re.answer} ${(Re.tags||[]).join(" ")}`.toLowerCase().includes(X):!0)},[j,N,_]),$e=M.useMemo(()=>({total:j.length,categories:new Set(j.map(X=>X.category).filter(Boolean)).size,avgPriority:j.length>0?(j.reduce((X,Re)=>X+(Re.priority||3),0)/j.length).toFixed(1):"0"}),[j]);async function Xe(X){if(!X.question?.trim()||!X.answer?.trim()){Se("error","Pergunta e resposta obrigatrias");return}F(!0);try{await tE(X,t),Se("success",X.id?"Atualizado!":"Adicionado!"),P(!1),U(null),await Ve()}catch{Se("error","Erro ao salvar")}F(!1)}async function at(X){if(confirm("Remover este item?"))try{await MV(X,t),Se("success","Removido!"),await Ve()}catch{Se("error","Erro ao remover")}}function Qt(){const X=j.map(({id:Ur,question:Zt,answer:th,category:mc,priority:gc,tags:rh})=>({question:Zt,answer:th,category:mc,priority:gc,tags:rh})),Re=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),ct=URL.createObjectURL(Re),Ot=document.createElement("a");Ot.href=ct,Ot.download=`knowledge-base-${new Date().toISOString().split("T")[0]}.json`,Ot.click(),Se("success","Exportado!")}function pr(X){const Re=new FileReader;Re.onload=async ct=>{try{const Ot=JSON.parse(ct.target?.result);if(!Array.isArray(Ot))throw new Error("Formato invlido");let Ur=0;for(const Zt of Ot)Zt.question&&Zt.answer&&(await tE({question:Zt.question,answer:Zt.answer,category:Zt.category||null,priority:Zt.priority||3,tags:Zt.tags||[]},t),Ur++);Se("success",`${Ur} itens importados!`),await Ve(),G(!1)}catch{Se("error","Erro ao importar arquivo")}},Re.readAsText(X)}async function lt(){if(!ie.trim())return;be(!0),Z(Ot=>[...Ot,{role:"user",text:ie}]),await new Promise(Ot=>setTimeout(Ot,800));const X=ie.toLowerCase(),Re=j.filter(Ot=>Ot.question.toLowerCase().includes(X)||Ot.answer.toLowerCase().includes(X)||(Ot.tags||[]).some(Ur=>Ur.toLowerCase().includes(X))).slice(0,2);let ct="";Re.length>0?(ct=`Baseado na base de conhecimento:

${Re[0].answer}`,Re.length>1&&(ct+=`

Tambm relacionado: ${Re[1].question}`)):ct="No encontrei uma resposta especfica na base de conhecimento. Considere adicionar esse tpico ao KB ou escalar para humano.",Z(Ot=>[...Ot,{role:"ai",text:ct}]),ge(ct),me(""),be(!1)}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(ka,{className:"w-6 h-6 text-[#f57f17]"}),"Treinamento"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento e conhecimento do agente"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"prompt",label:"Prompt",icon:gi},{key:"knowledge",label:"Base de Conhecimento",icon:Yp},{key:"social",label:"Prova Social",icon:Jp},{key:"playground",label:"Playground",icon:l_}].map(X=>l.jsxs("button",{onClick:()=>r(X.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===X.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(X.icon,{className:"w-4 h-4"}),X.label]},X.key))})]}),e==="prompt"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(mn,{icon:gi,label:"Caracteres",value:s.length.toLocaleString()}),l.jsx(mn,{icon:Pa,label:"Linhas",value:s.split(`
`).length}),l.jsx(mn,{icon:Oa,label:"Status",value:s===u?"Salvo":"Alterado",color:s===u?"text-emerald-400":"text-yellow-400"})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:"System Prompt"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Define personalidade, regras e tom de voz do agente"})]}),l.jsxs("button",{onClick:()=>w(!0),className:"h-9 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4"}),"Templates"]})]}),h?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(bt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):l.jsx("textarea",{value:s,onChange:X=>c(X.target.value),className:"w-full h-80 bg-black/30 border border-white/10 rounded-xl p-4 text-gray-200 text-sm font-mono resize-none outline-none focus:border-[#f57f17]/50",placeholder:"Digite o system prompt do agente..."}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsx("p",{className:"text-xs text-gray-500",children:s!==u&&"Alteraes no salvas"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c(u),disabled:s===u,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(zE,{className:"w-4 h-4"}),"Restaurar"]}),l.jsxs("button",{onClick:et,disabled:m||s===u,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[m?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar"]})]})]})]})]}),e==="knowledge"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(mn,{icon:Yp,label:"Total de FAQs",value:$e.total}),l.jsx(mn,{icon:ml,label:"Categorias",value:$e.categories}),l.jsx(mn,{icon:Pa,label:"Prioridade Mdia",value:$e.avgPriority})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{value:N,onChange:X=>E(X.target.value),placeholder:"Buscar...",className:"h-10 pl-10 pr-4 w-64 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsx("select",{value:_,onChange:X=>O(X.target.value),className:"h-10 px-3 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-200 outline-none",children:he.map(X=>l.jsx("option",{value:X,className:"bg-black",children:X==="all"?"Todas categorias":X},X))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>G(!0),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(w0,{className:"w-4 h-4"}),"Importar"]}),l.jsxs("button",{onClick:Qt,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center gap-2",children:[l.jsx(eb,{className:"w-4 h-4"}),"Exportar"]}),l.jsxs("button",{onClick:()=>{U(null),P(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(ld,{className:"w-4 h-4"}),"Adicionar"]})]})]}),l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 overflow-hidden",children:k?l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsx(bt,{className:"w-6 h-6 text-gray-500 animate-spin"})}):Ue.length===0?l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500",children:[l.jsx(Yp,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Nenhum item encontrado"})]}):l.jsx("div",{className:"divide-y divide-white/5",children:Ue.map(X=>l.jsx("div",{className:"p-4 hover:bg-white/5 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium",children:X.question}),l.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:X.answer}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[X.category&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#f57f17]/10 text-[#f57f17]",children:X.category}),X.priority&&l.jsxs("span",{className:"text-xs text-gray-500",children:["P",X.priority]}),(X.tags||[]).slice(0,3).map(Re=>l.jsxs("span",{className:"text-xs text-gray-600",children:["#",Re]},Re))]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>{U(X),P(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(i_,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>X.id&&at(X.id),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(_s,{className:"w-4 h-4 text-red-400"})})]})]})},X.id))})})]}),e==="social"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsx(mn,{icon:Jp,label:"Total",value:B.length}),l.jsx(mn,{icon:FE,label:"Depoimentos",value:B.filter(X=>X.type==="depoimento").length}),l.jsx(mn,{icon:ME,label:"Cases",value:B.filter(X=>X.type==="case").length}),l.jsx(mn,{icon:Ca,label:"Mtricas",value:B.filter(X=>X.type==="metrica").length})]}),l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ar,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Como funciona a Prova Social"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"O agente usa essas informaes para gerar confiana durante a conversa. Depoimentos, cases e mtricas so inseridos automaticamente quando relevante."})]})]})}),l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsx("div",{className:"flex items-center gap-2",children:["all","depoimento","case","metrica"].map(X=>l.jsx("button",{onClick:()=>se(X),className:`h-9 px-3 rounded-lg text-sm font-medium transition ${ne===X?"bg-[#f57f17]/20 text-white":"bg-white/5 text-gray-400 hover:text-white"}`,children:X==="all"?"Todos":X==="depoimento"?"Depoimentos":X==="case"?"Cases":"Mtricas"},X))}),l.jsxs("button",{onClick:()=>{J(null),H(!0)},className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2",children:[l.jsx(ld,{className:"w-4 h-4"}),"Adicionar"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.filter(X=>ne==="all"||X.type===ne).map(X=>l.jsxs("div",{className:`rounded-[20px] border overflow-hidden transition ${X.active?"border-white/10 bg-white/5":"border-white/5 bg-white/[0.02] opacity-50"}`,children:[X.image&&X.type!=="depoimento"&&l.jsx("div",{className:"h-32 w-full overflow-hidden bg-black/20",children:l.jsx("img",{src:X.image,alt:X.title,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[X.type==="depoimento"&&l.jsx("div",{className:"flex-shrink-0",children:X.image?l.jsx("img",{src:X.image,alt:X.author||"Cliente",className:"w-14 h-14 rounded-full object-cover border-2 border-white/10"}):l.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-500/20 border-2 border-purple-500/30 flex items-center justify-center",children:l.jsx(rd,{className:"w-6 h-6 text-purple-400"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${X.type==="depoimento"?"bg-purple-500/20 text-purple-300":X.type==="case"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/20 text-blue-300"}`,children:X.type==="depoimento"?"Depoimento":X.type==="case"?"Case":"Mtrica"}),!X.active&&l.jsx("span",{className:"text-xs text-gray-500",children:"Inativo"})]}),l.jsx("h4",{className:"text-white font-semibold",children:X.title}),X.type==="depoimento"?l.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',X.content,'"']}):l.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:X.content}),(X.author||X.company)&&l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[X.author&&l.jsx("span",{className:"font-medium text-gray-400",children:X.author}),X.author&&X.company&&l.jsx("span",{children:"  "}),X.company&&l.jsx("span",{children:X.company})]}),X.result&&l.jsx("div",{className:"mt-3 inline-block px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:l.jsx("span",{className:"text-sm text-emerald-300 font-bold",children:X.result})})]}),l.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{z(Re=>Re.map(ct=>ct.id===X.id?{...ct,active:!ct.active}:ct))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",title:X.active?"Desativar":"Ativar",children:X.active?l.jsx(YM,{className:"w-4 h-4 text-emerald-400"}):l.jsx(XM,{className:"w-4 h-4 text-gray-500"})}),l.jsx("button",{onClick:()=>{J(X),H(!0)},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(i_,{className:"w-4 h-4 text-gray-400"})}),l.jsx("button",{onClick:()=>{confirm("Remover este item?")&&z(Re=>Re.filter(ct=>ct.id!==X.id))},className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/10 flex items-center justify-center",children:l.jsx(_s,{className:"w-4 h-4 text-red-400"})})]})]})})]},X.id))}),B.filter(X=>ne==="all"||X.type===ne).length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Jp,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Nenhuma prova social encontrada"})]})]}),e==="playground"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10",children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(ir,{className:"w-5 h-5 text-[#f57f17]"}),"Testar Agente"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Simule conversas para validar respostas"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[ke.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(l_,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"})]}):ke.map((X,Re)=>l.jsx("div",{className:`flex ${X.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${X.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.text})})},Re)),oe&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsx(bt,{className:"w-4 h-4 text-gray-400 animate-spin"})})})]}),l.jsxs("div",{className:"p-4 border-t border-white/10",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:ie,onChange:X=>me(X.target.value),onKeyDown:X=>X.key==="Enter"&&!X.shiftKey&&lt(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),l.jsx("button",{onClick:lt,disabled:oe||!ie.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(ms,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:()=>Z([]),className:"mt-2 text-xs text-gray-500 hover:text-gray-400",children:"Limpar conversa"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Como funciona"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[l.jsx("p",{children:"1. O playground busca na Base de Conhecimento"}),l.jsx("p",{children:"2. Se encontrar match, usa a resposta cadastrada"}),l.jsx("p",{children:"3. Se no encontrar, sugere adicionar ao KB"}),l.jsx("p",{children:"4. Em produo, usa o prompt + Claude API"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsx("h3",{className:"text-white font-bold mb-4",children:"Sugestes de teste"}),l.jsx("div",{className:"space-y-2",children:["Quanto custa?","Como funciona?","Vocs tm suporte?","Qual o prazo?"].map(X=>l.jsx("button",{onClick:()=>me(X),className:"w-full text-left px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-sm text-gray-300 transition",children:X},X))})]}),l.jsxs("div",{className:"rounded-[28px] border border-emerald-500/20 bg-emerald-500/5 p-6",children:[l.jsxs("h3",{className:"text-emerald-300 font-bold mb-2 flex items-center gap-2",children:[l.jsx(on,{className:"w-5 h-5"}),"Dica"]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Adicione perguntas frequentes ao KB para melhorar a qualidade das respostas automticas."})]})]})]}),b&&l.jsx(rE,{title:"Templates de Prompt",onClose:()=>w(!1),children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:EV.map(X=>l.jsx("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:X.name}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:X.description}),l.jsx("div",{className:"flex gap-1 mt-2",children:X.tags.map(Re=>l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-gray-400",children:Re},Re))})]}),l.jsx("button",{onClick:()=>gt(X),className:"h-8 px-3 rounded-lg bg-[#f57f17]/20 text-[#f57f17] text-sm font-medium",children:"Usar"})]})},X.id))})}),C&&l.jsx(RV,{item:R,saving:I,onClose:()=>{P(!1),U(null)},onSave:Xe}),L&&l.jsx(rE,{title:"Importar Base de Conhecimento",onClose:()=>G(!1),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Importe um arquivo JSON com array de objetos contendo: question, answer, category, priority, tags"}),l.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-8 text-center",children:[l.jsx("input",{type:"file",accept:".json",onChange:X=>X.target.files?.[0]&&pr(X.target.files[0]),className:"hidden",id:"import-file"}),l.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[l.jsx(w0,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-400",children:"Clique para selecionar arquivo"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:".json"})]})]})]})}),ee&&l.jsx(IV,{item:W,saving:$,onClose:()=>{H(!1),J(null)},onSave:X=>{q(!0),setTimeout(()=>{X.id?z(Re=>Re.map(ct=>ct.id===X.id?X:ct)):z(Re=>[...Re,{...X,id:`sp-${Date.now()}`,created_at:new Date().toISOString()}]),H(!1),J(null),q(!1),Se("success",X.id?"Atualizado!":"Adicionado!")},300)}}),n&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${n.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[n.type==="success"?l.jsx(Fn,{className:"w-4 h-4"}):l.jsx(Zx,{className:"w-4 h-4"}),n.text]})]})}function mn({icon:t,label:e,value:r,color:n}){return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(t,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:e})]}),l.jsx("p",{className:`text-xl font-bold ${n||"text-white"}`,children:r})]})}function rE({title:t,children:e,onClose:r}){return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),e]})})}function RV({item:t,saving:e,onClose:r,onSave:n}){const[a,s]=M.useState(t?.question||""),[c,u]=M.useState(t?.answer||""),[d,h]=M.useState(t?.category||""),[p,m]=M.useState(t?.priority||3),[v,b]=M.useState((t?.tags||[]).join(", "));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar FAQ":"Nova FAQ"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Pergunta"}),l.jsx("input",{value:a,onChange:w=>s(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Quanto custa o plano?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resposta"}),l.jsx("textarea",{value:c,onChange:w=>u(w.target.value),className:"w-full h-32 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Ex: Temos planos a partir de R$ 297/ms..."})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Categoria"}),l.jsx("input",{value:d,onChange:w=>h(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Preo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Prioridade"}),l.jsx("select",{value:p,onChange:w=>m(Number(w.target.value)),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[1,2,3,4,5].map(w=>l.jsx("option",{value:w,className:"bg-black",children:w},w))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tags (vrgula)"}),l.jsx("input",{value:v,onChange:w=>b(w.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"preo, plano"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id,question:a,answer:c,category:d||null,priority:p,tags:v.split(",").map(w=>w.trim()).filter(Boolean)}),disabled:e,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar"]})]})]})})}function IV({item:t,saving:e,onClose:r,onSave:n}){const[a,s]=M.useState(t?.type||"depoimento"),[c,u]=M.useState(t?.title||""),[d,h]=M.useState(t?.content||""),[p,m]=M.useState(t?.author||""),[v,b]=M.useState(t?.company||""),[w,j]=M.useState(t?.result||""),[y,k]=M.useState(t?.image||""),[A,N]=M.useState(t?.active??!0);return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:t?.id?"Editar Prova Social":"Nova Prova Social"}),l.jsx("button",{onClick:r,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Tipo"}),l.jsx("div",{className:"flex gap-2",children:[{key:"depoimento",label:"Depoimento",icon:FE},{key:"case",label:"Case de Sucesso",icon:ME},{key:"metrica",label:"Mtrica",icon:Ca}].map(E=>l.jsxs("button",{type:"button",onClick:()=>s(E.key),className:`flex-1 h-11 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${a===E.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:a==="depoimento"?"Foto do Cliente":"Imagem/Print"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{value:y,onChange:E=>k(E.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Cole a URL da imagem..."}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a==="depoimento"?"Foto do cliente para aparecer junto ao depoimento":"Print de resultado, grfico ou imagem ilustrativa"})]}),l.jsx("div",{className:`flex-shrink-0 ${a==="depoimento"?"w-16 h-16":"w-24 h-16"} rounded-xl border border-white/10 bg-black/30 overflow-hidden flex items-center justify-center`,children:y?l.jsx("img",{src:y,alt:"Preview",className:`w-full h-full object-cover ${a==="depoimento"?"rounded-full":""}`,onError:E=>{E.target.style.display="none"}}):l.jsx(LM,{className:"w-6 h-6 text-gray-600"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Ttulo"}),l.jsx("input",{value:c,onChange:E=>u(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Aumento de 40% em converses"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:a==="depoimento"?"Depoimento":a==="case"?"Descrio do Case":"Descrio da Mtrica"}),l.jsx("textarea",{value:d,onChange:E=>h(E.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:a==="depoimento"?"Ex: Depois que implementamos a DOCA, nosso atendimento nunca mais parou...":a==="case"?"Ex: Restaurante que triplicou pedidos pelo WhatsApp...":"Ex: Tempo mdio de resposta reduziu de 15min para 8 segundos"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a==="depoimento"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Autor"}),l.jsx("input",{value:p,onChange:E=>m(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Maria Silva"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Empresa"}),l.jsx("input",{value:v,onChange:E=>b(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: Clnica Esttica"})]}),(a==="case"||a==="metrica")&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Resultado"}),l.jsx("input",{value:w,onChange:E=>j(E.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",placeholder:"Ex: +40% converso em 30 dias"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Ativo"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Disponvel para o agente usar"})]}),l.jsx("button",{type:"button",onClick:()=>N(!A),className:`h-8 w-14 rounded-full transition ${A?"bg-emerald-500":"bg-gray-600"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition transform ${A?"translate-x-7":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:()=>n({id:t?.id||"",type:a,title:c,content:d,author:p||void 0,company:v||void 0,result:w||void 0,image:y||void 0,active:A,created_at:t?.created_at}),disabled:e||!c.trim()||!d.trim(),className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[e?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar"]})]})]})})}const DV=[{id:"supabase",name:"Supabase",description:"Banco de dados e autenticao",icon:sd,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://supabase.com/docs"},{id:"claude",name:"Claude API",description:"Inteligncia artificial para respostas",icon:ka,status:"checking",category:"essencial",configurable:!0,docsUrl:"https://docs.anthropic.com/"},{id:"waha",name:"WAHA",description:"WhatsApp HTTP API (self-hosted)",icon:BE,status:"checking",category:"whatsapp",configurable:!0,docsUrl:"https://waha.devlike.pro/docs/",active:!0},{id:"zapi",name:"Z-API",description:"WhatsApp API (cloud)",icon:zn,status:"disconnected",category:"whatsapp",configurable:!0,docsUrl:"https://developer.z-api.io/",active:!1},{id:"calendar",name:"Google Calendar",description:"Agendamento de reunies",icon:$E,status:"checking",category:"comunicacao",configurable:!0,docsUrl:"https://developers.google.com/calendar"},{id:"webhook",name:"Webhooks",description:"Notificaes em tempo real",icon:QM,status:"disconnected",category:"comunicacao",configurable:!0},{id:"email",name:"Email (SMTP)",description:"Envio de emails automticos",icon:od,status:"disconnected",category:"futuro",configurable:!1}];function LV(){const[t,e]=M.useState(DV),[r,n]=M.useState(!1),[a,s]=M.useState(null),[c,u]=M.useState(null);M.useEffect(()=>{d()},[]);async function d(){n(!0),await new Promise(N=>setTimeout(N,1500)),e(N=>N.map(E=>E.id==="waha"?{...E,status:"connected"}:E.id==="supabase"?{...E,status:"connected"}:E.id==="claude"?{...E,status:"connected"}:E.id==="calendar"?{...E,status:"connected"}:E)),n(!1)}async function h(N){e(_=>_.map(O=>O.id===N?{...O,status:"checking"}:O)),await new Promise(_=>setTimeout(_,1e3));const E=["waha","supabase","claude","calendar"].includes(N);e(_=>_.map(O=>O.id===N?{...O,status:E?"connected":"disconnected"}:O))}function p(N){e(E=>E.map(_=>_.category==="whatsapp"?{..._,active:_.id===N}:_)),m(`${N==="waha"?"WAHA":"Z-API"} definido como ativo`)}const m=N=>{u(N),setTimeout(()=>u(null),3e3)},v=t.filter(N=>N.category==="essencial"),b=t.filter(N=>N.category==="whatsapp"),w=t.filter(N=>N.category==="comunicacao"),j=t.filter(N=>N.category==="futuro"),y=t.filter(N=>N.status==="connected").length,k=v.filter(N=>N.status==="connected").length,A=b.find(N=>N.active&&N.status==="connected");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(b0,{className:"w-6 h-6 text-[#f57f17]"}),"Integraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gerencie conexes com servios externos"})]}),l.jsxs("button",{onClick:d,disabled:r,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 disabled:opacity-50 flex items-center gap-2",children:[l.jsx(wn,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Verificar Tudo"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(i0,{label:"Conectadas",value:`${y}/${t.length}`,icon:b0,color:y>=4?"emerald":"yellow"}),l.jsx(i0,{label:"Essenciais",value:`${k}/${v.length}`,icon:on,color:k===v.length?"emerald":"red"}),l.jsx(i0,{label:"WhatsApp",value:A?"Conectado":"Desconectado",icon:BE,color:A?"emerald":"red"})]}),l.jsx(Vu,{title:"Essenciais",desc:"Banco de dados e IA",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(N=>l.jsx(Ku,{integration:N,onCheck:()=>h(N.id),onConfigure:()=>s(N.id)},N.id))})}),l.jsx(Vu,{title:"WhatsApp Provider",desc:"Escolha qual provedor usar (pode alternar entre clientes)",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(N=>l.jsx(Ku,{integration:N,onCheck:()=>h(N.id),onConfigure:()=>s(N.id),isActive:N.active,onSetActive:()=>p(N.id)},N.id))})}),l.jsx(Vu,{title:"Comunicao e Agendamento",desc:"Calendrio e webhooks",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(N=>l.jsx(Ku,{integration:N,onCheck:()=>h(N.id),onConfigure:()=>s(N.id)},N.id))})}),l.jsx(Vu,{title:"Em Breve",desc:"Planejado para futuras verses",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(N=>l.jsx(Ku,{integration:N,onCheck:()=>{},onConfigure:()=>{},disabled:!0},N.id))})}),a&&l.jsx(BV,{integration:t.find(N=>N.id===a),onClose:()=>s(null),onSave:()=>{s(null),m("Configuraes salvas!")}}),c&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx(Fn,{className:"w-4 h-4"}),c]})]})}function i0({label:t,value:e,icon:r,color:n}){const a={emerald:"text-emerald-400",yellow:"text-yellow-400",red:"text-red-400"};return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(r,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-500",children:t})]}),l.jsx("p",{className:`text-xl font-bold ${a[n]}`,children:e})]})}function Vu({title:t,desc:e,children:r}){return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:t}),l.jsx("p",{className:"text-gray-500 text-sm",children:e})]}),r]})}function Ku({integration:t,onCheck:e,onConfigure:r,disabled:n,isActive:a,onSetActive:s}){const{name:c,description:u,icon:d,status:h,configurable:p,docsUrl:m,category:v}=t,b={connected:"text-emerald-400",disconnected:"text-gray-500",error:"text-red-400",checking:"text-yellow-400"},j={connected:Fn,disconnected:Zx,error:rr,checking:bt}[h],y=v==="whatsapp";return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-[#f57f17]/50 bg-[#f57f17]/5":"border-white/10 bg-white/5"} p-5 ${n?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl ${a?"bg-[#f57f17]/20 border-[#f57f17]/30":"bg-[#f57f17]/10 border-[#f57f17]/20"} border flex items-center justify-center`,children:l.jsx(d,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"text-white font-semibold",children:c}),a&&l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f57f17]/20 text-[#f57f17] font-medium",children:"ATIVO"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:u})]})]}),l.jsxs("div",{className:`flex items-center gap-1 ${b[h]}`,children:[l.jsx(j,{className:`w-4 h-4 ${h==="checking"?"animate-spin":""}`}),l.jsx("span",{className:"text-xs",children:h==="connected"?"OK":h==="disconnected"?"Off":h==="error"?"Erro":"..."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:e,className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-300 hover:bg-white/10 flex items-center justify-center gap-1",children:[l.jsx(wn,{className:"w-3 h-3"}),"Testar"]}),p&&l.jsxs("button",{onClick:r,className:"flex-1 h-9 rounded-lg bg-[#f57f17]/10 border border-[#f57f17]/20 text-xs text-[#f57f17] hover:bg-[#f57f17]/20 flex items-center justify-center gap-1",children:[l.jsx(jn,{className:"w-3 h-3"}),"Config"]}),y&&s&&!a&&l.jsx("button",{onClick:s,className:"h-9 px-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-xs text-emerald-400 hover:bg-emerald-500/20",children:"Usar"})]}),n&&l.jsx("div",{className:"flex-1 h-9 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-500 flex items-center justify-center",children:"Em breve"}),m&&!n&&l.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"h-9 w-9 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/10 flex items-center justify-center",children:l.jsx(IE,{className:"w-3 h-3"})})]})]})}function BV({integration:t,onClose:e,onSave:r}){const[n,a]=M.useState(!1),[s,c]=M.useState(!1),d={waha:[{label:"API URL",placeholder:"http://localhost:3000"},{label:"Session Name",placeholder:"default"},{label:"API Key",placeholder:"sua-api-key",secret:!0}],zapi:[{label:"Instance ID",placeholder:"sua-instance-id"},{label:"Token",placeholder:"seu-token-zapi",secret:!0},{label:"Webhook URL",placeholder:"https://seu-servidor/webhook"}],supabase:[{label:"Project URL",placeholder:"https://xxx.supabase.co"},{label:"Anon Key",placeholder:"eyJhbG...",secret:!0},{label:"Service Key",placeholder:"eyJhbG...",secret:!0}],claude:[{label:"API Key",placeholder:"sk-ant-...",secret:!0},{label:"Model",placeholder:"claude-sonnet-4-20250514"}],calendar:[{label:"Client ID",placeholder:"xxx.apps.googleusercontent.com"},{label:"Client Secret",placeholder:"GOCSPX-...",secret:!0},{label:"Calendar ID",placeholder:"primary"}],webhook:[{label:"Endpoint URL",placeholder:"https://seu-servidor/webhook"},{label:"Secret",placeholder:"webhook-secret",secret:!0}]}[t.id]||[];async function h(){c(!0),await new Promise(p=>setTimeout(p,800)),c(!1),r()}return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/10 border border-[#f57f17]/20 flex items-center justify-center",children:l.jsx(t.icon,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:t.name}),l.jsx("p",{className:"text-xs text-gray-500",children:"Configuraes"})]})]}),l.jsx("button",{onClick:e,className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400",children:""})]}),l.jsx("div",{className:"space-y-4",children:d.map((p,m)=>l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:p.label}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:p.secret&&!n?"password":"text",placeholder:p.placeholder,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"}),p.secret&&l.jsx("button",{onClick:()=>a(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:n?l.jsx(tb,{className:"w-4 h-4"}):l.jsx(pf,{className:"w-4 h-4"})})]})]},m))}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300",children:"Cancelar"}),l.jsxs("button",{onClick:h,disabled:s,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[s?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Fn,{className:"w-4 h-4"}),"Salvar"]})]}),t.docsUrl&&l.jsxs("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-xs text-[#f57f17] hover:underline flex items-center gap-1",children:[l.jsx(IE,{className:"w-3 h-3"}),"Ver documentao"]})]})})}const qV={companyName:"DOCA Agncia IA",ownerName:"Douglas",email:"contato@docaia.com.br",phone:"(19) 99154-7727",address:"Limeira, SP",businessHours:{enabled:!0,start:"08:00",end:"18:00",days:["seg","ter","qua","qui","sex"]},timezone:"America/Sao_Paulo",notifyNewLead:!0,notifyUrgent:!0,notifyDaily:!1,notifyEmail:!1,language:"pt-BR",theme:"dark",autoBackup:!0,agentName:"Assistente DOCA",welcomeMessage:"Oi! Como posso ajudar?",offlineMessage:"Estamos fora do horrio. Retornaremos em breve!"},UV=[{key:"seg",label:"Seg"},{key:"ter",label:"Ter"},{key:"qua",label:"Qua"},{key:"qui",label:"Qui"},{key:"sex",label:"Sex"},{key:"sab",label:"Sb"},{key:"dom",label:"Dom"}];function FV(){const[t,e]=M.useState("perfil"),[r,n]=M.useState(qV),[a,s]=M.useState(!1),[c,u]=M.useState(null),[d,h]=M.useState(!1),p=y=>{u(y),setTimeout(()=>u(null),3e3)};async function m(){s(!0),await new Promise(y=>setTimeout(y,800)),s(!1),p("Configuraes salvas!")}function v(y,k){n(A=>({...A,[y]:k}))}function b(y,k){n(A=>({...A,businessHours:{...A.businessHours,[y]:k}}))}function w(y){const k=r.businessHours.days,A=k.includes(y)?k.filter(N=>N!==y):[...k,y];b("days",A)}const j=[{key:"perfil",label:"Perfil",icon:bn},{key:"horario",label:"Horrio",icon:Oa},{key:"notificacoes",label:"Notificaes",icon:g0},{key:"sistema",label:"Sistema",icon:jn},{key:"agente",label:"Agente",icon:rd},{key:"dados",label:"Dados",icon:sd}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(jn,{className:"w-6 h-6 text-[#f57f17]"}),"Configuraes"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize o sistema conforme suas necessidades"})]}),l.jsxs("button",{onClick:m,disabled:a,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:[a?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar Tudo"]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(y=>l.jsxs("button",{onClick:()=>e(y.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium whitespace-nowrap transition ${t===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))}),t==="perfil"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Empresa",icon:bn,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ji,{label:"Nome da Empresa",value:r.companyName,onChange:y=>v("companyName",y),icon:bn}),l.jsx(Ji,{label:"Responsvel",value:r.ownerName,onChange:y=>v("ownerName",y),icon:rd}),l.jsx(Ji,{label:"Endereo",value:r.address,onChange:y=>v("address",y),icon:LE})]})}),l.jsx(xr,{title:"Contato",icon:zn,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ji,{label:"Email",value:r.email,onChange:y=>v("email",y),icon:od,type:"email"}),l.jsx(Ji,{label:"Telefone",value:r.phone,onChange:y=>v("phone",y),icon:zn})]})})]}),t==="horario"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Horrio de Funcionamento",icon:Oa,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Qi,{label:"Respeitar horrio comercial",desc:"Fora do horrio, envia mensagem de ausncia",value:r.businessHours.enabled,onChange:y=>b("enabled",y)}),r.businessHours.enabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Incio"}),l.jsx("input",{type:"time",value:r.businessHours.start,onChange:y=>b("start",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Fim"}),l.jsx("input",{type:"time",value:r.businessHours.end,onChange:y=>b("end",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Dias de funcionamento"}),l.jsx("div",{className:"flex gap-2 mt-2",children:UV.map(y=>l.jsx("button",{onClick:()=>w(y.key),className:`h-10 w-10 rounded-lg text-xs font-medium transition ${r.businessHours.days.includes(y.key)?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-500"}`,children:y.label},y.key))})]})]})]})}),l.jsx(xr,{title:"Fuso Horrio",icon:DM,children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Timezone"}),l.jsxs("select",{value:r.timezone,onChange:y=>v("timezone",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"America/Sao_Paulo",className:"bg-black",children:"So Paulo (GMT-3)"}),l.jsx("option",{value:"America/Manaus",className:"bg-black",children:"Manaus (GMT-4)"}),l.jsx("option",{value:"America/Fortaleza",className:"bg-black",children:"Fortaleza (GMT-3)"}),l.jsx("option",{value:"America/Recife",className:"bg-black",children:"Recife (GMT-3)"})]})]})})]}),t==="notificacoes"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Alertas no Sistema",icon:g0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Qi,{label:"Novo lead",desc:"Notificar quando chegar um lead novo",value:r.notifyNewLead,onChange:y=>v("notifyNewLead",y)}),l.jsx(Qi,{label:"Leads urgentes",desc:"Notificar leads com urgncia alta/crtica",value:r.notifyUrgent,onChange:y=>v("notifyUrgent",y)}),l.jsx(Qi,{label:"Resumo dirio",desc:"Receber resumo do dia s 18h",value:r.notifyDaily,onChange:y=>v("notifyDaily",y)})]})}),l.jsx(xr,{title:"Notificaes Externas",icon:od,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Qi,{label:"Email",desc:"Enviar cpia das notificaes por email",value:r.notifyEmail,onChange:y=>v("notifyEmail",y)}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Email de notificao"}),l.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r.email})]})]})})]}),t==="sistema"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Aparncia",icon:WM,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Tema"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[{key:"dark",label:"Escuro",icon:zM},{key:"light",label:"Claro",icon:KM},{key:"auto",label:"Auto",icon:jn}].map(y=>l.jsxs("button",{onClick:()=>v("theme",y.key),className:`h-12 rounded-xl flex items-center justify-center gap-2 text-sm font-medium transition ${r.theme===y.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:[l.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Idioma"}),l.jsxs("select",{value:r.language,onChange:y=>v("language",y.target.value),className:"w-full h-11 mt-1 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"pt-BR",className:"bg-black",children:"Portugus (Brasil)"}),l.jsx("option",{value:"en-US",className:"bg-black",children:"English (US)"}),l.jsx("option",{value:"es",className:"bg-black",children:"Espaol"})]})]})]})}),l.jsx(xr,{title:"Segurana",icon:WE,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"API Key do Sistema"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:d?"text":"password",value:"doca_sk_live_xxxxxxxxxxxxxxxx",readOnly:!0,className:"w-full h-11 px-4 pr-10 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-400 outline-none"}),l.jsx("button",{onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d?l.jsx(tb,{className:"w-4 h-4"}):l.jsx(pf,{className:"w-4 h-4"})})]}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(hf,{className:"w-4 h-4"})}),l.jsx("button",{className:"h-11 w-11 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-white",children:l.jsx(wn,{className:"w-4 h-4"})})]})]})})})]}),t==="agente"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Identidade do Agente",icon:rd,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ji,{label:"Nome do Agente",value:r.agentName,onChange:y=>v("agentName",y),placeholder:"Ex: Assistente DOCA"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem de Boas-vindas"}),l.jsx("textarea",{value:r.welcomeMessage,onChange:y=>v("welcomeMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem inicial do agente..."})]})]})}),l.jsx(xr,{title:"Mensagens Automticas",icon:Oa,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Mensagem Fora do Horrio"}),l.jsx("textarea",{value:r.offlineMessage,onChange:y=>v("offlineMessage",y.target.value),className:"w-full h-24 mt-1 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none",placeholder:"Mensagem quando estiver offline..."})]})})})]}),t==="dados"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(xr,{title:"Backup",icon:sd,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Qi,{label:"Backup automtico",desc:"Salvar dados automaticamente todo dia s 3h",value:r.autoBackup,onChange:y=>v("autoBackup",y)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(eb,{className:"w-4 h-4"}),"Exportar Dados"]}),l.jsxs("button",{className:"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 flex items-center justify-center gap-2",children:[l.jsx(w0,{className:"w-4 h-4"}),"Importar Dados"]})]})]})}),l.jsx(xr,{title:"Zona de Perigo",icon:rr,danger:!0,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:l.jsxs("p",{className:"text-red-300 text-sm flex items-center gap-2",children:[l.jsx(rr,{className:"w-4 h-4"}),"Aes irreversveis"]})}),l.jsxs("button",{className:"w-full h-11 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400 hover:bg-red-500/20 flex items-center justify-center gap-2",children:[l.jsx(_s,{className:"w-4 h-4"}),"Limpar Todos os Dados"]})]})}),l.jsx(xr,{title:"Sobre",icon:BM,className:"lg:col-span-2",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(Gu,{label:"Verso",value:"2.0.0"}),l.jsx(Gu,{label:"Build",value:"2025.01.13"}),l.jsx(Gu,{label:"Ambiente",value:"Produo"}),l.jsx(Gu,{label:"Uptime",value:"99.9%"})]})})]}),c&&l.jsxs("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 flex items-center gap-2",children:[l.jsx(Fn,{className:"w-4 h-4"}),c]})]})}function xr({title:t,icon:e,children:r,className:n,danger:a}){return l.jsxs("div",{className:`rounded-[28px] border ${a?"border-red-500/20 bg-red-500/5":"border-white/10 bg-white/5"} p-6 ${n||""}`,children:[l.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-2 ${a?"text-red-400":"text-white"}`,children:[l.jsx(e,{className:`w-5 h-5 ${a?"text-red-400":"text-[#f57f17]"}`}),t]}),r]})}function Ji({label:t,value:e,onChange:r,icon:n,type:a,placeholder:s}){return l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:t}),l.jsxs("div",{className:"relative mt-1",children:[n&&l.jsx(n,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:a||"text",value:e,onChange:c=>r(c.target.value),placeholder:s,className:`w-full h-11 ${n?"pl-11":"pl-4"} pr-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none`})]})]})}function Qi({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function Gu({label:t,value:e}){return l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500",children:t}),l.jsx("p",{className:"text-white font-semibold mt-1",children:e})]})}function zV(t){if(!t)return"";const e=Date.now()-new Date(t).getTime(),r=Math.max(0,Math.floor(e/6e4));if(r<60)return`${r}m`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`}function Zo(t){const e=(t||"").replace(/\D/g,"");if(e.length<10)return t;const r=e.startsWith("55")?e.slice(2):e;return`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`}function nE(t){return{pronto:"Pronto",empolgado:"Empolgado",curioso:"Curioso",sensvel_preo:"Preo",ctico:"Ctico",frustrado:"Frustrado"}[t||""]||t||""}function Xu(t,e,r){const n=t?.name||e?.name||"a",a=(t?.stage||e?.current_emotion||"curioso").toLowerCase(),s=t?.urgency_level||"normal",c=s==="high"||s==="critical",u=[`Oi ${n}!`,`Fala ${n}!`,`Ol ${n}!`,`E a ${n}!`],d=u[Math.floor(Math.random()*u.length)],h=[];return a.includes("pronto")||a.includes("ready")?(h.push({id:"fu-1",title:"Fechamento direto",goal:"Encaminhar contrato/pagamento",timing:"Agora",confidence:.92,stage:"fechamento",text:`${d} Perfeito! Pra fechar hoje, preciso de: 1) plano (mensal/anual) e 2) CNPJ ou CPF pro contrato. Te mando o link assim que confirmar.`}),h.push({id:"fu-2",title:"Onboarding rpido",goal:"Reduzir atrito ps-venda",timing:"Aps pagamento",confidence:.85,stage:"fechamento",text:`${d} Assim que confirmar, j te mando o checklist do onboarding (leva 15min) e ativamos a IA com seu tom de voz.`})):a.includes("ctico")||a.includes("skept")?(h.push({id:"fu-1",title:"Prova social + teste",goal:"Gerar confiana",timing:c?"Agora":"Em 4h",confidence:.88,stage:"objees",text:`${d} Totalmente justo ser p no cho. Pra no ficar no "achismo", te mostro 2 cases reais e fazemos um teste assistido. Qual seu maior receio: ficar robtico, errar info ou no converter?`}),h.push({id:"fu-2",title:"Demo rpida",goal:"Mostrar tom humano na prtica",timing:"Em 1 dia",confidence:.78,stage:"objees",text:`${d} Se topar, fao uma demo em 10min com um exemplo real seu (uma objeo comum do seu cliente) e voc v funcionando.`})):a.includes("preo")||a.includes("price")?(h.push({id:"fu-1",title:"Ancorar ROI",goal:"Converter objeo de preo em valor",timing:c?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Vi que voc est comparando preo. Pra ficar justo: com seu volume, a DOCA normalmente reduz tempo de resposta e aumenta converso. Quantos leads/ms e quantos atendentes hoje? Simulo o ROI rapidinho.`}),h.push({id:"fu-2",title:"2 opes de pagamento",goal:"Dar escolha e remover atrito",timing:"Em 1 dia",confidence:.8,stage:"valor",text:`${d} Pra facilitar: 1) mensal (flexvel) e 2) anual (com desconto). Quer que eu mande as duas opes?`})):a.includes("frustr")?h.push({id:"fu-1",title:"Reparao + prioridade",goal:"Desarmar tenso",timing:"Agora",confidence:.9,stage:"objees",text:`${d} Voc tem razo, isso no  experincia aceitvel. Vou priorizar seu caso agora. Me diz em 1 frase o que precisa resolver primeiro.`}):(h.push({id:"fu-1",title:"Qualificao rpida",goal:"Entender contexto",timing:c?"Agora":"Em 2h",confidence:.86,stage:"valor",text:`${d} Pra te orientar certo: 1) qual seu tipo de negcio? 2) quantos leads/ms? 3) qual seu maior gargalo hoje?`}),h.push({id:"fu-2",title:"Agendamento",goal:"Mover para call",timing:"Em 1 dia",confidence:.75,stage:"fechamento",text:`${d} Se preferir, a gente resolve em uma call curta. Voc prefere s 09:30 ou 10:00?`})),h.push({id:"fu-nurt",title:"Reativao leve",goal:"Retomar contato",timing:"Em 2 dias",confidence:.72,stage:"nutrio",text:"Oi! Passando rapidinho pra saber se ficou alguma dvida. Se fizer sentido, te mando os prximos passos em 1 minuto."}),h}function WV(t){const e=ro(),r=M.useMemo(()=>e?no():null,[e]),n=t.tenantId,[a,s]=M.useState([]),[c,u]=M.useState([]),[d,h]=M.useState([]),[p,m]=M.useState(null),[v,b]=M.useState([]),[w,j]=M.useState(!0),[y,k]=M.useState(""),[A,N]=M.useState(null),[E,_]=M.useState(null),[O,C]=M.useState(!1),P=M.useMemo(()=>{if(!p)return null;const B=(p.phone||"").replace("@c.us","");return c.find(z=>z.phone.replace("@c.us","")===B||z.id===p.lead_id)||null},[p,c]);async function R(){j(!0);try{if(e&&r){s(r.conversations||[]),u(r.leads||[]);const se=r.conversations?.[0]||null;if(m(se),se){const ie=(r.messages||[]).filter(me=>me.conversation_id===se.id);h(ie),b(Xu(null,se,ie))}j(!1);return}const B=n?`/api/conversations?limit=100&tenant_id=${n}`:"/api/conversations?limit=100",H=(await(await fetch(B)).json()||[]).map(se=>({id:se.id,lead_id:se.lead_id,phone:se.phone||se.chat_id||"",name:se.name,status:se.status,updated_at:se.updated_at,created_at:se.created_at,last_message:se.last_message,current_emotion:se.current_emotion,temperature:se.temperature,tags:se.tags||[]}));s(H);const W=n?`/api/leads?limit=200&tenant_id=${n}`:"/api/leads?limit=200",q=(await(await fetch(W)).json()||[]).map(se=>({id:se.id,phone:(se.phone||"").replace("@c.us",""),name:se.name,health_score:se.health_score??se.score??50,stage:se.stage??"curioso",urgency_level:se.urgency_level??"normal",conversion_probability:se.conversion_probability??.4,tags:se.tags||[],updated_at:se.updated_at}));u(q);const ne=H[0]||null;m(ne),ne&&await U(ne),j(!1)}catch(B){console.error(B),j(!1)}}async function U(B){m(B),h([]),b([]);try{if(e&&r){const J=(r.messages||[]).filter(q=>q.conversation_id===B.id);h(J);const $=c.find(q=>q.id===B.lead_id)||null;b(Xu($,B,J));return}const H=(await(await fetch(`/api/messages?conversation_id=${encodeURIComponent(B.id)}&limit=50`)).json()||[]).map(J=>({id:J.id,conversation_id:J.conversation_id,from:J.role==="user"?"lead":J.role==="assistant"?"agent":J.from||"lead",text:J.content||J.text||"",created_at:J.timestamp||J.created_at||new Date().toISOString()}));h(H);const W=c.find(J=>J.phone.replace("@c.us","")===(B.phone||"").replace("@c.us",""))||null;b(Xu(W,B,H))}catch(z){console.error(z)}}M.useEffect(()=>{R()},[n]);const I=M.useMemo(()=>{const B=a.filter(ee=>{const H=(ee.phone||"").toLowerCase(),W=(ee.name||"").toLowerCase();return!(H.includes("@broadcast")||H.includes("@lid")||H.includes("@g.us")||H.includes("status@broadcast")||H.includes("landing:")||W.includes("landing:")||H.includes("sess_")||W.includes("sess_")||!H||H.length<8||H.replace(/\D/g,"").length<8)}),z=y.trim().toLowerCase();return z?B.filter(ee=>(ee.name||"").toLowerCase().includes(z)||(ee.phone||"").toLowerCase().includes(z)||(ee.last_message||"").toLowerCase().includes(z)):B},[a,y]);async function F(B,z){try{await navigator.clipboard.writeText(B),N(z),setTimeout(()=>N(null),1500)}catch{N(z),setTimeout(()=>N(null),1500)}}function L(B){P&&_({lead:P,message:B.text})}async function G(){if(E){C(!0);try{t.onSendFollowUp?t.onSendFollowUp(E.lead,E.message):await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:E.lead.phone,message:E.message})}),_(null)}catch(B){console.error(B)}finally{C(!1)}}}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(n_,{className:"w-6 h-6 text-[#f57f17]"}),"Anlise IA"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Follow-ups inteligentes baseados em estgio, emoo e urgncia"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-[#f57f17]/10 border border-[#f57f17]/20 text-[#f57f17] text-xs font-semibold flex items-center gap-1.5",children:[l.jsx(ar,{className:"w-3.5 h-3.5"}),"IA Ativa"]}),l.jsxs("button",{onClick:R,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-200 flex items-center gap-2",children:[l.jsx(wn,{className:"w-4 h-4"}),"Atualizar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-4 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 flex items-center justify-between gap-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ir,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold",children:"Conversas"}),l.jsx("span",{className:"text-xs text-gray-500",children:I.length})]})}),l.jsx("div",{className:"p-3 border-b border-white/10",children:l.jsxs("div",{className:"relative",children:[l.jsx(Gn,{className:"w-4 h-4 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{value:y,onChange:B=>k(B.target.value),placeholder:"Buscar...",className:"w-full h-9 rounded-xl bg-black/30 border border-white/10 pl-9 pr-3 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:border-[#f57f17]/50"})]})}),l.jsx("div",{className:"max-h-[520px] overflow-auto",children:w?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Carregando..."}):I.length===0?l.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Nenhuma conversa"}):l.jsx("div",{className:"divide-y divide-white/5",children:I.map(B=>{const z=p?.id===B.id,ee=c.find($=>$.id===B.lead_id||$.phone.replace("@c.us","")===(B.phone||"").replace("@c.us","")),H=ee?.health_score||50,W=B.name||ee?.name||null,J=Zo((B.phone||"").replace("@c.us",""));return l.jsx("button",{onClick:()=>U(B),className:`w-full text-left px-4 py-3 transition-all ${z?"bg-[#f57f17]/10":"hover:bg-white/5"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl border flex items-center justify-center text-sm font-bold flex-shrink-0 ${H>=70?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":H>=40?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":"bg-red-500/20 border-red-500/40 text-red-300"}`,children:H}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-medium truncate",children:W||J}),l.jsx("span",{className:"text-[10px] text-gray-600",children:zV(B.updated_at)})]}),W&&l.jsx("p",{className:"text-[11px] text-gray-500",children:J}),l.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:B.last_message||""}),l.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-gray-400",children:nE(ee?.stage)}),ee?.urgency_level==="high"||ee?.urgency_level==="critical"?l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300",children:"Urgente"}):null]})]})]})},B.id)})})})]}),l.jsx("div",{className:"xl:col-span-8 space-y-6",children:p?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-5",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`h-14 w-14 rounded-2xl border-2 flex items-center justify-center text-xl font-bold ${(P?.health_score||50)>=70?"bg-emerald-500/20 border-emerald-500 text-emerald-300":(P?.health_score||50)>=40?"bg-yellow-500/20 border-yellow-500 text-yellow-300":"bg-red-500/20 border-red-500 text-red-300"}`,children:P?.health_score||50}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:p.name||P?.name||Zo(p.phone||"")}),l.jsx("p",{className:"text-gray-500 text-sm",children:Zo(p.phone||"")})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Estgio"}),l.jsx("p",{className:"text-white font-semibold",children:nE(P?.stage)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"}),l.jsxs("p",{className:"text-emerald-400 font-semibold",children:[Math.round((P?.conversion_probability||.4)*100),"%"]})]}),P&&l.jsxs("button",{onClick:()=>t.onOpenConversation?.(P),className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm text-white flex items-center gap-2",children:[l.jsx(ir,{className:"w-4 h-4"}),"Abrir chat"]})]})]}),l.jsxs("div",{className:"mt-4 rounded-xl bg-black/20 border border-white/5 p-3 max-h-[140px] overflow-auto",children:[d.slice(-6).map(B=>l.jsxs("div",{className:`text-sm mb-2 px-3 py-2 rounded-xl ${B.from==="lead"?"bg-white/5 text-gray-300":"bg-[#f57f17]/10 text-white"}`,children:[l.jsx("span",{className:"text-[10px] text-gray-500 mr-2",children:B.from==="lead"?"Cliente":"Bot"}),B.text.slice(0,150),B.text.length>150?"...":""]},B.id)),d.length===0&&l.jsx("p",{className:"text-gray-600 text-sm",children:"Sem mensagens"})]})]}),l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden",children:[l.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ud,{className:"w-5 h-5 text-[#f57f17]"}),l.jsx("span",{className:"text-white font-bold",children:"Follow-ups Sugeridos"})]}),l.jsxs("button",{onClick:()=>b(Xu(P,p)),className:"h-9 px-3 rounded-xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-xs font-semibold text-[#f57f17] flex items-center gap-1.5",children:[l.jsx(wn,{className:"w-3.5 h-3.5"}),"Regenerar"]})]}),l.jsxs("div",{className:"p-5 space-y-3",children:[v.map(B=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-4 hover:border-[#f57f17]/20 transition",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-white font-semibold",children:B.title}),l.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${B.confidence>=.85?"bg-emerald-500/20 text-emerald-300":B.confidence>=.75?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-400"}`,children:[Math.round(B.confidence*100),"%"]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:B.goal})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(Oa,{className:"w-3.5 h-3.5"}),B.timing]})]}),l.jsx("div",{className:"rounded-xl bg-black/30 border border-white/5 p-3 mb-3",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:B.text})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-white/5 text-gray-500",children:B.stage}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>F(B.text,B.id),className:"h-8 px-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",title:"Copiar mensagem",children:[l.jsx(hf,{className:"w-3.5 h-3.5"}),A===B.id?"Copiado!":""]}),l.jsxs("button",{onClick:()=>L(B),disabled:!P,className:"h-8 px-4 rounded-lg bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-xs font-semibold text-white flex items-center gap-1.5",children:[l.jsx(ms,{className:"w-3.5 h-3.5"}),"Enviar"]})]})]})]},B.id)),v.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-8",children:'Nenhum follow-up gerado. Clique em "Regenerar".'})]})]})]}):l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-12 text-center",children:[l.jsx(n_,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Selecione uma conversa para anlise"})]})})]}),E&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/10 bg-[#0a0a0a] p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[l.jsx(ms,{className:"w-5 h-5 text-[#f57f17]"}),"Confirmar Envio"]}),l.jsx("button",{onClick:()=>_(null),className:"h-8 w-8 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Para"}),l.jsx("p",{className:"text-white font-medium",children:E.lead.name||Zo(E.lead.phone)}),l.jsx("p",{className:"text-gray-500 text-sm",children:Zo(E.lead.phone)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Mensagem"}),l.jsx("div",{className:"rounded-xl bg-black/40 border border-white/10 p-4 max-h-[200px] overflow-auto",children:l.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:E.message})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>_(null),className:"flex-1 h-11 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-medium text-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:G,disabled:O,className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] hover:opacity-90 disabled:opacity-50 text-sm font-semibold text-white flex items-center justify-center gap-2",children:O?l.jsxs(l.Fragment,{children:[l.jsx(wn,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ms,{className:"w-4 h-4"}),"Enviar Agora"]})})]})]})})]})}const HV=[{key:"default",label:"Padro DOCA",hint:"Geral / multi-negcio"},{key:"clinic",label:"Clnica",hint:"Sade / esttica / procedimentos"},{key:"realestate",label:"Imobiliria",hint:"Compra / venda / locao"},{key:"aesthetics",label:"Esttica",hint:"Studio / beleza / tratamentos"},{key:"law",label:"Advocacia",hint:"Consultoria / casos / contratos"},{key:"ecommerce",label:"E-commerce",hint:"Loja online / carrinho / ofertas"}];function VV(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}function KV(){const[t,e]=M.useState(""),[r,n]=M.useState("clinic"),[a,s]=M.useState("So Paulo"),[c,u]=M.useState(""),[d,h]=M.useState(""),[p,m]=M.useState(""),[v,b]=M.useState(""),[w,j]=M.useState("preo, confiana"),[y,k]=M.useState(120),[A,N]=M.useState(60),[E,_]=M.useState(null),[O,C]=M.useState(!1),P=M.useMemo(()=>XH(),[E]);function R(){const L=VV(t||"cliente"),G=new Date,B=G.getFullYear(),z=String(G.getMonth()+1).padStart(2,"0"),ee=String(G.getDate()).padStart(2,"0"),H=String(G.getHours()).padStart(2,"0"),W=String(G.getMinutes()).padStart(2,"0");return`${L}-${r}-${B}${z}${ee}-${H}${W}`.slice(0,80)}function U(){const L=R(),G=GH({key:L,niche:r,businessName:t||"Cliente",city:a,instagram:c,website:d,offer:p,mainPain:v,objections:w,leadsPerMonth:Number(y||0),conversationsCount:Number(A||0)});_(G.key)}async function I(){if(E)try{await navigator.clipboard.writeText(E),C(!0),setTimeout(()=>C(!1),1200)}catch{C(!1)}}function F(L){confirm(`Remover demo gerada "${L.label}" (${L.key})?`)&&(YH(L.key),_(B=>B===L.key?null:B))}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(ud,{className:"w-6 h-6 text-[#f57f17]"}),"Demo Generator"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gere demos completas para o DEV (conversas, leads, mensagens e stats) e faa elas aparecerem no dropdown automaticamente."})]}),E&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200",children:["ltima demo:"," ",l.jsx("span",{className:"text-white font-semibold",children:E})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",title:"Copiar key",children:[O?l.jsx(js,{className:"w-4 h-4 text-emerald-400"}):l.jsx(hf,{className:"w-4 h-4 text-[#f57f17]"}),O?"Copiado":"Copiar key"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"xl:col-span-7 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Dados do cliente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha o bsico. O gerador cria uma base realista e coerente."})]}),l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-[#f57f17]/20 bg-[#f57f17]/10 px-3 py-1.5 text-xs font-semibold text-[#f57f17]",children:[l.jsx(ar,{className:"w-4 h-4"}),"DEV-only"]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(gn,{label:"Nome do negcio",children:l.jsx("input",{value:t,onChange:L=>e(L.target.value),placeholder:"Ex: Clnica Capilar Lux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Nicho",children:l.jsx("select",{value:r,onChange:L=>n(L.target.value),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent",children:HV.map(L=>l.jsxs("option",{value:L.key,children:[L.label,"  ",L.hint]},L.key))})}),l.jsx(gn,{label:"Cidade",children:l.jsx("input",{value:a,onChange:L=>s(L.target.value),placeholder:"Ex: So Paulo",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Instagram (opcional)",children:l.jsx("input",{value:c,onChange:L=>u(L.target.value),placeholder:"Ex: @clinicacapilarlux",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Site / LP (opcional)",children:l.jsx("input",{value:d,onChange:L=>h(L.target.value),placeholder:"Ex: https://site.com",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Oferta (opcional)",children:l.jsx("input",{value:p,onChange:L=>m(L.target.value),placeholder:"Ex: Avaliao grtis + plano de tratamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Dor principal (opcional)",full:!0,children:l.jsx("input",{value:v,onChange:L=>b(L.target.value),placeholder:"Ex: queda de cabelo + autoestima",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"Objees comuns (separe por vrgula)",full:!0,children:l.jsx("input",{value:w,onChange:L=>j(L.target.value),placeholder:"Ex: preo, confiana, tempo, parcelamento",className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 placeholder:text-gray-500 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(gn,{label:"Leads/ms (aprox.)",children:l.jsx("input",{type:"number",value:y,onChange:L=>k(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})}),l.jsx(gn,{label:"N de conversas (mock)",children:l.jsx("input",{type:"number",value:A,onChange:L=>N(Number(L.target.value)),className:"w-full h-11 rounded-2xl bg-black/30 border border-white/10 px-4 text-sm text-gray-200 outline-none focus:ring-2 focus:ring-[#f57f17] focus:border-transparent"})})]}),l.jsxs("div",{className:"mt-7 flex items-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:U,className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(ud,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Gerar demo"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"*Isso salva no localStorage do navegador (DEV). Depois a gente pluga no Supabase.*"})]})]}),l.jsxs("div",{className:"xl:col-span-5 rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl p-7 shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Demos geradas"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Essas aparecem no dropdown do DEV automaticamente."})]}),l.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold text-gray-300",children:P.length})]}),l.jsx("div",{className:"mt-6 space-y-3",children:P.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma demo gerada ainda. Crie a primeira usando o formulrio."}):P.map(L=>l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-4 hover:bg-black/50 transition-all",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:L.label}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["key: ",l.jsx("span",{className:"text-gray-300 font-semibold",children:L.key})]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["niche: ",l.jsx("span",{className:"text-gray-400",children:L.niche})," "," ",l.jsx("span",{className:"text-gray-500",children:new Date(L.createdAt).toLocaleString("pt-BR")})]})]}),l.jsx("button",{onClick:()=>F(L),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Excluir demo",children:l.jsx(_s,{className:"w-4 h-4 text-red-300"})})]})},L.key))}),l.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Dica: pra abrir uma demo gerada, selecione ela no dropdown do topo e recarregue a pgina (ou o sistema recarrega sozinho se voc j estiver em modo demo)."})]})]})]})}function gn({label:t,children:e,full:r}){return l.jsxs("div",{className:r?"md:col-span-2":"",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:t}),e]})}const Lx={enabled:!0,personality:"friendly",responseSpeed:"human",maxBubbles:2,maxEmojisPerBubble:1,useEmojis:!1,delayBase:450,delayPerChar:18,delayCap:1750,stageBehavior:{cold:{maxBubbles:2,requireQuestion:!0,ctaLevel:"soft"},warm:{maxBubbles:2,requireQuestion:!0,ctaLevel:"medium"},hot:{maxBubbles:2,requireQuestion:!1,ctaLevel:"hard"}},emotionMultipliers:{anxious:.6,skeptical:1.15,frustrated:1,excited:.9,price_sensitive:1.08,ready:.92,curious:1},escalateOnFrustration:!0,templates:{primeiro_contato:{bubble1:"Oi! Prazer, sou da DOCA.",bubble2:"Me conta: voc busca melhorar marketing, vendas ou operao?"},cliente_bravo:{bubble1:"Entendi. Sinto muito por isso.",bubble2:"Me diz o que aconteceu que eu resolvo pra voc agora."},orcamento:{bubble1:"Consigo sim! Pra eu te passar certinho:",bubble2:" pra voc ou pra equipe? E qual objetivo principal?"},agendamento:{bubble1:"Perfeito! Vamos marcar.",bubble2:"Qual melhor dia e horrio pra voc?"}}};function GV(){return"/api".replace(/\/$/,"")}const Bx=GV();async function XV(t){try{const e=t?`${Bx}/settings?key=agent_studio_config&tenant_id=${t}`:`${Bx}/settings?key=agent_studio_config`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();return n?.value?{...Lx,...n.value}:null}catch{return null}}async function YV(t,e){try{return(await fetch(`${Bx}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"agent_studio_config",value:t,tenant_id:e})})).ok}catch{return!1}}function JV({tenantId:t}){const[e,r]=M.useState("basico"),[n,a]=M.useState(Lx),[s,c]=M.useState(Lx),[u,d]=M.useState(!0),[h,p]=M.useState(!1),[m,v]=M.useState(null),[b,w]=M.useState("warm"),[j,y]=M.useState("curious"),[k,A]=M.useState([]),[N,E]=M.useState(""),[_,O]=M.useState(!1),C=M.useRef(null);M.useEffect(()=>{XV(t).then($=>{$&&(a($),c($)),d(!1)})},[t]),M.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[k]);const P=M.useMemo(()=>JSON.stringify(n)!==JSON.stringify(s),[n,s]),R=($,q)=>{v({type:$,text:q}),setTimeout(()=>v(null),3e3)};async function U(){p(!0);const $=await YV(n,t);p(!1),$?(c(n),R("success","Configuraes salvas!")):R("error","Erro ao salvar")}function I(){a(s),R("success","Alteraes descartadas")}function F($,q){a(ne=>({...ne,[$]:q}))}function L($,q){a(ne=>({...ne,stageBehavior:{...ne.stageBehavior,[$]:q}}))}function G($,q){a(ne=>({...ne,emotionMultipliers:{...ne.emotionMultipliers,[$]:q}}))}function B($,q,ne){a(se=>({...se,templates:{...se.templates,[$]:{...se.templates[$],[q]:ne}}}))}function z($){const q=n.emotionMultipliers[j];return Math.min(Math.round((n.delayBase+n.delayPerChar*$.length)*q),n.delayCap)}function ee($){const q=$.toLowerCase();return q.includes("preo")||q.includes("valor")||q.includes("quanto custa")?"orcamento":q.includes("agendar")||q.includes("marcar")||q.includes("reunio")?"agendamento":q.includes("problema")||q.includes("no funciona")||q.includes("erro")?"cliente_bravo":"primeiro_contato"}async function H(){if(!N.trim()||_)return;const $=N.trim();E(""),A(me=>[...me,{role:"user",text:$}]),O(!0);const q=ee($),ne=n.templates[q],se=n.stageBehavior[b],ie=z(ne.bubble1);if(await new Promise(me=>setTimeout(me,ie)),A(me=>[...me,{role:"agent",text:ne.bubble1,delay:ie}]),se.maxBubbles>=2&&ne.bubble2){const me=z(ne.bubble2);await new Promise(ge=>setTimeout(ge,me));let Me=ne.bubble2;se.requireQuestion&&!Me.includes("?")&&(Me+={soft:" Me conta mais?",medium:" Quer ver um exemplo?",hard:" Bora marcar?"}[se.ctaLevel]),A(ge=>[...ge,{role:"agent",text:Me,delay:me}])}O(!1)}const W=M.useMemo(()=>Math.round(Math.min(n.delayBase*n.emotionMultipliers[j],n.delayCap)),[n,j]),J=[{key:"basico",label:"Bsico",icon:jn},{key:"estagio",label:"Por Estgio",icon:a_},{key:"emocao",label:"Por Emoo",icon:ka},{key:"templates",label:"Templates",icon:gi},{key:"preview",label:"Preview",icon:s_}];return u?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(v0,{className:"w-6 h-6 text-[#f57f17]"}),"Agent Studio"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure o comportamento do agente IA"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:I,disabled:!P||h,className:"h-10 px-4 rounded-xl bg-white/5 border border-white/10 text-sm text-gray-300 flex items-center gap-2 disabled:opacity-50",children:[l.jsx(zE,{className:"w-4 h-4"}),"Descartar"]}),l.jsxs("button",{onClick:U,disabled:!P||h,className:"h-10 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white flex items-center gap-2 disabled:opacity-50",children:[h?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar"]})]})]}),l.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between ${n.enabled?"bg-emerald-500/10 border border-emerald-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${n.enabled?"bg-emerald-500/20":"bg-red-500/20"}`,children:l.jsx(UE,{className:`w-5 h-5 ${n.enabled?"text-emerald-400":"text-red-400"}`})}),l.jsxs("div",{children:[l.jsxs("p",{className:`font-semibold ${n.enabled?"text-emerald-300":"text-red-300"}`,children:["Agente ",n.enabled?"Ativo":"Desativado"]}),l.jsx("p",{className:"text-xs text-gray-500",children:n.enabled?"Respondendo automaticamente":"Apenas humanos respondem"})]})]}),l.jsx("button",{onClick:()=>F("enabled",!n.enabled),className:`h-10 px-4 rounded-xl text-sm font-medium transition ${n.enabled?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:n.enabled?"Desativar":"Ativar"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.map($=>l.jsxs("button",{onClick:()=>r($.key),className:`h-10 px-4 rounded-xl flex items-center gap-2 text-sm font-medium transition ${e===$.key?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:text-white"}`,children:[l.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.key))}),e==="basico"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(ya,{title:"Personalidade",icon:v0,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(Zi,{selected:n.personality==="formal",onClick:()=>F("personality","formal"),title:"Formal",desc:"Corporativo"}),l.jsx(Zi,{selected:n.personality==="casual",onClick:()=>F("personality","casual"),title:"Casual",desc:"Descontrado"}),l.jsx(Zi,{selected:n.personality==="friendly",onClick:()=>F("personality","friendly"),title:"Amigvel",desc:"Acolhedor"})]})}),l.jsx(ya,{title:"Velocidade",icon:GM,children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(Zi,{selected:n.responseSpeed==="fast",onClick:()=>F("responseSpeed","fast"),title:"Rpido",desc:"< 1s"}),l.jsx(Zi,{selected:n.responseSpeed==="normal",onClick:()=>F("responseSpeed","normal"),title:"Normal",desc:"1-2s"}),l.jsx(Zi,{selected:n.responseSpeed==="human",onClick:()=>F("responseSpeed","human"),title:"Humano",desc:"2-4s"})]})}),l.jsx(ya,{title:"Limites",icon:ir,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(os,{label:"Mx. bolhas",value:n.maxBubbles,min:1,max:4,onChange:$=>F("maxBubbles",$)}),l.jsx(qx,{label:"Usar emojis",desc:"Nas respostas",value:n.useEmojis,onChange:$=>F("useEmojis",$)}),n.useEmojis&&l.jsx(os,{label:"Mx. emojis",value:n.maxEmojisPerBubble,min:0,max:3,onChange:$=>F("maxEmojisPerBubble",$)})]})}),l.jsx(ya,{title:"Delay",icon:Oa,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(os,{label:"Base (ms)",value:n.delayBase,min:100,max:1e3,onChange:$=>F("delayBase",$)}),l.jsx(os,{label:"Por char (ms)",value:n.delayPerChar,min:5,max:50,onChange:$=>F("delayPerChar",$)}),l.jsx(os,{label:"Mximo (ms)",value:n.delayCap,min:500,max:5e3,onChange:$=>F("delayCap",$)})]})})]}),e==="estagio"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ar,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Comportamento por Temperatura"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure o agente em cada fase do funil."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(s0,{stage:"cold",icon:o_,color:"blue",title:"Frio",desc:"Primeiro contato",behavior:n.stageBehavior.cold,onChange:$=>L("cold",$)}),l.jsx(s0,{stage:"warm",icon:cd,color:"yellow",title:"Morno",desc:"Engajado",behavior:n.stageBehavior.warm,onChange:$=>L("warm",$)}),l.jsx(s0,{stage:"hot",icon:nn,color:"orange",title:"Quente",desc:"Pronto",behavior:n.stageBehavior.hot,onChange:$=>L("hot",$)})]})]}),e==="emocao"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ka,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Multiplicadores de Emoo"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ajuste o tempo baseado na emoo."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Qa,{emotion:"anxious",icon:rr,label:"Ansioso",desc:"Urgente",value:n.emotionMultipliers.anxious,onChange:$=>G("anxious",$)}),l.jsx(Qa,{emotion:"skeptical",icon:RE,label:"Ctico",desc:"Desconfiado",value:n.emotionMultipliers.skeptical,onChange:$=>G("skeptical",$)}),l.jsx(Qa,{emotion:"frustrated",icon:DE,label:"Frustrado",desc:"Irritado",value:n.emotionMultipliers.frustrated,onChange:$=>G("frustrated",$)}),l.jsx(Qa,{emotion:"excited",icon:VM,label:"Empolgado",desc:"Animado",value:n.emotionMultipliers.excited,onChange:$=>G("excited",$)}),l.jsx(Qa,{emotion:"price_sensitive",icon:Vs,label:"Sensvel a Preo",desc:"Custo",value:n.emotionMultipliers.price_sensitive,onChange:$=>G("price_sensitive",$)}),l.jsx(Qa,{emotion:"ready",icon:Pa,label:"Pronto",desc:"Decidido",value:n.emotionMultipliers.ready,onChange:$=>G("ready",$)}),l.jsx(Qa,{emotion:"curious",icon:pf,label:"Curioso",desc:"Explorando",value:n.emotionMultipliers.curious,onChange:$=>G("curious",$)})]}),l.jsx(qx,{label:"Escalar em frustrao",desc:"Notificar humano",value:n.escalateOnFrustration,onChange:$=>F("escalateOnFrustration",$)})]}),e==="templates"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-[28px] border border-[#f57f17]/20 bg-[#f57f17]/5 p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gi,{className:"w-5 h-5 text-[#f57f17] mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-semibold",children:"Templates por Inteno"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure as respostas padro."})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Yu,{intent:"primeiro_contato",title:"Primeiro Contato",desc:"Lead novo",template:n.templates.primeiro_contato,onChange:($,q)=>B("primeiro_contato",$,q)}),l.jsx(Yu,{intent:"cliente_bravo",title:"Cliente Bravo",desc:"Reclamao",template:n.templates.cliente_bravo,onChange:($,q)=>B("cliente_bravo",$,q)}),l.jsx(Yu,{intent:"orcamento",title:"Oramento",desc:"Preo",template:n.templates.orcamento,onChange:($,q)=>B("orcamento",$,q)}),l.jsx(Yu,{intent:"agendamento",title:"Agendamento",desc:"Reunio",template:n.templates.agendamento,onChange:($,q)=>B("agendamento",$,q)})]})]}),e==="preview"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 rounded-[28px] border border-white/10 bg-white/5 flex flex-col h-[600px]",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[l.jsx(s_,{className:"w-5 h-5 text-[#f57f17]"}),"Preview"]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Teste suas configuraes"})]}),l.jsxs("button",{onClick:()=>A([]),className:"h-8 px-3 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400 flex items-center gap-1",children:[l.jsx(_s,{className:"w-3 h-3"}),"Limpar"]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[k.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[l.jsx(ir,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"Envie uma mensagem para testar"})]}):k.map(($,q)=>l.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${$.role==="user"?"bg-[#f57f17]/20 text-white":"bg-white/5 border border-white/10 text-gray-200"}`,children:[l.jsx("p",{className:"text-sm",children:$.text}),$.delay&&l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[" ",$.delay,"ms"]})]})},q)),_&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),l.jsx("div",{ref:C})]}),l.jsx("div",{className:"p-4 border-t border-white/10",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:N,onChange:$=>E($.target.value),onKeyDown:$=>$.key==="Enter"&&!$.shiftKey&&H(),placeholder:"Digite uma mensagem...",className:"flex-1 h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",disabled:_}),l.jsx("button",{onClick:H,disabled:_||!N.trim(),className:"h-11 px-4 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-sm font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:l.jsx(ms,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(ya,{title:"Estgio Simulado",icon:a_,children:l.jsx("div",{className:"space-y-2",children:[{key:"cold",label:"Frio",icon:o_},{key:"warm",label:"Morno",icon:cd},{key:"hot",label:"Quente",icon:nn}].map($=>l.jsxs("button",{onClick:()=>w($.key),className:`w-full p-3 rounded-xl flex items-center gap-3 transition ${b===$.key?"bg-[#f57f17]/20 border border-[#f57f17]/30":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[l.jsx($.icon,{className:`w-4 h-4 ${b===$.key?"text-[#f57f17]":"text-gray-400"}`}),l.jsx("span",{className:b===$.key?"text-white":"text-gray-400",children:$.label})]},$.key))})}),l.jsxs(ya,{title:"Emoo Simulada",icon:ka,children:[l.jsxs("select",{value:j,onChange:$=>y($.target.value),className:"w-full h-11 px-4 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none",children:[l.jsx("option",{value:"curious",className:"bg-black",children:"Curioso"}),l.jsx("option",{value:"anxious",className:"bg-black",children:"Ansioso"}),l.jsx("option",{value:"skeptical",className:"bg-black",children:"Ctico"}),l.jsx("option",{value:"frustrated",className:"bg-black",children:"Frustrado"}),l.jsx("option",{value:"excited",className:"bg-black",children:"Empolgado"}),l.jsx("option",{value:"price_sensitive",className:"bg-black",children:"Sensvel a Preo"}),l.jsx("option",{value:"ready",className:"bg-black",children:"Pronto"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Multiplicador: ",l.jsxs("span",{className:"text-white font-semibold",children:[n.emotionMultipliers[j].toFixed(2),"x"]})]})]}),l.jsx(ya,{title:"Configurao Ativa",icon:IM,children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Delay base"}),l.jsxs("span",{className:"text-white",children:[W,"ms"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Max bolhas"}),l.jsx("span",{className:"text-white",children:n.stageBehavior[b].maxBubbles})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"CTA level"}),l.jsx("span",{className:"text-white capitalize",children:n.stageBehavior[b].ctaLevel})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Exige pergunta"}),l.jsx("span",{className:"text-white",children:n.stageBehavior[b].requireQuestion?"Sim":"No"})]})]})}),l.jsx(ya,{title:"Testes Rpidos",icon:on,children:l.jsx("div",{className:"space-y-2",children:["Oi, quero saber mais","Quanto custa?","Quero agendar","No t funcionando!"].map($=>l.jsx("button",{onClick:()=>E($),className:"w-full text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-300 transition",children:$},$))})})]})]}),m&&l.jsxs("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-xl flex items-center gap-2 ${m.type==="success"?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[m.type==="success"?l.jsx(Fn,{className:"w-4 h-4"}):l.jsx(Zx,{className:"w-4 h-4"}),m.text]})]})}function ya({title:t,icon:e,children:r,className:n}){return l.jsxs("div",{className:`rounded-[28px] border border-white/10 bg-white/5 p-6 ${n||""}`,children:[t&&l.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e&&l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),t]}),r]})}function Zi({selected:t,onClick:e,title:r,desc:n}){return l.jsxs("button",{onClick:e,className:`p-4 rounded-xl border text-left transition ${t?"border-[#f57f17]/50 bg-[#f57f17]/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[l.jsx("p",{className:"text-white font-semibold",children:r}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})}function os({label:t,value:e,min:r,max:n,onChange:a}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsxs("p",{className:"text-xs text-gray-500",children:[r," - ",n]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:r,max:n,value:e,onChange:s=>a(Number(s.target.value)),className:"w-24 accent-[#f57f17]"}),l.jsx("span",{className:"text-white font-semibold w-12 text-right",children:e})]})]})}function qx({label:t,desc:e,value:r,onChange:n}){return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:t}),l.jsx("p",{className:"text-xs text-gray-500",children:e})]}),l.jsx("button",{onClick:()=>n(!r),className:`h-8 w-14 rounded-full transition relative ${r?"bg-[#f57f17]":"bg-white/10"}`,children:l.jsx("div",{className:`absolute top-1 h-6 w-6 rounded-full bg-white transition-all ${r?"left-7":"left-1"}`})})]})}function s0({stage:t,icon:e,color:r,title:n,desc:a,behavior:s,onChange:c}){const u={blue:"border-blue-500/30 bg-blue-500/5",yellow:"border-yellow-500/30 bg-yellow-500/5",orange:"border-[#f57f17]/30 bg-[#f57f17]/5"},d={blue:"text-blue-400",yellow:"text-yellow-400",orange:"text-[#f57f17]"};return l.jsxs("div",{className:`rounded-[28px] border p-6 ${u[r]}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 flex items-center justify-center",children:l.jsx(e,{className:`w-5 h-5 ${d[r]}`})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold",children:n}),l.jsx("p",{className:"text-xs text-gray-500",children:a})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(os,{label:"Mx bolhas",value:s.maxBubbles,min:1,max:4,onChange:h=>c({...s,maxBubbles:h})}),l.jsx(qx,{label:"Exigir pergunta",desc:"Termina com pergunta",value:s.requireQuestion,onChange:h=>c({...s,requireQuestion:h})}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[l.jsx("p",{className:"text-white font-medium mb-2",children:"Nvel do CTA"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["soft","medium","hard"].map(h=>l.jsx("button",{onClick:()=>c({...s,ctaLevel:h}),className:`h-9 rounded-lg text-xs font-medium capitalize transition ${s.ctaLevel===h?"bg-[#f57f17]/20 border border-[#f57f17]/30 text-white":"bg-white/5 border border-white/10 text-gray-400"}`,children:h},h))})]})]})]})}function Qa({emotion:t,icon:e,label:r,desc:n,value:a,onChange:s}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(e,{className:"w-5 h-5 text-[#f57f17]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:r}),l.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:a,onChange:c=>s(Number(c.target.value)),className:"flex-1 accent-[#f57f17]"}),l.jsxs("span",{className:"text-white font-semibold w-12 text-right",children:[a.toFixed(2),"x"]})]})]})}function Yu({intent:t,title:e,desc:r,template:n,onChange:a}){return l.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-white font-bold",children:e}),l.jsx("p",{className:"text-xs text-gray-500",children:r})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 1"}),l.jsx("textarea",{value:n.bubble1,onChange:s=>a("bubble1",s.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500",children:"Bolha 2"}),l.jsx("textarea",{value:n.bubble2,onChange:s=>a("bubble2",s.target.value),className:"w-full h-20 mt-1 p-3 rounded-xl bg-black/30 border border-white/10 text-sm text-gray-200 outline-none resize-none"})]})]})]})}const el="/api",aE={admin:{label:"Admin",color:"text-red-400",bg:"bg-red-500/20"},manager:{label:"Gerente",color:"text-amber-400",bg:"bg-amber-500/20"},user:{label:"Usurio",color:"text-blue-400",bg:"bg-blue-500/20"}};function QV(){const[t,e]=M.useState([]),[r,n]=M.useState([]),[a,s]=M.useState(!0),[c,u]=M.useState(""),[d,h]=M.useState(null),[p,m]=M.useState(null),[v,b]=M.useState(!1),[w,j]=M.useState(null),[y,k]=M.useState(!1),[A,N]=M.useState(""),[E,_]=M.useState(""),[O,C]=M.useState("user"),[P,R]=M.useState("");M.useEffect(()=>{U()},[]);const U=async()=>{try{s(!0);const[z,ee]=await Promise.all([fetch(`${el}/users`),fetch(`${el}/tenants`)]),H=await z.json(),W=await ee.json();e(H||[]),n(W||[])}catch(z){console.error("Error loading data:",z)}finally{s(!1)}},I=()=>{j(null),N(""),_(""),C("user"),R(r[0]?.id||""),b(!0)},F=z=>{j(z),N(z.name),_(z.email),C(z.role),R(z.tenant_id),b(!0)},L=async()=>{if(!(!A||!E||!P))try{k(!0),w?await fetch(`${el}/users?id=${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:A,email:E,role:O,tenant_id:P})}):await fetch(`${el}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:A,email:E,role:O,tenant_id:P})}),b(!1),U()}catch(z){console.error("Error saving user:",z)}finally{k(!1)}},G=async z=>{if(confirm(`Deseja remover ${z.name}?`))try{await fetch(`${el}/users?id=${z.id}`,{method:"DELETE"}),U()}catch(ee){console.error("Error deleting user:",ee)}},B=t.filter(z=>!(c&&!z.name.toLowerCase().includes(c.toLowerCase())&&!z.email.toLowerCase().includes(c.toLowerCase())||d&&z.tenant_id!==d||p&&z.role!==p));return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(an,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Usurios"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," usurios cadastrados"]})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(ld,{className:"w-4 h-4"}),"Novo Usurio"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[l.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:c,onChange:z=>u(z.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("select",{value:d||"",onChange:z=>h(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Clientes"}),r.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:p||"",onChange:z=>m(z.target.value||null),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Todos os Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"user",children:"Usurio"})]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Usurio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Cliente"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-400 uppercase",children:"Aes"})]})}),l.jsx("tbody",{children:B.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum usurio encontrado"})}):B.map(z=>{const ee=aE[z.role]||aE.user;return l.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02]",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:z.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-white",children:z.name}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx(od,{className:"w-3 h-3"}),z.email]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bn,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-300",children:z.tenant?.name||""})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold ${ee.bg} ${ee.color}`,children:[l.jsx(WE,{className:"w-3 h-3"}),ee.label]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>F(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-all",title:"Editar",children:l.jsx(qE,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>G(z),className:"h-8 w-8 rounded-lg bg-white/5 hover:bg-red-500/20 flex items-center justify-center text-gray-400 hover:text-red-400 transition-all",title:"Excluir",children:l.jsx(_s,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),v&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>b(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:w?"Editar Usurio":"Novo Usurio"}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-white",children:l.jsx(ln,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome"}),l.jsx("input",{type:"text",value:A,onChange:z=>N(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Nome completo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:E,onChange:z=>_(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"email@exemplo.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cliente"}),l.jsxs("select",{value:P,onChange:z=>R(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"",children:"Selecione..."}),r.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),l.jsxs("select",{value:O,onChange:z=>C(z.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"user",children:"Usurio"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"})]})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>b(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:L,disabled:y||!A||!E||!P,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(js,{className:"w-4 h-4"}),w?"Salvar":"Criar"]})]})]})})]})]})}const Ju="/api";function ZV({onConfigure:t,selectedTenantId:e,onSelectTenant:r}){const[n,a]=M.useState([]),[s,c]=M.useState(!0),[u,d]=M.useState(""),[h,p]=M.useState(!1),[m,v]=M.useState(null),[b,w]=M.useState(!1),[j,y]=M.useState(""),[k,A]=M.useState(""),[N,E]=M.useState(""),[_,O]=M.useState(""),[C,P]=M.useState("");M.useEffect(()=>{R()},[]);const R=async()=>{try{c(!0);const J=await(await fetch(`${Ju}/tenants`)).json();a(J||[])}catch(W){console.error("Error loading tenants:",W)}finally{c(!1)}},U=W=>W.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),I=()=>{v(null),y(""),A(""),E(""),O(""),P(""),p(!0)},F=(W,J)=>{J.stopPropagation(),v(W),y(W.name),A(W.slug),E(W.phone||""),O(W.address||""),P(W.specialty||""),p(!0)},L=async()=>{if(!(!j||!k))try{w(!0),m?await fetch(`${Ju}/tenants?id=${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,slug:k,phone:N||null,address:_||null,specialty:C||null})}):await fetch(`${Ju}/tenants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,slug:k,phone:N||null,address:_||null,specialty:C||null})}),p(!1),R()}catch(W){console.error("Error saving tenant:",W)}finally{w(!1)}},G=async(W,J)=>{J.stopPropagation();try{await fetch(`${Ju}/tenants?id=${W.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!W.active})}),R()}catch($){console.error("Error toggling tenant:",$)}},B=W=>{W.active&&r&&(e===W.id?r(null):r(W.id))},z=(W,J)=>{J.stopPropagation(),t&&t(W)},ee=n.filter(W=>!(u&&!W.name.toLowerCase().includes(u.toLowerCase())&&!W.slug.toLowerCase().includes(u.toLowerCase()))),H=n.find(W=>W.id===e);return s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(bn,{className:"w-6 h-6 text-[#f57f17]"}),"Gesto de Clientes"]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," clientes cadastrados"]})]}),l.jsxs("button",{onClick:I,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 transition-all",children:[l.jsx(ld,{className:"w-4 h-4"}),"Novo Cliente"]})]}),r&&l.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border border-white/10 bg-white/[0.02]",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Cliente ativo:"}),H?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:H.name.substring(0,2).toUpperCase()})}),l.jsx("span",{className:"text-white font-semibold",children:H.name}),l.jsx("button",{onClick:()=>r(null),className:"ml-2 text-xs text-gray-500 hover:text-white px-2 py-1 rounded-lg bg-white/5 hover:bg-white/10",children:"Limpar filtro"})]}):l.jsx("span",{className:"text-gray-300",children:"Todos os clientes"}),l.jsx("div",{className:"ml-auto text-xs text-gray-500",children:"Clique em um card para filtrar os dados"})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:u,onChange:W=>d(W.target.value),className:"w-full h-10 pl-10 pr-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(W=>{const J=e===W.id;return l.jsxs("div",{onClick:()=>B(W),className:`rounded-2xl border bg-white/[0.02] p-5 transition-all ${J?"border-[#f57f17] ring-2 ring-[#f57f17]/30 bg-[#f57f17]/5":W.active?"border-white/10 hover:border-[#f57f17]/50 cursor-pointer":"border-red-500/30 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center ${J?"bg-[#f57f17]/30":"bg-[#f57f17]/20"}`,children:l.jsx("span",{className:"text-[#f57f17] font-bold",children:W.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-white",children:W.name}),J&&l.jsx(Fn,{className:"w-4 h-4 text-[#f57f17]"})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",W.slug]})]})]}),l.jsx("button",{onClick:$=>G(W,$),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${W.active?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,title:W.active?"Desativar":"Ativar",children:l.jsx(UE,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[W.specialty&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(TM,{className:"w-4 h-4"}),l.jsx("span",{children:W.specialty})]}),W.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(zn,{className:"w-4 h-4"}),l.jsx("span",{children:W.phone})]}),W.address&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(LE,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate",children:W.address})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:$=>F(W,$),className:"flex-1 h-9 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-sm text-gray-300 flex items-center justify-center gap-2 transition-all",children:[l.jsx(qE,{className:"w-4 h-4"}),"Editar"]}),t&&l.jsxs("button",{onClick:$=>z(W.id,$),className:"flex-1 h-9 rounded-lg border border-[#f57f17]/30 bg-[#f57f17]/10 hover:bg-[#f57f17]/20 text-sm text-[#f57f17] flex items-center justify-center gap-2 transition-all",children:[l.jsx(jn,{className:"w-4 h-4"}),"Config"]})]})]},W.id)})}),h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>p(!1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-[#0a0a0a] shadow-xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:m?"Editar Cliente":"Novo Cliente"}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-white",children:l.jsx(ln,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome da Empresa"}),l.jsx("input",{type:"text",value:j,onChange:W=>{y(W.target.value),m||A(U(W.target.value))},className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Ex: Clnica Dr. Hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Slug"}),l.jsx("input",{type:"text",value:k,onChange:W=>A(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"clinica-dr-hair"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Especialidade"}),l.jsx("input",{type:"text",value:C,onChange:W=>P(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Transplante Capilar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),l.jsx("input",{type:"text",value:N,onChange:W=>E(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"+55 31 99999-9999"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Endereo"}),l.jsx("input",{type:"text",value:_,onChange:W=>O(W.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"Rua, nmero, cidade"})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:L,disabled:b||!j||!k,className:"h-10 px-4 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(js,{className:"w-4 h-4"}),m?"Salvar":"Criar"]})]})]})})]})]})}function Jf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function eK(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(p){try{h(n.next(p))}catch(m){c(m)}}function d(p){try{h(n.throw(p))}catch(m){c(m)}}function h(p){p.done?s(p.value):a(p.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const tK=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class iw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class rK extends iw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iE extends iw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sE extends iw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ux;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ux||(Ux={}));class nK{constructor(e,{headers:r={},customFetch:n,region:a=Ux.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=tK(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eK(this,arguments,void 0,function*(r,n={}){var a;let s,c;try{const{headers:u,method:d,body:h,signal:p,timeout:m}=n;let v={},{region:b}=n;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let j;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",j=h):typeof h=="string"?(v["Content-Type"]="text/plain",j=h):typeof FormData<"u"&&h instanceof FormData?j=h:(v["Content-Type"]="application/json",j=JSON.stringify(h)):j=h;let y=p;m&&(c=new AbortController,s=setTimeout(()=>c.abort(),m),p?(y=c.signal,p.addEventListener("abort",()=>c.abort())):y=c.signal);const k=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:j,signal:y}).catch(_=>{throw new rK(_)}),A=k.headers.get("x-relay-error");if(A&&A==="true")throw new iE(k);if(!k.ok)throw new sE(k);let N=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),E;return N==="application/json"?E=yield k.json():N==="application/octet-stream"||N==="application/pdf"?E=yield k.blob():N==="text/event-stream"?E=k:N==="multipart/form-data"?E=yield k.formData():E=yield k.text(),{data:E,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof sE||u instanceof iE?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var aK=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},iK=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let c=null,u=null,d=null,h=s.status,p=s.statusText;if(s.ok){var m,v;if(r.method!=="HEAD"){var b;const k=await s.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=k:u=JSON.parse(k))}const j=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),y=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");j&&y&&y.length>1&&(d=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var w;const j=await s.text();try{c=JSON.parse(j),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,p="OK")}catch{s.status===404&&j===""?(h=204,p="No Content"):c={message:j}}if(c&&r.isMaybeSingle&&(!(c==null||(w=c.details)===null||w===void 0)&&w.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&r.shouldThrowOnError)throw new aK(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var c;let u="";const d=s?.cause;if(d){var h,p,m,v;const w=(h=d?.message)!==null&&h!==void 0?h:"",j=(p=d?.code)!==null&&p!==void 0?p:"";u=`${(m=s?.name)!==null&&m!==void 0?m:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${w}`,j&&(u+=` (${j})`),d?.stack&&(u+=`
${d.stack}`)}else{var b;u=(b=s?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=s?.name)!==null&&c!==void 0?c:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},sK=class extends iK{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var c;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const oE=new RegExp("[,()]");var ls=class extends sK{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&oE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&oE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},oK=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let s=!1;const c=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(s.length>0){const c=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new ls({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ls({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ls({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},lK=class sT{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new oK(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sT(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:s}={}){var c;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(u="POST",h=r);const p=new Headers(this.headers);return s&&p.set("Prefer",`count=${s}`),new ls({method:u,url:d,headers:p,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class cK{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uK="2.89.0",dK=`realtime-js/${uK}`,oT="1.0.0",fK="2.0.0",lE=oT,Fx=1e4,hK=1e3,pK=100;var ja;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ja||(ja={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var Zr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zr||(Zr={}));var zx;(function(t){t.websocket="websocket"})(zx||(zx={}));var ai;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ai||(ai={}));class mK{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,n){var a,s;const c=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+h.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(b),j=0;w.setUint8(j++,this.KINDS.userBroadcastPush),w.setUint8(j++,d.length),w.setUint8(j++,u.length),w.setUint8(j++,c.length),w.setUint8(j++,h.length),w.setUint8(j++,m.length),w.setUint8(j++,r),Array.from(d,k=>w.setUint8(j++,k.charCodeAt(0))),Array.from(u,k=>w.setUint8(j++,k.charCodeAt(0))),Array.from(c,k=>w.setUint8(j++,k.charCodeAt(0))),Array.from(h,k=>w.setUint8(j++,k.charCodeAt(0))),Array.from(m,k=>w.setUint8(j++,k.charCodeAt(0)));var y=new Uint8Array(b.byteLength+n.byteLength);return y.set(new Uint8Array(b),0),y.set(new Uint8Array(n),b.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,s,c,u,d]=n;return r({join_ref:a,ref:s,topic:c,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const p=n.decode(e.slice(d,d+s));d=d+s;const m=n.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:b};return c>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class lT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const cE=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,c)=>(s[c]=gK(c,t,e,a),s),{}):{}},gK=(t,e,r,n)=>{const a=e.find(u=>u.name===t),s=a?.type,c=r[t];return s&&!n.includes(s)?cT(s,c):Wx(c)},cT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bK(e,r)}switch(t){case rt.bool:return vK(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return yK(e);case rt.json:case rt.jsonb:return xK(e);case rt.timestamp:return wK(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Wx(e);default:return Wx(e)}},Wx=t=>t,vK=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},bK=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const c=t.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(u=>cT(e,u))}return t},wK=t=>typeof t=="string"?t.replace(" ","T"):t,uT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class o0{constructor(e,r,n={},a=Fx){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uE||(uE={}));class hl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,a,s,c),this.pendingDiffs.forEach(d=>{this.state=hl.syncDiff(this.state,d,s,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hl.syncDiff(this.state,a,s,c),u())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),c=this.transformState(r),u={},d={};return this.map(s,(h,p)=>{c[h]||(d[h]=p)}),this.map(c,(h,p)=>{const m=s[h];if(m){const v=p.map(y=>y.presence_ref),b=m.map(y=>y.presence_ref),w=p.filter(y=>b.indexOf(y.presence_ref)<0),j=m.filter(y=>v.indexOf(y.presence_ref)<0);w.length>0&&(u[h]=w),j.length>0&&(d[h]=j)}else u[h]=p}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),p.length>0){const m=e[u].map(b=>b.presence_ref),v=p.filter(b=>m.indexOf(b.presence_ref)<0);e[u].unshift(...v)}n(u,p,d)}),this.map(c,(u,d)=>{let h=e[u];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dE||(dE={}));var pl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pl||(pl={}));var Dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class ps{constructor(e,r={config:{}},n){var a,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new o0(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new lT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new hl(this),this.broadcastEndpointURL=uT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Dn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Dn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,y=(w=j?.length)!==null&&w!==void 0?w:0,k=[];for(let A=0;A<y;A++){const N=j[A],{filter:{event:E,schema:_,table:O,filter:C}}=N,P=b&&b[A];if(P&&P.event===E&&ps.isFilterValueEqual(P.schema,_)&&ps.isFilterValueEqual(P.table,O)&&ps.isFilterValueEqual(P.filter,C))k.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=Tt.errored,e?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Dn.SUBSCRIBED);return}}).receive("error",b=>{this.state=Tt.errored,e?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tt.joined&&e===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new o0(this,Zr.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new o0(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=Zr;if(n&&[u,d,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var w,j,y;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(j=b.filter)===null||j===void 0?void 0:j.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===c}).map(b=>b.callback(v,n)):(s=this.bindings[c])===null||s===void 0||s.filter(b=>{var w,j,y,k,A,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const E=b.id,_=(w=b.filter)===null||w===void 0?void 0:w.event;return E&&((j=r.ids)===null||j===void 0?void 0:j.includes(E))&&(_==="*"||_?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(A=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return E==="*"||E===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:j,table:y,commit_timestamp:k,type:A,errors:N}=w;v=Object.assign(Object.assign({},{schema:j,table:y,commit_timestamp:k,eventType:A,new:{},old:{},errors:N}),this._getPayloadRecords(w))}b.callback(v,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ps.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zr.close,{},e)}_onError(e){this._on(Zr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=cE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=cE(e.columns,e.old_record)),r}}const l0=()=>{},Qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jK=[1e3,2e3,5e3,1e4],_K=1e4,SK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NK{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fx,this.transport=null,this.heartbeatIntervalMs=Qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l0,this.ref=0,this.reconnectTimer=null,this.vsn=lE,this.logger=l0,this.conn=null,this.sendBuffer=[],this.serializer=new mK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zx.websocket}`,this.httpEndpoint=uT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cK.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return ai.Connecting;case ja.open:return ai.Open;case ja.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new ps(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:c}=r,u=c?`(${c})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ja.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ja.open||this.conn.readyState===ja.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([SK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:dK};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,s,c,u,d,h,p,m,v,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Fx,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Qu.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:l0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:lE,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(w=>jK[w-1]||_K),this.vsn){case oT:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((w,j)=>j(JSON.stringify(w))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((w,j)=>j(JSON.parse(w)));break;case fK:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Zl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kK(t,e,r){const n=new URL(e,t);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function OK(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function AK(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:c}){const u=kK(t.baseUrl,n,a),d=await OK(t.auth),h=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...c},body:s?JSON.stringify(s):void 0}),p=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!h.ok){const b=m?v:void 0,w=b?.error;throw new Zl(w?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:h.status,headers:h.headers,data:v}}}}function Zu(t){return t.join("")}var EK=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(t.namespace)}`}),!0}catch(e){if(e instanceof Zl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Zl&&r.status===409)return;throw r}}};function es(t){return t.join("")}var PK=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Zl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Zl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},CK=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=AK({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new EK(this.client,e),this.tableOps=new PK(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Qf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var TK=class extends Qf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hx=class extends Qf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const sw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MK=()=>Response,Vx=t=>{if(Array.isArray(t))return t.map(r=>Vx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=Vx(n)}),e},$K=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RK=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function IK(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DK(t){var e=IK(t,"string");return ec(e)=="symbol"?e:e+""}function LK(t,e,r){return(e=DK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(r),!0).forEach(function(n){LK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const c0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},BK=async(t,e,r)=>{t instanceof await MK()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,s=n?.statusCode||a+"";e(new TK(c0(n),a,s))}).catch(n=>{e(new Hx(c0(n),n))}):e(new Hx(c0(t),t))},qK=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:($K(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Ce(Ce({},a),r))};async function pc(t,e,r,n,a,s){return new Promise((c,u)=>{t(r,qK(e,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>BK(d,u,n))})}async function tc(t,e,r,n){return pc(t,"GET",e,r,n)}async function Jr(t,e,r,n,a){return pc(t,"POST",e,n,a,r)}async function Kx(t,e,r,n,a){return pc(t,"PUT",e,n,a,r)}async function UK(t,e,r,n){return pc(t,"HEAD",e,Ce(Ce({},r),{},{noResolveJson:!0}),n)}async function ow(t,e,r,n,a){return pc(t,"DELETE",e,n,a,r)}var FK=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};let dT;dT=Symbol.toStringTag;var zK=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[dT]="BlobDownloadBuilder",this.promise=null}asStream(){return new FK(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};const WK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HK=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=sw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let s;const c=Ce(Ce({},hE),n);let u=Ce(Ce({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),d&&s.append("metadata",a.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),d&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),n?.headers&&(u=Ce(Ce({},u),n.headers));const h=a._removeEmptyFolders(e),p=a._getFinalPath(h),m=await(t=="PUT"?Kx:Jr)(a.fetch,`${a.url}/object/${p}`,s,Ce({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const s=a._removeEmptyFolders(t),c=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${c}`);u.searchParams.set("token",e);try{let d;const h=Ce({upsert:hE.upsert},n),p=Ce(Ce({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:s,fullPath:(await Kx(a.fetch,u.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(pt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Ce({},r.headers);e?.upsert&&(a["x-upsert"]="true");const s=await Jr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(r.url+s.url),u=c.searchParams.get("token");if(!u)throw new Qf("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Jr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await Jr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),s=await Jr(n.fetch,`${n.url}/object/sign/${a}`,Ce({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await Jr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Ce(Ce({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",s=this._getFinalPath(t),c=()=>tc(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new zK(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Vx(await tc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await UK(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n)&&n instanceof Hx){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Ce(Ce(Ce({},WK),e),{},{prefix:t||""});return{data:await Jr(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Ce({},t);return{data:await Jr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const fT="2.89.0",hT={"X-Client-Info":`storage-js/${fT}`};var VK=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ce(Ce({},hT),e),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await tc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await tc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Jr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Kx(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},KK=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},hT),e),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await tc(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ow(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!RK(t))throw new Qf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new CK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const c=a[s];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const lw={"X-Client-Info":`storage-js/${fT}`,"Content-Type":"application/json"};var pT=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var u0=class extends pT{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},GK=class extends pT{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const cw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XK=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YK=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||n+"";e(new u0(pE(s),n,c))}).catch(()=>{const s=n+"";e(new u0(a.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new u0(a.statusText||`HTTP ${n} error`,n,s))}}else e(new GK(pE(t),t))},JK=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(XK(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Ce(Ce({},a),r)):a};async function QK(t,e,r,n,a,s){return new Promise((c,u)=>{t(r,JK(e,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>YK(d,u,n))})}async function Nr(t,e,r,n,a){return QK(t,"POST",e,n,a,r)}var ZK=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}},eG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Nr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},tG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Nr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},rG=class extends tG{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new nG(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},nG=class extends ZK{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new aG(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},aG=class extends eG{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},iG=class extends VK{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new HK(this.url,this.headers,t,this.fetch)}get vectors(){return new rG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KK(this.url+"/iceberg",this.headers,this.fetch)}};const mT="2.89.0",cs=30*1e3,Gx=3,d0=Gx*cs,sG="http://localhost:9999",oG="supabase.auth.token",lG={"X-Client-Info":`gotrue-js/${mT}`},Xx="X-Supabase-Api-Version",gT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uG=600*1e3;class rc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dG extends rc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fG(t){return Ne(t)&&t.name==="AuthApiError"}class ii extends rc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qn extends rc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class br extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hG(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class ts extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ed extends Qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class td extends Qn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pG(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class mE extends Qn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mG extends Qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yx extends Qn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function f0(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class gE extends Qn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Jx extends Qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vE=` 	
\r=`.split(""),gG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vE.length;e+=1)t[vE[e].charCodeAt(0)]=-2;for(let e=0;e<uf.length;e+=1)t[uf[e].charCodeAt(0)]=e;return t})();function yE(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(uf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(uf[n]),e.queuedBits-=6}}function vT(t,e,r){const n=gG[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xE(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{xG(c,n,r)};for(let c=0;c<t.length;c+=1)vT(t.charCodeAt(c),a,s);return e.join("")}function vG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yG(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}vG(n,e)}}function xG(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ws(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)vT(t.charCodeAt(a),r,n);return new Uint8Array(e)}function bG(t){const e=[];return yG(t,r=>e.push(r)),new Uint8Array(e)}function fi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>yE(a,r,n)),yE(null,r,n),e.join("")}function wG(t){return Math.round(Date.now()/1e3)+t}function jG(){return Symbol("auth-callback")}const zt=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},yT=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function _G(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const xT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",us=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ei=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ft=async(t,e)=>{await t.removeItem(e)};class Zf{constructor(){this.promise=new Zf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Zf.promiseConstructor=Promise;function h0(t){const e=t.split(".");if(e.length!==3)throw new Jx("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!cG.test(e[n]))throw new Jx("JWT not in base64url format");return{header:JSON.parse(xE(e[0])),payload:JSON.parse(xE(e[1])),signature:ws(e[2]),raw:{header:e[0],payload:e[1]}}}async function NG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kG(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await t(s);if(!e(s,null,c)){n(c);return}}catch(c){if(!e(s,c)){a(c);return}}})()})}function OG(t){return("0"+t.toString(16)).substr(-2)}function AG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,OG).join("")}async function EG(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function PG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await EG(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(t,e,r=!1){const n=AG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await us(t,`${e}-code-verifier`,a);const s=await PG(n);return[s,n===s?"plain":"s256"]}const CG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TG(t){const e=t.headers.get(Xx);if(!e||!e.match(CG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $G(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ns(t){if(!RG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function p0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IG(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function bE(t){return JSON.parse(JSON.stringify(t))}const ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DG=[502,503,504];async function wE(t){var e;if(!SG(t))throw new Yx(ni(t),0);if(DG.includes(t.status))throw new Yx(ni(t),t.status);let r;try{r=await t.json()}catch(s){throw new ii(ni(s),s)}let n;const a=TG(t);if(a&&a.getTime()>=gT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gE(ni(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new gE(ni(r),t.status,r.weak_password.reasons);throw new dG(ni(r),t.status||500,n)}const LG=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Pe(t,e,r,n){var a;const s=Object.assign({},n?.headers);s[Xx]||(s[Xx]=gT["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await BG(t,e,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function BG(t,e,r,n,a,s){const c=LG(e,n,a,s);let u;try{u=await t(r,Object.assign({},c))}catch(d){throw console.error(d),new Yx(ni(d),0)}if(u.ok||await wE(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await wE(d)}}function Yr(t){var e;let r=null;FG(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=wG(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function jE(t){const e=Yr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _a(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qG(t){return{data:t,error:null}}function UG(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,c=Jf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function _E(t){return t}function FG(t){return t.access_token&&t.refresh_token&&t.expires_in}const m0=["global","local","others"];class zG{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=m0[0]){if(m0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${m0.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Jf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:UG,redirectTo:r?.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_a})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_E});if(p.error)throw p.error;const m=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);h[`${y}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ne(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ns(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_a})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ns(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_a})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ns(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ns(e.userId);try{const{data:r,error:n}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ns(e.userId),ns(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,s,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_E});if(p.error)throw p.error;const m=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);h[`${y}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ne(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function SE(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const as={debug:!!(globalThis&&yT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WG extends bT{}async function HG(t,e,r){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(as.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KG(t){return parseInt(t,16)}function GG(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function XG(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:c,notBefore:u,requestId:d,resources:h,scheme:p,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=wT(t.address),w=p?`${p}://${n}`:n,j=t.statement?`${t.statement}
`:"",y=`${w} wants you to sign in with your Ethereum account:
${b}

${j}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let A=`
Resources:`;for(const N of h){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);A+=`
- ${N}`}k+=A}return`${y}
${k}`}class Nt extends Error{constructor({message:e,code:r,cause:n,name:a}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class df extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function YG({error:t,options:e}){var r,n,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(jT(c)){if(s.rp.id!==c)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JG({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(jT(n)){if(r.rpId!==n)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZG=new QG;function eX(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Jf(t,["challenge","user","excludeCredentials"]),s=ws(e).buffer,c=Object.assign(Object.assign({},r),{id:ws(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:ws(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function tX(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Jf(t,["challenge","allowCredentials"]),a=ws(e).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},u),{id:ws(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function rX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:fi(new Uint8Array(t.response.attestationObject)),clientDataJSON:fi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fi(new Uint8Array(a.authenticatorData)),clientDataJSON:fi(new Uint8Array(a.clientDataJSON)),signature:fi(new Uint8Array(a.signature)),userHandle:a.userHandle?fi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function NE(){var t,e;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aX(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new df("Browser returned unexpected credential type",e)}:{data:null,error:new df("Empty credential response",e)}}catch(e){return{data:null,error:YG({error:e,options:t})}}}async function iX(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new df("Browser returned unexpected credential type",e)}:{data:null,error:new df("Empty credential response",e)}}catch(e){return{data:null,error:JG({error:e,options:t})}}}const sX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const s in a){const c=a[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(e(c)){const u=n[s];e(u)?n[s]=ff(u,c):n[s]=ff(c)}else n[s]=c}return n}function lX(t,e){return ff(sX,t,e||{})}function cX(t,e){return ff(oX,t,e||{})}class uX{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},s){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const d=a??ZG.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=lX(c.webauthn.credential_options.publicKey,s?.create),{data:p,error:m}=await aX({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=cX(c.webauthn.credential_options.publicKey,s?.request),{data:p,error:m}=await iX(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new ii("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new rc("rpId is required for WebAuthn authentication")};try{if(!NE())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new ii("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new rc("rpId is required for WebAuthn registration")};try{if(!NE())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Ne(c)?{data:null,error:c}:{data:null,error:new ii("Unexpected error in register",c)}}}}VG();const dX={url:sG,storageKey:oG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function kE(t,e,r){return await r()}const is={};class nc{get jwks(){var e,r;return(r=(e=is[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=is[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},dX),e);if(this.storageKey=s.storageKey,this.instanceID=(r=nc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&zt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zG({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xT(s.fetch),this.lock=s.lock||kE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&zt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=HG:this.lock=kE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:yT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=SE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=SE(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(zt()&&(r=_G(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),zt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),pG(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new ii("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Yr}),{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:p,password:m,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await rs(this.storage,this.storageKey)),s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Yr})}else if("phone"in e){const{phone:p,password:m,options:v}=e;s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Yr})}else throw new ed("You must provide either an email or phone number and a password");const{data:c,error:u}=s;if(u||!c)return await Ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:c,options:u}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jE})}else if("phone"in e){const{phone:s,password:c,options:u}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jE})}else throw new ed("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ts;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,s,c,u,d,h,p,m,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:j,wallet:y,statement:k,options:A}=e;let N;if(zt())if(typeof y=="object")N=y;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")N=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const E=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),_=await N.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=wT(_[0]);let C=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await N.request({method:"eth_chainId"});C=KG(R)}const P={domain:E.host,address:O,statement:k,uri:E.href,version:"1",chainId:C,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=XG(P),w=await N.request({method:"personal_sign",params:[GG(b),O]})}try{const{data:j,error:y}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Yr});if(y)throw y;if(!j||!j.session||!j.user){const k=new ts;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:y})}catch(j){if(Ne(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var r,n,a,s,c,u,d,h,p,m,v,b;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:y,wallet:k,statement:A,options:N}=e;let E;if(zt())if(typeof k=="object")E=k;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))E=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=k}const _=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const O=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),A?{statement:A}:null));let C;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")C=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)C=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),j=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(p=N?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const O=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=O}}try{const{data:y,error:k}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fi(j)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Yr});if(k)throw k;if(!y||!y.session||!y.user){const A=new ts;return this._returnResult({data:{user:null,session:null},error:A})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:k})}catch(y){if(Ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await ei(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new mG;const{data:s,error:c}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Yr});if(await Ft(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const u=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:c})}catch(s){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:c}=e,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Yr}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new ts;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,s,c;try{if("email"in e){const{email:u,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await rs(this.storage,this.storageKey));const{error:m}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:p}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new ed("You must provide either an email or phone number.")}catch(u){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Yr});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,s,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await rs(this.storage,this.storageKey));const h=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:qG});return!((s=h.data)===null||s===void 0)&&s.url&&zt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new br;const{error:a}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:c}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:c,error:u}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new ed("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<d0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await ei(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=p0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=IG(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_a}):await this._useSession(async r=>{var n,a,s;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:_a})})}catch(r){if(Ne(r))return hG(r)&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new br;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await rs(this.storage,this.storageKey));const{data:h,error:p}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:_a});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new br;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:c}=h0(e.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new br;const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!zt())throw new td("No browser detected.");if(e.error||e.error_description||e.error_code)throw new td(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mE("No code detected.");const{data:A,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!c||!h)throw new td("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let v=p+m;d&&(v=parseInt(d));const b=v-p;b*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const w=v-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:j,error:y}=await this._getUser(s);if(y)throw y;const k={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:m,expires_at:v,refresh_token:c,token_type:h,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(fG(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=jG(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await rs(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var c,u,d,h,p;const{data:m,error:v}=s;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return zt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:h,nonce:p}=e,m=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Yr}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ts}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)throw c;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kG(async a=>(a>0&&await NG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yr})),(a,s)=>{const c=200*Math.pow(2,a);return s&&f0(s)&&Date.now()+c-n<cs})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),zt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ei(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ei(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await us(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:p0()}else if(a&&!a.user&&!a.user){const c=await ei(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Ft(this.storage,this.storageKey+"-user"),await us(this.storage,this.storageKey,a)):a.user=p0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<d0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${d0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),f0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zf;const{data:s,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new br;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ne(s)){const c={data:null,error:s};return f0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ft(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await us(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=bE(a);await us(this.storage,this.storageKey,s)}else{const a=bE(r);await us(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ft(this.storage,this.storageKey),await Ft(this.storage,this.storageKey+"-code-verifier"),await Ft(this.storage,this.storageKey+"-user"),this.userStorage&&await Ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cs}ms, refresh threshold is ${Gx} ticks`),a<=Gx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await rs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rX(e.webauthn.credential_response):nX(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:eX(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:tX(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=h0(n.access_token);let c=null;s.aal&&(c=s.aal);let u=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new br})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new br});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&zt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new br});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&zt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new br})})}catch(e){if(Ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new br})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+uG>a)return n;const{data:s,error:c}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});n=b.session.access_token}const{header:a,payload:s,signature:c,raw:{header:u,payload:d}}=h0(n);r?.allowExpired||MG(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:a,signature:c},error:null}}const p=$G(a.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,c,bG(`${u}.${d}`)))throw new Jx("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}nc.nextInstanceID={};const fX=nc,hX="2.89.0";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const pX={"X-Client-Info":`supabase-js-${ol}/${hX}`},mX={headers:pX},gX={schema:"public"},vX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yX={};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function xX(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bX(t){var e=xX(t,"string");return ac(e)=="symbol"?e:e+""}function wX(t,e,r){return(e=bX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){wX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const jX=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_X=()=>Headers,SX=(t,e,r)=>{const n=jX(r),a=_X();return async(s,c)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new a(c?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(s,yt(yt({},c),{},{headers:h}))}};function NX(t){return t.endsWith("/")?t:t+"/"}function kX(t,e){var r,n;const{db:a,auth:s,realtime:c,global:u}=t,{db:d,auth:h,realtime:p,global:m}=e,v={db:yt(yt({},d),a),auth:yt(yt({},h),s),realtime:yt(yt({},p),c),storage:{},global:yt(yt(yt({},m),u),{},{headers:yt(yt({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function OX(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NX(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var AX=class extends fX{constructor(t){super(t)}},EX=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const s=OX(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:gX,realtime:yX,auth:yt(yt({},vX),{},{storageKey:c}),global:mX},d=kX(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=SX(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new lK(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iG(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new nK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:c,lock:u,debug:d,throwOnError:h},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AX({url:this.authUrl.href,headers:yt(yt({},v),p),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:c,lock:u,debug:d,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new NK(this.realtimeUrl.href,yt(yt({},t),{},{params:yt(yt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PX=(t,e,r)=>new EX(t,e,r);function CX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}CX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TX="https://llfwrwyqaswehksgvcyr.supabase.co",MX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZndyd3lxYXN3ZWhrc2d2Y3lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1MjY5MTYsImV4cCI6MjA4MjEwMjkxNn0.A-kfpYPjYFvGqg83iVyLCJSq5BavQ8w9fSvNqHQ7DBY",xa=PX(TX,MX),_T=M.createContext(void 0);function $X({children:t}){const[e,r]=M.useState(null),[n,a]=M.useState(null),[s,c]=M.useState(null),[u,d]=M.useState(!0),[h,p]=M.useState(null),[m,v]=M.useState(null),[b,w]=M.useState([]),j=(n?.role==="super_admin"||n?.role==="admin")&&!n?.tenant_id,y=M.useCallback(async _=>{try{let{data:O}=await xa.from("user_profiles").select("*, tenant:tenants(*)").eq("auth_id",_.id).maybeSingle();if(!O&&_.email){const{data:P}=await xa.from("user_profiles").select("*, tenant:tenants(*)").eq("email",_.email).maybeSingle();P&&(await xa.from("user_profiles").update({auth_id:_.id}).eq("id",P.id),O=P)}if(!O){console.warn("Perfil no encontrado para:",_.email),p("Perfil no encontrado. Contate o administrador."),d(!1);return}if(a(O),v(O.tenant||null),(O.role==="super_admin"||O.role==="admin")&&!O.tenant_id){const{data:P}=await xa.from("tenants").select("*").eq("active",!0).order("name");w(P||[])}p(null)}catch(O){console.error("Erro ao carregar perfil:",O),p(O.message)}},[]);M.useEffect(()=>{let _=!0;async function O(){try{const{data:{session:P},error:R}=await xa.auth.getSession();if(!_)return;if(R){console.error("Erro ao obter sesso:",R),d(!1);return}c(P),r(P?.user??null),P?.user&&await y(P.user)}catch(P){console.error("Erro na inicializao:",P)}finally{_&&d(!1)}}O();const{data:{subscription:C}}=xa.auth.onAuthStateChange(async(P,R)=>{_&&(c(R),r(R?.user??null),P==="SIGNED_IN"&&R?.user?(d(!0),await y(R.user),d(!1)):P==="SIGNED_OUT"&&(a(null),v(null),w([]),p(null)))});return()=>{_=!1,C.unsubscribe()}},[y]);async function k(_,O){p(null),d(!0);try{const{error:C}=await xa.auth.signInWithPassword({email:_,password:O});if(C)throw C}catch(C){throw p(C.message),d(!1),C}}async function A(){const{error:_}=await xa.auth.signOut();if(_)throw _;a(null),v(null),w([])}function N(_){if(j)if(_===null)v(null);else{const O=b.find(C=>C.id===_);v(O||null)}}function E(_,O){if(!n)return!1;if(n.role==="super_admin"||n.role==="admin")return!0;const C=n.permissions?.[_];return C?C[O]===!0:!1}return l.jsx(_T.Provider,{value:{user:e,profile:n,session:s,loading:u,error:h,tenant:m,availableTenants:b,signIn:k,signOut:A,switchTenant:N,isSuperAdmin:j,canManage:E},children:t})}function eh(){const t=M.useContext(_T);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const RX={admin:["view_all_tenants","manage_users","manage_tenants","view_metrics","export_data","manage_settings"],manager:["view_metrics","export_data"],user:[]};function IX(){const{profile:t,tenant:e}=eh(),r=t?.role||"user",n=RX[r]||[],a=v=>n.includes(v),s=a("view_all_tenants"),c=a("manage_users"),u=a("manage_tenants"),d=a("view_metrics"),h=a("export_data"),p=a("manage_settings"),m=s?null:e?.id;return{role:r,permissions:n,hasPermission:a,canViewAllTenants:s,canManageUsers:c,canManageTenants:u,canViewMetrics:d,canExportData:h,canManageSettings:p,allowedTenantId:m,isAdmin:r==="admin",isManager:r==="manager",isUser:r==="user"}}const DX="/api";function tl({label:t,value:e,icon:r,color:n}){return l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-500 uppercase",children:t}),l.jsx(r,{className:`w-4 h-4 ${n}`})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})}function LX(){const[t,e]=M.useState([]),[r,n]=M.useState(!0),[a,s]=M.useState(!1);M.useEffect(()=>{c()},[]);const c=async(d=!1)=>{try{d?s(!0):n(!0);const p=await(await fetch(`${DX}/tenants/metrics`)).json();e(Array.isArray(p)?p:[p])}catch(h){console.error("Error loading metrics:",h)}finally{n(!1),s(!1)}},u=t.reduce((d,h)=>({conversations:d.conversations+h.metrics.conversations,leads:d.leads+h.metrics.leads,qualified:d.qualified+h.metrics.qualified_leads,messages:d.messages+h.metrics.messages,tokens:d.tokens+h.metrics.tokens_used}),{conversations:0,leads:0,qualified:0,messages:0,tokens:0});return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(ml,{className:"w-6 h-6 text-[#f57f17]"}),"Mtricas por Cliente"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consumo e performance de cada tenant"})]}),l.jsxs("button",{onClick:()=>c(!0),disabled:a,className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-gray-300 font-medium flex items-center gap-2 disabled:opacity-50",children:[l.jsx(wn,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Atualizar"]})]}),l.jsxs("div",{className:"rounded-2xl border border-[#f57f17]/30 bg-[#f57f17]/5 p-5",children:[l.jsx("h3",{className:"text-sm font-semibold text-[#f57f17] mb-4",children:"TOTAIS GERAIS"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsx(tl,{label:"Conversas",value:u.conversations,icon:ir,color:"text-blue-400"}),l.jsx(tl,{label:"Leads",value:u.leads,icon:an,color:"text-emerald-400"}),l.jsx(tl,{label:"Qualificados",value:u.qualified,icon:Ca,color:"text-amber-400"}),l.jsx(tl,{label:"Mensagens",value:u.messages,icon:ir,color:"text-cyan-400"}),l.jsx(tl,{label:"Tokens",value:u.tokens.toLocaleString(),icon:on,color:"text-purple-400"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase",children:"Por Cliente"}),t.map(d=>l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-5",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx(bn,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white",children:d.tenant_name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",d.tenant_slug]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.conversations}),l.jsx("p",{className:"text-xs text-gray-500",children:"Conversas"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Leads"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-emerald-400",children:d.metrics.qualified_leads}),l.jsx("p",{className:"text-xs text-gray-500",children:"Qualificados"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsxs("p",{className:"text-lg font-bold text-amber-400",children:[d.metrics.conversion_rate,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Converso"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mensagens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-cyan-400",children:d.metrics.assistant_messages}),l.jsx("p",{className:"text-xs text-gray-500",children:"Respostas IA"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-purple-400",children:d.metrics.tokens_used.toLocaleString()}),l.jsx("p",{className:"text-xs text-gray-500",children:"Tokens"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[l.jsx("p",{className:"text-lg font-bold text-white",children:d.metrics.avg_messages_per_conversation}),l.jsx("p",{className:"text-xs text-gray-500",children:"Msgs/Conv"})]})]})]},d.tenant_id))]})]})}const AE="/api",BX=[{id:"mon",label:"Seg"},{id:"tue",label:"Ter"},{id:"wed",label:"Qua"},{id:"thu",label:"Qui"},{id:"fri",label:"Sex"},{id:"sat",label:"Sb"},{id:"sun",label:"Dom"}];function qX({tenantId:t,onBack:e}){const[r,n]=M.useState(null),[a,s]=M.useState(!0),[c,u]=M.useState(!1),[d,h]=M.useState("agent"),[p,m]=M.useState(""),[v,b]=M.useState(""),[w,j]=M.useState(""),[y,k]=M.useState(!0),[A,N]=M.useState("friendly"),[E,_]=M.useState(!0),[O,C]=M.useState(2),[P,R]=M.useState(450),[U,I]=M.useState(18),[F,L]=M.useState(1750),[G,B]=M.useState(["mon","tue","wed","thu","fri"]),[z,ee]=M.useState("09:00"),[H,W]=M.useState("18:00"),[J,$]=M.useState("");M.useEffect(()=>{t&&q(t)},[t]);const q=async ie=>{try{s(!0);const ge=(await(await fetch(`${AE}/tenants`)).json()).find(oe=>oe.id===ie);ge&&(n(ge),m(ge.zapi_config?.instance_id||""),b(ge.zapi_config?.token||""),j(ge.zapi_config?.clientToken||""),k(ge.agent_config?.enabled??!0),N(ge.agent_config?.personality||"friendly"),_(ge.agent_config?.useEmojis??!0),C(ge.agent_config?.maxBubbles??2),R(ge.agent_config?.delays?.base??450),I(ge.agent_config?.delays?.perChar??18),L(ge.agent_config?.delays?.cap??1750),B(ge.business_hours?.days||["mon","tue","wed","thu","fri"]),ee(ge.business_hours?.open||"09:00"),W(ge.business_hours?.close||"18:00"),$(ge.prompt||""))}catch(me){console.error("Error loading tenant:",me)}finally{s(!1)}},ne=async()=>{if(r)try{u(!0);const ie={};d==="zapi"?ie.zapi_config={instance_id:p||null,token:v||null,clientToken:w||null}:d==="agent"?ie.agent_config={enabled:y,personality:A,useEmojis:E,maxBubbles:O,delays:{base:P,perChar:U,cap:F}}:d==="hours"?ie.business_hours={days:G,open:z,close:H}:d==="prompt"&&(ie.prompt=J),await fetch(`${AE}/tenants?id=${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),alert("Configuraes salvas!")}catch(ie){console.error("Error saving:",ie),alert("Erro ao salvar")}finally{u(!1)}},se=ie=>{B(me=>me.includes(ie)?me.filter(Me=>Me!==ie):[...me,ie])};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(bt,{className:"w-8 h-8 text-[#f57f17] animate-spin"})}):r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[e&&l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center justify-center",children:l.jsx(CM,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(jn,{className:"w-6 h-6 text-[#f57f17]"}),"Configurar: ",r.name]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",r.slug]})]})]}),l.jsx("div",{className:"flex gap-2 border-b border-white/10 pb-2",children:[{id:"agent",label:"Agente IA",icon:v0},{id:"zapi",label:"Z-API",icon:zn},{id:"hours",label:"Horrios",icon:Oa},{id:"prompt",label:"Prompt",icon:ir}].map(ie=>l.jsxs("button",{onClick:()=>h(ie.id),className:`px-4 py-2 rounded-xl flex items-center gap-2 text-sm font-medium transition-all ${d===ie.id?"bg-[#f57f17]/20 text-[#f57f17] border border-[#f57f17]/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[l.jsx(ie.icon,{className:"w-4 h-4"}),ie.label]},ie.id))}),l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-6",children:[d==="zapi"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao Z-API"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instance ID"}),l.jsx("input",{type:"text",value:p,onChange:ie=>m(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:"3E9D7E00D9E221F57F51AAEE8857FDA1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Token"}),l.jsx("input",{type:"password",value:v,onChange:ie=>b(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Client Token"}),l.jsx("input",{type:"password",value:w,onChange:ie=>j(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50",placeholder:""})]})]}),d==="agent"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Configurao do Agente"}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Agente Ativo"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ativar/desativar respostas automticas"})]}),l.jsx("button",{onClick:()=>k(!y),className:`h-8 w-14 rounded-full transition-all ${y?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${y?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Personalidade"}),l.jsxs("select",{value:A,onChange:ie=>N(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50",children:[l.jsx("option",{value:"friendly",children:"Amigvel"}),l.jsx("option",{value:"professional",children:"Profissional"}),l.jsx("option",{value:"casual",children:"Casual"}),l.jsx("option",{value:"formal",children:"Formal"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:"Usar Emojis"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Incluir emojis nas respostas"})]}),l.jsx("button",{onClick:()=>_(!E),className:`h-8 w-14 rounded-full transition-all ${E?"bg-[#f57f17]":"bg-white/20"}`,children:l.jsx("div",{className:`h-6 w-6 rounded-full bg-white transition-all ${E?"ml-7":"ml-1"}`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Mx. Bolhas por Resposta"}),l.jsx("input",{type:"number",value:O,onChange:ie=>C(parseInt(ie.target.value)||2),min:1,max:5,className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Base (ms)"}),l.jsx("input",{type:"number",value:P,onChange:ie=>R(parseInt(ie.target.value)||450),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay/Char (ms)"}),l.jsx("input",{type:"number",value:U,onChange:ie=>I(parseInt(ie.target.value)||18),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Delay Mx (ms)"}),l.jsx("input",{type:"number",value:F,onChange:ie=>L(parseInt(ie.target.value)||1750),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="hours"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Horrio de Funcionamento"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Dias Ativos"}),l.jsx("div",{className:"flex gap-2",children:BX.map(ie=>l.jsx("button",{onClick:()=>se(ie.id),className:`h-10 w-12 rounded-lg text-sm font-medium transition-all ${G.includes(ie.id)?"bg-[#f57f17] text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:ie.label},ie.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Abre s"}),l.jsx("input",{type:"time",value:z,onChange:ie=>ee(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fecha s"}),l.jsx("input",{type:"time",value:H,onChange:ie=>W(ie.target.value),className:"w-full h-10 px-4 rounded-xl border border-white/10 bg-white/5 text-white focus:outline-none focus:border-[#f57f17]/50"})]})]})]}),d==="prompt"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Prompt do Agente"}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Instrues personalizadas para o agente deste cliente"}),l.jsx("textarea",{value:J,onChange:ie=>$(ie.target.value),rows:12,className:"w-full px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder-gray-500 focus:outline-none focus:border-[#f57f17]/50 resize-none font-mono text-sm",placeholder:"Voc  um assistente especializado em..."})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:ne,disabled:c,className:"h-10 px-6 rounded-xl bg-[#f57f17] hover:bg-[#ef6c00] text-white font-semibold flex items-center gap-2 disabled:opacity-50",children:[c?l.jsx(bt,{className:"w-4 h-4 animate-spin"}):l.jsx(Ks,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]}):l.jsx("div",{className:"text-center text-gray-500 py-12",children:"Selecione um cliente para configurar"})}function UX({open:t,onClose:e,title:r,subtitle:n,children:a,maxWidthClass:s="max-w-3xl"}){return M.useEffect(()=>{if(!t)return;const c=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,e]),t?l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:l.jsxs("div",{className:["w-full",s,"rounded-[28px] border border-white/10 bg-black/85 backdrop-blur-xl shadow-2xl"].join(" "),children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[r&&l.jsx("h3",{className:"text-lg font-bold text-white truncate",children:r}),n&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),l.jsx("button",{onClick:e,className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center",title:"Fechar",children:l.jsx(ln,{className:"w-4 h-4 text-gray-300"})})]}),l.jsx("div",{className:"p-6",children:a})]})})]}):null}function FX(t){return t==="alto"?"border-emerald-500/25 bg-emerald-500/10 text-emerald-300":t==="mdio"?"border-[#f57f17]/25 bg-[#f57f17]/10 text-[#f57f17]":"border-white/10 bg-white/5 text-gray-300"}function zX(t){return t==="green"?"text-emerald-400":t==="cyan"?"text-cyan-400":t==="red"?"text-red-400":"text-[#f57f17]"}function WX(t){return t==="green"?"border-emerald-500/30 bg-emerald-500/10":t==="cyan"?"border-cyan-500/30 bg-cyan-500/10":t==="red"?"border-red-500/30 bg-red-500/10":"border-[#f57f17]/25 bg-[#f57f17]/10"}function HX({open:t,onClose:e,onGoToAnalysis:r}){const[n,a]=M.useState(null),s=M.useMemo(()=>[{id:"s1",title:"Fila de follow-up (Prontos  agendar)",reason:"Voc tem leads com alta inteno. Se voc chamar agora, aumenta muito a chance de agendar.",impact:"alto",actionLabel:"Copiar mensagem",messageToCopy:"Oi! Vi que voc ficou com interesse  consigo te ajudar a agendar uma avaliao rpida. Qual melhor horrio hoje ou amanh?",icon:$E,tone:"green"},{id:"s2",title:"Responder objeo de preo com ROI e prova social",reason:"Quando preo aparece, a melhor rota  reduzir risco: mostrar resultado + comparao + garantia.",impact:"alto",actionLabel:"Copiar argumento",messageToCopy:"Entendo total sobre o preo. Pra ficar claro: o objetivo  gerar resultado e se pagar. Posso te mostrar cases e como funciona na prtica  e a voc decide com segurana.",icon:gs,tone:"orange"},{id:"s3",title:"Qualificao rpida (curioso  pronto)",reason:"Muita gente fica no curioso por falta de clareza. Faa 2 perguntas e j direciona pra oferta certa.",impact:"mdio",actionLabel:"Copiar roteiro",messageToCopy:"Pra eu te orientar certinho: 1) qual seu objetivo principal agora? 2) voc quer algo mais rpido (resultado em curto prazo) ou algo mais definitivo?",icon:Pa,tone:"cyan"},{id:"s4",title:"Atalho: mandar udio humano + CTA simples",reason:"Quando o lead est ctico/frustrado, uma mensagem humana reduz resistncia e acelera resposta.",impact:"mdio",actionLabel:"Copiar texto",messageToCopy:"Vou ser bem direto e humano: eu entendi seu caso. Se voc topar, eu te explico o melhor caminho em 2 minutos e te digo se vale a pena pra voc. Pode ser?",icon:ir,tone:"red"}],[]);async function c(u,d){try{await navigator.clipboard.writeText(u),a(d),setTimeout(()=>a(null),1200)}catch{a(null)}}return l.jsxs(UX,{open:t,onClose:e,title:"Sugestes IA",subtitle:"Aes prontas para aumentar converso (copie e aplique em 1 clique).",maxWidthClass:"max-w-4xl",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-[#f57f17]/25 bg-[#f57f17]/10 flex items-center justify-center",children:l.jsx(ar,{className:"w-5 h-5 text-[#f57f17]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Sugestes geradas automaticamente"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hoje isso  mock. Amanh a IA vai puxar das conversas e do funil."})]})]}),r&&l.jsxs("button",{onClick:()=>{e(),r()},className:"h-11 px-5 rounded-2xl border border-[#f57f17]/20 bg-[#f57f17]/10 hover:bg-[#f57f17]/15 transition-all flex items-center gap-2",children:[l.jsx(on,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"text-sm font-semibold text-[#f57f17]",children:"Ir para Anlise IA"}),l.jsx(TE,{className:"w-4 h-4 text-[#f57f17]"})]})]}),l.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:s.map(u=>l.jsxs("div",{className:"rounded-[26px] border border-white/10 bg-black/50 p-5 hover:bg-black/60 transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[l.jsx("div",{className:["h-11 w-11 rounded-2xl border flex items-center justify-center shrink-0",WX(u.tone)].join(" "),children:l.jsx(u.icon,{className:["w-5 h-5",zX(u.tone)].join(" ")})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-semibold truncate",children:u.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.reason})]})]}),l.jsxs("span",{className:["shrink-0 text-[11px] font-semibold rounded-full border px-2.5 py-1",FX(u.impact)].join(" "),children:["Impacto ",u.impact]})]}),l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Mensagem pronta"}),l.jsx("p",{className:"text-sm text-gray-200 mt-2 leading-relaxed",children:u.messageToCopy}),l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>c(u.messageToCopy,u.id),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[n===u.id?l.jsx(js,{className:"w-4 h-4 text-emerald-400"}):l.jsx(hf,{className:"w-4 h-4 text-[#f57f17]"}),n===u.id?"Copiado":u.actionLabel]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Cole no WhatsApp e mande."})]})]})]},u.id))}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 flex-wrap",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Prximo upgrade: a IA vai gerar sugestes por conversa, estgio do funil e objees detectadas."}),l.jsx("button",{onClick:e,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all text-sm font-semibold text-gray-200",children:"Fechar"})]})]})}function VX(){return"/api".replace(/\/$/,"")}const ST=VX();async function KX(){const t=await fetch(`${ST}/agent/status`);if(!t.ok)throw new Error(await t.text());return t.json()}async function GX(t){const e=await fetch(`${ST}/agent/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});if(!e.ok)throw new Error(await e.text());return e.json()}function XX(){const[t,e]=M.useState(null),[r,n]=M.useState(!1);M.useEffect(()=>{KX().then(e).catch(()=>e({enabled:!1,updated_at:null}))},[]);const a=async()=>{if(t){n(!0);try{const c=await GX(!t.enabled);e(c)}finally{n(!1)}}},s=!!t?.enabled;return l.jsxs("button",{onClick:a,disabled:r,className:["h-10 px-4 rounded-2xl border transition-all flex items-center gap-2 text-sm font-semibold",s?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-red-500/30 bg-red-500/10 text-red-200",r?"opacity-70 cursor-not-allowed":"hover:opacity-90"].join(" "),title:"Liga/desliga o agente globalmente",children:[l.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s?"#34d399":"#ef4444"}}),"Agente: ",s?"ON":"OFF"]})}function YX({value:t,onChange:e}){const[r,n]=M.useState([]),[a,s]=M.useState(!1),[c,u]=M.useState(!0);M.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await n$();n(m||[])}catch(m){console.error("Failed to load tenants:",m)}finally{u(!1)}},h=r.find(m=>m.id===t),p=h?h.name:"Todos os Clientes";return c?l.jsxs("div",{className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(bn,{className:"w-4 h-4 animate-pulse"}),l.jsx("span",{children:"Carregando..."})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>s(m=>!m),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx(bn,{className:"w-4 h-4 text-[#f57f17]"}),l.jsx("span",{className:"max-w-[160px] truncate",children:p}),l.jsx(y0,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Selecionar Cliente"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filtrar dados por cliente"})]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[l.jsxs("button",{onClick:()=>{e(null),s(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t?"":"bg-[#f57f17]/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-white/10 flex items-center justify-center",children:l.jsx(bn,{className:"w-4 h-4 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium",children:"Todos os Clientes"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Viso geral"})]})]}),!t&&l.jsx(js,{className:"w-4 h-4 text-[#f57f17]"})]}),r.map(m=>l.jsxs("button",{onClick:()=>{e(m.id),s(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 flex items-center justify-between ${t===m.id?"bg-[#f57f17]/10":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-[#f57f17]/20 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-xs",children:m.name.substring(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-white font-medium truncate",children:m.name}),l.jsx("p",{className:"text-xs text-gray-500",children:m.specialty||m.slug})]})]}),t===m.id&&l.jsx(js,{className:"w-4 h-4 text-[#f57f17]"})]},m.id))]})]})]})]})}function rl(...t){return t.filter(Boolean).join(" ")}function JX(t){const r=new Date().getTime()-t.getTime(),n=Math.floor(r/6e4),a=Math.floor(n/60),s=Math.floor(a/24);return n<1?"Agora":n<60?`${n}min atrs`:a<24?`${a}h atrs`:`${s}d atrs`}function QX(){const[t,e]=M.useState("dashboard"),[r,n]=M.useState(null),[a,s]=M.useState([]),[c,u]=M.useState([]),[d,h]=M.useState(null),[p,m]=M.useState(()=>typeof window<"u"&&localStorage.getItem("selectedTenantId")||null),[v,b]=M.useState(null);M.useEffect(()=>{p?localStorage.setItem("selectedTenantId",p):localStorage.removeItem("selectedTenantId")},[p]);const[w,j]=M.useState(!1),[y,k]=M.useState([]),[A,N]=M.useState(!0),[E,_]=M.useState(new Date),[O,C]=M.useState(!1),[P,R]=M.useState(!1),[U,I]=M.useState(!1),[F,L]=M.useState(!1),[G,B]=M.useState([]),[z,ee]=M.useState(null),H=ro(),{isAdmin:W}=IX(),{profile:J,tenant:$}=eh();M.useEffect(()=>{!W&&$?.id&&!p&&m($.id)},[W,$,p]);const q=H?aT():"default",ne=H?no():null,se=M.useMemo(()=>H?KH():[],[H]),ie=M.useMemo(()=>{const he=[{id:"dashboard",label:"Dashboard",icon:qM},{id:"conversations",label:"Conversas",icon:ir},{id:"leads",label:"Leads",icon:an},{id:"funnel",label:"Funil",icon:Ca},{id:"analysis",label:"Anlise IA",icon:ml},{id:"reports",label:"Relatrios",icon:gi},{id:"training",label:"Treinamento",icon:ka},{id:"integrations",label:"Integraes",icon:b0},{id:"agent-studio",label:"Agent Studio",icon:HM},{id:"settings",label:"Configuraes",icon:jn}];return H&&he.splice(5,0,{id:"demo-generator",label:"Demo Generator",icon:ud}),he},[H]),me=G.filter(he=>!he.read).length,Me=he=>{B(Ue=>Ue.map($e=>$e.id===he?{...$e,read:!0}:$e))},ge=()=>{B(he=>he.map(Ue=>({...Ue,read:!0})))};M.useEffect(()=>{if(oe(!0),H)return;const he=setInterval(()=>{_(new Date),oe(!1,p)},3e4);return()=>clearInterval(he)},[]),M.useEffect(()=>{H||oe(!1,p)},[p]);const oe=async(he=!1,Ue)=>{const $e=Ue!==void 0?Ue:p;try{if(he&&N(!0),C(!0),H&&ne){n(ne.stats);const pr=(ne.conversations||[]).map(X=>({id:X.id,chat_id:X.phone,phone:X.phone,name:X.name,last_message:X.last_message,status:X.status,updated_at:X.updated_at,created_at:X.created_at??X.updated_at,current_emotion:X.current_emotion,lead_id:X.lead_id,tags:X.tags||[]})),lt=(ne.leads||[]).map(X=>({id:X.id,name:X.name,phone:X.phone,status:X.status??"new",score:X.score,tags:X.tags||[],stage:X.stage,urgency_level:X.urgency_level,health_score:X.health_score,conversion_probability:X.conversion_probability,created_at:X.created_at,updated_at:X.updated_at}));s(pr),u(lt),_(new Date),N(!1),C(!1);return}const[Xe,at,Qt]=await Promise.all([r$($e||void 0),a$(50,$e||void 0),i$(50,$e||void 0)]);n(Xe),s(at||[]),u(Qt||[]),_(new Date)}catch(Xe){console.error("Error loading data:",Xe)}finally{N(!1),C(!1)}},be=async he=>{if(h(he),H&&ne){const Ue=(ne.messages||[]).filter($e=>$e.conversation_id===he.id).sort(($e,Xe)=>$e.created_at>Xe.created_at?1:-1).map($e=>({id:$e.id,conversation_id:$e.conversation_id,sender:$e.from,content:$e.text,text:$e.text,created_at:$e.created_at}));k(Ue);return}k([])},ke=(he,Ue)=>{ee({type:he,message:Ue}),setTimeout(()=>ee(null),4e3)},Z=he=>{const Ue=a.find($e=>$e?.lead_id===he?.id)||a.find($e=>$e?.phone===he?.phone)||null;e("conversations"),Ue&&(h(Ue),be(Ue))},Se=async(he,Ue)=>{const $e=he.phone?.replace("@c.us","").replace(/\D/g,"");if(!$e){ke("error","Lead sem telefone vlido");return}let Xe=Ue;if(!Xe){const at={pronto:"Oi! Vi que voc est quase fechando. Posso te ajudar a finalizar agora?",empolgado:"E a, tudo certo? Quer que eu te explique os prximos passos?",curioso:"Oi! Ficou alguma dvida? T aqui pra te ajudar!",sensvel_preo:"Oi! Consegui uma condio especial pra voc. Quer saber mais?",ctico:"Oi! Entendo suas dvidas. Posso te mostrar alguns casos de sucesso?",frustrado:"Oi! Vi que teve algumas dificuldades. Como posso te ajudar?"},Qt=(he.stage||"curioso").toLowerCase();Xe=at[Qt]||"Oi! Tudo bem? Posso te ajudar com algo?"}try{if(!(await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:$e.startsWith("55")?$e:`55${$e}`,message:Xe})})).ok)throw new Error("Falha ao enviar");const Qt=new Date().toISOString();u(pr=>pr.map(lt=>{if(lt.id!==he.id)return lt;const X=Array.from(new Set([...lt.tags||[],"followup_sent"])),Re=Math.min(100,(lt.health_score??50)+6);return{...lt,tags:X,health_score:Re,updated_at:Qt,status:lt.status==="new"?"contacted":lt.status}})),s(pr=>pr.map(lt=>lt?.lead_id===he?.id||lt?.phone&&lt.phone===he?.phone?{...lt,last_message:Xe,updated_at:Qt}:lt)),ke("success",`Follow-up enviado para ${he.name||$e}`)}catch(at){console.error("Erro ao enviar follow-up:",at),ke("error","Erro ao enviar follow-up")}},Ie=async he=>{try{const Ue=await fetch(`/api/leads?id=${he.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"won"})}),$e=new Date().toISOString();u(Xe=>Xe.map(at=>at.id!==he.id?at:{...at,status:"won",updated_at:$e,tags:Array.from(new Set([...at.tags||[],"won"]))})),ke("success",`${he.name||"Lead"} marcado como GANHO!`)}catch(Ue){console.error("Erro ao marcar como ganho:",Ue),ke("error","Erro ao marcar como ganho")}},Ve=ie.find(he=>he.id===t)?.label??"Dashboard",et=t==="dashboard"?"Viso executiva e insights em tempo real":t==="conversations"?"Mensagens e atendimentos em tempo real":t==="leads"?"Pipeline e leads qualificados":t==="funnel"?"War Room: decises + aes + previso":t==="analysis"?"Follow-ups inteligentes, insights e automaes":t==="reports"?"Performance do funil, exportaes e relatrios por perodo":t==="training"?"Configure prompt, base de conhecimento e prova social":t==="integrations"?"Conecte WhatsApp, banco e ferramentas":t==="settings"?"Preferncias e ajustes do sistema":t==="agent-studio"?"Controle total do comportamento do agente":t==="demo-generator"?"Crie demos realistas":"Viso geral do sistema";if(A)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mx-auto mb-5 w-14 h-14",children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-[#f57f17]/15 blur-xl"}),l.jsx("div",{className:"relative w-14 h-14 rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:l.jsx(wn,{className:"w-7 h-7 text-[#f57f17] animate-spin"})})]}),l.jsx("p",{className:"text-gray-300 font-medium",children:"Carregando DOCA AI"}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Central de Comando"})]})});const gt=se.find(he=>he.key===q)?.label||(q?String(q):"Demo");return l.jsxs("div",{className:"min-h-screen text-white bg-black",children:[l.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[l.jsx("div",{className:"absolute -top-32 left-[-140px] h-[520px] w-[520px] rounded-full bg-[#f57f17]/18 blur-3xl"}),l.jsx("div",{className:"absolute top-12 right-[-220px] h-[560px] w-[560px] rounded-full bg-cyan-500/12 blur-3xl"}),l.jsx("div",{className:"absolute bottom-[-260px] left-[18%] h-[620px] w-[620px] rounded-full bg-emerald-500/10 blur-3xl"})]}),l.jsxs("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/45 backdrop-blur-xl",children:[l.jsxs("div",{className:"px-6 py-3 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:"https://assets.zyrosite.com/Yan0w5Vy86ho0JE8/docafff-AR01ja72GDhG0JOo.png",alt:"DOCA",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"leading-tight",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA AI"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Central de Comando"})]}),l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-[#f57f17]/10 text-[#f57f17] border border-[#f57f17]/20",children:"BETA"}),H&&l.jsx("span",{className:"hidden sm:inline ml-2 px-2.5 py-1 rounded-full text-[11px] font-semibold bg-white/5 text-gray-200 border border-white/10",children:"DEMO"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!H&&W&&l.jsx(YX,{value:p,onChange:m}),H&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>R(he=>!he),className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200",children:[l.jsx("span",{className:"hidden sm:inline",children:gt}),l.jsx(y0,{className:"w-4 h-4 text-gray-400"})]}),P&&l.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl border border-white/10 bg-black/85 backdrop-blur-xl shadow-xl overflow-hidden z-30",children:se.map(he=>l.jsx("a",{href:`/?demo=${he.key}`,className:"block px-4 py-3 text-sm text-gray-200 hover:bg-white/5",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate",children:he.label}),l.jsx("span",{className:"text-[11px] rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-gray-400",children:he.source==="generated"?"GERADA":"FIXA"})]})},he.key))})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>L(he=>!he),className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center relative",title:"Notificaes",children:[l.jsx(g0,{className:"w-4 h-4 text-gray-300"}),me>0&&l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-[#f57f17] text-[10px] font-bold text-white flex items-center justify-center",children:me})]}),F&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>L(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl border border-white/10 bg-black/90 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notificaes"}),me>0&&l.jsx("button",{onClick:ge,className:"text-xs text-[#f57f17] hover:underline",children:"Marcar todas como lidas"})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto",children:G.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Nenhuma notificao"}):G.map(he=>l.jsx("button",{onClick:()=>Me(he.id),className:rl("w-full px-4 py-3 text-left hover:bg-white/5 border-b border-white/5 last:border-0",!he.read&&"bg-white/5"),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:rl("h-8 w-8 rounded-lg flex items-center justify-center flex-shrink-0",he.type==="urgent"&&"bg-red-500/20 text-red-400",he.type==="lead"&&"bg-emerald-500/20 text-emerald-400",he.type==="system"&&"bg-white/10 text-gray-400"),children:[he.type==="urgent"&&l.jsx(rr,{className:"w-4 h-4"}),he.type==="lead"&&l.jsx(an,{className:"w-4 h-4"}),he.type==="system"&&l.jsx(jn,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:he.title}),!he.read&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f57f17] flex-shrink-0"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:he.message}),l.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:JX(he.time)})]})]})},he.id))}),l.jsx("div",{className:"px-4 py-2 border-t border-white/10",children:l.jsx("button",{onClick:()=>{L(!1),e("settings")},className:"w-full h-9 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-gray-400",children:"Configurar notificaes"})})]})]})]}),!H&&l.jsx(XX,{}),l.jsxs("button",{onClick:()=>oe(!1),disabled:O,className:"h-10 px-4 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center gap-2 text-sm font-semibold text-gray-200 disabled:opacity-50",title:"Atualizar",children:[l.jsx(wn,{className:rl("w-4 h-4 text-[#f57f17]",O&&"animate-spin")}),l.jsx("span",{className:"hidden sm:inline",children:O?"Atualizando...":"Atualizar"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>j(!w),className:"h-10 px-3 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 flex items-center gap-3 transition-all",children:[l.jsx("div",{className:"h-8 w-8 rounded-2xl bg-[#f57f17]/15 border border-[#f57f17]/25 flex items-center justify-center",children:l.jsx("span",{className:"text-[#f57f17] font-bold text-sm",children:"D"})}),l.jsxs("div",{className:"leading-tight hidden sm:block",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Admin"})]}),l.jsx(y0,{className:`w-4 h-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-white/10 bg-black/95 backdrop-blur-xl shadow-xl z-50 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"DOCA Agncia IA"}),l.jsx("p",{className:"text-xs text-gray-500",children:"admin@docaperformance.com.br"})]}),l.jsxs("div",{className:"py-2",children:[l.jsxs("button",{onClick:()=>{e("users"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(an,{className:"w-4 h-4"}),"Usurios"]}),l.jsxs("button",{onClick:()=>{e("tenants"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(bn,{className:"w-4 h-4"}),"Clientes"]}),l.jsxs("button",{onClick:()=>{e("metrics"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(ml,{className:"w-4 h-4"}),"Mtricas"]})]}),l.jsx("div",{className:"py-2 border-t border-white/10",children:l.jsxs("button",{onClick:()=>{e("settings"),j(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-white/5 flex items-center gap-3",children:[l.jsx(jn,{className:"w-4 h-4"}),"Configuraes"]})})]})]})]})]})]}),l.jsx("div",{className:"px-6 py-2 border-t border-white/5",children:l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ie.map(he=>{const Ue=t===he.id;return l.jsxs("button",{onClick:()=>e(he.id),className:rl("h-9 px-3 rounded-xl border transition-all flex items-center gap-2 text-sm font-semibold whitespace-nowrap",Ue?"border-[#f57f17]/35 bg-[#f57f17]/10 text-white shadow-[0_0_0_1px_rgba(245,127,23,0.14)]":"border-white/10 bg-white/5 text-gray-300 hover:bg-white/10"),children:[l.jsx(he.icon,{className:"w-4 h-4 text-[#f57f17]"}),he.label]},he.id)})})}),l.jsxs("div",{className:"px-6 pb-4 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-gray-500",children:["DOCA AI ",l.jsx("span",{className:"mx-2 text-gray-700",children:""})," ",l.jsx("span",{className:"text-gray-300 font-semibold",children:Ve})]}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white mt-1",children:Ve}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:et})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-500 mt-1",children:[l.jsxs("div",{children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:H?"DEMO":"Online"})]}),l.jsxs("div",{children:["Atualizado: ",E.toLocaleTimeString("pt-BR")]})]})]})]}),l.jsxs("main",{className:"px-6 py-6",children:[l.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_0_0_1px_rgba(255,255,255,0.05)]",children:l.jsxs("div",{className:"p-8",children:[t==="dashboard"&&l.jsx(zH,{demoMode:H,stats:r,conversations:a,leads:c,onOpenSuggestions:()=>I(!0),onOpenInsights:()=>e("analysis"),onActivateAI:()=>e("analysis"),onGoToAnalysis:()=>e("analysis"),onOpenEvents:()=>e("reports")}),t==="conversations"&&l.jsx(tV,{tenantId:p}),t==="leads"&&l.jsx(lV,{leads:c,conversations:a,onOpenConversation:Z,onSendFollowUp:Se,onMarkAsWon:Ie}),t==="funnel"&&l.jsx(SV,{leads:c,conversations:a,onOpenConversation:Z,onSendFollowUp:Se,onMarkAsWon:Ie}),t==="analysis"&&l.jsx(WV,{tenantId:p,conversations:a,leads:c,onSendFollowUp:Se,onOpenConversation:Z}),t==="reports"&&l.jsx(AV,{leads:c,conversations:a,onGoToFunnel:()=>e("funnel")}),t==="training"&&l.jsx($V,{tenantId:p}),t==="integrations"&&l.jsx(LV,{}),t==="agent-studio"&&l.jsx(JV,{tenantId:p}),t==="settings"&&l.jsx(FV,{}),t==="users"&&l.jsx(QV,{}),t==="tenants"&&l.jsx(ZV,{selectedTenantId:p,onSelectTenant:he=>{m(he)},onConfigure:he=>{b(he),e("tenant-config")}}),t==="metrics"&&l.jsx(LX,{}),t==="tenant-config"&&v&&l.jsx(qX,{tenantId:v,onBack:()=>e("tenants")}),t==="demo-generator"&&l.jsx(KV,{})]})}),l.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[" ",new Date().getFullYear()," DOCA AI"]}),l.jsxs("span",{className:"text-gray-500",children:["Status:"," ",l.jsx("span",{className:"text-[#f57f17] font-semibold",children:H?"DEMO":"Online"})]})]})]}),l.jsx(HX,{open:U,onClose:()=>I(!1),onGoToAnalysis:()=>e("analysis")}),z&&l.jsx("div",{className:rl("fixed bottom-6 right-6 z-50 px-5 py-3 rounded-2xl border shadow-xl backdrop-blur-xl transition-all animate-in slide-in-from-bottom-4",z.type==="success"?"bg-emerald-500/20 border-emerald-400/30 text-emerald-200":"bg-red-500/20 border-red-400/30 text-red-200"),children:l.jsx("p",{className:"text-sm font-medium",children:z.message})})]})}function ZX(){const{signIn:t,loading:e,error:r}=eh(),[n,a]=M.useState(""),[s,c]=M.useState(""),[u,d]=M.useState(!1),[h,p]=M.useState("");async function m(v){if(v.preventDefault(),p(""),!n||!s){p("Preencha todos os campos");return}try{await t(n,s)}catch(b){p(b.message||"Erro ao fazer login")}}return l.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-[#f57f17] to-[#ff9800] mb-4 shadow-lg shadow-[#f57f17]/20",children:l.jsx("span",{className:"text-3xl font-bold text-white",children:"D"})}),l.jsx("h1",{className:"text-3xl font-bold text-white",children:"MCP Dashboard"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Entre para continuar"})]}),l.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 backdrop-blur-sm p-8",children:l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[(r||h)&&l.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:[l.jsx(RM,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-400",children:r||h})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:n,onChange:v=>a(v.target.value),className:"w-full h-12 px-4 rounded-xl bg-black/30 border border-white/10 text-white placeholder-gray-500 outline-none focus:border-[#f57f17]/50 transition",placeholder:"seu@email.com",disabled:e})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:u?"text":"password",value:s,onChange:v=>c(v.target.value),className:"w-full h-12 px-4 pr-12 rounded-xl bg-black/30 border border-white/10 text-white placeholder-gray-500 outline-none focus:border-[#f57f17]/50 transition",placeholder:"",disabled:e}),l.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:u?l.jsx(tb,{className:"w-5 h-5"}):l.jsx(pf,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",disabled:e,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#f57f17] to-[#ff9800] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition hover:shadow-lg hover:shadow-[#f57f17]/20",children:e?l.jsx(bt,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(UM,{className:"w-5 h-5"}),"Entrar"]})})]})}),l.jsxs("p",{className:"text-center text-gray-600 text-sm mt-8",children:["DOCA Agncia IA  ",new Date().getFullYear()]})]})})}function eY(){const{user:t,profile:e,loading:r,error:n}=eh();return r?l.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col items-center justify-center gap-4",children:[l.jsx(bt,{className:"w-10 h-10 text-[#f57f17] animate-spin"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando..."})]}):!t||!e?l.jsx(ZX,{}):l.jsx(QX,{})}OM.createRoot(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx($X,{children:l.jsx(eY,{})})}));export{eE as _,Su as c,Qe as g};
